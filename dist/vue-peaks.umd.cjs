(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("peaks.js")):typeof define=="function"&&define.amd?define(["exports","vue","peaks.js"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i["vue-peaks"]={},i.Vue,i.PeaksJs))})(this,function(i,e,f){"use strict";const _=(s=>s&&typeof s=="object"&&"default"in s?s:{default:s})(f),p=["id"],v=["id"],z=["id"],y=["id"],E=["src"],k={class:"peaks-controls"},w=e.createTextVNode("\xA0 "),g=e.createTextVNode("\xA0 "),I=e.defineComponent({__name:"AudioPeaks",props:{src:null,id:null,mediaElementId:null,options:null},setup(s){const o=s,d=e.shallowRef(void 0),a=e.shallowRef(null),u=e.shallowRef(null),r=e.ref(void 0);e.onMounted(()=>{V()});function V(){var t,c,m;const n={containers:{overview:document.getElementById("overview-"+o.id),zoomview:document.getElementById("zoomview-"+o.id)},mediaElement:(m=(t=document.getElementById(""+o.id))==null?void 0:t.getElementsByTagName("audio")[0])!=null?m:(c=document.getElementById(""+o.mediaElementId))!=null?c:void 0,webAudio:{audioContext:new AudioContext},zoomLevels:[256,512,1024,2048,4096]};_.default.init(o.options?o.options:n,function(x,l){console.log(x,l),d.value=l,r.value=l==null?void 0:l.zoom.getZoom()})}function h(){var n,t;(n=d.value)==null||n.zoom.zoomIn(),r.value=(t=d.value)==null?void 0:t.zoom.getZoom()}function B(){var n,t;(n=d.value)==null||n.zoom.zoomOut(),r.value=(t=d.value)==null?void 0:t.zoom.getZoom()}return(n,t)=>(e.openBlock(),e.createElementBlock("div",{id:""+o.id},[e.renderSlot(n.$slots,"overview",{},()=>[e.createElementVNode("div",{class:"peaks-overview",id:"overview-"+o.id,ref:"overview"},null,8,v)],!0),e.renderSlot(n.$slots,"zoomview",{},()=>[e.createElementVNode("div",{class:"peaks-zoomview",id:"zoomview-"+o.id,ref:"zoomview"},null,8,z)],!0),o.mediaElementId?e.createCommentVNode("",!0):e.renderSlot(n.$slots,"default",{key:0},()=>[e.createElementVNode("audio",{class:"peaks-audio",id:o.id,ref:"audio",controls:""},[e.createElementVNode("source",{src:s.src},null,8,E)],8,y)],!0),e.renderSlot(n.$slots,"controls",{},()=>[e.createElementVNode("div",k,[e.createElementVNode("button",{ref_key:"zoomInButton",ref:a,onClick:t[0]||(t[0]=c=>h())}," Zoom in",512),w,e.createElementVNode("button",{ref_key:"zoomOutButton",ref:u,onClick:t[1]||(t[1]=c=>B())}," Zoom out",512),g,e.createElementVNode("span",null,"Zoom level: "+e.toDisplayString(r.value),1)])],!0)],8,p))}}),P="",N=((s,o)=>{const d=s.__vccOpts||s;for(const[a,u]of o)d[a]=u;return d})(I,[["__scopeId","data-v-fb2c49f4"]]);i.AudioPeaks=N,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=vue-peaks.umd.cjs.map
