{"version":3,"file":"index.043f3984.js","sources":["../../vite/modulepreload-polyfill","../../node_modules/@vue/shared/dist/shared.esm-bundler.js","../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","../../src/assets/peaks-logo.svg","../../src/documentation/ExampleWithStyle.vue","../../node_modules/konva/lib/Global.js","../../node_modules/konva/lib/Util.js","../../node_modules/konva/lib/Validators.js","../../node_modules/konva/lib/Factory.js","../../node_modules/konva/lib/Context.js","../../node_modules/konva/lib/Canvas.js","../../node_modules/konva/lib/DragAndDrop.js","../../node_modules/konva/lib/Node.js","../../node_modules/konva/lib/PointerEvents.js","../../node_modules/konva/lib/Shape.js","../../node_modules/konva/lib/shapes/Line.js","../../node_modules/konva/lib/shapes/Rect.js","../../node_modules/konva/lib/shapes/Text.js","../../node_modules/konva/lib/Container.js","../../node_modules/konva/lib/Stage.js","../../node_modules/konva/lib/Layer.js","../../node_modules/konva/lib/FastLayer.js","../../node_modules/konva/lib/Group.js","../../node_modules/konva/lib/Animation.js","../../node_modules/konva/lib/Tween.js","../../node_modules/konva/lib/_CoreInternals.js","../../node_modules/waveform-data/dist/waveform-data.esm.js","../../node_modules/peaks.js/dist/peaks.esm.js","../../src/components/AudioPeaks.vue","../../src/documentation/ExampleUsingPeaksOptions.vue","../../src/components/AudioPeaksWidget.vue","../../src/documentation/DemoWidget.vue","../../src/documentation/AccessingThePeaksInstance.vue","../../src/documentation/ExampleUsingReactivity.vue","../../src/documentation/Introduction.vue","../../src/documentation/Credits.vue","../../src/documentation/AvailableProperties.vue","../../node_modules/highlight.js/lib/core.js","../../node_modules/highlight.js/es/languages/typescript.js","../../node_modules/highlight.js/es/languages/xml.js","../../node_modules/highlight.js/es/languages/bash.js","../../node_modules/highlight.js/es/languages/css.js","../../node_modules/@highlightjs/vue-plugin/dist/highlightjs-vue.esm.min.js","../../src/main.ts"],"sourcesContent":["__VITE_IS_MODERN__&&(function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n}());","function makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction(\n  (str) => str.charAt(0).toUpperCase() + str.slice(1)\n);\nconst toHandlerKey = cacheStringFunction(\n  (str) => str ? `on${capitalize(str)}` : ``\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `HYDRATE_EVENTS`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_WHITE_LISTED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console\";\nconst isGloballyWhitelisted = /* @__PURE__ */ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length)\n          continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value)) {\n    return value;\n  } else if (isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n    if (isString(value) || typeof value === \"number\") {\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length)\n    return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b)\n    return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect2) {\n  const { deps } = effect2;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect2);\n    }\n    deps.length = 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn);\n  if (options) {\n    extend(_effect, options);\n    if (options.scope)\n      recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { effect: activeEffect, target, type, key } : void 0;\n    trackEffects(dep, eventInfo);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (!!(process.env.NODE_ENV !== \"production\") && activeEffect.onTrack) {\n      activeEffect.onTrack(\n        extend(\n          {\n            effect: activeEffect\n          },\n          debuggerEventExtraInfo\n        )\n      );\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { target, type, key, newValue, oldValue, oldTarget } : void 0;\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        triggerEffects(deps[0], eventInfo);\n      } else {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(createDep(effects), eventInfo);\n    } else {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray(dep) ? dep : [...dep];\n  for (const effect2 of effects) {\n    if (effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n  for (const effect2 of effects) {\n    if (!effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n}\nfunction triggerEffect(effect2, debuggerEventExtraInfo) {\n  if (effect2 !== activeEffect || effect2.allowRecurse) {\n    if (!!(process.env.NODE_ENV !== \"production\") && effect2.onTrigger) {\n      effect2.onTrigger(extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n    if (effect2.scheduler) {\n      effect2.scheduler();\n    } else {\n      effect2.run();\n    }\n  }\n}\nfunction getDepFromReactive(object, key) {\n  var _a;\n  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst get$1 = /* @__PURE__ */ createGetter();\nconst shallowGet = /* @__PURE__ */ createGetter(false, true);\nconst readonlyGet = /* @__PURE__ */ createGetter(true);\nconst shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nfunction createGetter(isReadonly2 = false, shallow = false) {\n  return function get2(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  };\n}\nconst set$1 = /* @__PURE__ */ createSetter();\nconst shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set2(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!shallow) {\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn(target, key);\n  const oldValue = target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction has$1(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n  get: get$1,\n  set: set$1,\n  deleteProperty,\n  has: has$1,\n  ownKeys\n};\nconst readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  },\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n};\nconst shallowReactiveHandlers = /* @__PURE__ */ extend(\n  {},\n  mutableHandlers,\n  {\n    get: shallowGet,\n    set: shallowSet\n  }\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ extend(\n  {},\n  readonlyHandlers,\n  {\n    get: shallowReadonlyGet\n  }\n);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      false\n    );\n    readonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      false\n    );\n    shallowInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      true\n    );\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref2) {\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      trackEffects(ref2.dep || (ref2.dep = createDep()), {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      trackEffects(ref2.dep || (ref2.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref2, newVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(dep, {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal\n      });\n    } else {\n      triggerEffects(dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, newVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    console.warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(\n    source,\n    key,\n    defaultValue\n  );\n}\n\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    trackRefValue(self);\n    if (self._dirty || !self._cacheable) {\n      self._dirty = false;\n      self._value = self.effect.run();\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      console.warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst tick = /* @__PURE__ */ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n  queue.push(fn);\n  if (!queued) {\n    queued = true;\n    tick.then(flush);\n  }\n};\nconst flush = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  queued = false;\n};\nclass DeferredComputedRefImpl {\n  constructor(getter) {\n    this.dep = void 0;\n    this._dirty = true;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = true;\n    let compareTarget;\n    let hasCompareTarget = false;\n    let scheduled = false;\n    this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n      if (this.dep) {\n        if (computedTrigger) {\n          compareTarget = this._value;\n          hasCompareTarget = true;\n        } else if (!scheduled) {\n          const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n          scheduled = true;\n          hasCompareTarget = false;\n          scheduler(() => {\n            if (this.effect.active && this._get() !== valueToCompare) {\n              triggerRefValue(this);\n            }\n            scheduled = false;\n          });\n        }\n        for (const e of this.dep) {\n          if (e.computed instanceof DeferredComputedRefImpl) {\n            e.scheduler(\n              true\n              /* computedTrigger */\n            );\n          }\n        }\n      }\n      this._dirty = true;\n    });\n    this.effect.computed = this;\n  }\n  _get() {\n    if (this._dirty) {\n      this._dirty = false;\n      return this._value = this.effect.run();\n    }\n    return this._value;\n  }\n  get value() {\n    trackRefValue(this);\n    return toRaw(this)._get();\n  }\n}\nfunction deferredComputed(getter) {\n  return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, getCurrentScope, isShallow as isShallow$1, isReactive, ReactiveEffect, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, looseToNumber, hyphenate, camelize, isObject, isOn, hasOwn, isModelListener, toNumber, hasChanged, remove, isSet, isMap, isPlainObject, isBuiltInDirective, invokeArrayFns, isRegExp, capitalize, isGloballyWhitelisted, NO, def, isReservedProp, EMPTY_ARR, toRawType, makeMap, normalizeClass, normalizeStyle } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nfunction warn(msg, ...args) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        msg + args.join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorTypeStrings = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  let res;\n  try {\n    res = args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n  return res;\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  const values = [];\n  for (let i = 0; i < fn.length; i++) {\n    values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n  }\n  return values;\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings[type] : type;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      callWithErrorHandling(\n        appErrorHandler,\n        null,\n        10,\n        [err, exposedInstance, errorInfo]\n      );\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else {\n    console.error(err);\n  }\n}\n\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJobId = getId(queue[middle]);\n    middleJobId < id ? start = middle + 1 : end = middle;\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!queue.length || !queue.includes(\n    job,\n    isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex\n  )) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (!activePostFlushCbs || !activePostFlushCbs.includes(\n      cb,\n      cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex\n    )) {\n      pendingPostFlushCbs.push(cb);\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(seen, i = isFlushing ? flushIndex + 1 : 0) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.pre) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      cb();\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\n        continue;\n      }\n      activePostFlushCbs[postFlushIndex]();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nconst comparator = (a, b) => {\n  const diff = getId(a) - getId(b);\n  if (diff === 0) {\n    if (a.pre && !b.pre)\n      return -1;\n    if (b.pre && !a.pre)\n      return 1;\n  }\n  return diff;\n};\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  queue.sort(comparator);\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        callWithErrorHandling(job, null, 14);\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1);\n  } else {\n    const count = seen.get(fn);\n    if (count > RECURSION_LIMIT) {\n      const instance = fn.ownerInstance;\n      const componentName = instance && getComponentName(instance.type);\n      warn(\n        `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`\n      );\n      return true;\n    } else {\n      seen.set(fn, count + 1);\n    }\n  }\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Set();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record)\n    return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (const instance of instances) {\n    const oldComp = normalizeClassComponent(instance.type);\n    if (!hmrDirtyComponents.has(oldComp)) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.add(oldComp);\n    }\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      hmrDirtyComponents.add(oldComp);\n      instance.ceReload(newComp.styles);\n      hmrDirtyComponents.delete(oldComp);\n    } else if (instance.parent) {\n      queueJob(instance.parent.update);\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n  }\n  queuePostFlushCb(() => {\n    for (const instance of instances) {\n      hmrDirtyComponents.delete(\n        normalizeClassComponent(instance.type)\n      );\n    }\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools) {\n    devtools.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook(hook, target) {\n  var _a, _b;\n  devtools = hook;\n  if (devtools) {\n    devtools.enabled = true;\n    buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:added\" /* COMPONENT_ADDED */\n);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools && typeof devtools.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:start\" /* PERFORMANCE_START */\n);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:end\" /* PERFORMANCE_END */\n);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted)\n    return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\n          warn(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(event)}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modelArg = isModelListener && event.slice(7);\n  if (modelArg && modelArg in props) {\n    const modifiersKey = `${modelArg === \"modelValue\" ? \"model\" : modelArg}Modifiers`;\n    const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\n    if (trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx)\n    return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    props,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  let result;\n  let fallthroughAttrs;\n  const prev = setCurrentRenderingInstance(instance);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      result = normalizeVNode(\n        render.call(\n          proxyToUse,\n          proxyToUse,\n          renderCache,\n          props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return attrs;\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          props,\n          null\n          /* we know it doesn't need it */\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    root.transition = vnode.transition;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren);\n  if (!childRoot) {\n    return [vnode, void 0];\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent && parent.subTree === vnode) {\n    (vnode = parent.vnode).el = el;\n    parent = parent.parent;\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  create: createSuspenseBoundary,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    isSVG,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      isSVG,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        patch(\n          activeBranch,\n          newFallback,\n          container,\n          anchor,\n          parentComponent,\n          null,\n          // fallback tree will not have suspense context\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, newFallback);\n      }\n    } else {\n      suspense.pendingId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      suspense.pendingId++;\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense == null ? void 0 : parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    isSVG,\n    container,\n    hiddenContainer,\n    anchor,\n    deps: 0,\n    pendingId: 0,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: true,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        const delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(pendingBranch, container2, anchor2, 0);\n            }\n          };\n        }\n        let { anchor: anchor2 } = suspense;\n        if (activeBranch) {\n          anchor2 = next(activeBranch);\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor2, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, isSVG: isSVG2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          isSVG2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          isSVG,\n          optimized\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    document.createElement(\"div\"),\n    null,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n    /* hydrating */\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild) {\n      warn(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  const el = vnode.el = branch.el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  var _a;\n  return ((_a = vnode.props) == null ? void 0 : _a.suspensible) != null && vnode.props.suspensible !== false;\n}\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\n  var _a;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const warnInvalidSource = (s) => {\n    warn(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const instance = getCurrentScope() === ((_a = currentInstance) == null ? void 0 : _a.scope) ? currentInstance : null;\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow$1(source);\n  } else if (isReactive(source)) {\n    getter = () => source;\n    deep = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow$1(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return traverse(s);\n      } else if (isFunction(s)) {\n        return callWithErrorHandling(s, instance, 2);\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance, 2);\n    } else {\n      getter = () => {\n        if (instance && instance.isUnmounted) {\n          return;\n        }\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(\n          source,\n          instance,\n          3,\n          [onCleanup]\n        );\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance, 4);\n    };\n  };\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else {\n      return NOOP;\n    }\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some(\n        (v, i) => hasChanged(v, oldValue[i])\n      ) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance, 3, [\n          newValue,\n          // pass undefined as the old value when it's changed for the first time\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush === \"sync\") {\n    scheduler = job;\n  } else if (flush === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\n  } else {\n    job.pre = true;\n    if (instance)\n      job.id = instance.uid;\n    scheduler = () => queueJob(job);\n  }\n  const effect = new ReactiveEffect(getter, scheduler);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = onTrack;\n    effect.onTrigger = onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush === \"post\") {\n    queuePostRenderEffect(\n      effect.run.bind(effect),\n      instance && instance.suspense\n    );\n  } else {\n    effect.run();\n  }\n  const unwatch = () => {\n    effect.stop();\n    if (instance && instance.scope) {\n      remove(instance.scope.effects, effect);\n    }\n  };\n  if (ssrCleanup)\n    ssrCleanup.push(unwatch);\n  return unwatch;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const cur = currentInstance;\n  setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  if (cur) {\n    setCurrentInstance(cur);\n  } else {\n    unsetCurrentInstance();\n  }\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, seen) {\n  if (!isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  if (isRef(value)) {\n    traverse(value.value, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], seen);\n    }\n  }\n  return value;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  const internalInstance = currentRenderingInstance;\n  if (internalInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getExposeProxy(internalInstance) || internalInstance.proxy;\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevTransitionKey;\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        let hasFound = false;\n        for (const c of children) {\n          if (c.type !== Comment) {\n            if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n              warn(\n                \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n              );\n              break;\n            }\n            child = c;\n            hasFound = true;\n            if (!!!(process.env.NODE_ENV !== \"production\"))\n              break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      const enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance\n      );\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      let transitionKeyChanged = false;\n      const { getTransitionKey } = innerChild.type;\n      if (getTransitionKey) {\n        const key = getTransitionKey();\n        if (prevTransitionKey === void 0) {\n          prevTransitionKey = key;\n        } else if (key !== prevTransitionKey) {\n          prevTransitionKey = key;\n          transitionKeyChanged = true;\n        }\n      }\n      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\n        const leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\") {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (instance.update.active !== false) {\n              instance.update();\n            }\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el._leaveCb = () => {\n              earlyRemove();\n              el._leaveCb = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1))\n        done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el._leaveCb) {\n        el._leaveCb(\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el._leaveCb) {\n        leavingVNode.el._leaveCb();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el._enterCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el._enterCb = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el._enterCb) {\n        el._enterCb(\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el._leaveCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el._leaveCb = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      return resolveTransitionHooks(vnode2, props, state, instance);\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  return isKeepAlive(vnode) ? vnode.children ? vnode.children[0] : void 0 : vnode;\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128)\n        keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8326: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n          /* do not throw in dev if user provided error component */\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          queueJob(instance.parent.update);\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        isSVG,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && (!filter || !filter(name))) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (!current || !isSameVNodeType(cached, current)) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      if (target.isUnmounted) {\n        return;\n      }\n      pauseTracking();\n      setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      unsetCurrentInstance();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, \"\"));\n    warn(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => (\n  // post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\n  (!isInSSRComponentSetup || lifecycle === \"sp\") && injectHook(lifecycle, (...args) => hook(...args), target)\n);\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\n  \"rtg\"\n);\nconst onRenderTracked = createHook(\n  \"rtc\"\n);\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n        /* do not include inferred name to avoid breaking existing code */\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray(source) || isString(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res)\n          res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    if (name !== \"default\")\n      props.name = name;\n    return createVNode(\"slot\", props, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: props.key || // slot content array of a dynamic conditional slot may have a branch\n      // key attached in the `createSlots` helper, respect that\n      validSlotContent && validSlotContent.key || `_${name}`\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child))\n      return true;\n    if (child.type === Comment)\n      return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i)\n    return null;\n  if (isStatefulComponent(i))\n    return getExposeProxy(i) || i.proxy;\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => queueJob(i.update)),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance, \"get\", key);\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend(\n  {},\n  PublicInstanceProxyHandlers,\n  {\n    get(target, key) {\n      if (key === Symbol.unscopables) {\n        return;\n      }\n      return PublicInstanceProxyHandlers.get(target, key, target);\n    },\n    has(_, key) {\n      const has = key[0] !== \"_\" && !isGloballyWhitelisted(key);\n      if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} should not start with _ which is a reserved prefix for Vue internals.`\n        );\n      }\n      return has;\n    }\n  }\n);\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction useModel(props, name, options) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useModel() called without active instance.`);\n    return ref();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][name]) {\n    warn(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  if (options && options.local) {\n    const proxy = ref(props[name]);\n    watch(\n      () => props[name],\n      (v) => proxy.value = v\n    );\n    watch(proxy, (value) => {\n      if (value !== props[name]) {\n        i.emit(`update:${name}`, value);\n      }\n    });\n    return proxy;\n  } else {\n    return {\n      __v_isRef: true,\n      get value() {\n        return props[name];\n      },\n      set value(value) {\n        i.emit(`update:${name}`, value);\n      }\n    };\n  }\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\"))\n      continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b)\n    return a || b;\n  if (isArray(a) && isArray(b))\n    return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components)\n    instance.components = components;\n  if (directives)\n    instance.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n          /* treat default function as factory */\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      watch(getter, handler);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to)\n    return from;\n  if (!from)\n    return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      Object.defineProperty(context.config, \"unwrapInjectedRef\", {\n        get() {\n          return true;\n        },\n        set() {\n          warn(\n            `app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.`\n          );\n        }\n      });\n    }\n    const installedPlugins = /* @__PURE__ */ new Set();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, isSVG) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = createVNode(\n            rootComponent,\n            rootProps\n          );\n          vnode.appContext = context;\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(cloneVNode(vnode), rootContainer, isSVG);\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, isSVG);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getExposeProxy(vnode.component) || vnode.component.proxy;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = null;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : currentApp._context.provides;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = {};\n  def(attrs, InternalObjectKey, 1);\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId)\n      return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n              /* isAbsent */\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n              /* isAbsent */\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance, \"set\", \"$attrs\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          unsetCurrentInstance();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys)\n        needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        if (prop) {\n          const booleanIndex = getTypeIndex(Boolean, prop.type);\n          const stringIndex = getTypeIndex(String, prop.type);\n          prop[0 /* shouldCast */] = booleanIndex > -1;\n          prop[1 /* shouldCastTrue */] = stringIndex < 0 || booleanIndex < stringIndex;\n          if (booleanIndex > -1 || hasOwn(prop, \"default\")) {\n            needCastKeys.push(normalizedKey);\n          }\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\") {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  const match = ctor && ctor.toString().match(/^\\s*(function|class) (\\w+)/);\n  return match ? match[2] : ctor === null ? \"null\" : \"\";\n}\nfunction isSameType(a, b) {\n  return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n  if (isArray(expectedTypes)) {\n    return expectedTypes.findIndex((t) => isSameType(t, type));\n  } else if (isFunction(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1;\n  }\n  return -1;\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null)\n      continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key))\n    );\n  }\n}\nfunction validateProp(name, value, prop, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value)) {\n    warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else if (expectedType === \"null\") {\n    valid = value === null;\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance) {\n      warn(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key))\n      continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst initSlots = (instance, children) => {\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      instance.slots = toRaw(children);\n      def(children, \"_\", type);\n    } else {\n      normalizeObjectSlots(\n        children,\n        instance.slots = {});\n    }\n  } else {\n    instance.slots = {};\n    if (children) {\n      normalizeVNodeSlots(instance, children);\n    }\n  }\n  def(instance.slots, InternalObjectKey, 1);\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        extend(slots, children);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        extend(slots, children);\n        if (!optimized && type === 1) {\n          delete slots._;\n        }\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? hasOwn(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k)\n                  refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k)\n            refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasMismatch = false;\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== \"foreignObject\";\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hasMismatch = false;\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n    if (hasMismatch && true) {\n      console.error(`Hydration completed but contains mismatches.`);\n    }\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3 /* TEXT */) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            hasMismatch = true;\n            !!(process.env.NODE_ENV !== \"production\") && warn(\n              `Hydration text mismatch:\n- Client: ${JSON.stringify(node.data)}\n- Server: ${JSON.stringify(vnode.children)}`\n            );\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (domType !== 8 /* COMMENT */ || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if (domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(container),\n            optimized\n          );\n          nextNode = isFragmentStart ? locateClosingAsyncAnchor(node) : nextSibling(node);\n          if (nextNode && isComment(nextNode) && nextNode.data === \"teleport end\") {\n            nextNode = nextSibling(nextNode);\n          }\n          if (isAsyncWrapper(vnode)) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8 /* COMMENT */) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs } = vnode;\n    const forcePatchValue = type === \"input\" && dirs || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatchValue || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      if (props) {\n        if (forcePatchValue || !optimized || patchFlag & (16 | 32)) {\n          for (const key in props) {\n            if (forcePatchValue && key.endsWith(\"value\") || isOn(key) && !isReservedProp(key)) {\n              patchProp(\n                el,\n                key,\n                null,\n                props[key],\n                false,\n                void 0,\n                parentComponent\n              );\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            false,\n            void 0,\n            parentComponent\n          );\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          hasMismatch = true;\n          if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n            warn(\n              `Hydration children mismatch in <${vnode.type}>: server rendered element contains more child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        if (el.textContent !== vnode.children) {\n          hasMismatch = true;\n          !!(process.env.NODE_ENV !== \"production\") && warn(\n            `Hydration text content mismatch in <${vnode.type}>:\n- Client: ${el.textContent}\n- Server: ${vnode.children}`\n          );\n          el.textContent = vnode.children;\n        }\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      if (node) {\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (vnode.type === Text && !vnode.children) {\n        continue;\n      } else {\n        hasMismatch = true;\n        if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n          warn(\n            `Hydration children mismatch in <${container.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`\n          );\n          hasWarned = true;\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVGContainer(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      hasMismatch = true;\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    hasMismatch = true;\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `Hydration node mismatch:\n- Client vnode:`,\n      vnode.type,\n      `\n- Server rendered DOM:`,\n      node,\n      node.nodeType === 3 /* TEXT */ ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``\n    );\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAsyncAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      isSVGContainer(container),\n      slotScopeIds\n    );\n    return next;\n  };\n  const locateClosingAsyncAnchor = (node) => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === \"[\")\n          match++;\n        if (node.data === \"]\") {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  return [hydrate, hydrateNode];\n}\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, isSVG);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, isSVG);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, isSVG) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      isSVG,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, isSVG) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        isSVG\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    isSVG = isSVG || n2.type === \"svg\";\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { type, props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      isSVG,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG && type !== \"foreignObject\",\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(\n            el,\n            key,\n            null,\n            props[key],\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      Object.defineProperty(el, \"__vnode\", {\n        value: vnode,\n        enumerable: false\n      });\n      Object.defineProperty(el, \"__vueParentComponent\", {\n        value: parentComponent,\n        enumerable: false\n      });\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    const areChildrenSVG = isSVG && n2.type !== \"foreignObject\";\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(\n          el,\n          n2,\n          oldProps,\n          newProps,\n          parentComponent,\n          parentSuspense,\n          isSVG\n        );\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, isSVG);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, isSVG);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(\n                el,\n                key,\n                prev,\n                next,\n                isSVG,\n                n1.children,\n                parentComponent,\n                parentSuspense,\n                unmountChildren\n              );\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(\n        el,\n        n2,\n        oldProps,\n        newProps,\n        parentComponent,\n        parentSuspense,\n        isSVG\n      );\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              isSVG,\n              vnode.children,\n              parentComponent,\n              parentSuspense,\n              unmountChildren\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key))\n          continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(\n            el,\n            key,\n            prev,\n            next,\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        n2.children,\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          isSVG,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n      return;\n    }\n    setupRenderEffect(\n      instance,\n      initialVNode,\n      container,\n      anchor,\n      parentSuspense,\n      isSVG,\n      optimized\n    );\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        invalidateJob(instance.update);\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              // note: we are moving the render call into an async callback,\n              // which means it won't track dependencies - but it's ok because\n              // a server-rendered async wrapper is already in resolved state\n              // and it will never need to change.\n              () => !instance.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            isSVG\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          isSVG\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    const effect = instance.effect = new ReactiveEffect(\n      componentUpdateFn,\n      () => queueJob(update),\n      instance.scope\n      // track it in component's effect scope\n    );\n    const update = instance.update = () => effect.run();\n    update.id = instance.uid;\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n      update.ownerInstance = instance;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs();\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++)\n        newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs\n    } = vnode;\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          optimized,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, update, subTree, um } = instance;\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update) {\n      update.active = false;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    return hostNextSibling(vnode.anchor || vnode.el);\n  };\n  const render = (vnode, container, isSVG) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null, null, isSVG);\n    }\n    flushPreFlushCbs();\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction toggleRecurse({ effect, update }, allowed) {\n  effect.allowRecurse = update.allowRecurse = allowed;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\n\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!target) {\n        !!(process.env.NODE_ENV !== \"production\") && warn(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const target = n2.target = resolveTarget(n2.props, querySelector);\n      const targetAnchor = n2.targetAnchor = createText(\"\");\n      if (target) {\n        insert(targetAnchor, target);\n        isSVG = isSVG || isTargetSVG(target);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n        warn(\"Invalid Teleport target on mount:\", target, `(${typeof target})`);\n      }\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n      } else if (target) {\n        mount(target, targetAnchor);\n      }\n    } else {\n      n2.el = n1.el;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      isSVG = isSVG || isTargetSVG(target);\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n    }\n    updateCssVars(n2);\n  },\n  remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\n    if (target) {\n      hostRemove(targetAnchor);\n    }\n    if (doRemove || !isTeleportDisabled(props)) {\n      hostRemove(anchor);\n      if (shapeFlag & 16) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          unmount(\n            child,\n            parentComponent,\n            parentSuspense,\n            true,\n            !!child.dynamicChildren\n          );\n        }\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (isTeleportDisabled(vnode.props)) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetAnchor = targetNode;\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          targetAnchor = nextSibling(targetAnchor);\n          if (targetAnchor && targetAnchor.nodeType === 8 && targetAnchor.data === \"teleport anchor\") {\n            vnode.targetAnchor = targetAnchor;\n            target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n            break;\n          }\n        }\n        hydrateChildren(\n          targetNode,\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node = vnode.children[0].el;\n    while (node !== vnode.targetAnchor) {\n      if (node.nodeType === 1)\n        node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n      /* isBlock */\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n      /* isBlock: prevent a block from tracking itself */\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && hmrDirtyComponents.has(n2.type)) {\n    n1.shapeFlag &= ~256;\n    n2.shapeFlag &= ~512;\n    return false;\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst InternalObjectKey = `__vInternal`;\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag |= -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn(\n      `Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props)\n    return null;\n  return isProxy(props) || InternalObjectKey in props ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\n  const { props, ref, patchFlag, children } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition: vnode.transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !(InternalObjectKey in children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    attrsProxy: null,\n    slotsProxy: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet globalCurrentInstanceSetters;\nlet settersKey = \"__VUE_INSTANCE_SETTERS__\";\n{\n  if (!(globalCurrentInstanceSetters = getGlobalThis()[settersKey])) {\n    globalCurrentInstanceSetters = getGlobalThis()[settersKey] = [];\n  }\n  globalCurrentInstanceSetters.push((i) => currentInstance = i);\n  internalSetCurrentInstance = (instance) => {\n    if (globalCurrentInstanceSetters.length > 1) {\n      globalCurrentInstanceSetters.forEach((s) => s(instance));\n    } else {\n      globalCurrentInstanceSetters[0](instance);\n    }\n  };\n}\nconst setCurrentInstance = (instance) => {\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, config) {\n  const appIsNativeTag = config.isNativeTag || NO;\n  if (isBuiltInTag(name) || appIsNativeTag(name)) {\n    warn(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false) {\n  isInSSRComponentSetup = isSSR;\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isInSSRComponentSetup = false;\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    setCurrentInstance(instance);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [!!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props, setupContext]\n    );\n    resetTracking();\n    unsetCurrentInstance();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    setCurrentInstance(instance);\n    pauseTracking();\n    applyOptions(instance);\n    resetTracking();\n    unsetCurrentInstance();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n        /* should not happen */\n      );\n    } else {\n      warn(`Component is missing template or render function.`);\n    }\n  }\n}\nfunction getAttrsProxy(instance) {\n  return instance.attrsProxy || (instance.attrsProxy = new Proxy(\n    instance.attrs,\n    !!(process.env.NODE_ENV !== \"production\") ? {\n      get(target, key) {\n        markAttrsAccessed();\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      },\n      set() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      },\n      deleteProperty() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      }\n    } : {\n      get(target, key) {\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      }\n    }\n  ));\n}\nfunction getSlotsProxy(instance) {\n  return instance.slotsProxy || (instance.slotsProxy = new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  }));\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    return Object.freeze({\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      get slots() {\n        return getSlotsProxy(instance);\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getExposeProxy(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#0b1bc9\" };\n  const stringStyle = { style: \"color:#b62e24\" };\n  const keywordStyle = { style: \"color:#9d288c\" };\n  const formatter = {\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(obj.value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.3.4\";\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","import { warn, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, h, BaseTransition, BaseTransitionPropsValidators, assertNumber, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, camelize as camelize$1, toNumber, extend, EMPTY_OBJ, isObject, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, isSVG, is, props) => {\n    const el = isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag, is ? { is } : void 0);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, isSVG, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling))\n          break;\n      }\n    } else {\n      templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\n      const template = templateContainer.content;\n      if (isSVG) {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el._vtc;\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  if (next && !isCssString) {\n    if (prev && !isString(prev)) {\n      for (const key in prev) {\n        if (next[key] == null) {\n          setStyle(style, key, \"\");\n        }\n      }\n    }\n    for (const key in next) {\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    const currentDisplay = style.display;\n    if (isCssString) {\n      if (prev !== next) {\n        style.cssText = next;\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n    if (\"_vod\" in el) {\n      style.display = currentDisplay;\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null)\n      val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    const isBoolean = isSpecialBooleanAttr(key);\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, isBoolean ? \"\" : value);\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (prevChildren) {\n      unmountChildren(prevChildren, parentComponent, parentSuspense);\n    }\n    el[key] = value == null ? \"\" : value;\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    el._value = value;\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (oldValue !== newValue) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el._vei || (el._vei = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(nextValue, instance);\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map((fn) => (e2) => !e2._stopped && fn && fn(e2));\n  } else {\n    return value;\n  }\n}\n\nconst nativeOnRE = /^on[a-z]/;\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(\n      el,\n      key,\n      nextValue,\n      prevChildren,\n      parentComponent,\n      parentSuspense,\n      unmountChildren\n    );\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && nativeOnRE.test(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (nativeOnRE.test(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nfunction defineCustomElement(options, hydrate2) {\n  const Comp = defineComponent(options);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate2);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\nconst defineSSRCustomElement = (options) => {\n  return defineCustomElement(options, hydrate);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate2) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    if (this.shadowRoot && hydrate2) {\n      hydrate2(this._createVNode(), this.shadowRoot);\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      this.attachShadow({ mode: \"open\" });\n      if (!this._def.__asyncLoader) {\n        this._resolveProps(this._def);\n      }\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      if (this._resolved) {\n        this._update();\n      } else {\n        this._resolveDef();\n      }\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    }).observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then((def) => resolve(def, true));\n    } else {\n      resolve(this._def);\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key], true, false);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    let value = this.getAttribute(key);\n    const camelKey = camelize$1(key);\n    if (this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this.shadowRoot.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(event, {\n              detail: args\n            })\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance.parent = parent._instance;\n            instance.provides = parent._instance.provides;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      });\n    }\n  }\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    setVarsOnVNode(instance.subTree, vars);\n    updateTeleports(vars);\n  };\n  watchPostEffect(setVars);\n  onMounted(() => {\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor)\n        break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n    }\n  }\n}\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      forceReflow();\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el._vtc || (el._vtc = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const { _vtc } = el;\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el._vtc = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el._moveCb = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = children;\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      if (prevChildren) {\n        for (let i = 0; i < prevChildren.length; i++) {\n          const child = prevChildren[i];\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n          positionMap.set(child, child.el.getBoundingClientRect());\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst removeMode = (props) => delete props.mode;\n/* @__PURE__ */ removeMode(TransitionGroupImpl.props);\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el._moveCb) {\n    el._moveCb();\n  }\n  if (el._enterCb) {\n    el._enterCb();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  if (el._vtc) {\n    el._vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing)\n        return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el._assign(domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (el.composing)\n      return;\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy) {\n        return;\n      }\n      if (trim && el.value.trim() === value) {\n        return;\n      }\n      if ((number || el.type === \"number\") && looseToNumber(el.value) === value) {\n        return;\n      }\n    }\n    const newValue = value == null ? \"\" : value;\n    if (el.value !== newValue) {\n      el.value = newValue;\n    }\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el._assign;\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  if (isArray(value)) {\n    el.checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    el.checked = value.has(vnode.props.value);\n  } else if (value !== oldValue) {\n    el.checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el._assign(getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el._assign(\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n    });\n    el._assign = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    setSelected(el, value);\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  if (isMultiple && !isArray(value) && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArray(value)) {\n        option.selected = looseIndexOf(value, optionValue) > -1;\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i)\n          el.selectedIndex = i;\n        return;\n      }\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  return (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers))\n        return;\n    }\n    return fn(event, ...args);\n  };\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  return (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  };\n};\n\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el._vod = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue)\n      return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el._vod : \"none\";\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container)\n      return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    container.innerHTML = \"\";\n    const proxy = mount(container, false, container instanceof SVGElement);\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, container instanceof SVGElement);\n    }\n  };\n  return app;\n};\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","export default \"__VITE_ASSET__72e98b64__\"","<script setup lang=\"ts\">\n</script>\n\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        Each pane (overview, zoomview, audio, controls) has <b> a dedicated CSS class</b> which you can use to select\n        for\n        your styles. Note however, that you can not style the waveforms themselves this way.\n      </p>\n      <p>\n        The following selectors are available:\n      </p>\n    </div>\n    <div class=\"column\">\n      <highlightjs language='css' code=\"div.peaks-overview { \n    /* The div with the overview waveform */ }\ndiv.peaks-zoomview { \n    /* The div with the zoom waveform */ }\ndiv.peaks-controls { \n    /* The div with the zoom controls */ }\naudio.peaks-audio { \n    /* The audio control, when provided by vue-peaks \n       (in the 'simple' mode) */ }\" />\n    </div>\n  </div>\n\n</template>\n ","var PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexport const glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexport const Konva = {\n    _global: glob,\n    version: '8.4.3',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!Konva['DD'].node;\n    },\n    releaseCanvasOnDestroy: true,\n    document: glob.document,\n    _injectGlobal(Konva) {\n        glob.Konva = Konva;\n    },\n};\nexport const _registerNode = (NodeClass) => {\n    Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nKonva._injectGlobal(Konva);\n","import { Konva } from './Global.js';\nexport class Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = Util._getRotation(result.rotation);\n        return result;\n    }\n}\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexport const Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (Util._namedColorToRBA(str) ||\n            Util._hex3ColorToRGBA(str) ||\n            Util._hex4ColorToRGBA(str) ||\n            Util._hex6ColorToRGBA(str) ||\n            Util._hex8ColorToRGBA(str) ||\n            Util._rgbColorToRGBA(str) ||\n            Util._rgbaColorToRGBA(str) ||\n            Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex8ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 9) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: parseInt(str.slice(7, 9), 16) / 0xff,\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex4ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 5) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: parseInt(str[4] + str[4], 16) / 0xff,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Konva.angleDeg ? Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n    releaseCanvas(...canvases) {\n        if (!Konva.releaseCanvasOnDestroy)\n            return;\n        canvases.forEach(c => {\n            c.width = 0;\n            c.height = 0;\n        });\n    },\n    drawRoundedRectPath(context, width, height, cornerRadius) {\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.moveTo(topLeft, 0);\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n    }\n};\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nfunction _formatValue(val) {\n    if (Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nexport function RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexport function alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexport function getNumberValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isNumber(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util._isNumber(val);\n            let isValidArray = Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberOrAutoValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isString(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexport function getStringOrGradientValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexport function getFunctionValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util._isFunction(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexport function getNumberArrayValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util._isArray(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util._isNumber(item)) {\n                        Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexport function getBooleanValidator() {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexport function getComponentValidator(components) {\n    if (Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util.isObject(val)) {\n                Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\n","import { Util } from './Util.js';\nimport { getComponentValidator } from './Validators.js';\nvar GET = 'get', SET = 'set';\nexport const Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        Factory.addGetter(constructor, attr, def);\n        Factory.addSetter(constructor, attr, validator, after);\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = getComponentValidator(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util.error('Adding deprecated ' + attr);\n        var method = GET + Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        Factory.addSetter(constructor, attr, validator, function () {\n            Util.error(message);\n        });\n        Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","import { Util } from './Util.js';\nimport { Konva } from './Global.js';\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nexport class Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        if (Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        const lineCap = shape.attrs.lineCap;\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        const lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip() {\n        this._context.clip();\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y, path, fillRule) {\n        if (path) {\n            return this._context.isPointInPath(path, x, y, fillRule);\n        }\n        return this._context.isPointInPath(x, y, fillRule);\n    }\n    fill(path2d) {\n        if (path2d) {\n            this._context.fill(path2d);\n        }\n        else {\n            this._context.fill();\n        }\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nexport class SceneContext extends Context {\n    constructor(canvas) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d');\n    }\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        const grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        const hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        const hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        const hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        const hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        const start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexport class HitContext extends Context {\n    constructor(canvas) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently: true,\n        });\n    }\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            const strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\n","import { Util } from './Util.js';\nimport { SceneContext, HitContext } from './Context.js';\nimport { Konva } from './Global.js';\nimport { Factory } from './Factory.js';\nimport { getNumberValidator } from './Validators.js';\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    Util.releaseCanvas(canvas);\n    return _pixelRatio;\n}\nexport class Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nFactory.addGetterSetter(Canvas, 'pixelRatio', undefined, getNumberValidator());\nexport class SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.context = new SceneContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexport class HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\n","import { Konva } from './Global.js';\nimport { Util } from './Util.js';\nexport const DD = {\n    get isDragging() {\n        var flag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                DD.justDragged = true;\n                Konva._mouseListenClick = false;\n                Konva._touchListenClick = false;\n                Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Konva.isBrowser) {\n    window.addEventListener('mouseup', DD._endDragBefore, true);\n    window.addEventListener('touchend', DD._endDragBefore, true);\n    window.addEventListener('mousemove', DD._drag);\n    window.addEventListener('touchmove', DD._drag);\n    window.addEventListener('mouseup', DD._endDragAfter, false);\n    window.addEventListener('touchend', DD._endDragAfter, false);\n}\n","import { Util, Transform } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { Konva } from './Global.js';\nimport { DD } from './DragAndDrop.js';\nimport { getNumberValidator, getStringValidator, getBooleanValidator, } from './Validators.js';\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nexport class Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        if (this._cache.has(CANVAS)) {\n            const { scene, filter, hit } = this._cache.get(CANVAS);\n            Util.releaseCanvas(scene, filter, hit);\n            this._cache.delete(CANVAS);\n        }\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n        }), cachedHitCanvas = new HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        this.clearCache();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util._capitalize(attr);\n        if (Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util._capitalize(key);\n                if (Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util.isObject(val) && !Util._isPlainObject(val) && !Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util.isValidSelector(sel)) {\n                Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util._capitalize(attr)];\n        if (Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        let listeners = this._cache.get(ALL_LISTENERS);\n        if (!listeners) {\n            listeners = {};\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                if (!obj.eventListeners) {\n                    obj = Object.getPrototypeOf(obj);\n                    continue;\n                }\n                for (var event in obj.eventListeners) {\n                    const newEvents = obj.eventListeners[event];\n                    const oldEvents = listeners[event] || [];\n                    listeners[event] = newEvents.concat(oldEvents);\n                }\n                obj = Object.getPrototypeOf(obj);\n            }\n            this._cache.set(ALL_LISTENERS, listeners);\n        }\n        return listeners[eventType];\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DD._endDragBefore(evt);\n        DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Konva[className]) {\n            Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, getNumberValidator());\naddGetterSetter(Node, 'y', 0, getNumberValidator());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', getStringValidator());\naddGetterSetter(Node, 'opacity', 1, getNumberValidator());\naddGetterSetter(Node, 'name', '', getStringValidator());\naddGetterSetter(Node, 'id', '', getStringValidator());\naddGetterSetter(Node, 'rotation', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, getNumberValidator());\naddGetterSetter(Node, 'scaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, getNumberValidator());\naddGetterSetter(Node, 'skewY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, getNumberValidator());\naddGetterSetter(Node, 'offsetY', 0, getNumberValidator());\naddGetterSetter(Node, 'dragDistance', null, getNumberValidator());\naddGetterSetter(Node, 'width', 0, getNumberValidator());\naddGetterSetter(Node, 'height', 0, getNumberValidator());\naddGetterSetter(Node, 'listening', true, getBooleanValidator());\naddGetterSetter(Node, 'preventDefault', true, getBooleanValidator());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, getBooleanValidator());\naddGetterSetter(Node, 'transformsEnabled', 'all', getStringValidator());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, getBooleanValidator());\nFactory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","import { Konva } from './Global.js';\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Konva._global['PointerEvent'] !== undefined;\nexport function getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexport function createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexport function hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexport function setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexport function releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\n","import { Konva } from './Global.js';\nimport { Transform, Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator, getNumberOrAutoValidator, getStringValidator, getBooleanValidator, getStringOrGradientValidator, } from './Validators.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexport const shapes = {};\nfunction _fillFunc(context) {\n    context.fill();\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nexport class Shape extends Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util.getRandomColor();\n            if (key && !(key in shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        shapes[key] = this;\n    }\n    getContext() {\n        Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (!this.hasShadow()) {\n            return;\n        }\n        var rgba = Util.colorToRGBA(this.shadowColor());\n        if (rgba) {\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node.prototype.destroy.call(this);\n        delete shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n_registerNode(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory.addGetterSetter(Shape, 'stroke', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'strokeWidth', 2, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape, 'strokeHitEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'perfectDrawEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, getBooleanValidator());\nFactory.addGetterSetter(Shape, 'lineJoin');\nFactory.addGetterSetter(Shape, 'lineCap');\nFactory.addGetterSetter(Shape, 'sceneFunc');\nFactory.addGetterSetter(Shape, 'hitFunc');\nFactory.addGetterSetter(Shape, 'dash');\nFactory.addGetterSetter(Shape, 'dashOffset', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowColor', undefined, getStringValidator());\nFactory.addGetterSetter(Shape, 'shadowBlur', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOpacity', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'shadowOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'shadowOffsetY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternImage');\nFactory.addGetterSetter(Shape, 'fill', undefined, getStringOrGradientValidator());\nFactory.addGetterSetter(Shape, 'fillPatternX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternY', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory.addGetterSetter(Shape, 'fillPatternScaleX', 1, getNumberValidator());\nFactory.addGetterSetter(Shape, 'fillPatternScaleY', 1, getNumberValidator());\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getNumberArrayValidator } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nexport class Line extends Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n_registerNode(Line);\nFactory.addGetterSetter(Line, 'closed', false);\nFactory.addGetterSetter(Line, 'bezier', false);\nFactory.addGetterSetter(Line, 'tension', 0, getNumberValidator());\nFactory.addGetterSetter(Line, 'points', [], getNumberArrayValidator());\n","import { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { _registerNode } from '../Global.js';\nimport { Util } from '../Util.js';\nimport { getNumberOrArrayOfNumbersValidator } from '../Validators.js';\nexport class Rect extends Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            Util.drawRoundedRectPath(context, width, height, cornerRadius);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nRect.prototype.className = 'Rect';\n_registerNode(Rect);\nFactory.addGetterSetter(Rect, 'cornerRadius', 0, getNumberOrArrayOfNumbersValidator(4));\n","import { Util } from '../Util.js';\nimport { Factory } from '../Factory.js';\nimport { Shape } from '../Shape.js';\nimport { getNumberValidator, getStringValidator, getNumberOrAutoValidator, getBooleanValidator, } from '../Validators.js';\nimport { _registerNode } from '../Global.js';\nexport function stringToArray(string) {\n    return Array.from(string);\n}\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nexport class Text extends Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        const align = this.align();\n        if (align === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        var lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n_registerNode(Text);\nFactory.overWriteSetter(Text, 'width', getNumberOrAutoValidator());\nFactory.overWriteSetter(Text, 'height', getNumberOrAutoValidator());\nFactory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory.addGetterSetter(Text, 'fontSize', 12, getNumberValidator());\nFactory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory.addGetterSetter(Text, 'padding', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'align', LEFT);\nFactory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory.addGetterSetter(Text, 'lineHeight', 1, getNumberValidator());\nFactory.addGetterSetter(Text, 'wrap', WORD);\nFactory.addGetterSetter(Text, 'ellipsis', false, getBooleanValidator());\nFactory.addGetterSetter(Text, 'letterSpacing', 0, getNumberValidator());\nFactory.addGetterSetter(Text, 'text', '', getStringValidator());\nFactory.addGetterSetter(Text, 'textDecoration', '');\n","import { Factory } from './Factory.js';\nimport { Node } from './Node.js';\nimport { getNumberValidator } from './Validators.js';\nexport class Container extends Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (children.length === 0) {\n            return this;\n        }\n        if (children.length > 1) {\n            for (var i = 0; i < children.length; i++) {\n                this.add(children[i]);\n            }\n            return this;\n        }\n        const child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            if (clipFunc) {\n                clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip();\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nFactory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory.addGetterSetter(Container, 'clipX', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipY', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipWidth', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipHeight', undefined, getNumberValidator());\nFactory.addGetterSetter(Container, 'clipFunc');\n","import { Util } from './Util.js';\nimport { Factory } from './Factory.js';\nimport { Container } from './Container.js';\nimport { Konva } from './Global.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { DD } from './DragAndDrop.js';\nimport { _registerNode } from './Global.js';\nimport * as PointerEvents from './PointerEvents.js';\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexport const stages = [];\nexport class Stage extends Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = stages.indexOf(this);\n        if (index > -1) {\n            stages.splice(index, 1);\n        }\n        Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas);\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            }, { passive: false });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DD.justDragged = false;\n            Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DD.isDragging && DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DD.isDragging || Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DD.justDragged) {\n                Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nStage.prototype.nodeType = STAGE;\n_registerNode(Stage);\nFactory.addGetterSetter(Stage, 'container');\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { Node } from './Node.js';\nimport { Factory } from './Factory.js';\nimport { SceneCanvas, HitCanvas } from './Canvas.js';\nimport { getBooleanValidator } from './Validators.js';\nimport { shapes } from './Shape.js';\nimport { _registerNode } from './Global.js';\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nexport class Layer extends Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new SceneCanvas();\n        this.hitCanvas = new HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n    destroy() {\n        Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n        return super.destroy();\n    }\n}\nLayer.prototype.nodeType = 'Layer';\n_registerNode(Layer);\nFactory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory.addGetterSetter(Layer, 'hitGraphEnabled', true, getBooleanValidator());\n","import { Util } from './Util.js';\nimport { Layer } from './Layer.js';\nimport { _registerNode } from './Global.js';\nexport class FastLayer extends Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nFastLayer.prototype.nodeType = 'FastLayer';\n_registerNode(FastLayer);\n","import { Util } from './Util.js';\nimport { Container } from './Container.js';\nimport { _registerNode } from './Global.js';\nexport class Group extends Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nGroup.prototype.nodeType = 'Group';\n_registerNode(Group);\n","import { glob } from './Global.js';\nimport { Util } from './Util.js';\nvar now = (function () {\n    if (glob.performance && glob.performance.now) {\n        return function () {\n            return glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nexport class Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","import { Util } from './Util.js';\nimport { Animation } from './Animation.js';\nimport { Node } from './Node.js';\nimport { Konva } from './Global.js';\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nexport class Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util.colorToRGBA(start[n]);\n                        endRGBA = Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util.colorToRGBA(start);\n            endRGBA = Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nTween.attrs = {};\nTween.tweens = {};\nNode.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexport const Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","import { Konva as Global } from './Global.js';\nimport { Util, Transform } from './Util.js';\nimport { Node } from './Node.js';\nimport { Container } from './Container.js';\nimport { Stage, stages } from './Stage.js';\nimport { Layer } from './Layer.js';\nimport { FastLayer } from './FastLayer.js';\nimport { Group } from './Group.js';\nimport { DD } from './DragAndDrop.js';\nimport { Shape, shapes } from './Shape.js';\nimport { Animation } from './Animation.js';\nimport { Tween, Easings } from './Tween.js';\nimport { Context } from './Context.js';\nimport { Canvas } from './Canvas.js';\nexport const Konva = Util._assign(Global, {\n    Util,\n    Transform,\n    Node,\n    Container,\n    Stage,\n    stages,\n    Layer,\n    FastLayer,\n    Group,\n    DD,\n    Shape,\n    shapes,\n    Animation,\n    Tween,\n    Easings,\n    Context,\n    Canvas,\n});\nexport default Konva;\n","/**\n * Provides access to the waveform data for a single audio channel.\n */\nfunction WaveformDataChannel(waveformData, channelIndex) {\n  this._waveformData = waveformData;\n  this._channelIndex = channelIndex;\n}\n/**\n * Returns the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.min_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._at(offset);\n};\n/**\n * Returns the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.max_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._at(offset);\n};\n/**\n * Sets the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_min_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Sets the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_max_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Returns all the waveform minimum values as an array.\n */\n\n\nWaveformDataChannel.prototype.min_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2);\n};\n/**\n * Returns all the waveform maximum values as an array.\n */\n\n\nWaveformDataChannel.prototype.max_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2 + 1);\n};\n\n/**\n * AudioBuffer-based WaveformData generator\n *\n * Adapted from BlockFile::CalcSummary in Audacity, with permission.\n * See https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/BlockFile.cpp\n */\nvar INT8_MAX = 127;\nvar INT8_MIN = -128;\n\nfunction calculateWaveformDataLength(audio_sample_count, scale) {\n  var data_length = Math.floor(audio_sample_count / scale);\n  var samples_remaining = audio_sample_count - data_length * scale;\n\n  if (samples_remaining > 0) {\n    data_length++;\n  }\n\n  return data_length;\n}\n\nfunction generateWaveformData(options) {\n  var scale = options.scale;\n  var amplitude_scale = options.amplitude_scale;\n  var split_channels = options.split_channels;\n  var length = options.length;\n  var sample_rate = options.sample_rate;\n  var channels = options.channels.map(function (channel) {\n    return new Float32Array(channel);\n  });\n  var output_channels = split_channels ? channels.length : 1;\n  var version = output_channels === 1 ? 1 : 2;\n  var header_size = version === 1 ? 20 : 24;\n  var data_length = calculateWaveformDataLength(length, scale);\n  var total_size = header_size + data_length * 2 * output_channels;\n  var buffer = new ArrayBuffer(total_size);\n  var data_view = new DataView(buffer);\n  var scale_counter = 0;\n  var offset = header_size;\n  var channel, i;\n  var min_value = new Array(output_channels);\n  var max_value = new Array(output_channels);\n\n  for (channel = 0; channel < output_channels; channel++) {\n    min_value[channel] = Infinity;\n    max_value[channel] = -Infinity;\n  }\n\n  data_view.setInt32(0, version, true); // Version\n\n  data_view.setUint32(4, 1, true); // Is 8 bit?\n\n  data_view.setInt32(8, sample_rate, true); // Sample rate\n\n  data_view.setInt32(12, scale, true); // Scale\n\n  data_view.setInt32(16, data_length, true); // Length\n\n  if (version === 2) {\n    data_view.setInt32(20, output_channels, true);\n  }\n\n  for (i = 0; i < length; i++) {\n    var sample = 0;\n\n    if (output_channels === 1) {\n      for (channel = 0; channel < channels.length; ++channel) {\n        sample += channels[channel][i];\n      }\n\n      sample = Math.floor(INT8_MAX * sample * amplitude_scale / channels.length);\n\n      if (sample < min_value[0]) {\n        min_value[0] = sample;\n\n        if (min_value[0] < INT8_MIN) {\n          min_value[0] = INT8_MIN;\n        }\n      }\n\n      if (sample > max_value[0]) {\n        max_value[0] = sample;\n\n        if (max_value[0] > INT8_MAX) {\n          max_value[0] = INT8_MAX;\n        }\n      }\n    } else {\n      for (channel = 0; channel < output_channels; ++channel) {\n        sample = Math.floor(INT8_MAX * channels[channel][i] * amplitude_scale);\n\n        if (sample < min_value[channel]) {\n          min_value[channel] = sample;\n\n          if (min_value[channel] < INT8_MIN) {\n            min_value[channel] = INT8_MIN;\n          }\n        }\n\n        if (sample > max_value[channel]) {\n          max_value[channel] = sample;\n\n          if (max_value[channel] > INT8_MAX) {\n            max_value[channel] = INT8_MAX;\n          }\n        }\n      }\n    }\n\n    if (++scale_counter === scale) {\n      for (channel = 0; channel < output_channels; channel++) {\n        data_view.setInt8(offset++, min_value[channel]);\n        data_view.setInt8(offset++, max_value[channel]);\n        min_value[channel] = Infinity;\n        max_value[channel] = -Infinity;\n      }\n\n      scale_counter = 0;\n    }\n  }\n\n  if (scale_counter > 0) {\n    for (channel = 0; channel < output_channels; channel++) {\n      data_view.setInt8(offset++, min_value[channel]);\n      data_view.setInt8(offset++, max_value[channel]);\n    }\n  }\n\n  return buffer;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isJsonWaveformData(data) {\n  return data && _typeof(data) === \"object\" && \"sample_rate\" in data && \"samples_per_pixel\" in data && \"bits\" in data && \"length\" in data && \"data\" in data;\n}\nfunction isBinaryWaveformData(data) {\n  var isCompatible = data && _typeof(data) === \"object\" && \"byteLength\" in data;\n\n  if (isCompatible) {\n    var view = new DataView(data);\n    var version = view.getInt32(0, true);\n\n    if (version !== 1 && version !== 2) {\n      throw new TypeError(\"WaveformData.create(): This waveform data version not supported\");\n    }\n  }\n\n  return isCompatible;\n}\nfunction convertJsonToBinary(data) {\n  var waveformData = data.data;\n  var channels = data.channels || 1;\n  var header_size = 24; // version 2\n\n  var bytes_per_sample = data.bits === 8 ? 1 : 2;\n  var expected_length = data.length * 2 * channels;\n\n  if (waveformData.length !== expected_length) {\n    throw new Error(\"WaveformData.create(): Length mismatch in JSON waveform data\");\n  }\n\n  var total_size = header_size + waveformData.length * bytes_per_sample;\n  var array_buffer = new ArrayBuffer(total_size);\n  var data_object = new DataView(array_buffer);\n  data_object.setInt32(0, 2, true); // Version\n\n  data_object.setUint32(4, data.bits === 8, true);\n  data_object.setInt32(8, data.sample_rate, true);\n  data_object.setInt32(12, data.samples_per_pixel, true);\n  data_object.setInt32(16, data.length, true);\n  data_object.setInt32(20, channels, true);\n  var index = header_size;\n  var i;\n\n  if (data.bits === 8) {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt8(index++, waveformData[i], true);\n    }\n  } else {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt16(index, waveformData[i], true);\n      index += 2;\n    }\n  }\n\n  return array_buffer;\n}\n\nfunction decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=', null, false);\n/* eslint-enable */\n\n/**\n * Provides access to waveform data.\n */\n\nfunction WaveformData(data) {\n  if (isJsonWaveformData(data)) {\n    data = convertJsonToBinary(data);\n  }\n\n  if (isBinaryWaveformData(data)) {\n    this._data = new DataView(data);\n    this._offset = this._version() === 2 ? 24 : 20;\n    this._channels = [];\n\n    for (var channel = 0; channel < this.channels; channel++) {\n      this._channels[channel] = new WaveformDataChannel(this, channel);\n    }\n  } else {\n    throw new TypeError(\"WaveformData.create(): Unknown data format\");\n  }\n}\n\nvar defaultOptions = {\n  scale: 512,\n  amplitude_scale: 1.0,\n  split_channels: false,\n  disable_worker: false\n};\n\nfunction getOptions(options) {\n  var opts = {\n    scale: options.scale || defaultOptions.scale,\n    amplitude_scale: options.amplitude_scale || defaultOptions.amplitude_scale,\n    split_channels: options.split_channels || defaultOptions.split_channels,\n    disable_worker: options.disable_worker || defaultOptions.disable_worker\n  };\n  return opts;\n}\n\nfunction getChannelData(audio_buffer) {\n  var channels = [];\n\n  for (var i = 0; i < audio_buffer.numberOfChannels; ++i) {\n    channels.push(audio_buffer.getChannelData(i).buffer);\n  }\n\n  return channels;\n}\n\nfunction createFromAudioBuffer(audio_buffer, options, callback) {\n  var channels = getChannelData(audio_buffer);\n\n  if (options.disable_worker) {\n    var buffer = generateWaveformData({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    });\n    callback(null, new WaveformData(buffer), audio_buffer);\n  } else {\n    var worker = new WorkerFactory();\n\n    worker.onmessage = function (evt) {\n      callback(null, new WaveformData(evt.data), audio_buffer);\n    };\n\n    worker.postMessage({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    }, channels);\n  }\n}\n\nfunction createFromArrayBuffer(audioContext, audioData, options, callback) {\n  // The following function is a workaround for a Webkit bug where decodeAudioData\n  // invokes the errorCallback with null instead of a DOMException.\n  // See https://webaudio.github.io/web-audio-api/#dom-baseaudiocontext-decodeaudiodata\n  // and http://stackoverflow.com/q/10365335/103396\n  function errorCallback(error) {\n    if (!error) {\n      error = new DOMException(\"EncodingError\");\n    }\n\n    callback(error);\n  }\n\n  audioContext.decodeAudioData(audioData, function (audio_buffer) {\n    createFromAudioBuffer(audio_buffer, options, callback);\n  }, errorCallback);\n}\n/**\n * Creates and returns a WaveformData instance from the given waveform data.\n */\n\n\nWaveformData.create = function create(data) {\n  return new WaveformData(data);\n};\n/**\n * Creates a WaveformData instance from audio.\n */\n\n\nWaveformData.createFromAudio = function (options, callback) {\n  var opts = getOptions(options);\n\n  if (options.audio_context && options.array_buffer) {\n    return createFromArrayBuffer(options.audio_context, options.array_buffer, opts, callback);\n  } else if (options.audio_buffer) {\n    return createFromAudioBuffer(options.audio_buffer, opts, callback);\n  } else {\n    throw new TypeError( // eslint-disable-next-line\n    \"WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object\");\n  }\n};\n\nWaveformData.prototype = {\n  /**\n   * Creates and returns a new WaveformData object with resampled data.\n   * Use this method to create waveform data at different zoom levels.\n   *\n   * Adapted from Sequence::GetWaveDisplay in Audacity, with permission.\n   * https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/Sequence.cpp\n   */\n  resample: function resample(options) {\n    options.scale = typeof options.scale === \"number\" ? options.scale : null;\n    options.width = typeof options.width === \"number\" ? options.width : null;\n\n    if (options.width != null && options.width <= 0) {\n      throw new RangeError(\"WaveformData.resample(): width should be a positive integer value\");\n    }\n\n    if (options.scale != null && options.scale <= 0) {\n      throw new RangeError(\"WaveformData.resample(): scale should be a positive integer value\");\n    }\n\n    if (!options.scale && !options.width) {\n      throw new Error(\"WaveformData.resample(): Missing scale or width option\");\n    } // Scale we want to reach\n\n\n    var output_samples_per_pixel = options.scale || Math.floor(this.duration * this.sample_rate / options.width);\n    var scale = this.scale; // scale we are coming from\n    // The amount of data we want to resample i.e. final zoom want to resample\n    // all data but for intermediate zoom we want to resample subset\n\n    var input_buffer_size = this.length;\n    var input_buffer_length_samples = input_buffer_size * this.scale;\n    var output_buffer_length_samples = Math.ceil(input_buffer_length_samples / output_samples_per_pixel);\n    var output_header_size = 24; // version 2\n\n    var bytes_per_sample = this.bits === 8 ? 1 : 2;\n    var total_size = output_header_size + output_buffer_length_samples * 2 * this.channels * bytes_per_sample;\n    var output_data = new ArrayBuffer(total_size);\n    var output_dataview = new DataView(output_data);\n    output_dataview.setInt32(0, 2, true); // Version\n\n    output_dataview.setUint32(4, this.bits === 8, true); // Is 8 bit?\n\n    output_dataview.setInt32(8, this.sample_rate, true);\n    output_dataview.setInt32(12, output_samples_per_pixel, true);\n    output_dataview.setInt32(16, output_buffer_length_samples, true);\n    output_dataview.setInt32(20, this.channels, true);\n    var waveform_data = new WaveformData(output_data);\n    var input_index = 0;\n    var output_index = 0;\n    var channels = this.channels;\n    var min = new Array(channels);\n    var max = new Array(channels);\n    var channel;\n\n    for (channel = 0; channel < channels; ++channel) {\n      if (input_buffer_size > 0) {\n        min[channel] = this.channel(channel).min_sample(input_index);\n        max[channel] = this.channel(channel).max_sample(input_index);\n      } else {\n        min[channel] = 0;\n        max[channel] = 0;\n      }\n    }\n\n    var min_value = this.bits === 8 ? -128 : -32768;\n    var max_value = this.bits === 8 ? 127 : 32767;\n\n    if (output_samples_per_pixel < scale) {\n      throw new Error(\"WaveformData.resample(): Zoom level \" + output_samples_per_pixel + \" too low, minimum: \" + scale);\n    }\n\n    var where, prev_where, stop, value, last_input_index;\n\n    function sample_at_pixel(x) {\n      return Math.floor(x * output_samples_per_pixel);\n    }\n\n    while (input_index < input_buffer_size) {\n      while (Math.floor(sample_at_pixel(output_index) / scale) === input_index) {\n        if (output_index > 0) {\n          for (channel = 0; channel < channels; ++channel) {\n            waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n            waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n          }\n        }\n\n        last_input_index = input_index;\n        output_index++;\n        where = sample_at_pixel(output_index);\n        prev_where = sample_at_pixel(output_index - 1);\n\n        if (where !== prev_where) {\n          for (channel = 0; channel < channels; ++channel) {\n            min[channel] = max_value;\n            max[channel] = min_value;\n          }\n        }\n      }\n\n      where = sample_at_pixel(output_index);\n      stop = Math.floor(where / scale);\n\n      if (stop > input_buffer_size) {\n        stop = input_buffer_size;\n      }\n\n      while (input_index < stop) {\n        for (channel = 0; channel < channels; ++channel) {\n          value = this.channel(channel).min_sample(input_index);\n\n          if (value < min[channel]) {\n            min[channel] = value;\n          }\n\n          value = this.channel(channel).max_sample(input_index);\n\n          if (value > max[channel]) {\n            max[channel] = value;\n          }\n        }\n\n        input_index++;\n      }\n    }\n\n    if (input_index !== last_input_index) {\n      for (channel = 0; channel < channels; ++channel) {\n        waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n        waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n      }\n    }\n\n    return waveform_data;\n  },\n\n  /**\n   * Concatenates with one or more other waveforms, returning a new WaveformData object.\n   */\n  concat: function concat() {\n    var self = this;\n    var otherWaveforms = Array.prototype.slice.call(arguments); // Check that all the supplied waveforms are compatible\n\n    otherWaveforms.forEach(function (otherWaveform) {\n      if (self.channels !== otherWaveform.channels || self.sample_rate !== otherWaveform.sample_rate || self.bits !== otherWaveform.bits || self.scale !== otherWaveform.scale) {\n        throw new Error(\"WaveformData.concat(): Waveforms are incompatible\");\n      }\n    });\n\n    var combinedBuffer = this._concatBuffers.apply(this, otherWaveforms);\n\n    return WaveformData.create(combinedBuffer);\n  },\n\n  /**\n   * Returns a new ArrayBuffer with the concatenated waveform.\n   * All waveforms must have identical metadata (version, channels, etc)\n   */\n  _concatBuffers: function _concatBuffers() {\n    var otherWaveforms = Array.prototype.slice.call(arguments);\n    var headerSize = this._offset;\n    var totalSize = headerSize;\n    var totalDataLength = 0;\n    var bufferCollection = [this].concat(otherWaveforms).map(function (w) {\n      return w._data.buffer;\n    });\n    var i, buffer;\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      var dataSize = new DataView(buffer).getInt32(16, true);\n      totalSize += buffer.byteLength - headerSize;\n      totalDataLength += dataSize;\n    }\n\n    var totalBuffer = new ArrayBuffer(totalSize);\n    var sourceHeader = new DataView(bufferCollection[0]);\n    var totalBufferView = new DataView(totalBuffer); // Copy the header from the first chunk\n\n    for (i = 0; i < headerSize; i++) {\n      totalBufferView.setUint8(i, sourceHeader.getUint8(i));\n    } // Rewrite the data-length header item to reflect all of the samples concatenated together\n\n\n    totalBufferView.setInt32(16, totalDataLength, true);\n    var offset = 0;\n    var dataOfTotalBuffer = new Uint8Array(totalBuffer, headerSize);\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      dataOfTotalBuffer.set(new Uint8Array(buffer, headerSize), offset);\n      offset += buffer.byteLength - headerSize;\n    }\n\n    return totalBuffer;\n  },\n\n  /**\n   * Return the unpacked values for a particular offset.\n   */\n  _offsetValues: function getOffsetValues(start, length, correction) {\n    var values = [];\n    var channels = this.channels;\n    correction += start * channels * 2; // offset the positioning query\n\n    for (var i = 0; i < length; i++) {\n      values.push(this._at(i * channels * 2 + correction));\n    }\n\n    return values;\n  },\n\n  /**\n   * Returns the data format version number.\n   */\n  _version: function _version() {\n    return this._data.getInt32(0, true);\n  },\n\n  /**\n   * Returns the length of the waveform, in pixels.\n   */\n  get length() {\n    return this._data.getUint32(16, true);\n  },\n\n  /**\n   * Returns the number of bits per sample, either 8 or 16.\n   */\n  get bits() {\n    var bits = Boolean(this._data.getUint32(4, true));\n    return bits ? 8 : 16;\n  },\n\n  /**\n   * Returns the (approximate) duration of the audio file, in seconds.\n   */\n  get duration() {\n    return this.length * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of pixels per second.\n   */\n  get pixels_per_second() {\n    return this.sample_rate / this.scale;\n  },\n\n  /**\n   * Returns the amount of time represented by a single pixel, in seconds.\n   */\n  get seconds_per_pixel() {\n    return this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of waveform channels.\n   */\n  get channels() {\n    if (this._version() === 2) {\n      return this._data.getInt32(20, true);\n    } else {\n      return 1;\n    }\n  },\n\n  /**\n   * Returns a waveform channel.\n   */\n  channel: function channel(index) {\n    if (index >= 0 && index < this._channels.length) {\n      return this._channels[index];\n    } else {\n      throw new RangeError(\"Invalid channel: \" + index);\n    }\n  },\n\n  /**\n   * Returns the number of audio samples per second.\n   */\n  get sample_rate() {\n    return this._data.getInt32(8, true);\n  },\n\n  /**\n   * Returns the number of audio samples per pixel.\n   */\n  get scale() {\n    return this._data.getInt32(12, true);\n  },\n\n  /**\n   * Returns a waveform data value at a specific offset.\n   */\n  _at: function at_sample(index) {\n    if (this.bits === 8) {\n      return this._data.getInt8(this._offset + index);\n    } else {\n      return this._data.getInt16(this._offset + index * 2, true);\n    }\n  },\n\n  /**\n   * Sets a waveform data value at a specific offset.\n   */\n  _set_at: function set_at(index, sample) {\n    if (this.bits === 8) {\n      return this._data.setInt8(this._offset + index, sample);\n    } else {\n      return this._data.setInt16(this._offset + index * 2, sample, true);\n    }\n  },\n\n  /**\n   * Returns the waveform data index position for a given time.\n   */\n  at_time: function at_time(time) {\n    return Math.floor(time * this.sample_rate / this.scale);\n  },\n\n  /**\n   * Returns the time in seconds for a given index.\n   */\n  time: function time(index) {\n    return index * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns an object containing the waveform data.\n   */\n  toJSON: function toJSON() {\n    var waveform = {\n      version: 2,\n      channels: this.channels,\n      sample_rate: this.sample_rate,\n      samples_per_pixel: this.scale,\n      bits: this.bits,\n      length: this.length,\n      data: []\n    };\n\n    for (var i = 0; i < this.length; i++) {\n      for (var channel = 0; channel < this.channels; channel++) {\n        waveform.data.push(this.channel(channel).min_sample(i));\n        waveform.data.push(this.channel(channel).max_sample(i));\n      }\n    }\n\n    return waveform;\n  },\n\n  /**\n   * Returns the waveform data in binary format as an ArrayBuffer.\n   */\n  toArrayBuffer: function toArrayBuffer() {\n    return this._data.buffer;\n  }\n};\n\nexport { WaveformData as default };\n","import { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\nimport Konva from 'konva/lib/Core';\nimport { Animation } from 'konva/lib/Animation';\nimport WaveformData from 'waveform-data';\n\nvar eventemitter3 = {exports: {}};\n\n(function (module) {\n\n  var has = Object.prototype.hasOwnProperty,\n      prefix = '~';\n  /**\n   * Constructor to create a storage for our `EE` objects.\n   * An `Events` instance is a plain object whose properties are event names.\n   *\n   * @constructor\n   * @private\n   */\n\n  function Events() {} //\n  // We try to not inherit from `Object.prototype`. In some engines creating an\n  // instance in this way is faster than calling `Object.create(null)` directly.\n  // If `Object.create(null)` is not supported we prefix the event names with a\n  // character to make sure that the built-in object properties are not\n  // overridden or used as an attack vector.\n  //\n\n\n  if (Object.create) {\n    Events.prototype = Object.create(null); //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n\n    if (!new Events().__proto__) prefix = false;\n  }\n  /**\n   * Representation of a single event listener.\n   *\n   * @param {Function} fn The listener function.\n   * @param {*} context The context to invoke the listener with.\n   * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n   * @constructor\n   * @private\n   */\n\n\n  function EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n  }\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} context The context to invoke the listener with.\n   * @param {Boolean} once Specify if the listener is a one-time listener.\n   * @returns {EventEmitter}\n   * @private\n   */\n\n\n  function addListener(emitter, event, fn, context, once) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The listener must be a function');\n    }\n\n    var listener = new EE(fn, context || emitter, once),\n        evt = prefix ? prefix + event : event;\n    if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);else emitter._events[evt] = [emitter._events[evt], listener];\n    return emitter;\n  }\n  /**\n   * Clear event by name.\n   *\n   * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n   * @param {(String|Symbol)} evt The Event name.\n   * @private\n   */\n\n\n  function clearEvent(emitter, evt) {\n    if (--emitter._eventsCount === 0) emitter._events = new Events();else delete emitter._events[evt];\n  }\n  /**\n   * Minimal `EventEmitter` interface that is molded against the Node.js\n   * `EventEmitter` interface.\n   *\n   * @constructor\n   * @public\n   */\n\n\n  function EventEmitter() {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n  /**\n   * Return an array listing the events for which the emitter has registered\n   * listeners.\n   *\n   * @returns {Array}\n   * @public\n   */\n\n\n  EventEmitter.prototype.eventNames = function eventNames() {\n    var names = [],\n        events,\n        name;\n    if (this._eventsCount === 0) return names;\n\n    for (name in events = this._events) {\n      if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      return names.concat(Object.getOwnPropertySymbols(events));\n    }\n\n    return names;\n  };\n  /**\n   * Return the listeners registered for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Array} The registered listeners.\n   * @public\n   */\n\n\n  EventEmitter.prototype.listeners = function listeners(event) {\n    var evt = prefix ? prefix + event : event,\n        handlers = this._events[evt];\n    if (!handlers) return [];\n    if (handlers.fn) return [handlers.fn];\n\n    for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n      ee[i] = handlers[i].fn;\n    }\n\n    return ee;\n  };\n  /**\n   * Return the number of listeners listening to a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Number} The number of listeners.\n   * @public\n   */\n\n\n  EventEmitter.prototype.listenerCount = function listenerCount(event) {\n    var evt = prefix ? prefix + event : event,\n        listeners = this._events[evt];\n    if (!listeners) return 0;\n    if (listeners.fn) return 1;\n    return listeners.length;\n  };\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Boolean} `true` if the event had listeners, else `false`.\n   * @public\n   */\n\n\n  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt]) return false;\n    var listeners = this._events[evt],\n        len = arguments.length,\n        args,\n        i;\n\n    if (listeners.fn) {\n      if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n      switch (len) {\n        case 1:\n          return listeners.fn.call(listeners.context), true;\n\n        case 2:\n          return listeners.fn.call(listeners.context, a1), true;\n\n        case 3:\n          return listeners.fn.call(listeners.context, a1, a2), true;\n\n        case 4:\n          return listeners.fn.call(listeners.context, a1, a2, a3), true;\n\n        case 5:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n\n        case 6:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n\n      for (i = 1, args = new Array(len - 1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      var length = listeners.length,\n          j;\n\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n        switch (len) {\n          case 1:\n            listeners[i].fn.call(listeners[i].context);\n            break;\n\n          case 2:\n            listeners[i].fn.call(listeners[i].context, a1);\n            break;\n\n          case 3:\n            listeners[i].fn.call(listeners[i].context, a1, a2);\n            break;\n\n          case 4:\n            listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n            break;\n\n          default:\n            if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n              args[j - 1] = arguments[j];\n            }\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n\n\n  EventEmitter.prototype.on = function on(event, fn, context) {\n    return addListener(this, event, fn, context, false);\n  };\n  /**\n   * Add a one-time listener for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n\n\n  EventEmitter.prototype.once = function once(event, fn, context) {\n    return addListener(this, event, fn, context, true);\n  };\n  /**\n   * Remove the listeners of a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn Only remove the listeners that match this function.\n   * @param {*} context Only remove the listeners that have this context.\n   * @param {Boolean} once Only remove one-time listeners.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n\n\n  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt]) return this;\n\n    if (!fn) {\n      clearEvent(this, evt);\n      return this;\n    }\n\n    var listeners = this._events[evt];\n\n    if (listeners.fn) {\n      if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n        clearEvent(this, evt);\n      }\n    } else {\n      for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n        if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n          events.push(listeners[i]);\n        }\n      } //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n\n\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;else clearEvent(this, evt);\n    }\n\n    return this;\n  };\n  /**\n   * Remove all listeners, or those of the specified event.\n   *\n   * @param {(String|Symbol)} [event] The event name.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n\n\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n\n    if (event) {\n      evt = prefix ? prefix + event : event;\n      if (this._events[evt]) clearEvent(this, evt);\n    } else {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n\n    return this;\n  }; //\n  // Alias methods names because people roll like that.\n  //\n\n\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on; //\n  // Expose the prefix.\n  //\n\n  EventEmitter.prefixed = prefix; //\n  // Allow `EventEmitter` to be imported as module namespace.\n  //\n\n  EventEmitter.EventEmitter = EventEmitter; //\n  // Expose the module.\n  //\n\n  {\n    module.exports = EventEmitter;\n  }\n})(eventemitter3);\n\nvar EventEmitter = eventemitter3.exports;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/**\n * @file\n *\n * Defines the {@link Cue} class.\n *\n * @module cue\n */\n\n/**\n * A cue represents an event to be triggered at some point on the media\n * timeline.\n *\n * @class\n * @alias Cue\n *\n * @param {Number} time Cue time, in seconds.\n * @param {Number} type Cue mark type, either <code>Cue.POINT</code>,\n *   <code>Cue.SEGMENT_START</code>, or <code>Cue.SEGMENT_END</code>.\n * @param {String} id The id of the {@link Point} or {@link Segment}.\n */\nfunction Cue(time, type, id) {\n  this.time = time;\n  this.type = type;\n  this.id = id;\n}\n/**\n  * @constant\n  * @type {Number}\n  */\n\n\nCue.POINT = 0;\nCue.SEGMENT_START = 1;\nCue.SEGMENT_END = 2;\n/**\n * Callback function for use with Array.prototype.sort().\n *\n * @static\n * @param {Cue} a\n * @param {Cue} b\n * @return {Number}\n */\n\nCue.sorter = function (a, b) {\n  return a.time - b.time;\n};\n\nfunction zeroPad(number, precision) {\n  number = number.toString();\n\n  while (number.length < precision) {\n    number = '0' + number;\n  }\n\n  return number;\n}\n/**\n * Returns a formatted time string.\n *\n * @param {Number} time The time to be formatted, in seconds.\n * @param {Number} precision Decimal places to which time is displayed\n * @returns {String}\n */\n\n\nfunction formatTime(time, precision) {\n  var result = [];\n  var fractionSeconds = Math.floor(time % 1 * Math.pow(10, precision));\n  var seconds = Math.floor(time);\n  var minutes = Math.floor(seconds / 60);\n  var hours = Math.floor(minutes / 60);\n\n  if (hours > 0) {\n    result.push(hours); // Hours\n  }\n\n  result.push(minutes % 60); // Mins\n\n  result.push(seconds % 60); // Seconds\n\n  for (var i = 0; i < result.length; i++) {\n    result[i] = zeroPad(result[i], 2);\n  }\n\n  result = result.join(':');\n\n  if (precision > 0) {\n    result += '.' + zeroPad(fractionSeconds, precision);\n  }\n\n  return result;\n}\n/**\n * Rounds the given value up to the nearest given multiple.\n *\n * @param {Number} value\n * @param {Number} multiple\n * @returns {Number}\n *\n * @example\n * roundUpToNearest(5.5, 3); // returns 6\n * roundUpToNearest(141.0, 10); // returns 150\n * roundUpToNearest(-5.5, 3); // returns -6\n */\n\nfunction roundUpToNearest(value, multiple) {\n  if (multiple === 0) {\n    return 0;\n  }\n\n  var multiplier = 1;\n\n  if (value < 0.0) {\n    multiplier = -1;\n    value = -value;\n  }\n\n  var roundedUp = Math.ceil(value);\n  return multiplier * ((roundedUp + multiple - 1) / multiple | 0) * multiple;\n}\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  } else if (value > max) {\n    return max;\n  } else {\n    return value;\n  }\n}\nfunction objectHasProperty(object, field) {\n  return Object.prototype.hasOwnProperty.call(object, field);\n}\nfunction extend(to, from) {\n  for (var key in from) {\n    if (objectHasProperty(from, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n/**\n * Checks whether the given array contains values in ascending order.\n *\n * @param {Array<Number>} array The array to test\n * @returns {Boolean}\n */\n\nfunction isInAscendingOrder(array) {\n  if (array.length === 0) {\n    return true;\n  }\n\n  var value = array[0];\n\n  for (var i = 1; i < array.length; i++) {\n    if (value >= array[i]) {\n      return false;\n    }\n\n    value = array[i];\n  }\n\n  return true;\n}\n/**\n * Checks whether the given value is a number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n/**\n * Checks whether the given value is a finite number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isFinite(value) {\n  if (typeof value !== 'number') {\n    return false;\n  } // Check for NaN and infinity\n  // eslint-disable-next-line no-self-compare\n\n\n  if (value !== value || value === Infinity || value === -Infinity) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Checks whether the given value is a valid timestamp.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isValidTime(value) {\n  return typeof value === 'number' && Number.isFinite(value);\n}\n/**\n * Checks whether the given value is a valid object.\n *\n * @param {Object|Array} value The value to test\n * @returns {Boolean}\n */\n\nfunction isObject(value) {\n  return value !== null && _typeof(value) === 'object' && !Array.isArray(value);\n}\n/**\n * Checks whether the given value is a valid string.\n *\n * @param {String} value The value to test\n * @returns {Boolean}\n */\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n/**\n * Checks whether the given value is a valid ArrayBuffer.\n *\n * @param {ArrayBuffer} value The value to test\n * @returns {Boolean}\n */\n\nfunction isArrayBuffer(value) {\n  return Object.prototype.toString.call(value).includes('ArrayBuffer');\n}\n/**\n * Checks whether the given value is null or undefined.\n *\n * @param {Object} value The value to test\n * @returns {Boolean}\n */\n\nfunction isNullOrUndefined(value) {\n  return value === undefined || value === null;\n}\n/**\n * Checks whether the given value is a function.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * Checks whether the given value is a boolean.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isBoolean(value) {\n  return value === true || value === false;\n}\n/**\n * Checks whether the given value is a valid HTML element.\n *\n * @param {HTMLElement} value The value to test\n * @returns {Boolean}\n */\n\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement;\n}\n/**\n * Checks whether the given value is an array\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n * Checks whether the given value is a valid linear gradient color\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isLinearGradientColor(value) {\n  return isObject(value) && objectHasProperty(value, 'linearGradientStart') && objectHasProperty(value, 'linearGradientEnd') && objectHasProperty(value, 'linearGradientColorStops') && isNumber(value.linearGradientStart) && isNumber(value.linearGradientEnd) && isArray(value.linearGradientColorStops) && value.linearGradientColorStops.length === 2;\n}\n\nvar isHeadless = /HeadlessChrome/.test(navigator.userAgent);\n\nfunction windowIsVisible() {\n  if (isHeadless || navigator.webdriver) {\n    return false;\n  }\n\n  return (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && 'visibilityState' in document && document.visibilityState === 'visible';\n}\n\nvar requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\nvar cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\nvar eventTypes = {\n  forward: {},\n  reverse: {}\n};\nvar EVENT_TYPE_POINT = 0;\nvar EVENT_TYPE_SEGMENT_ENTER = 1;\nvar EVENT_TYPE_SEGMENT_EXIT = 2;\neventTypes.forward[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.forward[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_ENTER;\neventTypes.forward[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.reverse[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_ENTER;\nvar eventNames = {};\neventNames[EVENT_TYPE_POINT] = 'points.enter';\neventNames[EVENT_TYPE_SEGMENT_ENTER] = 'segments.enter';\neventNames[EVENT_TYPE_SEGMENT_EXIT] = 'segments.exit';\n/**\n * Given a cue instance, returns the corresponding {@link Point}\n * {@link Segment}.\n *\n * @param {Peaks} peaks\n * @param {Cue} cue\n * @return {Point|Segment}\n * @throws {Error}\n */\n\nfunction getPointOrSegment(peaks, cue) {\n  switch (cue.type) {\n    case Cue.POINT:\n      return peaks.points.getPoint(cue.id);\n\n    case Cue.SEGMENT_START:\n    case Cue.SEGMENT_END:\n      return peaks.segments.getSegment(cue.id);\n\n    default:\n      throw new Error('getPointOrSegment: id not found?');\n  }\n}\n/**\n * CueEmitter is responsible for emitting <code>points.enter</code>,\n * <code>segments.enter</code>, and <code>segments.exit</code> events.\n *\n * @class\n * @alias CueEmitter\n *\n * @param {Peaks} peaks Parent {@link Peaks} instance.\n */\n\n\nfunction CueEmitter(peaks) {\n  this._cues = [];\n  this._peaks = peaks;\n  this._previousTime = -1;\n  this._updateCues = this._updateCues.bind(this); // Event handlers:\n\n  this._onPlaying = this.onPlaying.bind(this);\n  this._onSeeked = this.onSeeked.bind(this);\n  this._onTimeUpdate = this.onTimeUpdate.bind(this);\n  this._onAnimationFrame = this.onAnimationFrame.bind(this);\n  this._rAFHandle = null;\n  this._activeSegments = {};\n\n  this._attachEventHandlers();\n}\n/**\n * This function is bound to all {@link Peaks} events relating to mutated\n * [Points]{@link Point} or [Segments]{@link Segment}, and updates the\n * list of cues accordingly.\n *\n * @private\n */\n\n\nCueEmitter.prototype._updateCues = function () {\n  var self = this;\n\n  var points = self._peaks.points.getPoints();\n\n  var segments = self._peaks.segments.getSegments();\n\n  self._cues.length = 0;\n  points.forEach(function (point) {\n    self._cues.push(new Cue(point.time, Cue.POINT, point.id));\n  });\n  segments.forEach(function (segment) {\n    self._cues.push(new Cue(segment.startTime, Cue.SEGMENT_START, segment.id));\n\n    self._cues.push(new Cue(segment.endTime, Cue.SEGMENT_END, segment.id));\n  });\n\n  self._cues.sort(Cue.sorter);\n\n  var time = self._peaks.player.getCurrentTime();\n\n  self._updateActiveSegments(time);\n};\n/**\n * Emits events for any cues passed through during media playback.\n *\n * @param {Number} time The current time on the media timeline.\n * @param {Number} previousTime The previous time on the media timeline when\n *   this function was called.\n */\n\n\nCueEmitter.prototype._onUpdate = function (time, previousTime) {\n  var isForward = time > previousTime;\n  var start;\n  var end;\n  var step;\n\n  if (isForward) {\n    start = 0;\n    end = this._cues.length;\n    step = 1;\n  } else {\n    start = this._cues.length - 1;\n    end = -1;\n    step = -1;\n  } // Cues are sorted\n\n\n  for (var i = start; isForward ? i < end : i > end; i += step) {\n    var cue = this._cues[i];\n\n    if (isForward ? cue.time > previousTime : cue.time < previousTime) {\n      if (isForward ? cue.time > time : cue.time < time) {\n        break;\n      } // Cue falls between time and previousTime\n\n\n      var marker = getPointOrSegment(this._peaks, cue);\n      var eventType = isForward ? eventTypes.forward[cue.type] : eventTypes.reverse[cue.type];\n\n      if (eventType === EVENT_TYPE_SEGMENT_ENTER) {\n        this._activeSegments[marker.id] = marker;\n      } else if (eventType === EVENT_TYPE_SEGMENT_EXIT) {\n        delete this._activeSegments[marker.id];\n      }\n\n      this._peaks.emit(eventNames[eventType], marker);\n    }\n  }\n}; // the next handler and onAnimationFrame are bound together\n// when the window isn't in focus, rAF is throttled\n// falling back to timeUpdate\n\n\nCueEmitter.prototype.onTimeUpdate = function (time) {\n  if (windowIsVisible()) {\n    return;\n  }\n\n  if (this._peaks.player.isPlaying() && !this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n};\n\nCueEmitter.prototype.onAnimationFrame = function () {\n  var time = this._peaks.player.getCurrentTime();\n\n  if (!this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n\n  this._previousTime = time;\n\n  if (this._peaks.player.isPlaying()) {\n    this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n  }\n};\n\nCueEmitter.prototype.onPlaying = function () {\n  this._previousTime = this._peaks.player.getCurrentTime();\n  this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n};\n\nCueEmitter.prototype.onSeeked = function (time) {\n  this._previousTime = time;\n\n  this._updateActiveSegments(time);\n};\n\nfunction getSegmentIdComparator(id) {\n  return function compareSegmentIds(segment) {\n    return segment.id === id;\n  };\n}\n/**\n * The active segments is the set of all segments which overlap the current\n * playhead position. This function updates that set and emits\n * <code>segments.enter</code> and <code>segments.exit</code> events.\n */\n\n\nCueEmitter.prototype._updateActiveSegments = function (time) {\n  var self = this;\n\n  var activeSegments = self._peaks.segments.getSegmentsAtTime(time); // Remove any segments no longer active.\n\n\n  for (var id in self._activeSegments) {\n    if (objectHasProperty(self._activeSegments, id)) {\n      var segment = activeSegments.find(getSegmentIdComparator(id));\n\n      if (!segment) {\n        self._peaks.emit('segments.exit', self._activeSegments[id]);\n\n        delete self._activeSegments[id];\n      }\n    }\n  } // Add new active segments.\n\n\n  activeSegments.forEach(function (segment) {\n    if (!(segment.id in self._activeSegments)) {\n      self._activeSegments[segment.id] = segment;\n\n      self._peaks.emit('segments.enter', segment);\n    }\n  });\n};\n\nvar triggerUpdateOn = Array('points.update', 'points.dragmove', 'points.add', 'points.remove', 'points.remove_all', 'segments.update', 'segments.dragged', 'segments.add', 'segments.remove', 'segments.remove_all');\n\nCueEmitter.prototype._attachEventHandlers = function () {\n  this._peaks.on('player.timeupdate', this._onTimeUpdate);\n\n  this._peaks.on('player.playing', this._onPlaying);\n\n  this._peaks.on('player.seeked', this._onSeeked);\n\n  for (var i = 0; i < triggerUpdateOn.length; i++) {\n    this._peaks.on(triggerUpdateOn[i], this._updateCues);\n  }\n\n  this._updateCues();\n};\n\nCueEmitter.prototype._detachEventHandlers = function () {\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n\n  this._peaks.off('player.playing', this._onPlaying);\n\n  this._peaks.off('player.seeked', this._onSeeked);\n\n  for (var i = 0; i < triggerUpdateOn.length; i++) {\n    this._peaks.off(triggerUpdateOn[i], this._updateCues);\n  }\n};\n\nCueEmitter.prototype.destroy = function () {\n  if (this._rAFHandle) {\n    cancelAnimationFrame(this._rAFHandle);\n    this._rAFHandle = null;\n  }\n\n  this._detachEventHandlers();\n\n  this._previousTime = -1;\n};\n\n/**\n * @file\n *\n * Defines the {@link Point} class.\n *\n * @module point\n */\nvar pointOptions = ['peaks', 'id', 'time', 'labelText', 'color', 'editable'];\n\nfunction validatePoint(options, context) {\n  if (!isValidTime(options.time)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.points.' + context + ': time should be a numeric value');\n  }\n\n  if (options.time < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.points.' + context + ': time should not be negative');\n  }\n\n  if (isNullOrUndefined(options.labelText)) {\n    // Set default label text\n    options.labelText = '';\n  } else if (!isString(options.labelText)) {\n    throw new TypeError('peaks.points.' + context + ': labelText must be a string');\n  }\n\n  if (!isBoolean(options.editable)) {\n    throw new TypeError('peaks.points.' + context + ': editable must be true or false');\n  }\n\n  if (options.color && !isString(options.color) && !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.points.' + context + ': color must be a string or a valid linear gradient object');\n  }\n}\n/**\n * A point is a single instant of time, with associated label and color.\n *\n * @class\n * @alias Point\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {String} id A unique identifier for the point.\n * @param {Number} time Point time, in seconds.\n * @param {String} labelText Point label text.\n * @param {String} color Point marker color.\n * @param {Boolean} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n * @param {*} data Optional application specific data.\n */\n\n\nfunction Point(options) {\n  validatePoint(options, 'add()');\n  this._peaks = options.peaks;\n  this._id = options.id;\n  this._time = options.time;\n  this._labelText = options.labelText;\n  this._color = options.color;\n  this._editable = options.editable;\n\n  this._setUserData(options);\n}\n\nPoint.prototype._setUserData = function (options) {\n  for (var key in options) {\n    if (objectHasProperty(options, key) && pointOptions.indexOf(key) === -1) {\n      this[key] = options[key];\n    }\n  }\n};\n\nObject.defineProperties(Point.prototype, {\n  id: {\n    enumerable: true,\n    get: function get() {\n      return this._id;\n    }\n  },\n  time: {\n    enumerable: true,\n    get: function get() {\n      return this._time;\n    }\n  },\n  labelText: {\n    get: function get() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function get() {\n      return this._color;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function get() {\n      return this._editable;\n    }\n  }\n});\n\nPoint.prototype.update = function (options) {\n  var opts = {\n    time: this.time,\n    labelText: this.labelText,\n    color: this.color,\n    editable: this.editable\n  };\n  extend(opts, options);\n  validatePoint(opts, 'update()');\n  this._time = opts.time;\n  this._labelText = opts.labelText;\n  this._color = opts.color;\n  this._editable = opts.editable;\n\n  this._setUserData(options);\n\n  this._peaks.emit('points.update', this);\n};\n/**\n * Returns <code>true</code> if the point lies with in a given time range.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n */\n\n\nPoint.prototype.isVisible = function (startTime, endTime) {\n  return this.time >= startTime && this.time < endTime;\n};\n\nPoint.prototype._setTime = function (time) {\n  this._time = time;\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformPoints} class.\n *\n * @module waveform-points\n */\n/**\n * Point parameters.\n *\n * @typedef {Object} PointOptions\n * @global\n * @property {Number} point Point time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the point time can be\n *   adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Point marker color.\n *   Default: a random color.\n * @property {String=} labelText Point label text.\n *   Default: an empty string.\n * @property {String=} id A unique point identifier.\n *   Default: an automatically generated identifier.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of points. A point is a single instant of time.\n *\n * @class\n * @alias WaveformPoints\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformPoints(peaks) {\n  this._peaks = peaks;\n  this._points = [];\n  this._pointsById = {};\n  this._pointIdCounter = 0;\n}\n/**\n * Returns a new unique point id value.\n *\n * @returns {String}\n */\n\n\nWaveformPoints.prototype._getNextPointId = function () {\n  return 'peaks.point.' + this._pointIdCounter++;\n};\n/**\n * Adds a new point object.\n *\n * @private\n * @param {Point} point\n */\n\n\nWaveformPoints.prototype._addPoint = function (point) {\n  this._points.push(point);\n\n  this._pointsById[point.id] = point;\n};\n/**\n * Creates a new point object.\n *\n * @private\n * @param {PointOptions} options\n * @returns {Point}\n */\n\n\nWaveformPoints.prototype._createPoint = function (options) {\n  var pointOptions = {\n    peaks: this._peaks\n  };\n  extend(pointOptions, options);\n\n  if (isNullOrUndefined(pointOptions.id)) {\n    pointOptions.id = this._getNextPointId();\n  }\n\n  if (isNullOrUndefined(pointOptions.labelText)) {\n    pointOptions.labelText = '';\n  }\n\n  if (isNullOrUndefined(pointOptions.editable)) {\n    pointOptions.editable = false;\n  }\n\n  return new Point(pointOptions);\n};\n/**\n * Returns all points.\n *\n * @returns {Array<Point>}\n */\n\n\nWaveformPoints.prototype.getPoints = function () {\n  return this._points;\n};\n/**\n * Returns the point with the given id, or <code>null</code> if not found.\n *\n * @param {String} id\n * @returns {Point|null}\n */\n\n\nWaveformPoints.prototype.getPoint = function (id) {\n  return this._pointsById[id] || null;\n};\n/**\n * Returns all points within a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Array<Point>}\n */\n\n\nWaveformPoints.prototype.find = function (startTime, endTime) {\n  return this._points.filter(function (point) {\n    return point.isVisible(startTime, endTime);\n  });\n};\n/**\n * Adds one or more points to the timeline.\n *\n * @param {PointOptions|Array<PointOptions>} pointOrPoints\n *\n * @returns Point|Array<Point>\n */\n\n\nWaveformPoints.prototype.add = function\n  /* pointOrPoints */\n() {\n  var self = this;\n  var arrayArgs = Array.isArray(arguments[0]);\n  var points = arrayArgs ? arguments[0] : Array.prototype.slice.call(arguments);\n  points = points.map(function (pointOptions) {\n    var point = self._createPoint(pointOptions);\n\n    if (objectHasProperty(self._pointsById, point.id)) {\n      throw new Error('peaks.points.add(): duplicate id');\n    }\n\n    return point;\n  });\n  points.forEach(function (point) {\n    self._addPoint(point);\n  });\n\n  this._peaks.emit('points.add', points);\n\n  return arrayArgs ? points : points[0];\n};\n/**\n * Returns the indexes of points that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching points.\n * @returns {Array<Number>} An array of indexes into the points array of\n *   the matching elements.\n */\n\n\nWaveformPoints.prototype._findPoint = function (predicate) {\n  var indexes = [];\n\n  for (var i = 0, length = this._points.length; i < length; i++) {\n    if (predicate(this._points[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n/**\n * Removes the points at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\n\nWaveformPoints.prototype._removeIndexes = function (indexes) {\n  var removed = [];\n\n  for (var i = 0; i < indexes.length; i++) {\n    var index = indexes[i] - removed.length;\n\n    var itemRemoved = this._points.splice(index, 1)[0];\n\n    delete this._pointsById[itemRemoved.id];\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n/**\n * Removes all points that match a given predicate function.\n *\n * After removing the points, this function emits a\n * <code>points.remove</code> event with the removed {@link Point}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   points to remove.\n * @returns {Array<Point>} The removed {@link Points} objects.\n */\n\n\nWaveformPoints.prototype._removePoints = function (predicate) {\n  var indexes = this._findPoint(predicate);\n\n  var removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('points.remove', removed);\n\n  return removed;\n};\n/**\n * Removes the given point.\n *\n * @param {Point} point The point to remove.\n * @returns {Array<Point>} The removed points.\n */\n\n\nWaveformPoints.prototype.remove = function (point) {\n  return this._removePoints(function (p) {\n    return p === point;\n  });\n};\n/**\n * Removes any points with the given id.\n *\n * @param {String} id\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\n\nWaveformPoints.prototype.removeById = function (pointId) {\n  return this._removePoints(function (point) {\n    return point.id === pointId;\n  });\n};\n/**\n * Removes any points at the given time.\n *\n * @param {Number} time\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\n\nWaveformPoints.prototype.removeByTime = function (time) {\n  return this._removePoints(function (point) {\n    return point.time === time;\n  });\n};\n/**\n * Removes all points.\n *\n * After removing the points, this function emits a\n * <code>points.remove_all</code> event.\n */\n\n\nWaveformPoints.prototype.removeAll = function () {\n  this._points = [];\n  this._pointsById = {};\n\n  this._peaks.emit('points.remove_all');\n};\n\n/**\n * @file\n *\n * Defines the {@link Segment} class.\n *\n * @module segment\n */\nvar segmentOptions = ['peaks', 'id', 'startTime', 'endTime', 'labelText', 'color', 'editable'];\n\nfunction validateSegment(options, context) {\n  if (!isValidTime(options.startTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': startTime should be a valid number');\n  }\n\n  if (!isValidTime(options.endTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': endTime should be a valid number');\n  }\n\n  if (options.startTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': startTime should not be negative');\n  }\n\n  if (options.endTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be negative');\n  }\n\n  if (options.endTime < options.startTime) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be less than startTime');\n  }\n\n  if (isNullOrUndefined(options.labelText)) {\n    // Set default label text\n    options.labelText = '';\n  } else if (!isString(options.labelText)) {\n    throw new TypeError('peaks.segments.' + context + ': labelText must be a string');\n  }\n\n  if (!isBoolean(options.editable)) {\n    throw new TypeError('peaks.segments.' + context + ': editable must be true or false');\n  }\n\n  if (options.color && !isString(options.color) && !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': color must be a string or a valid linear gradient object');\n  }\n}\n/**\n * A segment is a region of time, with associated label and color.\n *\n * @class\n * @alias Segment\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {String} id A unique identifier for the segment.\n * @param {Number} startTime Segment start time, in seconds.\n * @param {Number} endTime Segment end time, in seconds.\n * @param {String} labelText Segment label text.\n * @param {String | LinearGradientColor} color Segment waveform color.\n * @param {Boolean} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n * @param {*} data Optional application specific data.\n */\n\n\nfunction Segment(options) {\n  validateSegment(options, 'add()');\n  this._peaks = options.peaks;\n  this._id = options.id;\n  this._startTime = options.startTime;\n  this._endTime = options.endTime;\n  this._labelText = options.labelText;\n  this._color = options.color;\n  this._editable = options.editable;\n\n  this._setUserData(options);\n}\n\nSegment.prototype._setUserData = function (options) {\n  for (var key in options) {\n    if (objectHasProperty(options, key) && segmentOptions.indexOf(key) === -1) {\n      this[key] = options[key];\n    }\n  }\n};\n\nObject.defineProperties(Segment.prototype, {\n  id: {\n    enumerable: true,\n    get: function get() {\n      return this._id;\n    }\n  },\n  startTime: {\n    enumerable: true,\n    get: function get() {\n      return this._startTime;\n    }\n  },\n  endTime: {\n    enumerable: true,\n    get: function get() {\n      return this._endTime;\n    }\n  },\n  labelText: {\n    enumerable: true,\n    get: function get() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function get() {\n      return this._color;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function get() {\n      return this._editable;\n    }\n  }\n});\n\nSegment.prototype.update = function (options) {\n  var opts = {\n    startTime: this.startTime,\n    endTime: this.endTime,\n    labelText: this.labelText,\n    color: this.color,\n    editable: this.editable\n  };\n  extend(opts, options);\n  validateSegment(opts, 'update()');\n  this._startTime = opts.startTime;\n  this._endTime = opts.endTime;\n  this._labelText = opts.labelText;\n  this._color = opts.color;\n  this._editable = opts.editable;\n\n  this._setUserData(options);\n\n  this._peaks.emit('segments.update', this);\n};\n/**\n * Returns <code>true</code> if the segment overlaps a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n *\n * @see http://wiki.c2.com/?TestIfDateRangesOverlap\n */\n\n\nSegment.prototype.isVisible = function (startTime, endTime) {\n  return this.startTime < endTime && startTime < this.endTime;\n};\n\nSegment.prototype._setStartTime = function (time) {\n  this._startTime = time;\n};\n\nSegment.prototype._setEndTime = function (time) {\n  this._endTime = time;\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformSegments} class.\n *\n * @module waveform-segments\n */\n/**\n * Segment parameters.\n *\n * @typedef {Object} SegmentOptions\n * @global\n * @property {Number} startTime Segment start time, in seconds.\n * @property {Number} endTime Segment end time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Segment waveform color.\n *   Default: a random color.\n * @property {String=} labelText Segment label text.\n *   Default: an empty string.\n * @property {String=} id A unique segment identifier.\n *   Default: an automatically generated identifier.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of segments.\n *\n * @class\n * @alias WaveformSegments\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformSegments(peaks) {\n  this._peaks = peaks;\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentIdCounter = 0;\n  this._colorIndex = 0;\n}\n/**\n * Returns a new unique segment id value.\n *\n * @private\n * @returns {String}\n */\n\n\nWaveformSegments.prototype._getNextSegmentId = function () {\n  return 'peaks.segment.' + this._segmentIdCounter++;\n};\n\nvar colors = ['#001f3f', // navy\n'#0074d9', // blue\n'#7fdbff', // aqua\n'#39cccc', // teal\n'#ffdc00', // yellow\n'#ff851b', // orange\n'#ff4136', // red\n'#85144b', // maroon\n'#f012be', // fuchsia\n'#b10dc9' // purple\n];\n/**\n * @private\n * @returns {String}\n */\n\nWaveformSegments.prototype._getSegmentColor = function () {\n  if (this._peaks.options.randomizeSegmentColor) {\n    if (++this._colorIndex === colors.length) {\n      this._colorIndex = 0;\n    }\n\n    return colors[this._colorIndex];\n  } else {\n    return this._peaks.options.segmentColor;\n  }\n};\n/**\n * Adds a new segment object.\n *\n * @private\n * @param {Segment} segment\n */\n\n\nWaveformSegments.prototype._addSegment = function (segment) {\n  this._segments.push(segment);\n\n  this._segmentsById[segment.id] = segment;\n};\n/**\n * Creates a new segment object.\n *\n * @private\n * @param {SegmentOptions} options\n * @return {Segment}\n */\n\n\nWaveformSegments.prototype._createSegment = function (options) {\n  // Watch for anyone still trying to use the old\n  // createSegment(startTime, endTime, ...) API\n  if (!isObject(options)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.add(): expected a Segment object parameter');\n  }\n\n  var segmentOptions = {\n    peaks: this._peaks\n  };\n  extend(segmentOptions, options);\n\n  if (isNullOrUndefined(segmentOptions.id)) {\n    segmentOptions.id = this._getNextSegmentId();\n  }\n\n  if (isNullOrUndefined(segmentOptions.color)) {\n    segmentOptions.color = this._getSegmentColor();\n  }\n\n  if (isNullOrUndefined(segmentOptions.labelText)) {\n    segmentOptions.labelText = '';\n  }\n\n  if (isNullOrUndefined(segmentOptions.editable)) {\n    segmentOptions.editable = false;\n  }\n\n  return new Segment(segmentOptions);\n};\n/**\n * Returns all segments.\n *\n * @returns {Array<Segment>}\n */\n\n\nWaveformSegments.prototype.getSegments = function () {\n  return this._segments;\n};\n/**\n * Returns the segment with the given id, or <code>null</code> if not found.\n *\n * @param {String} id\n * @returns {Segment|null}\n */\n\n\nWaveformSegments.prototype.getSegment = function (id) {\n  return this._segmentsById[id] || null;\n};\n/**\n * Returns all segments that overlap a given point in time.\n *\n * @param {Number} time\n * @returns {Array<Segment>}\n */\n\n\nWaveformSegments.prototype.getSegmentsAtTime = function (time) {\n  return this._segments.filter(function (segment) {\n    return time >= segment.startTime && time < segment.endTime;\n  });\n};\n/**\n * Returns all segments that overlap a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n *\n * @returns {Array<Segment>}\n */\n\n\nWaveformSegments.prototype.find = function (startTime, endTime) {\n  return this._segments.filter(function (segment) {\n    return segment.isVisible(startTime, endTime);\n  });\n};\n/**\n * Adds one or more segments to the timeline.\n *\n * @param {SegmentOptions|Array<SegmentOptions>} segmentOrSegments\n *\n * @returns Segment|Array<Segment>\n */\n\n\nWaveformSegments.prototype.add = function\n  /* segmentOrSegments */\n() {\n  var self = this;\n  var arrayArgs = Array.isArray(arguments[0]);\n  var segments = arrayArgs ? arguments[0] : Array.prototype.slice.call(arguments);\n  segments = segments.map(function (segmentOptions) {\n    var segment = self._createSegment(segmentOptions);\n\n    if (objectHasProperty(self._segmentsById, segment.id)) {\n      throw new Error('peaks.segments.add(): duplicate id');\n    }\n\n    return segment;\n  });\n  segments.forEach(function (segment) {\n    self._addSegment(segment);\n  });\n\n  this._peaks.emit('segments.add', segments);\n\n  return arrayArgs ? segments : segments[0];\n};\n/**\n * Returns the indexes of segments that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching segments.\n * @returns {Array<Number>} An array of indexes into the segments array of\n *   the matching elements.\n */\n\n\nWaveformSegments.prototype._findSegment = function (predicate) {\n  var indexes = [];\n\n  for (var i = 0, length = this._segments.length; i < length; i++) {\n    if (predicate(this._segments[i])) {\n      indexes.push(i);\n    }\n  }\n\n  return indexes;\n};\n/**\n * Removes the segments at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\n\nWaveformSegments.prototype._removeIndexes = function (indexes) {\n  var removed = [];\n\n  for (var i = 0; i < indexes.length; i++) {\n    var index = indexes[i] - removed.length;\n\n    var itemRemoved = this._segments.splice(index, 1)[0];\n\n    delete this._segmentsById[itemRemoved.id];\n    removed.push(itemRemoved);\n  }\n\n  return removed;\n};\n/**\n * Removes all segments that match a given predicate function.\n *\n * After removing the segments, this function also emits a\n * <code>segments.remove</code> event with the removed {@link Segment}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   segments to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\n\nWaveformSegments.prototype._removeSegments = function (predicate) {\n  var indexes = this._findSegment(predicate);\n\n  var removed = this._removeIndexes(indexes);\n\n  this._peaks.emit('segments.remove', removed);\n\n  return removed;\n};\n/**\n * Removes the given segment.\n *\n * @param {Segment} segment The segment to remove.\n * @returns {Array<Segment>} The removed segment.\n */\n\n\nWaveformSegments.prototype.remove = function (segment) {\n  return this._removeSegments(function (s) {\n    return s === segment;\n  });\n};\n/**\n * Removes any segments with the given id.\n *\n * @param {String} id\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\n\nWaveformSegments.prototype.removeById = function (segmentId) {\n  return this._removeSegments(function (segment) {\n    return segment.id === segmentId;\n  });\n};\n/**\n * Removes any segments with the given start time, and optional end time.\n *\n * @param {Number} startTime Segments with this start time are removed.\n * @param {Number?} endTime If present, only segments with both the given\n *   start time and end time are removed.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\n\nWaveformSegments.prototype.removeByTime = function (startTime, endTime) {\n  endTime = typeof endTime === 'number' ? endTime : 0;\n  var fnFilter;\n\n  if (endTime > 0) {\n    fnFilter = function fnFilter(segment) {\n      return segment.startTime === startTime && segment.endTime === endTime;\n    };\n  } else {\n    fnFilter = function fnFilter(segment) {\n      return segment.startTime === startTime;\n    };\n  }\n\n  return this._removeSegments(fnFilter);\n};\n/**\n * Removes all segments.\n *\n * After removing the segments, this function emits a\n * <code>segments.remove_all</code> event.\n */\n\n\nWaveformSegments.prototype.removeAll = function () {\n  this._segments = [];\n  this._segmentsById = {};\n\n  this._peaks.emit('segments.remove_all');\n};\n\n/**\n * @file\n *\n * Defines the {@link KeyboardHandler} class.\n *\n * @module keyboard-handler\n */\nvar nodes = ['OBJECT', 'TEXTAREA', 'INPUT', 'SELECT', 'OPTION'];\nvar SPACE = 32,\n    TAB = 9,\n    LEFT_ARROW = 37,\n    RIGHT_ARROW = 39;\nvar keys = [SPACE, TAB, LEFT_ARROW, RIGHT_ARROW];\n/**\n * Configures keyboard event handling.\n *\n * @class\n * @alias KeyboardHandler\n *\n * @param {EventEmitter} eventEmitter\n */\n\nfunction KeyboardHandler(eventEmitter) {\n  this.eventEmitter = eventEmitter;\n  this._handleKeyEvent = this._handleKeyEvent.bind(this);\n  document.addEventListener('keydown', this._handleKeyEvent);\n  document.addEventListener('keypress', this._handleKeyEvent);\n  document.addEventListener('keyup', this._handleKeyEvent);\n}\n/**\n * Keyboard event handler function.\n *\n * @note Arrow keys only triggered on keydown, not keypress.\n *\n * @param {KeyboardEvent} event\n * @private\n */\n\n\nKeyboardHandler.prototype._handleKeyEvent = function handleKeyEvent(event) {\n  if (nodes.indexOf(event.target.nodeName) === -1) {\n    if (keys.indexOf(event.type) > -1) {\n      event.preventDefault();\n    }\n\n    if (event.type === 'keydown' || event.type === 'keypress') {\n      switch (event.keyCode) {\n        case SPACE:\n          this.eventEmitter.emit('keyboard.space');\n          break;\n\n        case TAB:\n          this.eventEmitter.emit('keyboard.tab');\n          break;\n      }\n    } else if (event.type === 'keyup') {\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_left');\n          } else {\n            this.eventEmitter.emit('keyboard.left');\n          }\n\n          break;\n\n        case RIGHT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_right');\n          } else {\n            this.eventEmitter.emit('keyboard.right');\n          }\n\n          break;\n      }\n    }\n  }\n};\n\nKeyboardHandler.prototype.destroy = function () {\n  document.removeEventListener('keydown', this._handleKeyEvent);\n  document.removeEventListener('keypress', this._handleKeyEvent);\n  document.removeEventListener('keyup', this._handleKeyEvent);\n};\n\n/**\n * @file\n *\n * Implementation of {@link Player} adapter based on the HTML5 media element.\n *\n * @module player-medialement\n */\n\n/**\n * A wrapper for interfacing with the HTML5 media element API.\n * Initializes the player for a given media element.\n *\n * @class\n * @alias MediaElementPlayer\n * @param {HTMLMediaElement} mediaElement The HTML <code>&lt;audio&gt;</code>\n *   or <code>&lt;video&gt;</code> element to associate with the\n *   {@link Peaks} instance.\n */\nfunction MediaElementPlayer(mediaElement) {\n  this._mediaElement = mediaElement;\n}\n/**\n * Adds an event listener to the media element.\n *\n * @private\n * @param {String} type The event type to listen for.\n * @param {Function} callback An event handler function.\n */\n\n\nMediaElementPlayer.prototype._addMediaListener = function (type, callback) {\n  this._listeners.push({\n    type: type,\n    callback: callback\n  });\n\n  this._mediaElement.addEventListener(type, callback);\n};\n\nMediaElementPlayer.prototype.init = function (eventEmitter) {\n  var self = this;\n  self._eventEmitter = eventEmitter;\n  self._listeners = [];\n  self._duration = self.getDuration();\n\n  self._addMediaListener('timeupdate', function () {\n    self._eventEmitter.emit('player.timeupdate', self.getCurrentTime());\n  });\n\n  self._addMediaListener('playing', function () {\n    self._eventEmitter.emit('player.playing', self.getCurrentTime());\n  });\n\n  self._addMediaListener('pause', function () {\n    self._eventEmitter.emit('player.pause', self.getCurrentTime());\n  });\n\n  self._addMediaListener('ended', function () {\n    self._eventEmitter.emit('player.ended');\n  });\n\n  self._addMediaListener('seeked', function () {\n    self._eventEmitter.emit('player.seeked', self.getCurrentTime());\n  });\n\n  self._addMediaListener('canplay', function () {\n    self._eventEmitter.emit('player.canplay');\n  });\n\n  self._addMediaListener('error', function (event) {\n    self._eventEmitter.emit('player.error', event.target.error);\n  });\n\n  self._interval = null;\n  return new Promise(function (resolve, reject) {\n    function eventHandler(event) {\n      self._mediaElement.removeEventListener('loadedmetadata', eventHandler);\n\n      self._mediaElement.removeEventListener('error', eventHandler);\n\n      if (event.type === 'loadedmetadata') {\n        resolve();\n      } else {\n        reject(event.target.error);\n      }\n    } // If the media element has preload=\"none\", clicking to seek in the\n    // waveform won't work, so here we force the media to load.\n\n\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      // Wait for the readyState to change to HAVE_METADATA so we know the\n      // duration is valid, otherwise it could be NaN.\n      self._mediaElement.addEventListener('loadedmetadata', eventHandler);\n\n      self._mediaElement.addEventListener('error', eventHandler);\n\n      self._mediaElement.load();\n    } else {\n      resolve();\n    }\n  });\n};\n/**\n * Cleans up the player object, removing all event listeners from the\n * associated media element.\n */\n\n\nMediaElementPlayer.prototype.destroy = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var listener = this._listeners[i];\n\n    this._mediaElement.removeEventListener(listener.type, listener.callback);\n  }\n\n  this._listeners.length = 0;\n  this._mediaElement = null;\n};\n\nMediaElementPlayer.prototype.play = function () {\n  return this._mediaElement.play();\n};\n\nMediaElementPlayer.prototype.pause = function () {\n  this._mediaElement.pause();\n};\n\nMediaElementPlayer.prototype.isPlaying = function () {\n  return !this._mediaElement.paused;\n};\n\nMediaElementPlayer.prototype.isSeeking = function () {\n  return this._mediaElement.seeking;\n};\n\nMediaElementPlayer.prototype.getCurrentTime = function () {\n  return this._mediaElement.currentTime;\n};\n\nMediaElementPlayer.prototype.getDuration = function () {\n  return this._mediaElement.duration;\n};\n\nMediaElementPlayer.prototype.seek = function (time) {\n  this._mediaElement.currentTime = time;\n};\n\nfunction SetSourceHandler(eventEmitter, mediaElement) {\n  this._eventEmitter = eventEmitter;\n  this._mediaElement = mediaElement;\n  this._playerCanPlayHandler = this._playerCanPlayHandler.bind(this);\n  this._playerErrorHandler = this._playerErrorHandler.bind(this);\n}\n\nSetSourceHandler.prototype.setSource = function (options, callback) {\n  var self = this;\n  self._options = options;\n  self._callback = callback;\n\n  self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n\n  self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n  return new Promise(function (resolve, reject) {\n    self._resolve = resolve;\n    self._reject = reject;\n\n    self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n\n    self._eventEmitter.on('player.error', self._playerErrorHandler);\n\n    self._mediaElement.setAttribute('src', options.mediaUrl);\n  });\n};\n\nSetSourceHandler.prototype._reset = function () {\n  this._eventEmitter.removeListener('player.canplay', this._playerCanPlayHandler);\n\n  this._eventEmitter.removeListener('player.error', this._playerErrorHandler);\n};\n\nSetSourceHandler.prototype._playerCanPlayHandler = function () {\n  this._reset();\n\n  this._resolve();\n};\n\nSetSourceHandler.prototype._playerErrorHandler = function (err) {\n  this._reset(); // Return the MediaError object from the media element\n\n\n  this._reject(err);\n};\n\nMediaElementPlayer.prototype.setSource = function (options) {\n  if (!options.mediaUrl) {\n    // eslint-disable-next-line max-len\n    return Promise.reject(new Error('peaks.setSource(): options must contain a mediaUrl when using mediaElement'));\n  }\n\n  var setSourceHandler = new SetSourceHandler(this._eventEmitter, this._mediaElement);\n  return setSourceHandler.setSource(options);\n};\n\n/**\n * @file\n *\n * A general audio player class which interfaces with external audio players.\n * The default audio player in Peaks.js is {@link MediaElementPlayer}.\n *\n * @module player\n */\n\nfunction getAllPropertiesFrom(adapter) {\n  var allProperties = [];\n  var obj = adapter;\n\n  while (obj) {\n    Object.getOwnPropertyNames(obj).forEach(function (p) {\n      allProperties.push(p);\n    });\n    obj = Object.getPrototypeOf(obj);\n  }\n\n  return allProperties;\n}\n\nfunction validateAdapter(adapter) {\n  var publicAdapterMethods = ['init', 'destroy', 'play', 'pause', 'isPlaying', 'isSeeking', 'getCurrentTime', 'getDuration', 'seek'];\n  var allProperties = getAllPropertiesFrom(adapter);\n  publicAdapterMethods.forEach(function (method) {\n    if (!allProperties.includes(method)) {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is undefined');\n    }\n\n    if (typeof adapter[method] !== 'function') {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is not a function');\n    }\n  });\n}\n/**\n * A wrapper for interfacing with an external player API.\n *\n * @class\n * @alias Player\n *\n * @param {Peaks} peaks The parent {@link Peaks} object.\n * @param {Adapter} adapter The player adapter.\n */\n\n\nfunction Player(peaks, adapter) {\n  this._peaks = peaks;\n  this._playingSegment = false;\n  this._segment = null;\n  this._loop = false;\n  this._playSegmentTimerCallback = this._playSegmentTimerCallback.bind(this);\n  validateAdapter(adapter);\n  this._adapter = adapter;\n}\n\nPlayer.prototype.init = function () {\n  return this._adapter.init(this._peaks);\n};\n/**\n * Cleans up the player object.\n */\n\n\nPlayer.prototype.destroy = function () {\n  this._adapter.destroy();\n};\n/**\n * Starts playback.\n * @returns {Promise}\n */\n\n\nPlayer.prototype.play = function () {\n  return this._adapter.play();\n};\n/**\n * Pauses playback.\n */\n\n\nPlayer.prototype.pause = function () {\n  this._adapter.pause();\n};\n/**\n * @returns {Boolean} <code>true</code> if playing, <code>false</code>\n * otherwise.\n */\n\n\nPlayer.prototype.isPlaying = function () {\n  return this._adapter.isPlaying();\n};\n/**\n * @returns {boolean} <code>true</code> if seeking\n */\n\n\nPlayer.prototype.isSeeking = function () {\n  return this._adapter.isSeeking();\n};\n/**\n * Returns the current playback time position, in seconds.\n *\n * @returns {Number}\n */\n\n\nPlayer.prototype.getCurrentTime = function () {\n  return this._adapter.getCurrentTime();\n};\n/**\n * Returns the media duration, in seconds.\n *\n * @returns {Number}\n */\n\n\nPlayer.prototype.getDuration = function () {\n  return this._adapter.getDuration();\n};\n/**\n * Seeks to a given time position within the media.\n *\n * @param {Number} time The time position, in seconds.\n */\n\n\nPlayer.prototype.seek = function (time) {\n  if (!isValidTime(time)) {\n    this._peaks._logger('peaks.player.seek(): parameter must be a valid time, in seconds');\n\n    return;\n  }\n\n  this._adapter.seek(time);\n};\n/**\n * Plays the given segment.\n *\n * @param {Segment} segment The segment denoting the time region to play.\n * @param {Boolean} loop If true, playback is looped.\n */\n\n\nPlayer.prototype.playSegment = function (segment, loop) {\n  var self = this;\n\n  if (!segment || !isValidTime(segment.startTime) || !isValidTime(segment.endTime)) {\n    return Promise.reject(new Error('peaks.player.playSegment(): parameter must be a segment object'));\n  }\n\n  self._segment = segment;\n  self._loop = loop; // Set audio time to segment start time\n\n  self.seek(segment.startTime);\n\n  self._peaks.once('player.playing', function () {\n    if (!self._playingSegment) {\n      self._playingSegment = true; // We need to use requestAnimationFrame here as the timeupdate event\n      // doesn't fire often enough.\n\n      window.requestAnimationFrame(self._playSegmentTimerCallback);\n    }\n  }); // Start playing audio\n\n\n  return self.play();\n};\n\nPlayer.prototype._playSegmentTimerCallback = function () {\n  if (!this.isPlaying()) {\n    this._playingSegment = false;\n    return;\n  } else if (this.getCurrentTime() >= this._segment.endTime) {\n    if (this._loop) {\n      this.seek(this._segment.startTime);\n    } else {\n      this.pause();\n\n      this._peaks.emit('player.ended');\n\n      this._playingSegment = false;\n      return;\n    }\n  }\n\n  window.requestAnimationFrame(this._playSegmentTimerCallback);\n};\n\nPlayer.prototype._setSource = function (options) {\n  return this._adapter.setSource(options);\n};\n\n/**\n * @file\n *\n * Defines the {@link DefaultPointMarker} class.\n *\n * @module default-point-marker\n */\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias DefaultPointMarker\n *\n * @param {CreatePointMarkerOptions} options\n */\n\nfunction DefaultPointMarker(options) {\n  this._options = options;\n}\n\nDefaultPointMarker.prototype.init = function (group) {\n  var handleWidth = 10;\n  var handleHeight = 20;\n  var handleX = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n  // Label\n\n  if (this._options.view === 'zoomview') {\n    // Label - create with default y, the real value is set in fitToView().\n    this._label = new Text({\n      x: 2,\n      y: 0,\n      text: this._options.point.labelText,\n      textAlign: 'left',\n      fontFamily: this._options.fontFamily || 'sans-serif',\n      fontSize: this._options.fontSize || 10,\n      fontStyle: this._options.fontStyle || 'normal',\n      fill: '#000'\n    });\n  } // Handle - create with default y, the real value is set in fitToView().\n\n\n  if (this._options.draggable) {\n    this._handle = new Rect({\n      x: handleX,\n      y: 0,\n      width: handleWidth,\n      height: handleHeight,\n      fill: this._options.color\n    });\n  } // Line - create with default y and points, the real values\n  // are set in fitToView().\n\n\n  this._line = new Line({\n    x: 0,\n    y: 0,\n    stroke: this._options.color,\n    strokeWidth: 1\n  }); // Time label\n\n  if (this._handle) {\n    // Time - create with default y, the real value is set in fitToView().\n    this._time = new Text({\n      x: -24,\n      y: 0,\n      text: this._options.layer.formatTime(this._options.point.time),\n      fontFamily: this._options.fontFamily,\n      fontSize: this._options.fontSize,\n      fontStyle: this._options.fontStyle,\n      fill: '#000',\n      textAlign: 'center'\n    });\n\n    this._time.hide();\n  }\n\n  if (this._handle) {\n    group.add(this._handle);\n  }\n\n  group.add(this._line);\n\n  if (this._label) {\n    group.add(this._label);\n  }\n\n  if (this._time) {\n    group.add(this._time);\n  }\n\n  this.fitToView();\n  this.bindEventHandlers(group);\n};\n\nDefaultPointMarker.prototype.bindEventHandlers = function (group) {\n  var self = this;\n\n  if (self._handle) {\n    self._handle.on('mouseover touchstart', function () {\n      // Position text to the left of the marker\n      self._time.setX(-24 - self._time.getWidth());\n\n      self._time.show();\n    });\n\n    self._handle.on('mouseout touchend', function () {\n      self._time.hide();\n    });\n\n    group.on('dragstart', function () {\n      self._time.setX(-24 - self._time.getWidth());\n\n      self._time.show();\n    });\n    group.on('dragend', function () {\n      self._time.hide();\n    });\n  }\n};\n\nDefaultPointMarker.prototype.fitToView = function () {\n  var height = this._options.layer.getHeight();\n\n  this._line.points([0.5, 0, 0.5, height]);\n\n  if (this._label) {\n    this._label.y(12);\n  }\n\n  if (this._handle) {\n    this._handle.y(height / 2 - 10.5);\n  }\n\n  if (this._time) {\n    this._time.y(height / 2 - 5);\n  }\n};\n\nDefaultPointMarker.prototype.timeUpdated = function (time) {\n  if (this._time) {\n    this._time.setText(this._options.layer.formatTime(time));\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link DefaultSegmentMarker} class.\n *\n * @module default-segment-marker\n */\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias DefaultSegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction DefaultSegmentMarker(options) {\n  this._options = options;\n}\n\nDefaultSegmentMarker.prototype.init = function (group) {\n  var handleWidth = 10;\n  var handleHeight = 20;\n  var handleX = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  var xPosition = this._options.startMarker ? -24 : 24;\n  var time = this._options.startMarker ? this._options.segment.startTime : this._options.segment.endTime; // Label - create with default y, the real value is set in fitToView().\n\n  this._label = new Text({\n    x: xPosition,\n    y: 0,\n    text: this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize: this._options.fontSize,\n    fontStyle: this._options.fontStyle,\n    fill: '#000',\n    textAlign: 'center'\n  });\n\n  this._label.hide(); // Handle - create with default y, the real value is set in fitToView().\n\n\n  this._handle = new Rect({\n    x: handleX,\n    y: 0,\n    width: handleWidth,\n    height: handleHeight,\n    fill: this._options.color,\n    stroke: this._options.color,\n    strokeWidth: 1\n  }); // Vertical Line - create with default y and points, the real values\n  // are set in fitToView().\n\n  this._line = new Line({\n    x: 0,\n    y: 0,\n    stroke: this._options.color,\n    strokeWidth: 1\n  });\n  group.add(this._label);\n  group.add(this._line);\n  group.add(this._handle);\n  this.fitToView();\n  this.bindEventHandlers(group);\n};\n\nDefaultSegmentMarker.prototype.bindEventHandlers = function (group) {\n  var self = this;\n  var xPosition = self._options.startMarker ? -24 : 24;\n\n  if (self._options.draggable) {\n    group.on('dragstart', function () {\n      if (self._options.startMarker) {\n        self._label.setX(xPosition - self._label.getWidth());\n      }\n\n      self._label.show();\n    });\n    group.on('dragend', function () {\n      self._label.hide();\n    });\n  }\n\n  self._handle.on('mouseover touchstart', function () {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n\n    self._label.show();\n  });\n\n  self._handle.on('mouseout touchend', function () {\n    self._label.hide();\n  });\n};\n\nDefaultSegmentMarker.prototype.fitToView = function () {\n  var height = this._options.layer.getHeight();\n\n  this._label.y(height / 2 - 5);\n\n  this._handle.y(height / 2 - 10.5);\n\n  this._line.points([0.5, 0, 0.5, height]);\n};\n\nDefaultSegmentMarker.prototype.timeUpdated = function (time) {\n  this._label.setText(this._options.layer.formatTime(time));\n};\n\n/**\n * @file\n *\n * Factory functions for creating point and segment marker handles.\n *\n * @module marker-factories\n */\n/**\n * Parameters for the {@link createSegmentMarker} function.\n *\n * @typedef {Object} CreateSegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Boolean} startMarker\n * @property {String} color\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n * @property {Layer} layer\n * @property {String} view\n */\n\n/**\n * Creates a left or right side segment marker handle.\n *\n * @param {CreateSegmentMarkerOptions} options\n * @returns {Marker}\n */\n\nfunction createSegmentMarker(options) {\n  if (options.view === 'zoomview') {\n    return new DefaultSegmentMarker(options);\n  }\n\n  return null;\n}\n/**\n * Parameters for the {@link createSegmentLabel} function.\n *\n * @typedef {Object} SegmentLabelOptions\n * @global\n * @property {Segment} segment The {@link Segment} object associated with this\n *   label.\n * @property {String} view The name of the view that the label is being\n *   created in, either <code>zoomview</code> or <code>overview</code>.\n * @property {SegmentsLayer} layer\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a Konva object that renders information about a segment, such as\n * its label text.\n *\n * @param {SegmentLabelOptions} options\n * @returns {Konva.Text}\n */\n\nfunction createSegmentLabel(options) {\n  return new Text({\n    x: 12,\n    y: 12,\n    text: options.segment.labelText,\n    textAlign: 'center',\n    fontFamily: options.fontFamily || 'sans-serif',\n    fontSize: options.fontSize || 12,\n    fontStyle: options.fontStyle || 'normal',\n    fill: '#000'\n  });\n}\n/**\n * Parameters for the {@link createPointMarker} function.\n *\n * @typedef {Object} CreatePointMarkerOptions\n * @global\n * @property {Point} point\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {String} color\n * @property {Layer} layer\n * @property {String} view\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a point marker handle.\n *\n * @param {CreatePointMarkerOptions} options\n * @returns {Marker}\n */\n\nfunction createPointMarker(options) {\n  return new DefaultPointMarker(options);\n}\n\n/**\n * @file\n *\n * Defines the {@link HighlightLayer} class.\n *\n * @module highlight-layer\n */\n/**\n * Highlight layer options\n *\n * @typedef {Object} HighlightLayerOptions\n * @global\n * @property {Number} highlightOffset\n * @property {String} highlightColor\n * @property {String} highlightStrokeColor\n * @property {Number} highlightOpacity\n * @property {Number} highlightCornerRadius\n */\n\n/**\n * Creates the highlight region that shows the position of the zoomable\n * waveform view in the overview waveform.\n *\n * @class\n * @alias HighlightLayer\n *\n * @param {WaveformOverview} view\n * @param {HighlightLayerOptions} options\n */\n\nfunction HighlightLayer(view, options) {\n  this._view = view;\n  this._offset = options.highlightOffset;\n  this._color = options.highlightColor;\n  this._layer = new Konva.Layer({\n    listening: false\n  });\n  this._highlightRect = null;\n  this._startTime = null;\n  this._endTime = null;\n  this._strokeColor = options.highlightStrokeColor;\n  this._opacity = options.highlightOpacity;\n  this._cornerRadius = options.highlightCornerRadius;\n}\n\nHighlightLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\n\nHighlightLayer.prototype.showHighlight = function (startTime, endTime) {\n  if (!this._highlightRect) {\n    this._createHighlightRect(startTime, endTime);\n  }\n\n  this._update(startTime, endTime);\n};\n/**\n * Updates the position of the highlight region.\n *\n * @param {Number} startTime The start of the highlight region, in seconds.\n * @param {Number} endTime The end of the highlight region, in seconds.\n */\n\n\nHighlightLayer.prototype._update = function (startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n\n  var startOffset = this._view.timeToPixels(startTime);\n\n  var endOffset = this._view.timeToPixels(endTime);\n\n  this._highlightRect.setAttrs({\n    x: startOffset,\n    width: endOffset - startOffset\n  });\n};\n\nHighlightLayer.prototype._createHighlightRect = function (startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n\n  var startOffset = this._view.timeToPixels(startTime);\n\n  var endOffset = this._view.timeToPixels(endTime); // Create with default y and height, the real values are set in fitToView().\n\n\n  this._highlightRect = new Rect({\n    x: startOffset,\n    y: 0,\n    width: endOffset - startOffset,\n    stroke: this._strokeColor,\n    strokeWidth: 1,\n    height: 0,\n    fill: this._color,\n    opacity: this._opacity,\n    cornerRadius: this._cornerRadius\n  });\n  this.fitToView();\n\n  this._layer.add(this._highlightRect);\n};\n\nHighlightLayer.prototype.removeHighlight = function () {\n  if (this._highlightRect) {\n    this._highlightRect.destroy();\n\n    this._highlightRect = null;\n  }\n};\n\nHighlightLayer.prototype.updateHighlight = function () {\n  if (this._highlightRect) {\n    this._update(this._startTime, this._endTime);\n  }\n};\n\nHighlightLayer.prototype.fitToView = function () {\n  if (this._highlightRect) {\n    var height = this._view.getHeight();\n\n    var offset = clamp(this._offset, 0, Math.floor(height / 2));\n\n    this._highlightRect.setAttrs({\n      y: offset,\n      height: height - offset * 2\n    });\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link MouseDragHandler} class.\n *\n * @module mouse-drag-handler\n */\n\nfunction getMarkerObject(obj) {\n  while (obj.parent !== null) {\n    if (obj.parent instanceof Konva.Layer) {\n      return obj;\n    }\n\n    obj = obj.parent;\n  }\n\n  return null;\n}\n/**\n * An object to receive callbacks on mouse drag events. Each function is\n * called with the current mouse X position, relative to the stage's\n * container HTML element.\n *\n * @typedef {Object} MouseDragHandlers\n * @global\n * @property {Function} onMouseDown Mouse down event handler.\n * @property {Function} onMouseMove Mouse move event handler.\n * @property {Function} onMouseUp Mouse up event handler.\n */\n\n/**\n * Creates a handler for mouse events to allow interaction with the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias MouseDragHandler\n *\n * @param {Konva.Stage} stage\n * @param {MouseDragHandlers} handlers\n */\n\n\nfunction MouseDragHandler(stage, handlers) {\n  this._stage = stage;\n  this._handlers = handlers;\n  this._dragging = false;\n  this._mouseDown = this._mouseDown.bind(this);\n  this._mouseUp = this._mouseUp.bind(this);\n  this._mouseMove = this._mouseMove.bind(this);\n\n  this._stage.on('mousedown', this._mouseDown);\n\n  this._stage.on('touchstart', this._mouseDown);\n\n  this._lastMouseClientX = null;\n}\n/**\n * Mouse down event handler.\n *\n * @param {MouseEvent} event\n */\n\n\nMouseDragHandler.prototype._mouseDown = function (event) {\n  if (event.type === 'mousedown' && event.evt.button !== 0) {\n    // Mouse drag only applies to the primary mouse button.\n    // The secondary button may be used to show a context menu\n    // and we don't want to also treat this as a mouse drag operation.\n    return;\n  }\n\n  var marker = getMarkerObject(event.target); // Avoid interfering with drag/drop of point and segment markers.\n\n  if (marker && marker.attrs.draggable) {\n    return;\n  }\n\n  this._lastMouseClientX = Math.floor(event.type === 'touchstart' ? event.evt.touches[0].clientX : event.evt.clientX);\n\n  if (this._handlers.onMouseDown) {\n    var mouseDownPosX = this._getMousePosX(this._lastMouseClientX);\n\n    this._handlers.onMouseDown(mouseDownPosX);\n  } // Use the window mousemove and mouseup handlers instead of the\n  // Konva.Stage ones so that we still receive events if the user moves the\n  // mouse outside the stage.\n\n\n  window.addEventListener('mousemove', this._mouseMove, false);\n  window.addEventListener('touchmove', this._mouseMove, false);\n  window.addEventListener('mouseup', this._mouseUp, false);\n  window.addEventListener('touchend', this._mouseUp, false);\n  window.addEventListener('blur', this._mouseUp, false);\n};\n/**\n * Mouse move event handler.\n *\n * @param {MouseEvent} event\n */\n\n\nMouseDragHandler.prototype._mouseMove = function (event) {\n  var clientX = Math.floor(event.type === 'touchmove' ? event.changedTouches[0].clientX : event.clientX); // Don't update on vertical mouse movement.\n\n  if (clientX === this._lastMouseClientX) {\n    return;\n  }\n\n  this._lastMouseClientX = clientX;\n  this._dragging = true;\n\n  if (this._handlers.onMouseMove) {\n    var mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseMove(mousePosX);\n  }\n};\n/**\n * Mouse up event handler.\n *\n * @param {MouseEvent} event\n */\n\n\nMouseDragHandler.prototype._mouseUp = function (event) {\n  var clientX;\n\n  if (event.type === 'touchend') {\n    clientX = Math.floor(event.changedTouches[0].clientX);\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n  } else {\n    clientX = Math.floor(event.clientX);\n  }\n\n  if (this._handlers.onMouseUp) {\n    var mousePosX = this._getMousePosX(clientX);\n\n    this._handlers.onMouseUp(mousePosX);\n  }\n\n  window.removeEventListener('mousemove', this._mouseMove, false);\n  window.removeEventListener('touchmove', this._mouseMove, false);\n  window.removeEventListener('mouseup', this._mouseUp, false);\n  window.removeEventListener('touchend', this._mouseUp, false);\n  window.removeEventListener('blur', this._mouseUp, false);\n  this._dragging = false;\n};\n/**\n * @returns {Number} The mouse X position, relative to the container that\n * received the mouse down event.\n *\n * @private\n * @param {Number} clientX Mouse client X position.\n */\n\n\nMouseDragHandler.prototype._getMousePosX = function (clientX) {\n  var containerPos = this._stage.getContainer().getBoundingClientRect();\n\n  return clientX - containerPos.left;\n};\n/**\n * Returns <code>true</code> if the mouse is being dragged, i.e., moved with\n * the mouse button held down.\n *\n * @returns {Boolean}\n */\n\n\nMouseDragHandler.prototype.isDragging = function () {\n  return this._dragging;\n};\n\n/**\n * @file\n *\n * Defines the {@link PlayheadLayer} class.\n *\n * @module playhead-layer\n */\n/**\n * Creates a Konva.Layer that displays a playhead marker.\n *\n * @class\n * @alias PlayheadLayer\n *\n * @param {Object} options\n * @param {Player} options.player\n * @param {WaveformOverview|WaveformZoomView} options.view\n * @param {Boolean} options.showPlayheadTime If <code>true</code> The playback time position\n *   is shown next to the playhead.\n * @param {String} options.playheadColor\n * @param {String} options.playheadTextColor\n * @param {String} options.playheadFontFamily\n * @param {Number} options.playheadFontSize\n * @param {String} options.playheadFontStyle\n */\n\nfunction PlayheadLayer(options) {\n  this._player = options.player;\n  this._view = options.view;\n  this._playheadPixel = 0;\n  this._playheadLineAnimation = null;\n  this._playheadVisible = false;\n  this._playheadColor = options.playheadColor;\n  this._playheadTextColor = options.playheadTextColor;\n  this._playheadFontFamily = options.playheadFontFamily;\n  this._playheadFontSize = options.playheadFontSize;\n  this._playheadFontStyle = options.playheadFontStyle;\n  this._playheadLayer = new Konva.Layer();\n\n  this._createPlayhead(this._playheadColor);\n\n  if (options.showPlayheadTime) {\n    this._createPlayheadText(this._playheadTextColor);\n  }\n\n  this.fitToView();\n  this.zoomLevelChanged();\n}\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\n\nPlayheadLayer.prototype.addToStage = function (stage) {\n  stage.add(this._playheadLayer);\n};\n/**\n * Decides whether to use an animation to update the playhead position.\n *\n * If the zoom level is such that the number of pixels per second of audio is\n * low, we can use timeupdate events from the HTMLMediaElement to\n * set the playhead position. Otherwise, we use an animation to update the\n * playhead position more smoothly. The animation is CPU intensive, so we\n * avoid using it where possible.\n */\n\n\nPlayheadLayer.prototype.zoomLevelChanged = function () {\n  var pixelsPerSecond = this._view.timeToPixels(1.0);\n\n  var time;\n  this._useAnimation = pixelsPerSecond >= 5;\n\n  if (this._useAnimation) {\n    if (this._player.isPlaying() && !this._playheadLineAnimation) {\n      // Start the animation\n      this._start();\n    }\n  } else {\n    if (this._playheadLineAnimation) {\n      // Stop the animation\n      time = this._player.getCurrentTime();\n      this.stop(time);\n    }\n  }\n};\n/**\n * Resizes the playhead UI objects to fit the available space in the\n * view.\n */\n\n\nPlayheadLayer.prototype.fitToView = function () {\n  var height = this._view.getHeight();\n\n  this._playheadLine.points([0.5, 0, 0.5, height]);\n\n  if (this._playheadText) {\n    this._playheadText.y(12);\n  }\n};\n/**\n * Creates the playhead UI objects.\n *\n * @private\n * @param {String} color\n */\n\n\nPlayheadLayer.prototype._createPlayhead = function (color) {\n  // Create with default points, the real values are set in fitToView().\n  this._playheadLine = new Line({\n    stroke: color,\n    strokeWidth: 1\n  });\n  this._playheadGroup = new Konva.Group({\n    x: 0,\n    y: 0\n  });\n\n  this._playheadGroup.add(this._playheadLine);\n\n  this._playheadLayer.add(this._playheadGroup);\n};\n\nPlayheadLayer.prototype._createPlayheadText = function (color) {\n  var time = this._player.getCurrentTime();\n\n  var text = this._view.formatTime(time); // Create with default y, the real value is set in fitToView().\n\n\n  this._playheadText = new Text({\n    x: 2,\n    y: 0,\n    text: text,\n    fontSize: this._playheadFontSize,\n    fontFamily: this._playheadFontFamily,\n    fontStyle: this._playheadFontStyle,\n    fill: color,\n    align: 'right'\n  });\n\n  this._playheadGroup.add(this._playheadText);\n};\n/**\n * Updates the playhead position.\n *\n * @param {Number} time Current playhead position, in seconds.\n */\n\n\nPlayheadLayer.prototype.updatePlayheadTime = function (time) {\n  this._syncPlayhead(time);\n\n  if (this._player.isPlaying()) {\n    this._start();\n  }\n};\n/**\n * Updates the playhead position.\n *\n * @private\n * @param {Number} time Current playhead position, in seconds.\n */\n\n\nPlayheadLayer.prototype._syncPlayhead = function (time) {\n  var pixelIndex = this._view.timeToPixels(time);\n\n  var frameOffset = this._view.getFrameOffset();\n\n  var width = this._view.getWidth();\n\n  var isVisible = pixelIndex >= frameOffset && pixelIndex <= frameOffset + width;\n  this._playheadPixel = pixelIndex;\n\n  if (isVisible) {\n    var playheadX = this._playheadPixel - frameOffset;\n\n    if (!this._playheadVisible) {\n      this._playheadVisible = true;\n\n      this._playheadGroup.show();\n    }\n\n    this._playheadGroup.setX(playheadX);\n\n    if (this._playheadText) {\n      var text = this._view.formatTime(time);\n\n      var playheadTextWidth = this._playheadText.getTextWidth();\n\n      this._playheadText.setText(text);\n\n      if (playheadTextWidth + playheadX > width - 2) {\n        this._playheadText.setX(-playheadTextWidth - 2);\n      } else if (playheadTextWidth + playheadX < width) {\n        this._playheadText.setX(2);\n      }\n    }\n  } else {\n    if (this._playheadVisible) {\n      this._playheadVisible = false;\n\n      this._playheadGroup.hide();\n    }\n  }\n\n  if (this._view.playheadPosChanged) {\n    this._view.playheadPosChanged(time);\n  }\n};\n/**\n * Starts a playhead animation in sync with the media playback.\n *\n * @private\n */\n\n\nPlayheadLayer.prototype._start = function () {\n  var self = this;\n\n  if (self._playheadLineAnimation) {\n    self._playheadLineAnimation.stop();\n\n    self._playheadLineAnimation = null;\n  }\n\n  if (!self._useAnimation) {\n    return;\n  }\n\n  var lastPlayheadPosition = null;\n  self._playheadLineAnimation = new Animation(function () {\n    var time = self._player.getCurrentTime();\n\n    var playheadPosition = self._view.timeToPixels(time);\n\n    if (playheadPosition !== lastPlayheadPosition) {\n      self._syncPlayhead(time);\n\n      lastPlayheadPosition = playheadPosition;\n    }\n  }, self._playheadLayer);\n\n  self._playheadLineAnimation.start();\n};\n\nPlayheadLayer.prototype.stop = function (time) {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n\n    this._playheadLineAnimation = null;\n  }\n\n  this._syncPlayhead(time);\n};\n/**\n * Returns the position of the playhead marker, in pixels relative to the\n * left hand side of the waveform view.\n *\n * @return {Number}\n */\n\n\nPlayheadLayer.prototype.getPlayheadOffset = function () {\n  return this._playheadPixel - this._view.getFrameOffset();\n};\n\nPlayheadLayer.prototype.getPlayheadPixel = function () {\n  return this._playheadPixel;\n};\n\nPlayheadLayer.prototype.showPlayheadTime = function (show) {\n  if (show) {\n    if (!this._playheadText) {\n      // Create it\n      this._createPlayheadText(this._playheadTextColor);\n\n      this.fitToView();\n    }\n  } else {\n    if (this._playheadText) {\n      this._playheadText.remove();\n\n      this._playheadText.destroy();\n\n      this._playheadText = null;\n    }\n  }\n};\n\nPlayheadLayer.prototype.updatePlayheadText = function () {\n  if (this._playheadText) {\n    var time = this._player.getCurrentTime();\n\n    var text = this._view.formatTime(time);\n\n    this._playheadText.setText(text);\n  }\n};\n\nPlayheadLayer.prototype.destroy = function () {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n\n    this._playheadLineAnimation = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link PointMarker} class.\n *\n * @module point-marker\n */\n/**\n * Parameters for the {@link PointMarker} constructor.\n *\n * @typedef {Object} PointMarkerOptions\n * @global\n * @property {Point} point Point object with timestamp.\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Marker} marker\n * @property {Function} onclick\n * @property {Function} onDblClick\n * @property {Function} onDragStart\n * @property {Function} onDragMove Callback during mouse drag operations.\n * @property {Function} onDragEnd\n * @property {Function} onMouseEnter\n * @property {Function} onMouseLeave\n * @property {Function} onContextMenu\n */\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias PointMarker\n *\n * @param {PointMarkerOptions} options\n */\n\nfunction PointMarker(options) {\n  this._point = options.point;\n  this._marker = options.marker;\n  this._draggable = options.draggable;\n  this._onClick = options.onClick;\n  this._onDblClick = options.onDblClick;\n  this._onDragStart = options.onDragStart;\n  this._onDragMove = options.onDragMove;\n  this._onDragEnd = options.onDragEnd;\n  this._onMouseEnter = options.onMouseEnter;\n  this._onMouseLeave = options.onMouseLeave;\n  this._onContextMenu = options.onContextMenu;\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._group = new Konva.Group({\n    draggable: this._draggable,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  this._bindDefaultEventHandlers();\n\n  this._marker.init(this._group);\n}\n\nPointMarker.prototype._bindDefaultEventHandlers = function () {\n  var self = this;\n\n  self._group.on('dragstart', function (event) {\n    self._onDragStart(event, self._point);\n  });\n\n  self._group.on('dragmove', function (event) {\n    self._onDragMove(event, self._point);\n  });\n\n  self._group.on('dragend', function (event) {\n    self._onDragEnd(event, self._point);\n  });\n\n  self._group.on('click', function (event) {\n    self._onClick(event, self._point);\n  });\n\n  self._group.on('dblclick', function (event) {\n    self._onDblClick(event, self._point);\n  });\n\n  self._group.on('mouseenter', function (event) {\n    self._onMouseEnter(event, self._point);\n  });\n\n  self._group.on('mouseleave', function (event) {\n    self._onMouseLeave(event, self._point);\n  });\n\n  self._group.on('contextmenu', function (event) {\n    self._onContextMenu(event, self._point);\n  });\n};\n\nPointMarker.prototype._dragBoundFunc = function (pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: this._group.getAbsolutePosition().y\n  };\n};\n/**\n * @param {Konva.Layer} layer\n */\n\n\nPointMarker.prototype.addToLayer = function (layer) {\n  layer.add(this._group);\n};\n\nPointMarker.prototype.fitToView = function () {\n  this._marker.fitToView();\n};\n\nPointMarker.prototype.getPoint = function () {\n  return this._point;\n};\n\nPointMarker.prototype.getX = function () {\n  return this._group.getX();\n};\n\nPointMarker.prototype.getWidth = function () {\n  return this._group.getWidth();\n};\n\nPointMarker.prototype.setX = function (x) {\n  this._group.setX(x);\n};\n\nPointMarker.prototype.timeUpdated = function (time) {\n  if (this._marker.timeUpdated) {\n    this._marker.timeUpdated(time);\n  }\n};\n\nPointMarker.prototype.destroy = function () {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n\n  this._group.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link PointsLayer} class.\n *\n * @module points-layer\n */\nvar defaultFontFamily$1 = 'sans-serif';\nvar defaultFontSize$1 = 10;\nvar defaultFontShape$1 = 'normal';\n/**\n * Creates a Konva.Layer that displays point markers against the audio\n * waveform.\n *\n * @class\n * @alias PointsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction PointsLayer(peaks, view, allowEditing) {\n  this._peaks = peaks;\n  this._view = view;\n  this._allowEditing = allowEditing;\n  this._pointMarkers = {};\n  this._layer = new Konva.Layer();\n  this._onPointsDrag = this._onPointsDrag.bind(this);\n  this._onPointHandleClick = this._onPointHandleClick.bind(this);\n  this._onPointHandleDblClick = this._onPointHandleDblClick.bind(this);\n  this._onPointHandleDragStart = this._onPointHandleDragStart.bind(this);\n  this._onPointHandleDragMove = this._onPointHandleDragMove.bind(this);\n  this._onPointHandleDragEnd = this._onPointHandleDragEnd.bind(this);\n  this._onPointHandleMouseEnter = this._onPointHandleMouseEnter.bind(this);\n  this._onPointHandleMouseLeave = this._onPointHandleMouseLeave.bind(this);\n  this._onPointHandleContextMenu = this._onPointHandleContextMenu.bind(this);\n  this._onPointsUpdate = this._onPointsUpdate.bind(this);\n  this._onPointsAdd = this._onPointsAdd.bind(this);\n  this._onPointsRemove = this._onPointsRemove.bind(this);\n  this._onPointsRemoveAll = this._onPointsRemoveAll.bind(this);\n\n  this._peaks.on('points.update', this._onPointsUpdate);\n\n  this._peaks.on('points.add', this._onPointsAdd);\n\n  this._peaks.on('points.remove', this._onPointsRemove);\n\n  this._peaks.on('points.remove_all', this._onPointsRemoveAll);\n\n  this._peaks.on('points.dragstart', this._onPointsDrag);\n\n  this._peaks.on('points.dragmove', this._onPointsDrag);\n\n  this._peaks.on('points.dragend', this._onPointsDrag);\n}\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\n\nPointsLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\n\nPointsLayer.prototype.enableEditing = function (enable) {\n  this._allowEditing = enable;\n};\n\nPointsLayer.prototype.formatTime = function (time) {\n  return this._view.formatTime(time);\n};\n\nPointsLayer.prototype._onPointsUpdate = function (point) {\n  var frameStartTime = this._view.getStartTime();\n\n  var frameEndTime = this._view.getEndTime();\n\n  this._removePoint(point);\n\n  if (point.isVisible(frameStartTime, frameEndTime)) {\n    this._addPointMarker(point);\n  }\n\n  this.updatePoints(frameStartTime, frameEndTime);\n};\n\nPointsLayer.prototype._onPointsAdd = function (points) {\n  var self = this;\n\n  var frameStartTime = self._view.getStartTime();\n\n  var frameEndTime = self._view.getEndTime();\n\n  points.forEach(function (point) {\n    if (point.isVisible(frameStartTime, frameEndTime)) {\n      self._addPointMarker(point);\n    }\n  });\n  self.updatePoints(frameStartTime, frameEndTime);\n};\n\nPointsLayer.prototype._onPointsRemove = function (points) {\n  var self = this;\n  points.forEach(function (point) {\n    self._removePoint(point);\n  });\n};\n\nPointsLayer.prototype._onPointsRemoveAll = function () {\n  this._layer.removeChildren();\n\n  this._pointMarkers = {};\n};\n\nPointsLayer.prototype._onPointsDrag = function (event) {\n  this._updatePoint(event.point);\n};\n/**\n * Creates the Konva UI objects for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\n\nPointsLayer.prototype._createPointMarker = function (point) {\n  var editable = this._allowEditing && point.editable;\n\n  var marker = this._peaks.options.createPointMarker({\n    point: point,\n    draggable: editable,\n    color: point.color ? point.color : this._peaks.options.pointMarkerColor,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily$1,\n    fontSize: this._peaks.options.fontSize || defaultFontSize$1,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape$1,\n    layer: this,\n    view: this._view.getName()\n  });\n\n  return new PointMarker({\n    point: point,\n    draggable: editable,\n    marker: marker,\n    onClick: this._onPointHandleClick,\n    onDblClick: this._onPointHandleDblClick,\n    onDragStart: this._onPointHandleDragStart,\n    onDragMove: this._onPointHandleDragMove,\n    onDragEnd: this._onPointHandleDragEnd,\n    onMouseEnter: this._onPointHandleMouseEnter,\n    onMouseLeave: this._onPointHandleMouseLeave,\n    onContextMenu: this._onPointHandleContextMenu\n  });\n};\n\nPointsLayer.prototype.getHeight = function () {\n  return this._view.getHeight();\n};\n/**\n * Adds a Konva UI object to the layer for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\n\nPointsLayer.prototype._addPointMarker = function (point) {\n  var pointMarker = this._createPointMarker(point);\n\n  this._pointMarkers[point.id] = pointMarker;\n  pointMarker.addToLayer(this._layer);\n  return pointMarker;\n};\n/**\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleDragMove = function (event, point) {\n  var pointMarker = this._pointMarkers[point.id];\n  var markerX = pointMarker.getX();\n\n  if (markerX >= 0 && markerX < this._view.getWidth()) {\n    var offset = markerX + pointMarker.getWidth();\n\n    point._setTime(this._view.pixelOffsetToTime(offset));\n\n    pointMarker.timeUpdated(point.time);\n  }\n\n  this._peaks.emit('points.dragmove', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleMouseEnter = function (event, point) {\n  this._peaks.emit('points.mouseenter', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleMouseLeave = function (event, point) {\n  this._peaks.emit('points.mouseleave', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleClick = function (event, point) {\n  this._peaks.emit('points.click', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleDblClick = function (event, point) {\n  this._peaks.emit('points.dblclick', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleDragStart = function (event, point) {\n  this._peaks.emit('points.dragstart', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleDragEnd = function (event, point) {\n  this._peaks.emit('points.dragend', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._onPointHandleContextMenu = function (event, point) {\n  this._peaks.emit('points.contextmenu', {\n    point: point,\n    evt: event.evt\n  });\n};\n/**\n * Updates the positions of all displayed points in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\n\nPointsLayer.prototype.updatePoints = function (startTime, endTime) {\n  // Update all points in the visible time range.\n  var points = this._peaks.points.find(startTime, endTime);\n\n  points.forEach(this._updatePoint.bind(this)); // TODO: in the overview all points are visible, so no need to check\n\n  this._removeInvisiblePoints(startTime, endTime);\n};\n/**\n * @private\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._updatePoint = function (point) {\n  var pointMarker = this._findOrAddPointMarker(point);\n\n  var pointMarkerOffset = this._view.timeToPixels(point.time);\n\n  var pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n\n  pointMarker.setX(pointMarkerX);\n};\n/**\n * @private\n * @param {Point} point\n * @return {PointMarker}\n */\n\n\nPointsLayer.prototype._findOrAddPointMarker = function (point) {\n  var pointMarker = this._pointMarkers[point.id];\n\n  if (!pointMarker) {\n    pointMarker = this._addPointMarker(point);\n  }\n\n  return pointMarker;\n};\n/**\n * Remove any points that are not visible, i.e., are outside the given time\n * range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n * @returns {Number} The number of points removed.\n */\n\n\nPointsLayer.prototype._removeInvisiblePoints = function (startTime, endTime) {\n  var count = 0;\n\n  for (var pointId in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointId)) {\n      var point = this._pointMarkers[pointId].getPoint();\n\n      if (!point.isVisible(startTime, endTime)) {\n        this._removePoint(point);\n\n        count++;\n      }\n    }\n  }\n\n  return count;\n};\n/**\n * Removes the UI object for a given point.\n *\n * @private\n * @param {Point} point\n */\n\n\nPointsLayer.prototype._removePoint = function (point) {\n  var pointMarker = this._pointMarkers[point.id];\n\n  if (pointMarker) {\n    pointMarker.destroy();\n    delete this._pointMarkers[point.id];\n  }\n};\n/**\n * Toggles visibility of the points layer.\n *\n * @param {Boolean} visible\n */\n\n\nPointsLayer.prototype.setVisible = function (visible) {\n  this._layer.setVisible(visible);\n};\n\nPointsLayer.prototype.destroy = function () {\n  this._peaks.off('points.update', this._onPointsUpdate);\n\n  this._peaks.off('points.add', this._onPointsAdd);\n\n  this._peaks.off('points.remove', this._onPointsRemove);\n\n  this._peaks.off('points.remove_all', this._onPointsRemoveAll);\n\n  this._peaks.off('points.dragstart', this._onPointsDrag);\n\n  this._peaks.off('points.dragmove', this._onPointsDrag);\n\n  this._peaks.off('points.dragend', this._onPointsDrag);\n};\n\nPointsLayer.prototype.fitToView = function () {\n  for (var pointId in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointId)) {\n      var pointMarker = this._pointMarkers[pointId];\n      pointMarker.fitToView();\n    }\n  }\n};\n\nPointsLayer.prototype.draw = function () {\n  this._layer.draw();\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentMarker} class.\n *\n * @module segment-marker\n */\n/**\n * Parameters for the {@link SegmentMarker} constructor.\n *\n * @typedef {Object} SegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {SegmentShape} segmentShape\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Boolean} startMarker If <code>true</code>, the marker indicates\n *   the start time of the segment. If <code>false</code>, the marker\n *   indicates the end time of the segment.\n * @property {Function} onDrag\n * @property {Function} onDragStart\n * @property {Function} onDragEnd\n */\n\n/**\n * Creates a Left or Right side segment handle marker.\n *\n * @class\n * @alias SegmentMarker\n *\n * @param {SegmentMarkerOptions} options\n */\n\nfunction SegmentMarker(options) {\n  this._segment = options.segment;\n  this._marker = options.marker;\n  this._segmentShape = options.segmentShape;\n  this._draggable = options.draggable;\n  this._startMarker = options.startMarker;\n  this._onDrag = options.onDrag;\n  this._onDragStart = options.onDragStart;\n  this._onDragEnd = options.onDragEnd;\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._group = new Konva.Group({\n    draggable: this._draggable,\n    dragBoundFunc: this._dragBoundFunc\n  });\n\n  this._bindDefaultEventHandlers();\n\n  this._marker.init(this._group);\n}\n\nSegmentMarker.prototype._bindDefaultEventHandlers = function () {\n  var self = this;\n\n  if (self._draggable) {\n    self._group.on('dragmove', function (event) {\n      self._onDrag(event, self);\n    });\n\n    self._group.on('dragstart', function (event) {\n      self._onDragStart(event, self);\n    });\n\n    self._group.on('dragend', function (event) {\n      self._onDragEnd(event, self);\n    });\n  }\n};\n\nSegmentMarker.prototype._dragBoundFunc = function (pos) {\n  var marker;\n  var limit;\n\n  if (this._startMarker) {\n    marker = this._segmentShape.getEndMarker();\n    limit = marker.getX() - marker.getWidth();\n\n    if (pos.x > limit) {\n      pos.x = limit;\n    }\n  } else {\n    marker = this._segmentShape.getStartMarker();\n    limit = marker.getX() + marker.getWidth();\n\n    if (pos.x < limit) {\n      pos.x = limit;\n    }\n  }\n\n  return {\n    x: pos.x,\n    y: this._group.getAbsolutePosition().y\n  };\n};\n\nSegmentMarker.prototype.addToLayer = function (layer) {\n  layer.add(this._group);\n};\n\nSegmentMarker.prototype.fitToView = function () {\n  this._marker.fitToView();\n};\n\nSegmentMarker.prototype.getSegment = function () {\n  return this._segment;\n};\n\nSegmentMarker.prototype.getX = function () {\n  return this._group.getX();\n};\n\nSegmentMarker.prototype.getWidth = function () {\n  return this._group.getWidth();\n};\n\nSegmentMarker.prototype.isStartMarker = function () {\n  return this._startMarker;\n};\n\nSegmentMarker.prototype.setX = function (x) {\n  this._group.setX(x);\n};\n\nSegmentMarker.prototype.timeUpdated = function (time) {\n  if (this._marker.timeUpdated) {\n    this._marker.timeUpdated(time);\n  }\n};\n\nSegmentMarker.prototype.destroy = function () {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n\n  this._group.destroyChildren();\n\n  this._group.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformShape} class.\n *\n * @module waveform-shape\n */\n/**\n * Waveform shape options.\n *\n * @typedef {Object} WaveformShapeOptions\n * @global\n * @property {String | LinearGradientColor} color Waveform color.\n * @property {WaveformOverview|WaveformZoomView} view The view object\n *   that contains the waveform shape.\n * @property {Segment?} segment If given, render a waveform image\n *   covering the segment's time range. Otherwise, render the entire\n *   waveform duration.\n */\n\n/**\n * Creates a Konva.Shape object that renders a waveform image.\n *\n * @class\n * @alias WaveformShape\n *\n * @param {WaveformShapeOptions} options\n */\n\nfunction WaveformShape(options) {\n  this._color = options.color;\n  var shapeOptions = {};\n\n  if (isString(options.color)) {\n    shapeOptions.fill = options.color;\n  } else if (isLinearGradientColor(options.color)) {\n    var startY = options.view._height * (options.color.linearGradientStart / 100);\n    var endY = options.view._height * (options.color.linearGradientEnd / 100);\n    shapeOptions.fillLinearGradientStartPointY = startY;\n    shapeOptions.fillLinearGradientEndPointY = endY;\n    shapeOptions.fillLinearGradientColorStops = [0, options.color.linearGradientColorStops[0], 1, options.color.linearGradientColorStops[1]];\n  } else {\n    throw new TypeError('Unknown type for color property');\n  }\n\n  this._shape = new Konva.Shape(shapeOptions);\n  this._view = options.view;\n  this._segment = options.segment;\n\n  this._shape.sceneFunc(this._sceneFunc.bind(this));\n\n  this._shape.hitFunc(this._waveformShapeHitFunc.bind(this));\n}\n\nWaveformShape.prototype.setSegment = function (segment) {\n  this._segment = segment;\n};\n\nWaveformShape.prototype.setWaveformColor = function (color) {\n  if (isString(color)) {\n    this._shape.fill(color);\n\n    this._shape.fillLinearGradientStartPointY(null);\n\n    this._shape.fillLinearGradientEndPointY(null);\n\n    this._shape.fillLinearGradientColorStops(null);\n  } else if (isLinearGradientColor(color)) {\n    this._shape.fill(null);\n\n    var startY = this._view._height * (color.linearGradientStart / 100);\n    var endY = this._view._height * (color.linearGradientEnd / 100);\n\n    this._shape.fillLinearGradientStartPointY(startY);\n\n    this._shape.fillLinearGradientEndPointY(endY);\n\n    this._shape.fillLinearGradientColorStops([0, color.linearGradientColorStops[0], 1, color.linearGradientColorStops[1]]);\n  } else {\n    throw new TypeError('Unknown type for color property');\n  }\n};\n\nWaveformShape.prototype.fitToView = function () {\n  this.setWaveformColor(this._color);\n};\n\nWaveformShape.prototype._sceneFunc = function (context) {\n  var frameOffset = this._view.getFrameOffset();\n\n  var width = this._view.getWidth();\n\n  var height = this._view.getHeight();\n\n  this._drawWaveform(context, this._view.getWaveformData(), frameOffset, this._segment ? this._view.timeToPixels(this._segment.startTime) : frameOffset, this._segment ? this._view.timeToPixels(this._segment.endTime) : frameOffset + width, width, height);\n};\n/**\n * Draws a waveform on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformData} waveformData The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} width The width of the waveform area, in pixels.\n * @param {Number} height The height of the waveform area, in pixels.\n */\n\n\nWaveformShape.prototype._drawWaveform = function (context, waveformData, frameOffset, startPixels, endPixels, width, height) {\n  if (startPixels < frameOffset) {\n    startPixels = frameOffset;\n  }\n\n  var limit = frameOffset + width;\n\n  if (endPixels > limit) {\n    endPixels = limit;\n  }\n\n  if (endPixels > waveformData.length - 1) {\n    endPixels = waveformData.length - 1;\n  }\n\n  var channels = waveformData.channels;\n  var waveformTop = 0;\n  var waveformHeight = Math.floor(height / channels);\n\n  for (var i = 0; i < channels; i++) {\n    if (i === channels - 1) {\n      waveformHeight = height - (channels - 1) * waveformHeight;\n    }\n\n    this._drawChannel(context, waveformData.channel(i), frameOffset, startPixels, endPixels, waveformTop, waveformHeight);\n\n    waveformTop += waveformHeight;\n  }\n};\n/**\n * Draws a single waveform channel on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformDataChannel} channel The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} top The top of the waveform channel area, in pixels.\n * @param {Number} height The height of the waveform channel area, in pixels.\n */\n\n\nWaveformShape.prototype._drawChannel = function (context, channel, frameOffset, startPixels, endPixels, top, height) {\n  var x, amplitude;\n\n  var amplitudeScale = this._view.getAmplitudeScale();\n\n  var lineX, lineY;\n  context.beginPath();\n\n  for (x = startPixels; x <= endPixels; x++) {\n    amplitude = channel.min_sample(x);\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 0.5;\n    context.lineTo(lineX, lineY);\n  }\n\n  for (x = endPixels; x >= startPixels; x--) {\n    amplitude = channel.max_sample(x);\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 1.0;\n    context.lineTo(lineX, lineY);\n  }\n\n  context.closePath();\n  context.fillShape(this._shape);\n};\n\nWaveformShape.prototype._waveformShapeHitFunc = function (context) {\n  if (!this._segment) {\n    return;\n  }\n\n  var frameOffset = this._view.getFrameOffset();\n\n  var viewWidth = this._view.getWidth();\n\n  var viewHeight = this._view.getHeight();\n\n  var startPixels = this._view.timeToPixels(this._segment.startTime);\n\n  var endPixels = this._view.timeToPixels(this._segment.endTime);\n\n  var offsetY = 10;\n  var hitRectHeight = viewHeight - 2 * offsetY;\n\n  if (hitRectHeight < 0) {\n    hitRectHeight = 0;\n  }\n\n  var hitRectLeft = startPixels - frameOffset;\n  var hitRectWidth = endPixels - startPixels;\n\n  if (hitRectLeft < 0) {\n    hitRectWidth -= -hitRectLeft;\n    hitRectLeft = 0;\n  }\n\n  if (hitRectLeft + hitRectWidth > viewWidth) {\n    hitRectWidth -= hitRectLeft + hitRectWidth - viewWidth;\n  }\n\n  context.beginPath();\n  context.rect(hitRectLeft, offsetY, hitRectWidth, hitRectHeight);\n  context.closePath();\n  context.fillStrokeShape(this._shape);\n};\n\nWaveformShape.prototype.addToLayer = function (layer) {\n  layer.add(this._shape);\n};\n\nWaveformShape.prototype.destroy = function () {\n  this._shape.destroy();\n\n  this._shape = null;\n};\n\nWaveformShape.prototype.on = function (event, handler) {\n  this._shape.on(event, handler);\n};\n/**\n * Scales the waveform data for drawing on a canvas context.\n *\n * @see {@link https://stats.stackexchange.com/questions/281162}\n *\n * @todo Assumes 8-bit waveform data (-128 to 127 range)\n *\n * @param {Number} amplitude The waveform data point amplitude.\n * @param {Number} height The height of the waveform, in pixels.\n * @param {Number} scale Amplitude scaling factor.\n * @returns {Number} The scaled waveform data point.\n */\n\n\nWaveformShape.scaleY = function (amplitude, height, scale) {\n  var y = -(height - 1) * (amplitude * scale + 128) / 255 + (height - 1);\n  return clamp(Math.floor(y), 0, height - 1);\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentShape} class.\n *\n * @module segment-shape\n */\nvar defaultFontFamily = 'sans-serif';\nvar defaultFontSize = 10;\nvar defaultFontShape = 'normal';\n/**\n * Creates a waveform segment shape with optional start and end markers.\n *\n * @class\n * @alias SegmentShape\n *\n * @param {Segment} segment\n * @param {Peaks} peaks\n * @param {SegmentsLayer} layer\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nfunction SegmentShape(segment, peaks, layer, view) {\n  this._segment = segment;\n  this._peaks = peaks;\n  this._layer = layer;\n  this._view = view;\n  this._label = null;\n  this._startMarker = null;\n  this._endMarker = null;\n  this._color = segment.color;\n  this._waveformShape = new WaveformShape({\n    color: segment.color,\n    view: view,\n    segment: segment\n  });\n  this._onMouseEnter = this._onMouseEnter.bind(this);\n  this._onMouseLeave = this._onMouseLeave.bind(this);\n  this._onClick = this._onClick.bind(this);\n  this._onDblClick = this._onDblClick.bind(this);\n  this._onContextMenu = this._onContextMenu.bind(this); // Set up event handlers to show/hide the segment label text when the user\n  // hovers the mouse over the segment.\n\n  this._waveformShape.on('mouseenter', this._onMouseEnter);\n\n  this._waveformShape.on('mouseleave', this._onMouseLeave);\n\n  this._waveformShape.on('click', this._onClick);\n\n  this._waveformShape.on('dblclick', this._onDblClick);\n\n  this._waveformShape.on('contextmenu', this._onContextMenu); // Event handlers for markers\n\n\n  this._onSegmentHandleDrag = this._onSegmentHandleDrag.bind(this);\n  this._onSegmentHandleDragStart = this._onSegmentHandleDragStart.bind(this);\n  this._onSegmentHandleDragEnd = this._onSegmentHandleDragEnd.bind(this);\n  this._label = this._peaks.options.createSegmentLabel({\n    segment: segment,\n    view: this._view.getName(),\n    layer: this._layer,\n    fontFamily: this._peaks.options.fontFamily,\n    fontSize: this._peaks.options.fontSize,\n    fontStyle: this._peaks.options.fontStyle\n  });\n\n  if (this._label) {\n    this._label.hide();\n  }\n\n  this._createMarkers();\n}\n\nSegmentShape.prototype.updatePosition = function () {\n  var segmentStartOffset = this._view.timeToPixels(this._segment.startTime);\n\n  var segmentEndOffset = this._view.timeToPixels(this._segment.endTime);\n\n  var frameStartOffset = this._view.getFrameOffset();\n\n  var startPixel = segmentStartOffset - frameStartOffset;\n  var endPixel = segmentEndOffset - frameStartOffset;\n  var marker = this.getStartMarker();\n\n  if (marker) {\n    marker.setX(startPixel - marker.getWidth());\n  }\n\n  marker = this.getEndMarker();\n\n  if (marker) {\n    marker.setX(endPixel);\n  }\n};\n\nSegmentShape.prototype.getSegment = function () {\n  return this._segment;\n};\n\nSegmentShape.prototype.getStartMarker = function () {\n  return this._startMarker;\n};\n\nSegmentShape.prototype.getEndMarker = function () {\n  return this._endMarker;\n};\n\nSegmentShape.prototype.addToLayer = function (layer) {\n  this._waveformShape.addToLayer(layer);\n\n  if (this._label) {\n    layer.add(this._label);\n  }\n\n  if (this._startMarker) {\n    this._startMarker.addToLayer(layer);\n  }\n\n  if (this._endMarker) {\n    this._endMarker.addToLayer(layer);\n  }\n};\n\nSegmentShape.prototype._createMarkers = function () {\n  var editable = this._layer.isEditingEnabled() && this._segment.editable;\n\n  if (!editable) {\n    return;\n  }\n\n  var startMarker = this._peaks.options.createSegmentMarker({\n    segment: this._segment,\n    draggable: editable,\n    startMarker: true,\n    color: this._peaks.options.segmentStartMarkerColor,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize: this._peaks.options.fontSize || defaultFontSize,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape,\n    layer: this._layer,\n    view: this._view.getName()\n  });\n\n  if (startMarker) {\n    this._startMarker = new SegmentMarker({\n      segment: this._segment,\n      segmentShape: this,\n      draggable: editable,\n      startMarker: true,\n      marker: startMarker,\n      onDrag: this._onSegmentHandleDrag,\n      onDragStart: this._onSegmentHandleDragStart,\n      onDragEnd: this._onSegmentHandleDragEnd\n    });\n  }\n\n  var endMarker = this._peaks.options.createSegmentMarker({\n    segment: this._segment,\n    draggable: editable,\n    startMarker: false,\n    color: this._peaks.options.segmentEndMarkerColor,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize: this._peaks.options.fontSize || defaultFontSize,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape,\n    layer: this._layer,\n    view: this._view.getName()\n  });\n\n  if (endMarker) {\n    this._endMarker = new SegmentMarker({\n      segment: this._segment,\n      segmentShape: this,\n      draggable: editable,\n      startMarker: false,\n      marker: endMarker,\n      onDrag: this._onSegmentHandleDrag,\n      onDragStart: this._onSegmentHandleDragStart,\n      onDragEnd: this._onSegmentHandleDragEnd\n    });\n  }\n};\n\nSegmentShape.prototype._onMouseEnter = function (event) {\n  if (this._label) {\n    this._label.moveToTop();\n\n    this._label.show();\n  }\n\n  this._peaks.emit('segments.mouseenter', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onMouseLeave = function (event) {\n  if (this._label) {\n    this._label.hide();\n  }\n\n  this._peaks.emit('segments.mouseleave', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onClick = function (event) {\n  this._peaks.emit('segments.click', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onDblClick = function (event) {\n  this._peaks.emit('segments.dblclick', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype._onContextMenu = function (event) {\n  this._peaks.emit('segments.contextmenu', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\n\nSegmentShape.prototype._onSegmentHandleDrag = function (event, segmentMarker) {\n  var width = this._view.getWidth();\n\n  var startMarker = segmentMarker.isStartMarker();\n\n  var startMarkerX = this._startMarker.getX();\n\n  var endMarkerX = this._endMarker.getX();\n\n  if (startMarker && startMarkerX >= 0) {\n    var startMarkerOffset = startMarkerX + this._startMarker.getWidth();\n\n    this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerOffset));\n\n    segmentMarker.timeUpdated(this._segment.startTime);\n  }\n\n  if (!startMarker && endMarkerX < width) {\n    var endMarkerOffset = endMarkerX;\n\n    this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerOffset));\n\n    segmentMarker.timeUpdated(this._segment.endTime);\n  }\n\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\n\nSegmentShape.prototype._onSegmentHandleDragStart = function (event, segmentMarker) {\n  var startMarker = segmentMarker.isStartMarker();\n\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\n\nSegmentShape.prototype._onSegmentHandleDragEnd = function (event, segmentMarker) {\n  var startMarker = segmentMarker.isStartMarker();\n\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n\nSegmentShape.prototype.fitToView = function () {\n  if (this._startMarker) {\n    this._startMarker.fitToView();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.fitToView();\n  }\n\n  this._waveformShape.setWaveformColor(this._color);\n};\n\nSegmentShape.prototype.destroy = function () {\n  this._waveformShape.destroy();\n\n  if (this._label) {\n    this._label.destroy();\n  }\n\n  if (this._startMarker) {\n    this._startMarker.destroy();\n  }\n\n  if (this._endMarker) {\n    this._endMarker.destroy();\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentsLayer} class.\n *\n * @module segments-layer\n */\n/**\n * Creates a Konva.Layer that displays segment markers against the audio\n * waveform.\n *\n * @class\n * @alias SegmentsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction SegmentsLayer(peaks, view, allowEditing) {\n  this._peaks = peaks;\n  this._view = view;\n  this._allowEditing = allowEditing;\n  this._segmentShapes = {};\n  this._layer = new Konva.Layer();\n  this._onSegmentsUpdate = this._onSegmentsUpdate.bind(this);\n  this._onSegmentsAdd = this._onSegmentsAdd.bind(this);\n  this._onSegmentsRemove = this._onSegmentsRemove.bind(this);\n  this._onSegmentsRemoveAll = this._onSegmentsRemoveAll.bind(this);\n  this._onSegmentsDragged = this._onSegmentsDragged.bind(this);\n\n  this._peaks.on('segments.update', this._onSegmentsUpdate);\n\n  this._peaks.on('segments.add', this._onSegmentsAdd);\n\n  this._peaks.on('segments.remove', this._onSegmentsRemove);\n\n  this._peaks.on('segments.remove_all', this._onSegmentsRemoveAll);\n\n  this._peaks.on('segments.dragged', this._onSegmentsDragged);\n}\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\n\nSegmentsLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\n\nSegmentsLayer.prototype.enableEditing = function (enable) {\n  this._allowEditing = enable;\n};\n\nSegmentsLayer.prototype.isEditingEnabled = function () {\n  return this._allowEditing;\n};\n\nSegmentsLayer.prototype.formatTime = function (time) {\n  return this._view.formatTime(time);\n};\n\nSegmentsLayer.prototype._onSegmentsUpdate = function (segment) {\n  var redraw = false;\n  var segmentShape = this._segmentShapes[segment.id];\n\n  var frameStartTime = this._view.getStartTime();\n\n  var frameEndTime = this._view.getEndTime();\n\n  if (segmentShape) {\n    this._removeSegment(segment);\n\n    redraw = true;\n  }\n\n  if (segment.isVisible(frameStartTime, frameEndTime)) {\n    this._addSegmentShape(segment);\n\n    redraw = true;\n  }\n\n  if (redraw) {\n    this.updateSegments(frameStartTime, frameEndTime);\n  }\n};\n\nSegmentsLayer.prototype._onSegmentsAdd = function (segments) {\n  var self = this;\n\n  var frameStartTime = self._view.getStartTime();\n\n  var frameEndTime = self._view.getEndTime();\n\n  segments.forEach(function (segment) {\n    if (segment.isVisible(frameStartTime, frameEndTime)) {\n      self._addSegmentShape(segment);\n    }\n  });\n  self.updateSegments(frameStartTime, frameEndTime);\n};\n\nSegmentsLayer.prototype._onSegmentsRemove = function (segments) {\n  var self = this;\n  segments.forEach(function (segment) {\n    self._removeSegment(segment);\n  });\n};\n\nSegmentsLayer.prototype._onSegmentsRemoveAll = function () {\n  this._layer.removeChildren();\n\n  this._segmentShapes = {};\n};\n\nSegmentsLayer.prototype._onSegmentsDragged = function (event) {\n  this._updateSegment(event.segment);\n};\n/**\n * Creates the Konva UI objects for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\n\nSegmentsLayer.prototype._createSegmentShape = function (segment) {\n  return new SegmentShape(segment, this._peaks, this, this._view);\n};\n/**\n * Adds a Konva UI object to the layer for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\n\nSegmentsLayer.prototype._addSegmentShape = function (segment) {\n  var segmentShape = this._createSegmentShape(segment);\n\n  segmentShape.addToLayer(this._layer);\n  this._segmentShapes[segment.id] = segmentShape;\n  return segmentShape;\n};\n/**\n * Updates the positions of all displayed segments in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\n\nSegmentsLayer.prototype.updateSegments = function (startTime, endTime) {\n  // Update segments in visible time range.\n  var segments = this._peaks.segments.find(startTime, endTime);\n\n  var count = segments.length;\n  segments.forEach(this._updateSegment.bind(this)); // TODO: in the overview all segments are visible, so no need to check\n\n  count += this._removeInvisibleSegments(startTime, endTime);\n\n  if (count > 0) {\n    this._layer.draw();\n  }\n};\n/**\n * @private\n * @param {Segment} segment\n */\n\n\nSegmentsLayer.prototype._updateSegment = function (segment) {\n  var segmentShape = this._findOrAddSegmentShape(segment);\n\n  segmentShape.updatePosition();\n};\n/**\n * @private\n * @param {Segment} segment\n */\n\n\nSegmentsLayer.prototype._findOrAddSegmentShape = function (segment) {\n  var segmentShape = this._segmentShapes[segment.id];\n\n  if (!segmentShape) {\n    segmentShape = this._addSegmentShape(segment);\n  }\n\n  return segmentShape;\n};\n/**\n * Removes any segments that are not visible, i.e., are not within and do not\n * overlap the given time range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n * @returns {Number} The number of segments removed.\n */\n\n\nSegmentsLayer.prototype._removeInvisibleSegments = function (startTime, endTime) {\n  var count = 0;\n\n  for (var segmentId in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentId)) {\n      var segment = this._segmentShapes[segmentId].getSegment();\n\n      if (!segment.isVisible(startTime, endTime)) {\n        this._removeSegment(segment);\n\n        count++;\n      }\n    }\n  }\n\n  return count;\n};\n/**\n * Removes the given segment from the view.\n *\n * @param {Segment} segment\n */\n\n\nSegmentsLayer.prototype._removeSegment = function (segment) {\n  var segmentShape = this._segmentShapes[segment.id];\n\n  if (segmentShape) {\n    segmentShape.destroy();\n    delete this._segmentShapes[segment.id];\n  }\n};\n/**\n * Toggles visibility of the segments layer.\n *\n * @param {Boolean} visible\n */\n\n\nSegmentsLayer.prototype.setVisible = function (visible) {\n  this._layer.setVisible(visible);\n};\n\nSegmentsLayer.prototype.destroy = function () {\n  this._peaks.off('segments.update', this._onSegmentsUpdate);\n\n  this._peaks.off('segments.add', this._onSegmentsAdd);\n\n  this._peaks.off('segments.remove', this._onSegmentsRemove);\n\n  this._peaks.off('segments.remove_all', this._onSegmentsRemoveAll);\n\n  this._peaks.off('segments.dragged', this._onSegmentsDragged);\n};\n\nSegmentsLayer.prototype.fitToView = function () {\n  for (var segmentId in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentId)) {\n      var segmentShape = this._segmentShapes[segmentId];\n      segmentShape.fitToView();\n    }\n  }\n};\n\nSegmentsLayer.prototype.draw = function () {\n  this._layer.draw();\n};\n\nSegmentsLayer.prototype.getHeight = function () {\n  return this._layer.getHeight();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformAxis} class.\n *\n * @module waveform-axis\n */\n/**\n * Creates the waveform axis shapes and adds them to the given view layer.\n *\n * @class\n * @alias WaveformAxis\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Object} options\n * @param {String} options.axisGridlineColor\n * @param {String} options.axisLabelColor\n * @param {Boolean} options.showAxisLabels\n * @param {Function} options.formatAxisTime\n * @param {String} options.fontFamily\n * @param {Number} options.fontSize\n * @param {String} options.fontStyle\n */\n\nfunction WaveformAxis(view, options) {\n  var self = this;\n  self._axisGridlineColor = options.axisGridlineColor;\n  self._axisLabelColor = options.axisLabelColor;\n  self._showAxisLabels = options.showAxisLabels;\n\n  if (options.formatAxisTime) {\n    self._formatAxisTime = options.formatAxisTime;\n  } else {\n    self._formatAxisTime = function (time) {\n      // precision = 0, drops the fractional seconds\n      return formatTime(time, 0);\n    };\n  }\n\n  self._axisLabelFont = WaveformAxis._buildFontString(options.fontFamily, options.fontSize, options.fontStyle);\n  self._axisShape = new Konva.Shape({\n    sceneFunc: function sceneFunc(context) {\n      self._drawAxis(context, view);\n    }\n  });\n}\n\nWaveformAxis._buildFontString = function (fontFamily, fontSize, fontStyle) {\n  if (!fontSize) {\n    fontSize = 11;\n  }\n\n  if (!fontFamily) {\n    fontFamily = 'sans-serif';\n  }\n\n  if (!fontStyle) {\n    fontStyle = 'normal';\n  }\n\n  return fontStyle + ' ' + fontSize + 'px ' + fontFamily;\n};\n\nWaveformAxis.prototype.addToLayer = function (layer) {\n  layer.add(this._axisShape);\n};\n\nWaveformAxis.prototype.showAxisLabels = function (show) {\n  this._showAxisLabels = show;\n};\n/**\n * Returns number of seconds for each x-axis marker, appropriate for the\n * current zoom level, ensuring that markers are not too close together\n * and that markers are placed at intuitive time intervals (i.e., every 1,\n * 2, 5, 10, 20, 30 seconds, then every 1, 2, 5, 10, 20, 30 minutes, then\n * every 1, 2, 5, 10, 20, 30 hours).\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @returns {Number}\n */\n\n\nWaveformAxis.prototype._getAxisLabelScale = function (view) {\n  var baseSecs = 1; // seconds\n\n  var steps = [1, 2, 5, 10, 20, 30];\n  var minSpacing = 60;\n  var index = 0;\n  var secs;\n\n  for (;;) {\n    secs = baseSecs * steps[index];\n    var pixels = view.timeToPixels(secs);\n\n    if (pixels < minSpacing) {\n      if (++index === steps.length) {\n        baseSecs *= 60; // seconds -> minutes -> hours\n\n        index = 0;\n      }\n    } else {\n      break;\n    }\n  }\n\n  return secs;\n};\n/**\n * Draws the time axis and labels onto a view.\n *\n * @param {Konva.Context} context The context to draw on.\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\n\nWaveformAxis.prototype._drawAxis = function (context, view) {\n  var currentFrameStartTime = view.getStartTime(); // Draw axis markers\n\n  var markerHeight = 10; // Time interval between axis markers (seconds)\n\n  var axisLabelIntervalSecs = this._getAxisLabelScale(view); // Time of first axis marker (seconds)\n\n\n  var firstAxisLabelSecs = roundUpToNearest(currentFrameStartTime, axisLabelIntervalSecs); // Distance between waveform start time and first axis marker (seconds)\n\n  var axisLabelOffsetSecs = firstAxisLabelSecs - currentFrameStartTime; // Distance between waveform start time and first axis marker (pixels)\n\n  var axisLabelOffsetPixels = view.timeToPixels(axisLabelOffsetSecs);\n  context.setAttr('strokeStyle', this._axisGridlineColor);\n  context.setAttr('lineWidth', 1); // Set text style\n\n  context.setAttr('font', this._axisLabelFont);\n  context.setAttr('fillStyle', this._axisLabelColor);\n  context.setAttr('textAlign', 'left');\n  context.setAttr('textBaseline', 'bottom');\n  var secs = firstAxisLabelSecs;\n  var x;\n  var width = view.getWidth();\n  var height = view.getHeight();\n\n  for (;;) {\n    // Position of axis marker (pixels)\n    x = axisLabelOffsetPixels + view.timeToPixels(secs - firstAxisLabelSecs);\n\n    if (x >= width) {\n      break;\n    }\n\n    context.beginPath();\n    context.moveTo(x + 0.5, 0);\n    context.lineTo(x + 0.5, 0 + markerHeight);\n    context.moveTo(x + 0.5, height);\n    context.lineTo(x + 0.5, height - markerHeight);\n    context.stroke();\n\n    if (this._showAxisLabels) {\n      var label = this._formatAxisTime(secs);\n\n      var labelWidth = context.measureText(label).width;\n      var labelX = x - labelWidth / 2;\n      var labelY = height - 1 - markerHeight;\n\n      if (labelX >= 0) {\n        context.fillText(label, labelX, labelY);\n      }\n    }\n\n    secs += axisLabelIntervalSecs;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformOverview} class.\n *\n * @module waveform-overview\n */\n/**\n * Creates the overview waveform view.\n *\n * @class\n * @alias WaveformOverview\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformOverview(waveformData, container, peaks) {\n  var self = this;\n  self._originalWaveformData = waveformData;\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = peaks.options.overview; // Bind event handlers\n\n  self._onTimeUpdate = self._onTimeUpdate.bind(this);\n  self._onPlaying = self._onPlaying.bind(this);\n  self._onPause = self._onPause.bind(this);\n  self._onZoomviewDisplaying = self._onZoomviewDisplaying.bind(this);\n  self._onWindowResize = self._onWindowResize.bind(this); // Register event handlers\n\n  peaks.on('player.timeupdate', self._onTimeUpdate);\n  peaks.on('player.playing', self._onPlaying);\n  peaks.on('player.pause', self._onPause);\n  peaks.on('zoomview.displaying', self._onZoomviewDisplaying);\n  peaks.on('window_resize', self._onWindowResize);\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  } else {\n    self._formatPlayheadTime = function (time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n  self._data = waveformData;\n\n  if (self._width !== 0) {\n    try {\n      self._data = waveformData.resample({\n        width: self._width\n      });\n    } catch (error) {// This error usually indicates that the waveform length\n      // is less than the container width\n    }\n  } // Disable warning: The stage has 6 layers.\n  // Recommended maximum number of layers is 3-5.\n\n\n  Konva.showWarnings = false;\n  self._resizeTimeoutId = null;\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n\n  self._createWaveform();\n\n  self._segmentsLayer = new SegmentsLayer(peaks, self, false);\n\n  self._segmentsLayer.addToStage(self._stage);\n\n  self._pointsLayer = new PointsLayer(peaks, self, false);\n\n  self._pointsLayer.addToStage(self._stage);\n\n  self._highlightLayer = new HighlightLayer(self, self._viewOptions);\n\n  self._highlightLayer.addToStage(self._stage);\n\n  self._createAxisLabels();\n\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n\n  self._playheadLayer.addToStage(self._stage);\n\n  var time = self._peaks.player.getCurrentTime();\n\n  this._playheadLayer.updatePlayheadTime(time);\n\n  self._createMouseDragHandler();\n\n  self._onClick = self._onClick.bind(this);\n  self._onDblClick = self._onDblClick.bind(this);\n  self._onContextMenu = self._onContextMenu.bind(this);\n\n  self._stage.on('click', self._onClick);\n\n  self._stage.on('dblclick', self._onDblClick);\n\n  self._stage.on('contextmenu', self._onContextMenu);\n}\n\nWaveformOverview.prototype._createMouseDragHandler = function () {\n  var self = this;\n  self._mouseDragHandler = new MouseDragHandler(self._stage, {\n    onMouseDown: function onMouseDown(mousePosX) {\n      this._seek(mousePosX);\n    },\n    onMouseMove: function onMouseMove(mousePosX) {\n      this._seek(mousePosX);\n    },\n    _seek: function _seek(mousePosX) {\n      if (!self._enableSeek) {\n        return;\n      }\n\n      mousePosX = clamp(mousePosX, 0, self._width);\n      var time = self.pixelsToTime(mousePosX);\n\n      var duration = self._getDuration(); // Prevent the playhead position from jumping by limiting click\n      // handling to the waveform duration.\n\n\n      if (time > duration) {\n        time = duration;\n      } // Update the playhead position. This gives a smoother visual update\n      // than if we only use the player.timeupdate event.\n\n\n      self._playheadLayer.updatePlayheadTime(time);\n\n      self._peaks.player.seek(time);\n    }\n  });\n};\n\nWaveformOverview.prototype.enableSeek = function (enable) {\n  this._enableSeek = enable;\n};\n\nWaveformOverview.prototype._onClick = function (event) {\n  this._clickHandler(event, 'overview.click');\n};\n\nWaveformOverview.prototype._onDblClick = function (event) {\n  this._clickHandler(event, 'overview.dblclick');\n};\n\nWaveformOverview.prototype._onContextMenu = function (event) {\n  this._clickHandler(event, 'overview.contextmenu');\n};\n\nWaveformOverview.prototype._clickHandler = function (event, eventName) {\n  var pixelIndex = event.evt.layerX;\n  var time = this.pixelsToTime(pixelIndex);\n\n  this._peaks.emit(eventName, {\n    time: time,\n    evt: event.evt\n  });\n};\n\nWaveformOverview.prototype.getName = function () {\n  return 'overview';\n};\n\nWaveformOverview.prototype._onTimeUpdate = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPlaying = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformOverview.prototype._onPause = function (time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformOverview.prototype._onZoomviewDisplaying = function (startTime, endTime) {\n  this.showHighlight(startTime, endTime);\n};\n\nWaveformOverview.prototype.showHighlight = function (startTime, endTime) {\n  this._highlightLayer.showHighlight(startTime, endTime);\n};\n\nWaveformOverview.prototype._onWindowResize = function () {\n  var self = this;\n\n  if (self._resizeTimeoutId) {\n    clearTimeout(self._resizeTimeoutId);\n    self._resizeTimeoutId = null;\n  } // Avoid resampling waveform data to zero width\n\n\n  if (self._container.clientWidth !== 0) {\n    self._width = self._container.clientWidth;\n\n    self._stage.setWidth(self._width);\n\n    self._resizeTimeoutId = setTimeout(function () {\n      self._width = self._container.clientWidth;\n      self._data = self._originalWaveformData.resample({\n        width: self._width\n      });\n\n      self._stage.setWidth(self._width);\n\n      self._updateWaveform();\n    }, 500);\n  }\n};\n\nWaveformOverview.prototype.setWaveformData = function (waveformData) {\n  this._originalWaveformData = waveformData;\n\n  if (this._width !== 0) {\n    this._data = waveformData.resample({\n      width: this._width\n    });\n  } else {\n    this._data = waveformData;\n  }\n\n  this._updateWaveform();\n};\n\nWaveformOverview.prototype.playheadPosChanged = function (time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n\n    this._waveformLayer.draw();\n  }\n};\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\n\nWaveformOverview.prototype.timeToPixels = function (time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\n\nWaveformOverview.prototype.pixelsToTime = function (pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n * (This is presented for symmetry with WaveformZoomview. Since WaveformOverview\n * doesn't scroll, its pixelOffsetToTime & pixelsToTime methods are identical.)\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\n\nWaveformOverview.prototype.pixelOffsetToTime = WaveformOverview.prototype.pixelsToTime;\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformOverview.prototype.getFrameOffset = function () {\n  return 0;\n};\n/**\n * @returns {Number} The time at the leftmost edge\n */\n\n\nWaveformOverview.prototype.getStartTime = function () {\n  return 0;\n};\n/**\n * @returns {Number} The time at the rightmost edge\n */\n\n\nWaveformOverview.prototype.getEndTime = function () {\n  return this._getDuration();\n};\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\n\nWaveformOverview.prototype.getWidth = function () {\n  return this._width;\n};\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\n\nWaveformOverview.prototype.getHeight = function () {\n  return this._height;\n};\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\n\nWaveformOverview.prototype._getDuration = function () {\n  return this._peaks.player.getDuration();\n};\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\n\nWaveformOverview.prototype.setAmplitudeScale = function (scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n\n  this._amplitudeScale = scale;\n\n  this._waveformLayer.draw();\n\n  this._segmentsLayer.draw();\n};\n\nWaveformOverview.prototype.getAmplitudeScale = function () {\n  return this._amplitudeScale;\n};\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\n\nWaveformOverview.prototype.getWaveformData = function () {\n  return this._data;\n};\n\nWaveformOverview.prototype._createWaveformShapes = function () {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    var time = this._peaks.player.getCurrentTime();\n\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n\n    this._waveformShape.setSegment(this._unplayedSegment);\n\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\n\nWaveformOverview.prototype._destroyPlayedWaveformShape = function () {\n  this._waveformShape.setSegment(null);\n\n  this._playedWaveformShape.destroy();\n\n  this._playedWaveformShape = null;\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\n\nWaveformOverview.prototype._createWaveform = function () {\n  this._waveformLayer = new Konva.Layer({\n    listening: false\n  });\n\n  this._createWaveformShapes();\n\n  this._stage.add(this._waveformLayer);\n};\n\nWaveformOverview.prototype._createAxisLabels = function () {\n  this._axisLayer = new Konva.Layer({\n    listening: false\n  });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n\n  this._axis.addToLayer(this._axisLayer);\n\n  this._stage.add(this._axisLayer);\n};\n\nWaveformOverview.prototype.removeHighlightRect = function () {\n  this._highlightLayer.removeHighlight();\n};\n\nWaveformOverview.prototype._updateWaveform = function () {\n  this._waveformLayer.draw();\n\n  this._axisLayer.draw();\n\n  var playheadTime = this._peaks.player.getCurrentTime();\n\n  this._playheadLayer.updatePlayheadTime(playheadTime);\n\n  this._highlightLayer.updateHighlight();\n\n  var frameStartTime = 0;\n  var frameEndTime = this.pixelsToTime(this._width);\n\n  this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n\n  this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n};\n\nWaveformOverview.prototype.setWaveformColor = function (color) {\n  this._waveformColor = color;\n\n  this._waveformShape.setWaveformColor(color);\n};\n\nWaveformOverview.prototype.setPlayedWaveformColor = function (color) {\n  this._playedWaveformColor = color;\n\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n\n    this._playedWaveformShape.setWaveformColor(color);\n  } else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\n\nWaveformOverview.prototype.showPlayheadTime = function (show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\n\nWaveformOverview.prototype.setTimeLabelPrecision = function (precision) {\n  this._timeLabelPrecision = precision;\n\n  this._playheadLayer.updatePlayheadText();\n};\n\nWaveformOverview.prototype.formatTime = function (time) {\n  return this._formatPlayheadTime(time);\n};\n\nWaveformOverview.prototype.showAxisLabels = function (show) {\n  this._axis.showAxisLabels(show);\n\n  this._axisLayer.draw();\n};\n\nWaveformOverview.prototype.enableMarkerEditing = function (enable) {\n  this._segmentsLayer.enableEditing(enable);\n\n  this._pointsLayer.enableEditing(enable);\n};\n\nWaveformOverview.prototype.fitToContainer = function () {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  var updateWaveform = false;\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n\n    this._stage.setWidth(this._width);\n\n    try {\n      this._data = this._originalWaveformData.resample({\n        width: this._width\n      });\n      updateWaveform = true;\n    } catch (error) {// Ignore, and leave this._data as it was\n    }\n  }\n\n  this._height = this._container.clientHeight;\n\n  this._stage.setHeight(this._height);\n\n  this._waveformShape.fitToView();\n\n  this._playheadLayer.fitToView();\n\n  this._segmentsLayer.fitToView();\n\n  this._pointsLayer.fitToView();\n\n  this._highlightLayer.fitToView();\n\n  if (updateWaveform) {\n    this._updateWaveform();\n  }\n\n  this._stage.draw();\n};\n\nWaveformOverview.prototype.destroy = function () {\n  if (this._resizeTimeoutId) {\n    clearTimeout(this._resizeTimeoutId);\n    this._resizeTimeoutId = null;\n  }\n\n  this._peaks.off('player.playing', this._onPlaying);\n\n  this._peaks.off('player.pause', this._onPause);\n\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n\n  this._peaks.off('zoomview.displaying', this._onZoomviewDisplaying);\n\n  this._peaks.off('window_resize', this._onWindowResize);\n\n  this._playheadLayer.destroy();\n\n  this._segmentsLayer.destroy();\n\n  this._pointsLayer.destroy();\n\n  if (this._stage) {\n    this._stage.destroy();\n\n    this._stage = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformZoomView} class.\n *\n * @module waveform-zoomview\n */\n/**\n * Creates a zoomable waveform view.\n *\n * @class\n * @alias WaveformZoomView\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformZoomView(waveformData, container, peaks) {\n  var self = this;\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = self._options.zoomview;\n  self._enableWaveformCache = self._options.waveformCache;\n  self._originalWaveformData = waveformData;\n\n  self._initWaveformCache(); // Bind event handlers\n\n\n  self._onTimeUpdate = self._onTimeUpdate.bind(self);\n  self._onPlaying = self._onPlaying.bind(self);\n  self._onPause = self._onPause.bind(self);\n  self._onWindowResize = self._onWindowResize.bind(self);\n  self._onKeyboardLeft = self._onKeyboardLeft.bind(self);\n  self._onKeyboardRight = self._onKeyboardRight.bind(self);\n  self._onKeyboardShiftLeft = self._onKeyboardShiftLeft.bind(self);\n  self._onKeyboardShiftRight = self._onKeyboardShiftRight.bind(self); // Register event handlers\n\n  self._peaks.on('player.timeupdate', self._onTimeUpdate);\n\n  self._peaks.on('player.playing', self._onPlaying);\n\n  self._peaks.on('player.pause', self._onPause);\n\n  self._peaks.on('window_resize', self._onWindowResize);\n\n  self._peaks.on('keyboard.left', self._onKeyboardLeft);\n\n  self._peaks.on('keyboard.right', self._onKeyboardRight);\n\n  self._peaks.on('keyboard.shift_left', self._onKeyboardShiftLeft);\n\n  self._peaks.on('keyboard.shift_right', self._onKeyboardShiftRight);\n\n  self._enableAutoScroll = true;\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  } else {\n    self._formatPlayheadTime = function (time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n\n  self._playheadClickTolerance = self._viewOptions.playheadClickTolerance;\n  self._data = null;\n  self._pixelLength = 0;\n  var initialZoomLevel = peaks.zoom.getZoomLevel();\n  self._zoomLevelAuto = false;\n  self._zoomLevelSeconds = null;\n  self._resizeTimeoutId = null;\n\n  self._resampleData({\n    scale: initialZoomLevel\n  });\n\n  self._width = container.clientWidth;\n  self._height = container.clientHeight; // The pixel offset of the current frame being displayed\n\n  self._frameOffset = 0;\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n\n  self._createWaveform();\n\n  self._segmentsLayer = new SegmentsLayer(peaks, self, true);\n\n  self._segmentsLayer.addToStage(self._stage);\n\n  self._pointsLayer = new PointsLayer(peaks, self, true);\n\n  self._pointsLayer.addToStage(self._stage);\n\n  self._createAxisLabels();\n\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n\n  self._playheadLayer.addToStage(self._stage);\n\n  var time = self._peaks.player.getCurrentTime();\n\n  self._syncPlayhead(time);\n\n  self._createMouseDragHandler();\n\n  self._onWheel = self._onWheel.bind(self);\n  self._onWheelCaptureVerticalScroll = self._onWheelCaptureVerticalScroll.bind(self);\n  self.setWheelMode(self._viewOptions.wheelMode);\n  self._onClick = self._onClick.bind(this);\n  self._onDblClick = self._onDblClick.bind(this);\n  self._onContextMenu = self._onContextMenu.bind(this);\n\n  self._stage.on('click', self._onClick);\n\n  self._stage.on('dblclick', self._onDblClick);\n\n  self._stage.on('contextmenu', self._onContextMenu);\n}\n\nWaveformZoomView.prototype._initWaveformCache = function () {\n  if (this._enableWaveformCache) {\n    this._waveformData = new Map();\n\n    this._waveformData.set(this._originalWaveformData.scale, this._originalWaveformData);\n\n    this._waveformScales = [this._originalWaveformData.scale];\n  }\n};\n\nWaveformZoomView.prototype._createMouseDragHandler = function () {\n  var self = this;\n  self._mouseDragHandler = new MouseDragHandler(self._stage, {\n    onMouseDown: function onMouseDown(mousePosX) {\n      this._seeking = false;\n\n      var playheadOffset = self._playheadLayer.getPlayheadOffset();\n\n      if (self._enableSeek && Math.abs(mousePosX - playheadOffset) <= self._playheadClickTolerance) {\n        this._seeking = true;\n      }\n\n      if (this._seeking) {\n        this._seek(mousePosX);\n      } else {\n        this.initialFrameOffset = self._frameOffset;\n        this.mouseDownX = mousePosX;\n      }\n    },\n    onMouseMove: function onMouseMove(mousePosX) {\n      if (this._seeking) {\n        this._seek(mousePosX);\n      } else {\n        // Moving the mouse to the left increases the time position of the\n        // left-hand edge of the visible waveform.\n        var diff = this.mouseDownX - mousePosX;\n        var newFrameOffset = this.initialFrameOffset + diff;\n\n        if (newFrameOffset !== this.initialFrameOffset) {\n          self._updateWaveform(newFrameOffset);\n        }\n      }\n    },\n    onMouseUp: function\n      /* mousePosX */\n    onMouseUp() {\n      if (!this._seeking) {\n        // Set playhead position only on click release, when not dragging.\n        if (self._enableSeek && !self._mouseDragHandler.isDragging()) {\n          var time = self.pixelOffsetToTime(this.mouseDownX);\n\n          var duration = self._getDuration(); // Prevent the playhead position from jumping by limiting click\n          // handling to the waveform duration.\n\n\n          if (time > duration) {\n            time = duration;\n          }\n\n          self._playheadLayer.updatePlayheadTime(time);\n\n          self._peaks.player.seek(time);\n        }\n      }\n    },\n    _seek: function _seek(mousePosX) {\n      mousePosX = clamp(mousePosX, 0, self._width);\n      var time = self.pixelsToTime(mousePosX + self._frameOffset);\n\n      var duration = self._getDuration(); // Prevent the playhead position from jumping by limiting click\n      // handling to the waveform duration.\n\n\n      if (time > duration) {\n        time = duration;\n      } // Update the playhead position. This gives a smoother visual update\n      // than if we only use the player.timeupdate event.\n\n\n      self._playheadLayer.updatePlayheadTime(time);\n\n      self._peaks.player.seek(time);\n    }\n  });\n};\n\nWaveformZoomView.prototype.enableSeek = function (enable) {\n  this._enableSeek = enable;\n};\n\nWaveformZoomView.prototype._onClick = function (event) {\n  this._clickHandler(event, 'zoomview.click');\n};\n\nWaveformZoomView.prototype._onDblClick = function (event) {\n  this._clickHandler(event, 'zoomview.dblclick');\n};\n\nWaveformZoomView.prototype._onContextMenu = function (event) {\n  this._clickHandler(event, 'zoomview.contextmenu');\n};\n\nWaveformZoomView.prototype._clickHandler = function (event, eventName) {\n  var mousePosX = event.evt.layerX;\n  var time = this.pixelOffsetToTime(mousePosX);\n\n  this._peaks.emit(eventName, {\n    time: time,\n    evt: event.evt\n  });\n};\n\nWaveformZoomView.prototype.setWheelMode = function (mode, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (mode !== this._wheelMode || options.captureVerticalScroll !== this._captureVerticalScroll) {\n    this._stage.off('wheel');\n\n    this._wheelMode = mode;\n    this._captureVerticalScroll = options.captureVerticalScroll;\n\n    switch (mode) {\n      case 'scroll':\n        if (options.captureVerticalScroll) {\n          this._stage.on('wheel', this._onWheelCaptureVerticalScroll);\n        } else {\n          this._stage.on('wheel', this._onWheel);\n        }\n\n        break;\n    }\n  }\n};\n\nWaveformZoomView.prototype._onWheel = function (event) {\n  var wheelEvent = event.evt;\n  var delta;\n\n  if (wheelEvent.shiftKey) {\n    if (wheelEvent.deltaY !== 0) {\n      delta = wheelEvent.deltaY;\n    } else if (wheelEvent.deltaX !== 0) {\n      delta = wheelEvent.deltaX;\n    } else {\n      return;\n    }\n  } else {\n    // Ignore the event if it looks like the user is scrolling vertically\n    // down the page\n    if (Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY)) {\n      return;\n    }\n\n    delta = wheelEvent.deltaX;\n  }\n\n  if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    delta *= this._width;\n  }\n\n  wheelEvent.preventDefault();\n  var newFrameOffset = clamp(this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width);\n\n  this._updateWaveform(newFrameOffset);\n};\n\nWaveformZoomView.prototype._onWheelCaptureVerticalScroll = function (event) {\n  var wheelEvent = event.evt;\n  var delta = Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY) ? wheelEvent.deltaY : wheelEvent.deltaX;\n  wheelEvent.preventDefault();\n  var newFrameOffset = clamp(this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width);\n\n  this._updateWaveform(newFrameOffset);\n};\n\nWaveformZoomView.prototype.getName = function () {\n  return 'zoomview';\n};\n\nWaveformZoomView.prototype._onTimeUpdate = function (time) {\n  if (this._mouseDragHandler.isDragging()) {\n    return;\n  }\n\n  this._syncPlayhead(time);\n};\n\nWaveformZoomView.prototype._onPlaying = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\n\nWaveformZoomView.prototype._onPause = function (time) {\n  this._playheadLayer.stop(time);\n};\n\nWaveformZoomView.prototype._onWindowResize = function () {\n  var self = this;\n  var width = self._container.clientWidth;\n\n  if (!self._zoomLevelAuto) {\n    self._width = width;\n\n    self._stage.width(width);\n\n    self._updateWaveform(self._frameOffset);\n  } else {\n    if (self._resizeTimeoutId) {\n      clearTimeout(self._resizeTimeoutId);\n      self._resizeTimeoutId = null;\n    } // Avoid resampling waveform data to zero width\n\n\n    if (width !== 0) {\n      self._width = width;\n\n      self._stage.width(width);\n\n      self._resizeTimeoutId = setTimeout(function () {\n        self._width = width;\n        self._data = self._originalWaveformData.resample(width);\n\n        self._stage.width(width);\n\n        self._updateWaveform(self._frameOffset);\n      }, 500);\n    }\n  }\n};\n\nWaveformZoomView.prototype._onKeyboardLeft = function () {\n  this._keyboardScroll(-1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardRight = function () {\n  this._keyboardScroll(1, false);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftLeft = function () {\n  this._keyboardScroll(-1, true);\n};\n\nWaveformZoomView.prototype._onKeyboardShiftRight = function () {\n  this._keyboardScroll(1, true);\n};\n\nWaveformZoomView.prototype._keyboardScroll = function (direction, large) {\n  var increment;\n\n  if (large) {\n    increment = direction * this._width;\n  } else {\n    increment = direction * this.timeToPixels(this._options.nudgeIncrement);\n  }\n\n  this.scrollWaveform({\n    pixels: increment\n  });\n};\n\nWaveformZoomView.prototype.setWaveformData = function (waveformData) {\n  this._originalWaveformData = waveformData; // Clear cached waveforms\n\n  this._initWaveformCache(); // Don't update the UI here, call setZoom().\n\n};\n\nWaveformZoomView.prototype.playheadPosChanged = function (time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n\n    this._drawWaveformLayer();\n  }\n};\n\nWaveformZoomView.prototype._syncPlayhead = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n\n  if (this._enableAutoScroll) {\n    // Check for the playhead reaching the right-hand side of the window.\n    var pixelIndex = this.timeToPixels(time); // TODO: move this code to animation function?\n    // TODO: don't scroll if user has positioned view manually (e.g., using\n    // the keyboard)\n\n    var endThreshold = this._frameOffset + this._width - 100;\n\n    if (pixelIndex >= endThreshold || pixelIndex < this._frameOffset) {\n      // Put the playhead at 100 pixels from the left edge\n      this._frameOffset = pixelIndex - 100;\n\n      if (this._frameOffset < 0) {\n        this._frameOffset = 0;\n      }\n\n      this._updateWaveform(this._frameOffset);\n    }\n  }\n};\n\nWaveformZoomView.prototype._getScale = function (duration) {\n  return duration * this._data.sample_rate / this._width;\n};\n\nfunction isAutoScale(options) {\n  return objectHasProperty(options, 'scale') && options.scale === 'auto' || objectHasProperty(options, 'seconds') && options.seconds === 'auto';\n}\n/**\n * Options for [WaveformZoomView.setZoom]{@link WaveformZoomView#setZoom}.\n *\n * @typedef {Object} SetZoomOptions\n * @global\n * @property {Number|String} scale Zoom level, in samples per pixel, or 'auto'\n *   to fit the entire waveform to the view width\n * @property {Number|String} seconds Number of seconds to fit to the view width,\n *   or 'auto' to fit the entire waveform to the view width\n */\n\n/**\n * Changes the zoom level.\n *\n * @param {SetZoomOptions} options\n * @returns {Boolean}\n */\n\n\nWaveformZoomView.prototype.setZoom = function (options) {\n  var scale;\n\n  if (isAutoScale(options)) {\n    var seconds = this._peaks.player.getDuration();\n\n    if (!isValidTime(seconds)) {\n      return false;\n    }\n\n    this._zoomLevelAuto = true;\n    this._zoomLevelSeconds = null;\n    scale = this._getScale(seconds);\n  } else {\n    if (objectHasProperty(options, 'scale')) {\n      this._zoomLevelSeconds = null;\n      scale = options.scale;\n    } else if (objectHasProperty(options, 'seconds')) {\n      if (!isValidTime(options.seconds)) {\n        return false;\n      }\n\n      this._zoomLevelSeconds = options.seconds;\n      scale = this._getScale(options.seconds);\n    }\n\n    this._zoomLevelAuto = false;\n  }\n\n  if (scale < this._originalWaveformData.scale) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('peaks.zoomview.setZoom(): zoom level must be at least ' + this._originalWaveformData.scale);\n\n    scale = this._originalWaveformData.scale;\n  }\n\n  var currentTime = this._peaks.player.getCurrentTime();\n\n  var apexTime;\n\n  var playheadOffsetPixels = this._playheadLayer.getPlayheadOffset();\n\n  if (playheadOffsetPixels >= 0 && playheadOffsetPixels < this._width) {\n    // Playhead is visible. Change the zoom level while keeping the\n    // playhead at the same position in the window.\n    apexTime = currentTime;\n  } else {\n    // Playhead is not visible. Change the zoom level while keeping the\n    // centre of the window at the same position in the waveform.\n    playheadOffsetPixels = Math.floor(this._width / 2);\n    apexTime = this.pixelOffsetToTime(playheadOffsetPixels);\n  }\n\n  var prevScale = this._scale;\n\n  this._resampleData({\n    scale: scale\n  });\n\n  var apexPixel = this.timeToPixels(apexTime);\n  this._frameOffset = apexPixel - playheadOffsetPixels;\n\n  this._updateWaveform(this._frameOffset);\n\n  this._playheadLayer.zoomLevelChanged(); // Update the playhead position after zooming.\n\n\n  this._playheadLayer.updatePlayheadTime(currentTime); // var adapter = this.createZoomAdapter(currentScale, previousScale);\n  // adapter.start(relativePosition);\n\n\n  this._peaks.emit('zoom.update', scale, prevScale);\n\n  return true;\n};\n\nWaveformZoomView.prototype._resampleData = function (options) {\n  var scale = options.scale;\n\n  if (this._enableWaveformCache) {\n    if (!this._waveformData.has(scale)) {\n      var sourceWaveform = this._originalWaveformData; // Resample from the next lowest available zoom level\n\n      for (var i = 0; i < this._waveformScales.length; i++) {\n        if (this._waveformScales[i] < scale) {\n          sourceWaveform = this._waveformData.get(this._waveformScales[i]);\n        } else {\n          break;\n        }\n      }\n\n      this._waveformData.set(scale, sourceWaveform.resample(options));\n\n      this._waveformScales.push(scale);\n\n      this._waveformScales.sort(function (a, b) {\n        return a - b; // Ascending order\n      });\n    }\n\n    this._data = this._waveformData.get(scale);\n  } else {\n    this._data = this._originalWaveformData.resample(options);\n  }\n\n  this._scale = this._data.scale;\n  this._pixelLength = this._data.length;\n};\n\nWaveformZoomView.prototype.getStartTime = function () {\n  return this.pixelOffsetToTime(0);\n};\n\nWaveformZoomView.prototype.getEndTime = function () {\n  return this.pixelOffsetToTime(this._width);\n};\n\nWaveformZoomView.prototype.setStartTime = function (time) {\n  if (time < 0) {\n    time = 0;\n  }\n\n  if (this._zoomLevelAuto) {\n    time = 0;\n  }\n\n  this._updateWaveform(this.timeToPixels(time));\n};\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\n\nWaveformZoomView.prototype.timeToPixels = function (time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\n\nWaveformZoomView.prototype.pixelsToTime = function (pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n/**\n * Returns the time for a given pixel offset (relative to the\n * current scroll position), for the current zoom level.\n *\n * @param {Number} offset Offset from left-visible-edge of view\n * @returns {Number} Time, in seconds.\n */\n\n\nWaveformZoomView.prototype.pixelOffsetToTime = function (offset) {\n  var pixels = this._frameOffset + offset;\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n/* var zoomAdapterMap = {\n  'animated': AnimatedZoomAdapter,\n  'static': StaticZoomAdapter\n};\n\nWaveformZoomView.prototype.createZoomAdapter = function(currentScale, previousScale) {\n  var ZoomAdapter = zoomAdapterMap[this._viewOptions.zoomAdapter];\n\n  if (!ZoomAdapter) {\n    throw new Error('Invalid zoomAdapter: ' + this._viewOptions.zoomAdapter);\n  }\n\n  return ZoomAdapter.create(this, currentScale, previousScale);\n}; */\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\n\nWaveformZoomView.prototype.getFrameOffset = function () {\n  return this._frameOffset;\n};\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\n\nWaveformZoomView.prototype.getWidth = function () {\n  return this._width;\n};\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\n\nWaveformZoomView.prototype.getHeight = function () {\n  return this._height;\n};\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\n\nWaveformZoomView.prototype._getDuration = function () {\n  return this._peaks.player.getDuration();\n};\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\n\nWaveformZoomView.prototype.setAmplitudeScale = function (scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n\n  this._amplitudeScale = scale;\n\n  this._drawWaveformLayer();\n\n  this._segmentsLayer.draw();\n};\n\nWaveformZoomView.prototype.getAmplitudeScale = function () {\n  return this._amplitudeScale;\n};\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\n\nWaveformZoomView.prototype.getWaveformData = function () {\n  return this._data;\n};\n\nWaveformZoomView.prototype._createWaveformShapes = function () {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    var time = this._peaks.player.getCurrentTime();\n\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n\n    this._waveformShape.setSegment(this._unplayedSegment);\n\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\n\nWaveformZoomView.prototype._destroyPlayedWaveformShape = function () {\n  this._waveformShape.setSegment(null);\n\n  this._playedWaveformShape.destroy();\n\n  this._playedWaveformShape = null;\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\n\nWaveformZoomView.prototype._createWaveform = function () {\n  this._waveformLayer = new Konva.Layer({\n    listening: false\n  });\n\n  this._createWaveformShapes();\n\n  this._stage.add(this._waveformLayer);\n\n  this._peaks.emit('zoomview.displaying', 0, this.getEndTime());\n};\n\nWaveformZoomView.prototype._createAxisLabels = function () {\n  this._axisLayer = new Konva.Layer({\n    listening: false\n  });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n\n  this._axis.addToLayer(this._axisLayer);\n\n  this._stage.add(this._axisLayer);\n};\n/**\n * Scrolls the region of waveform shown in the view.\n *\n * @param {Number} scrollAmount How far to scroll, in pixels\n */\n\n\nWaveformZoomView.prototype.scrollWaveform = function (options) {\n  var scrollAmount;\n\n  if (objectHasProperty(options, 'pixels')) {\n    scrollAmount = Math.floor(options.pixels);\n  } else if (objectHasProperty(options, 'seconds')) {\n    scrollAmount = this.timeToPixels(options.seconds);\n  } else {\n    throw new TypeError('view.scrollWaveform(): Missing umber of pixels or seconds');\n  }\n\n  this._updateWaveform(this._frameOffset + scrollAmount);\n};\n/**\n * Updates the region of waveform shown in the view.\n *\n * @param {Number} frameOffset The new frame offset, in pixels.\n */\n\n\nWaveformZoomView.prototype._updateWaveform = function (frameOffset) {\n  var upperLimit;\n\n  if (this._pixelLength < this._width) {\n    // Total waveform is shorter than viewport, so reset the offset to 0.\n    frameOffset = 0;\n    upperLimit = this._width;\n  } else {\n    // Calculate the very last possible position.\n    upperLimit = this._pixelLength - this._width;\n  }\n\n  frameOffset = clamp(frameOffset, 0, upperLimit);\n  this._frameOffset = frameOffset; // Display playhead if it is within the zoom frame width.\n\n  var playheadPixel = this._playheadLayer.getPlayheadPixel();\n\n  this._playheadLayer.updatePlayheadTime(this.pixelsToTime(playheadPixel));\n\n  this._drawWaveformLayer();\n\n  this._axisLayer.draw();\n\n  var frameStartTime = this.getStartTime();\n  var frameEndTime = this.getEndTime();\n\n  this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n\n  this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n\n  this._peaks.emit('zoomview.displaying', frameStartTime, frameEndTime);\n};\n\nWaveformZoomView.prototype._drawWaveformLayer = function () {\n  this._waveformLayer.draw();\n};\n\nWaveformZoomView.prototype.setWaveformColor = function (color) {\n  this._waveformColor = color;\n\n  this._waveformShape.setWaveformColor(color);\n};\n\nWaveformZoomView.prototype.setPlayedWaveformColor = function (color) {\n  this._playedWaveformColor = color;\n\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n\n    this._playedWaveformShape.setWaveformColor(color);\n  } else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\n\nWaveformZoomView.prototype.showPlayheadTime = function (show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\n\nWaveformZoomView.prototype.setTimeLabelPrecision = function (precision) {\n  this._timeLabelPrecision = precision;\n\n  this._playheadLayer.updatePlayheadText();\n};\n\nWaveformZoomView.prototype.formatTime = function (time) {\n  return this._formatPlayheadTime(time);\n};\n\nWaveformZoomView.prototype.showAxisLabels = function (show) {\n  this._axis.showAxisLabels(show);\n\n  this._axisLayer.draw();\n};\n\nWaveformZoomView.prototype.enableAutoScroll = function (enable) {\n  this._enableAutoScroll = enable;\n};\n\nWaveformZoomView.prototype.enableMarkerEditing = function (enable) {\n  this._segmentsLayer.enableEditing(enable);\n\n  this._pointsLayer.enableEditing(enable);\n};\n\nWaveformZoomView.prototype.fitToContainer = function () {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n\n  var updateWaveform = false;\n\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n\n    this._stage.width(this._width);\n\n    var resample = false;\n    var resampleOptions;\n\n    if (this._zoomLevelAuto) {\n      resample = true;\n      resampleOptions = {\n        width: this._width\n      };\n    } else if (this._zoomLevelSeconds !== null) {\n      resample = true;\n      resampleOptions = {\n        scale: this._getScale(this._zoomLevelSeconds)\n      };\n    }\n\n    if (resample) {\n      try {\n        this._resampleData(resampleOptions);\n\n        updateWaveform = true;\n      } catch (error) {// Ignore, and leave this._data as it was\n      }\n    }\n  }\n\n  this._height = this._container.clientHeight;\n\n  this._stage.height(this._height);\n\n  this._waveformShape.fitToView();\n\n  this._playheadLayer.fitToView();\n\n  this._segmentsLayer.fitToView();\n\n  this._pointsLayer.fitToView();\n\n  if (updateWaveform) {\n    this._updateWaveform(this._frameOffset);\n  }\n\n  this._stage.draw();\n};\n/* WaveformZoomView.prototype.beginZoom = function() {\n  // Fade out the time axis and the segments\n  // this._axis.axisShape.setAttr('opacity', 0);\n\n  if (this._pointsLayer) {\n    this._pointsLayer.setVisible(false);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.setVisible(false);\n  }\n};\n\nWaveformZoomView.prototype.endZoom = function() {\n  if (this._pointsLayer) {\n    this._pointsLayer.setVisible(true);\n  }\n\n  if (this._segmentsLayer) {\n    this._segmentsLayer.setVisible(true);\n  }\n\n  var time = this._peaks.player.getCurrentTime();\n\n  this.seekFrame(this.timeToPixels(time));\n}; */\n\n\nWaveformZoomView.prototype.destroy = function () {\n  if (this._resizeTimeoutId) {\n    clearTimeout(this._resizeTimeoutId);\n    this._resizeTimeoutId = null;\n  } // Unregister event handlers\n\n\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n\n  this._peaks.off('player.playing', this._onPlaying);\n\n  this._peaks.off('player.pause', this._onPause);\n\n  this._peaks.off('window_resize', this._onWindowResize);\n\n  this._peaks.off('keyboard.left', this._onKeyboardLeft);\n\n  this._peaks.off('keyboard.right', this._onKeyboardRight);\n\n  this._peaks.off('keyboard.shift_left', this._onKeyboardShiftLeft);\n\n  this._peaks.off('keyboard.shift_right', this._onKeyboardShiftRight);\n\n  this._playheadLayer.destroy();\n\n  this._segmentsLayer.destroy();\n\n  this._pointsLayer.destroy();\n\n  if (this._stage) {\n    this._stage.destroy();\n\n    this._stage = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link ViewController} class.\n *\n * @module view-controller\n */\n/**\n * Creates an object that allows users to create and manage waveform views.\n *\n * @class\n * @alias ViewController\n *\n * @param {Peaks} peaks\n */\n\nfunction ViewController(peaks) {\n  this._peaks = peaks;\n  this._overview = null;\n  this._zoomview = null;\n}\n\nViewController.prototype.createOverview = function (container) {\n  if (this._overview) {\n    return this._overview;\n  }\n\n  var waveformData = this._peaks.getWaveformData();\n\n  this._overview = new WaveformOverview(waveformData, container, this._peaks);\n\n  if (this._zoomview) {\n    this._overview.showHighlight(this._zoomview.getStartTime(), this._zoomview.getEndTime());\n  }\n\n  return this._overview;\n};\n\nViewController.prototype.createZoomview = function (container) {\n  if (this._zoomview) {\n    return this._zoomview;\n  }\n\n  var waveformData = this._peaks.getWaveformData();\n\n  this._zoomview = new WaveformZoomView(waveformData, container, this._peaks);\n  return this._zoomview;\n};\n\nViewController.prototype.destroyOverview = function () {\n  if (!this._overview) {\n    return;\n  }\n\n  if (!this._zoomview) {\n    return;\n  }\n\n  this._overview.destroy();\n\n  this._overview = null;\n};\n\nViewController.prototype.destroyZoomview = function () {\n  if (!this._zoomview) {\n    return;\n  }\n\n  if (!this._overview) {\n    return;\n  }\n\n  this._zoomview.destroy();\n\n  this._zoomview = null;\n\n  this._overview.removeHighlightRect();\n};\n\nViewController.prototype.destroy = function () {\n  if (this._overview) {\n    this._overview.destroy();\n\n    this._overview = null;\n  }\n\n  if (this._zoomview) {\n    this._zoomview.destroy();\n\n    this._zoomview = null;\n  }\n};\n\nViewController.prototype.getView = function (name) {\n  if (isNullOrUndefined(name)) {\n    if (this._overview && this._zoomview) {\n      return null;\n    } else if (this._overview) {\n      return this._overview;\n    } else if (this._zoomview) {\n      return this._zoomview;\n    } else {\n      return null;\n    }\n  } else {\n    switch (name) {\n      case 'overview':\n        return this._overview;\n\n      case 'zoomview':\n        return this._zoomview;\n\n      default:\n        return null;\n    }\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link ZoomController} class.\n *\n * @module zoom-controller\n */\n\n/**\n * Creates an object to control zoom levels in a {@link WaveformZoomView}.\n *\n * @class\n * @alias ZoomController\n *\n * @param {Peaks} peaks\n * @param {Array<Integer>} zoomLevels\n */\nfunction ZoomController(peaks, zoomLevels) {\n  this._peaks = peaks;\n  this._zoomLevels = zoomLevels;\n  this._zoomLevelIndex = 0;\n}\n\nZoomController.prototype.setZoomLevels = function (zoomLevels) {\n  this._zoomLevels = zoomLevels;\n  this.setZoom(0, true);\n};\n/**\n * Zoom in one level.\n */\n\n\nZoomController.prototype.zoomIn = function () {\n  this.setZoom(this._zoomLevelIndex - 1);\n};\n/**\n * Zoom out one level.\n */\n\n\nZoomController.prototype.zoomOut = function () {\n  this.setZoom(this._zoomLevelIndex + 1);\n};\n/**\n * Given a particular zoom level, triggers a resampling of the data in the\n * zoomed view.\n *\n * @param {number} zoomLevelIndex An index into the options.zoomLevels array.\n */\n\n\nZoomController.prototype.setZoom = function (zoomLevelIndex, forceUpdate) {\n  if (zoomLevelIndex >= this._zoomLevels.length) {\n    zoomLevelIndex = this._zoomLevels.length - 1;\n  }\n\n  if (zoomLevelIndex < 0) {\n    zoomLevelIndex = 0;\n  }\n\n  if (!forceUpdate && zoomLevelIndex === this._zoomLevelIndex) {\n    // Nothing to do.\n    return;\n  }\n\n  this._zoomLevelIndex = zoomLevelIndex;\n\n  var zoomview = this._peaks.views.getView('zoomview');\n\n  if (!zoomview) {\n    return;\n  }\n\n  zoomview.setZoom({\n    scale: this._zoomLevels[zoomLevelIndex]\n  });\n};\n/**\n * Returns the current zoom level index.\n *\n * @returns {Number}\n */\n\n\nZoomController.prototype.getZoom = function () {\n  return this._zoomLevelIndex;\n};\n/**\n * Returns the current zoom level, in samples per pixel.\n *\n * @returns {Number}\n */\n\n\nZoomController.prototype.getZoomLevel = function () {\n  return this._zoomLevels[this._zoomLevelIndex];\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformBuilder} class.\n *\n * @module waveform-builder\n */\nvar isXhr2 = ('withCredentials' in new XMLHttpRequest());\n/**\n * Creates and returns a WaveformData object, either by requesting the\n * waveform data from the server, or by creating the waveform data using the\n * Web Audio API.\n *\n * @class\n * @alias WaveformBuilder\n *\n * @param {Peaks} peaks\n */\n\nfunction WaveformBuilder(peaks) {\n  this._peaks = peaks;\n}\n/**\n * Options for requesting remote waveform data.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Options for supplying local waveform data.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Options for the Web Audio waveform builder.\n *\n * @typedef {Object} WaveformBuilderWebAudioOptions\n * @global\n * @property {AudioContext} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [WaveformBuilder.init]{@link WaveformBuilder#init}.\n *\n * @typedef {Object} WaveformBuilderInitOptions\n * @global\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WaveformBuilderWebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Callback for receiving the waveform data.\n *\n * @callback WaveformBuilderInitCallback\n * @global\n * @param {Error} error\n * @param {WaveformData} waveformData\n */\n\n/**\n * Loads or creates the waveform data.\n *\n * @private\n * @param {WaveformBuilderInitOptions} options\n * @param {WaveformBuilderInitCallback} callback\n */\n\n\nWaveformBuilder.prototype.init = function (options, callback) {\n  if (options.dataUri && (options.webAudio || options.audioContext) || options.waveformData && (options.webAudio || options.audioContext) || options.dataUri && options.waveformData) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data.'));\n    return;\n  }\n\n  if (options.audioContext) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead');\n\n    options.webAudio = {\n      audioContext: options.audioContext\n    };\n  }\n\n  if (options.dataUri) {\n    return this._getRemoteWaveformData(options, callback);\n  } else if (options.waveformData) {\n    return this._buildWaveformFromLocalData(options, callback);\n  } else if (options.webAudio) {\n    if (options.webAudio.audioBuffer) {\n      return this._buildWaveformDataFromAudioBuffer(options, callback);\n    } else {\n      return this._buildWaveformDataUsingWebAudio(options, callback);\n    }\n  } else {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data'));\n  }\n};\n/* eslint-disable max-len */\n\n/**\n * Fetches waveform data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {String|Object} options.dataUri\n * @param {String} options.dataUri.arraybuffer Waveform data URL\n *   (binary format)\n * @param {String} options.dataUri.json Waveform data URL (JSON format)\n * @param {String} options.defaultUriFormat Either 'arraybuffer' (for binary\n *   data) or 'json'\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\n\nWaveformBuilder.prototype._getRemoteWaveformData = function (options, callback) {\n  var self = this;\n  var dataUri = null;\n  var requestType = null;\n  var url;\n\n  if (isObject(options.dataUri)) {\n    dataUri = options.dataUri;\n  } else if (isString(options.dataUri)) {\n    // Backward compatibility\n    dataUri = {};\n    dataUri[options.dataUriDefaultFormat || 'json'] = options.dataUri;\n  } else {\n    callback(new TypeError('Peaks.init(): The dataUri option must be an object'));\n    return;\n  }\n\n  ['ArrayBuffer', 'JSON'].some(function (connector) {\n    if (window[connector]) {\n      requestType = connector.toLowerCase();\n      url = dataUri[requestType];\n      return Boolean(url);\n    }\n  });\n\n  if (!url) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible dataUri format for this browser'));\n    return;\n  }\n\n  var xhr = self._createXHR(url, requestType, options.withCredentials, function (event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    if (this.status !== 200) {\n      callback(new Error('Unable to fetch remote data. HTTP status ' + this.status));\n      return;\n    }\n\n    var waveformData = WaveformData.create(event.target.response);\n\n    if (waveformData.channels !== 1 && waveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    } else if (waveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(null, waveformData);\n  }, function () {\n    callback(new Error('XHR Failed'));\n  });\n\n  xhr.send();\n};\n/* eslint-disable max-len */\n\n/**\n * Creates a waveform from given data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {Object} options.waveformData\n * @param {ArrayBuffer} options.waveformData.arraybuffer Waveform data (binary format)\n * @param {Object} options.waveformData.json Waveform data (JSON format)\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\n\nWaveformBuilder.prototype._buildWaveformFromLocalData = function (options, callback) {\n  var waveformData = null;\n  var data = null;\n\n  if (isObject(options.waveformData)) {\n    waveformData = options.waveformData;\n  } else {\n    callback(new Error('Peaks.init(): The waveformData option must be an object'));\n    return;\n  }\n\n  if (isObject(waveformData.json)) {\n    data = waveformData.json;\n  } else if (isArrayBuffer(waveformData.arraybuffer)) {\n    data = waveformData.arraybuffer;\n  }\n\n  if (!data) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible waveformData format'));\n    return;\n  }\n\n  try {\n    var createdWaveformData = WaveformData.create(data);\n\n    if (createdWaveformData.channels !== 1 && createdWaveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    } else if (createdWaveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n\n    callback(null, createdWaveformData);\n  } catch (err) {\n    callback(err);\n  }\n};\n/**\n * Creates waveform data using the Web Audio API.\n *\n * @private\n * @param {Object} options\n * @param {AudioContext} options.audioContext\n * @param {HTMLMediaElement} options.mediaElement\n * @param {WaveformBuilderInitCallback} callback\n */\n\n\nWaveformBuilder.prototype._buildWaveformDataUsingWebAudio = function (options, callback) {\n  var self = this;\n  var audioContext = window.AudioContext || window.webkitAudioContext;\n\n  if (!(options.webAudio.audioContext instanceof audioContext)) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): The webAudio.audioContext option must be a valid AudioContext'));\n    return;\n  }\n\n  var webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  } // If the media element has already selected which source to play, its\n  // currentSrc attribute will contain the source media URL. Otherwise,\n  // we wait for a canplay event to tell us when the media is ready.\n\n\n  var mediaSourceUrl = self._peaks.options.mediaElement.currentSrc;\n\n  if (mediaSourceUrl) {\n    self._requestAudioAndBuildWaveformData(mediaSourceUrl, webAudioOptions, options.withCredentials, callback);\n  } else {\n    self._peaks.once('player.canplay', function () {\n      self._requestAudioAndBuildWaveformData(self._peaks.options.mediaElement.currentSrc, webAudioOptions, options.withCredentials, callback);\n    });\n  }\n};\n\nWaveformBuilder.prototype._buildWaveformDataFromAudioBuffer = function (options, callback) {\n  var webAudioOptions = options.webAudio;\n\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  var webAudioBuilderOptions = {\n    audio_buffer: webAudioOptions.audioBuffer,\n    split_channels: webAudioOptions.multiChannel,\n    scale: webAudioOptions.scale\n  };\n  WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n};\n/**\n * Fetches the audio content, based on the given options, and creates waveform\n * data using the Web Audio API.\n *\n * @private\n * @param {url} The media source URL\n * @param {WaveformBuilderWebAudioOptions} webAudio\n * @param {Boolean} withCredentials\n * @param {WaveformBuilderInitCallback} callback\n */\n\n\nWaveformBuilder.prototype._requestAudioAndBuildWaveformData = function (url, webAudio, withCredentials, callback) {\n  var self = this;\n\n  if (!url) {\n    self._peaks._logger('Peaks.init(): The mediaElement src is invalid');\n\n    return;\n  }\n\n  var xhr = self._createXHR(url, 'arraybuffer', withCredentials, function (event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n\n    if (this.status !== 200) {\n      callback(new Error('Unable to fetch remote data. HTTP status ' + this.status));\n      return;\n    }\n\n    var webAudioBuilderOptions = {\n      audio_context: webAudio.audioContext,\n      array_buffer: event.target.response,\n      split_channels: webAudio.multiChannel,\n      scale: webAudio.scale\n    };\n    WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n  }, function () {\n    callback(new Error('XHR Failed'));\n  });\n\n  xhr.send();\n};\n/**\n * @private\n * @param {String} url\n * @param {String} requestType\n * @param {Boolean} withCredentials\n * @param {Function} onLoad\n * @param {Function} onError\n *\n * @returns {XMLHttpRequest}\n */\n\n\nWaveformBuilder.prototype._createXHR = function (url, requestType, withCredentials, onLoad, onError) {\n  var xhr = new XMLHttpRequest(); // open an XHR request to the data source file\n\n  xhr.open('GET', url, true);\n\n  if (isXhr2) {\n    try {\n      xhr.responseType = requestType;\n    } catch (e) {// Some browsers like Safari 6 do handle XHR2 but not the json\n      // response type, doing only a try/catch fails in IE9\n    }\n  }\n\n  xhr.onload = onLoad;\n  xhr.onerror = onError;\n\n  if (isXhr2 && withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  return xhr;\n};\n\n/**\n * @file\n *\n * Defines the {@link Peaks} class.\n *\n * @module main\n */\n/**\n * Initialises a new Peaks instance with default option settings.\n *\n * @class\n * @alias Peaks\n *\n * @param {Object} opts Configuration options\n */\n\nfunction Peaks() {\n  EventEmitter.call(this); // Set default options\n\n  this.options = {\n    zoomLevels: [512, 1024, 2048, 4096],\n    waveformCache: true,\n    mediaElement: null,\n    mediaUrl: null,\n    dataUri: null,\n    dataUriDefaultFormat: 'json',\n    withCredentials: false,\n    waveformData: null,\n    webAudio: null,\n    nudgeIncrement: 1.0,\n    segmentStartMarkerColor: '#aaaaaa',\n    segmentEndMarkerColor: '#aaaaaa',\n    randomizeSegmentColor: true,\n    segmentColor: '#ff851b',\n    pointMarkerColor: '#39cccc',\n    createSegmentMarker: createSegmentMarker,\n    createSegmentLabel: createSegmentLabel,\n    createPointMarker: createPointMarker,\n    // eslint-disable-next-line no-console\n    logger: console.error.bind(console)\n  };\n  return this;\n}\n\nPeaks.prototype = Object.create(EventEmitter.prototype);\nvar defaultViewOptions = {\n  playheadColor: '#111111',\n  playheadTextColor: '#aaaaaa',\n  axisGridlineColor: '#cccccc',\n  showAxisLabels: true,\n  axisLabelColor: '#aaaaaa',\n  fontFamily: 'sans-serif',\n  fontSize: 11,\n  fontStyle: 'normal',\n  timeLabelPrecision: 2\n};\nvar defaultZoomviewOptions = {\n  // showPlayheadTime:    true,\n  playheadClickTolerance: 3,\n  waveformColor: 'rgba(0, 225, 128, 1)',\n  wheelMode: 'none' // zoomAdapter:         'static'\n\n};\nvar defaultOverviewOptions = {\n  // showPlayheadTime:    false,\n  waveformColor: 'rgba(0, 0, 0, 0.2)',\n  highlightColor: '#aaaaaa',\n  highlightStrokeColor: 'transparent',\n  highlightOpacity: 0.3,\n  highlightOffset: 11,\n  highlightCornerRadius: 2\n};\n\nfunction getOverviewOptions(opts) {\n  var overviewOptions = {};\n\n  if (opts.containers && opts.containers.overview) {\n    overviewOptions.container = opts.containers.overview;\n  }\n\n  if (opts.overviewWaveformColor) {\n    overviewOptions.waveformColor = opts.overviewWaveformColor;\n  }\n\n  if (opts.overviewHighlightOffset) {\n    overviewOptions.highlightOffset = opts.overviewHighlightOffset;\n  }\n\n  if (opts.overviewHighlightColor) {\n    overviewOptions.highlightColor = opts.overviewHighlightColor;\n  }\n\n  if (opts.overview && opts.overview.showPlayheadTime) {\n    overviewOptions.showPlayheadTime = opts.overview.showPlayheadTime;\n  }\n\n  var optNames = ['container', 'waveformColor', 'playedWaveformColor', 'playheadColor', 'playheadTextColor', 'formatPlayheadTime', 'timeLabelPrecision', 'axisGridlineColor', 'showAxisLabels', 'axisLabelColor', 'formatAxisTime', 'fontFamily', 'fontSize', 'fontStyle', 'highlightColor', 'highlightStrokeColor', 'highlightOpacity', 'highlightCornerRadius', 'highlightOffset'];\n  optNames.forEach(function (optName) {\n    if (opts.overview && objectHasProperty(opts.overview, optName)) {\n      overviewOptions[optName] = opts.overview[optName];\n    } else if (objectHasProperty(opts, optName)) {\n      overviewOptions[optName] = opts[optName];\n    } else if (!objectHasProperty(overviewOptions, optName)) {\n      if (objectHasProperty(defaultOverviewOptions, optName)) {\n        overviewOptions[optName] = defaultOverviewOptions[optName];\n      } else if (objectHasProperty(defaultViewOptions, optName)) {\n        overviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n  return overviewOptions;\n}\n\nfunction getZoomviewOptions(opts) {\n  var zoomviewOptions = {};\n\n  if (opts.containers && opts.containers.zoomview) {\n    zoomviewOptions.container = opts.containers.zoomview;\n  }\n\n  if (opts.zoomWaveformColor) {\n    zoomviewOptions.waveformColor = opts.zoomWaveformColor;\n  }\n\n  if (opts.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.showPlayheadTime;\n  } else if (opts.zoomview && opts.zoomview.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.zoomview.showPlayheadTime;\n  }\n\n  var optNames = ['container', 'waveformColor', 'playedWaveformColor', 'playheadColor', 'playheadTextColor', 'formatPlayheadTime', 'playheadClickTolerance', 'timeLabelPrecision', 'axisGridlineColor', 'showAxisLabels', 'axisLabelColor', 'formatAxisTime', 'fontFamily', 'fontSize', 'fontStyle', 'wheelMode'];\n  optNames.forEach(function (optName) {\n    if (opts.zoomview && objectHasProperty(opts.zoomview, optName)) {\n      zoomviewOptions[optName] = opts.zoomview[optName];\n    } else if (objectHasProperty(opts, optName)) {\n      zoomviewOptions[optName] = opts[optName];\n    } else if (!objectHasProperty(zoomviewOptions, optName)) {\n      if (objectHasProperty(defaultZoomviewOptions, optName)) {\n        zoomviewOptions[optName] = defaultZoomviewOptions[optName];\n      } else if (objectHasProperty(defaultViewOptions, optName)) {\n        zoomviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n  return zoomviewOptions;\n}\n\nfunction extendOptions(to, from) {\n  for (var key in from) {\n    if (objectHasProperty(from, key) && objectHasProperty(to, key)) {\n      to[key] = from[key];\n    }\n  }\n\n  return to;\n}\n/**\n * Creates and initialises a new Peaks instance with the given options.\n *\n * @param {Object} opts Configuration options\n *\n * @return {Peaks}\n */\n\n\nPeaks.init = function (opts, callback) {\n  var instance = new Peaks();\n\n  var err = instance._setOptions(opts);\n\n  if (err) {\n    callback(err);\n    return;\n  }\n\n  var zoomviewContainer = instance.options.zoomview.container;\n  var overviewContainer = instance.options.overview.container;\n\n  if (!isHTMLElement(zoomviewContainer) && !isHTMLElement(overviewContainer)) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): The zoomview and/or overview container options must be valid HTML elements'));\n    return;\n  }\n\n  if (zoomviewContainer && (zoomviewContainer.clientWidth <= 0 || zoomviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Please ensure that the zoomview container is visible and has non-zero width and height'));\n    return;\n  }\n\n  if (overviewContainer && (overviewContainer.clientWidth <= 0 || overviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Please ensure that the overview container is visible and has non-zero width and height'));\n    return;\n  }\n\n  if (opts.keyboard) {\n    instance._keyboardHandler = new KeyboardHandler(instance);\n  }\n\n  var player = opts.player ? opts.player : new MediaElementPlayer(instance.options.mediaElement);\n  instance.player = new Player(instance, player);\n  instance.segments = new WaveformSegments(instance);\n  instance.points = new WaveformPoints(instance);\n  instance.zoom = new ZoomController(instance, instance.options.zoomLevels);\n  instance.views = new ViewController(instance); // Setup the UI components\n\n  var waveformBuilder = new WaveformBuilder(instance);\n  player.init(instance).then(function () {\n    waveformBuilder.init(instance.options, function (err, waveformData) {\n      if (err) {\n        if (callback) {\n          callback(err);\n        }\n\n        return;\n      }\n\n      instance._waveformData = waveformData;\n\n      if (overviewContainer) {\n        instance.views.createOverview(overviewContainer);\n      }\n\n      if (zoomviewContainer) {\n        instance.views.createZoomview(zoomviewContainer);\n      }\n\n      instance._addWindowResizeHandler();\n\n      if (opts.segments) {\n        instance.segments.add(opts.segments);\n      }\n\n      if (opts.points) {\n        instance.points.add(opts.points);\n      }\n\n      if (opts.emitCueEvents) {\n        instance._cueEmitter = new CueEmitter(instance);\n      } // Allow applications to attach event handlers before emitting events,\n      // when initialising with local waveform data.\n\n\n      setTimeout(function () {\n        instance.emit('peaks.ready');\n      }, 0);\n      callback(null, instance);\n    });\n  }).catch(function (err) {\n    if (callback) {\n      callback(err);\n    }\n  });\n};\n\nPeaks.prototype._setOptions = function (opts) {\n  if (!isObject(opts)) {\n    return new TypeError('Peaks.init(): The options parameter should be an object');\n  }\n\n  if (!opts.player) {\n    if (!opts.mediaElement) {\n      return new Error('Peaks.init(): Missing mediaElement option');\n    }\n\n    if (!(opts.mediaElement instanceof HTMLMediaElement)) {\n      // eslint-disable-next-line max-len\n      return new TypeError('Peaks.init(): The mediaElement option should be an HTMLMediaElement');\n    }\n  }\n\n  if (opts.container) {\n    // eslint-disable-next-line max-len\n    return new Error('Peaks.init(): The container option has been removed, please use containers instead');\n  }\n\n  if (opts.logger && !isFunction(opts.logger)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): The logger option should be a function');\n  }\n\n  if (opts.segments && !Array.isArray(opts.segments)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.segments must be an array of segment objects');\n  }\n\n  if (opts.points && !Array.isArray(opts.points)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.points must be an array of point objects');\n  }\n\n  extendOptions(this.options, opts);\n  this.options.overview = getOverviewOptions(opts);\n  this.options.zoomview = getZoomviewOptions(opts);\n\n  if (!Array.isArray(this.options.zoomLevels)) {\n    return new TypeError('Peaks.init(): The zoomLevels option should be an array');\n  } else if (this.options.zoomLevels.length === 0) {\n    return new Error('Peaks.init(): The zoomLevels array must not be empty');\n  } else {\n    if (!isInAscendingOrder(this.options.zoomLevels)) {\n      return new Error('Peaks.init(): The zoomLevels array must be sorted in ascending order');\n    }\n  }\n\n  this._logger = this.options.logger;\n};\n/**\n * Remote waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Local waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Web Audio options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} WebAudioOptions\n * @global\n * @property {AudioContext=} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} PeaksSetSourceOptions\n * @global\n * @property {String=} mediaUrl\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Changes the audio or video media source associated with the {@link Peaks}\n * instance.\n *\n * @see SetSourceHandler\n *\n * @param {PeaksSetSourceOptions} options\n * @param {Function} callback\n */\n\n\nPeaks.prototype.setSource = function (options, callback) {\n  var self = this;\n\n  this.player._setSource(options).then(function () {\n    if (!options.zoomLevels) {\n      options.zoomLevels = self.options.zoomLevels;\n    }\n\n    var waveformBuilder = new WaveformBuilder(self);\n    waveformBuilder.init(options, function (err, waveformData) {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      self._waveformData = waveformData;\n      ['overview', 'zoomview'].forEach(function (viewName) {\n        var view = self.views.getView(viewName);\n\n        if (view) {\n          view.setWaveformData(waveformData);\n        }\n      });\n      self.zoom.setZoomLevels(options.zoomLevels);\n      callback();\n    });\n  }).catch(function (err) {\n    callback(err);\n  });\n};\n\nPeaks.prototype.getWaveformData = function () {\n  return this._waveformData;\n};\n\nPeaks.prototype._addWindowResizeHandler = function () {\n  this._onResize = this._onResize.bind(this);\n  window.addEventListener('resize', this._onResize);\n};\n\nPeaks.prototype._onResize = function () {\n  this.emit('window_resize');\n};\n\nPeaks.prototype._removeWindowResizeHandler = function () {\n  window.removeEventListener('resize', this._onResize);\n};\n/**\n * Cleans up a Peaks instance after use.\n */\n\n\nPeaks.prototype.destroy = function () {\n  this._removeWindowResizeHandler();\n\n  if (this._keyboardHandler) {\n    this._keyboardHandler.destroy();\n  }\n\n  if (this.views) {\n    this.views.destroy();\n  }\n\n  if (this.player) {\n    this.player.destroy();\n  }\n\n  if (this._cueEmitter) {\n    this._cueEmitter.destroy();\n  }\n};\n\nexport { Peaks as default };\n","<script setup lang=\"ts\">\nimport { shallowRef, onMounted, type ShallowRef, onBeforeUnmount } from 'vue';\nimport Peaks, {\n  type PeaksInstance,\n  type PeaksOptions as PeaksOptions,\n} from 'peaks.js';\n\nconst props = defineProps<{\n  /** The audio source URL (for the \"simple\" mode)\n   * @remarks This URL is to be used internally with the default media slot\n   * (no slot template or external media element id is expected)\n   */\n  src?: string;\n\n  /** The unique identifier of an external zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElementId?: string;\n\n  /** The zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElementId?: string;\n\n  /** The overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external media element to use. (for the \"external\" mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElementId?: string;\n\n  /** The external media element to use. (for the \"external\" mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElement?: HTMLMediaElement;\n\n  /** The peaks options to use.\n   * @remarks The element references to the overview, zoomview and media element\n   * should not be provided, because these are handled internally by AudioPeaks.\n   * This removes the burden of management of the Vue ref lifecycle from the user.\n   * @devdoc Refs to HTML elements can only be accessed after mount.\n   * See https://vuejs.org/guide/essentials/template-refs.html#accessing-the-refs\n   */\n  options?: PeaksOptions;\n}>();\n\n/** The peaks instance MUST NOT be deeply reactive for performance reasons.\n * @devdoc See https://github.com/bbc/peaks.js/issues/406#issuecomment-1225885020 in peaks.js\n * and this documentation https://vuejs.org/api/reactivity-advanced.html#shallowref about shallow references\n */\nconst peaksInstance = shallowRef<PeaksInstance | undefined>(undefined);\nconst overview = shallowRef(null);\nconst overviewSlot = shallowRef(null);\nconst zoomview = shallowRef(null);\nconst zoomviewSlot = shallowRef(null);\nconst audio = shallowRef(null);\nconst audioSlot = shallowRef(null);\nconst zoomLevel = shallowRef<number | undefined>(undefined);\n\ndefineExpose({\n  /** The peaks.js instance is deliberately exposed, to allow direct use of the various APIs.\n   * @remarks The instance is only available after the mounted lifecycle event and once\n   * peaks.js has properly initialized.\n   */\n  peaksInstance,\n});\n\nonMounted(() => {\n  createPeaksInstance();\n});\n\n\nonBeforeUnmount(() => {\n  destroyPeaksInstance();\n});\n\nconst emit = defineEmits<{\n  /**\n * Triggers in case the initialization fails\n *\n * @property {Error} error The error\n */\n  (e: 'error', error: Error): void\n}>();\n\n/** Initializes the peaks instance\n * @remarks If no options are provided by the respective component property, some default options are used.\n * @devdoc Must be called only after mount, because the expected HTML elements must be addressable already by their id.\n */\nfunction createPeaksInstance(): void {\n  console.debug('AudioPeaks::createPeaksInstance:options:', props.options);\n\n  const overviewElement = get<HTMLDivElement>(\n    props.overviewElement,\n    props.overviewElementId,\n    overview,\n    overviewSlot,\n    'div'\n  );\n  const zoomviewElement = get<HTMLDivElement>(\n    props.zoomviewElement,\n    props.zoomviewElementId,\n    zoomview,\n    zoomviewSlot,\n    'div'\n  );\n  const mediaElement = get<HTMLMediaElement>(\n    props.mediaElement,\n    props.mediaElementId,\n    audio,\n    audioSlot,\n    'audio'\n  );\n\n  if (props.options) {\n    (props.options.containers = {\n      overview: overviewElement,\n      zoomview: zoomviewElement,\n    }),\n      (props.options.mediaElement = mediaElement);\n  }\n\n  const options: PeaksOptions = props.options\n    ? props.options\n    : {\n      containers: {\n        overview: overviewElement,\n        zoomview: zoomviewElement,\n      },\n      mediaElement: mediaElement,\n      webAudio: {\n        audioContext: new AudioContext(),\n      },\n      zoomLevels: [256, 512, 1024, 2048, 4096],\n    };\n\n  Peaks.init(options, function (err: Error, peaks: PeaksInstance | undefined): void {\n    if (err) {\n      console.error(err);\n      emit('error', err)\n    }\n    peaksInstance.value = peaks;\n    zoomLevel.value = peaks?.zoom.getZoom();\n  });\n}\n\n/** Destroys the peaks instance\n */\nfunction destroyPeaksInstance(): void {\n  peaksInstance.value?.destroy();\n}\n\n/** Gets the HTML element to act upon, using the first of the provided options\n * @remarks This is either (first in the following order)\n * - the element provided as object\n * - the element provided by id\n * - the element from the (internal) slot template\n * - the first element from a provided external slot template\n * If none is found 'undefined' is returned, which will throw an error in peaks.js\n * @param {HTMLElement} elm The element\n * @param {string | undefined} htmlElementId The HTML element id\n * @param {ShallowRef} ref The reference to the element\n * @param {ShallowRef} slotRef The reference to the slot containing the element\n * @param {string} slotRefHtmlTagName The required tag name of the element in the slot\n * @return The found element or undefined if none is found\n */\nfunction get<HEType extends HTMLElement>(\n  elm: HEType | undefined,\n  htmlElementId: string | undefined,\n  ref: ShallowRef,\n  slotRef: ShallowRef,\n  slotRefHtmlTagName: string\n): HEType | undefined {\n  if (elm) {\n    console.debug('AudioPeaks::Found elm: ', elm);\n    return elm;\n  }\n  if (htmlElementId) {\n    console.debug('AudioPeaks::Found element by id: ', htmlElementId);\n    return document.getElementById('' + htmlElementId) as unknown as HEType;\n  }\n\n  // The reference can be used only with the default slot\n  const elementByRef = ref.value as unknown as HEType;\n  if (elementByRef) {\n    console.debug('AudioPeaks::Found element by Ref: ', elementByRef);\n    return elementByRef;\n  }\n\n  // With external slot templates, the element can not be referenced with a ref directly\n  // (because external slot templates can not set refs to enclosed elements from the outside)\n  // First get a reference to the slot then find the first element of the given type\n  const externalSlot = slotRef.value as unknown as HTMLElement;\n  if (externalSlot) {\n    const elementByFirstInSlot = externalSlot.getElementsByTagName(\n      slotRefHtmlTagName\n    )[0] as unknown as HEType;\n    if (elementByFirstInSlot) {\n      console.debug(\n        'AudioPeaks::Found element by first in slot: ',\n        elementByFirstInSlot\n      );\n      return elementByFirstInSlot;\n    }\n  }\n}\n\nfunction zoomIn(): void {\n  peaksInstance.value?.zoom.zoomIn();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\nfunction zoomOut(): void {\n  peaksInstance.value?.zoom.zoomOut();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\n</script>\n\n<template>\n  <div>\n    <div ref=\"overviewSlot\">\n      <!-- @slot Named slot for the overview element. If an external overview element is referenced, the overview slot is not used -->\n      <slot name=\"overview\" v-if=\"!props.overviewElementId && !props.overviewElement\">\n        <div class=\"peaks-overview\" ref=\"overview\"></div>\n      </slot>\n    </div>\n\n    <div ref=\"zoomviewSlot\">\n      <!-- @slot Named slot for the zoomview element. If an external zoomview element is referenced, the zoomview slot is not used -->\n      <slot name=\"zoomview\" v-if=\"!props.zoomviewElementId && !props.zoomviewElement\">\n        <div class=\"peaks-zoomview\" ref=\"zoomview\"></div>\n      </slot>\n    </div>\n\n    <div ref=\"audioSlot\">\n      <!-- @slot Default slot for the media element. If an external media element is referenced, the default slot is not used -->\n      <slot name=\"default\" v-if=\"!props.mediaElementId && !props.mediaElement\">\n        <!-- The default content slot for the \"slot\" mode -->\n        <audio class=\"peaks-audio\" ref=\"audio\" controls>\n          <source :src=\"src\" />\n        </audio>\n      </slot>\n    </div>\n    <!-- @slot Named slot for the zoom controls.  -->\n    <slot name=\"controls\">\n      <div class=\"peaks-controls\">\n        <button @click=\"zoomIn()\">Zoom in</button>&nbsp;\n        <button @click=\"zoomOut()\">Zoom out</button>&nbsp;\n        <span>Zoom level: {{ zoomLevel }}</span>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<style scoped>\n.peaks-audio,\n.peaks-overview,\n.peaks-zoomview {\n  width: 100%;\n}\n\n.peaks-overview,\n.peaks-zoomview {\n  height: 100px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { PeaksOptions } from 'peaks.js';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\n/** The configuration options \n* @remarks The colors are taken from a Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: '#3298dc',\n    playedWaveformColor: '#238cd1',\n    highlightColor: 'hsl(206, 70%, 96%)',\n    highlightOffset: 0,\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n    showPlayheadTime: false\n  },\n  zoomview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: '#f1b70e',\n    playedWaveformColor: '#d9a50d',\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n    playheadTextColor: '#e43725',\n    showPlayheadTime: true\n  },\n  /* mediaElement is handled separately by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [256],\n  playheadColor: '#e43725'\n}\n</script>\n<template>\n  <div class=\"columns is-desktop\">\n    <div class=\"column\">\n      <p>\n        To fully customize the appearance and behavior, the Peaks.js <a\n          href=\"https://github.com/bbc/peaks.js#Configuration\">configuration options</a> can be provided.\n      </p>\n      <p> Note, that you should omit the the\n        <span class=\"code\">containers.overview</span>,\n        <span class=\"code\">containers.zoomview</span> and\n        <span class=\"code\">mediaElement</span> options, since these are set internally, depending on the view mode\n        (explained\n        with the basic examples).\n      </p>\n      <p>The options allow you for example to\n      <ul>\n        <li>customize the waveform styles</li>\n        <li>define scrolling behavior</li>\n        <li>use precomputed waveform data</li>\n      </ul>\n      </p>\n    </div>\n    <div class=\"column\">\n\n      <highlightjs language='vue-typescript' code=\"/** The configuration options \n* @remarks The colors are taken from a Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: 'hsl(204, 86%, 53%)',\n    playedWaveformColor: 'hsl(204, 71%, 39%)',\n    highlightColor: 'hsl(206, 70%, 96%)',\n    highlightOffset: 0,\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  zoomview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: 'hsl(48, 71%, 48%)',\n    playedWaveformColor: 'hsl(48, 53%, 31%)',\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  /* mediaElement is handled separately by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [256],\n  playheadColor: 'hsl(348, 100%, 61%)'\n}\" />\n      <highlightjs language='vue-template' code=\"<AudioPeaks :options='options'>\n  <audio controls>\n    <source src='https://domain/file.mp3' />\n  </audio>\n  <template #controls><template />\n    <!-- Using an empty template on a slot \n         prevents the default content -->\n  </template>\n</AudioPeaks>\" />\n    </div>\n    <div class=\"column\">\n      <div class=\"box\">\n        <AudioPeaks :options='options'>\n          <audio controls>\n            <source src='https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3' />\n          </audio>\n          <template #controls><template />\n            <!-- Using an empty template on a slot \n                 prevents the default content -->\n          </template>\n        </AudioPeaks>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang='ts'>\nimport type { PeaksOptions } from 'peaks.js';\nimport { computed, reactive, shallowRef } from 'vue';\nimport AudioPeaks from './AudioPeaks.vue';\n\n/** Reference to the AudioPeaks component */\nconst audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()\n\n/** Accessor to the peaks instance from the AudioPeaks component\n * @remarks Allows access to the peaks.js instance to call various functions on the API.\n */\nconst peaksInstance = computed(() => audioPeaks.value?.peaksInstance);\nconst audio = shallowRef<HTMLAudioElement | null>(null);\nconst state = reactive({ isPlaying: false, canPlay: false, bookmark: 0, lastErrorMessage: '' });\n\nconst props = defineProps<{\n  /** The media source URL\n   */\n  src?: string;\n}>();\n\n/** The configuration options\n */\nconst options: PeaksOptions = {\n  overview: {\n    /* The container div is provided and handled internally by AudioPeaks */\n    waveformColor: '#2ecc71',\n    playedWaveformColor: '#29b765',\n    showAxisLabels: false,\n    axisGridlineColor: 'hsl(0, 0%, 100%)',\n    playheadTextColor: '#e43725',\n    showPlayheadTime: true\n  },\n  showPlayheadTime: true,\n  /* The widget does not use a zoom area */\n\n  /* The mediaElement is provided and handled internally by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  playheadColor: '#e43725',\n};\n\n\n\n/** Toggles playback\n * @devdoc Directly uses the audio element instead of the peaks.js player API \n * to allow control even when the waveform is not yet ready.\n */\nfunction togglePlayback() {\n  state.isPlaying = !state.isPlaying;\n  if (state.isPlaying) {\n    audio.value?.play();\n  } else {\n    audio.value?.pause();\n  }\n}\n\n/** Sets a bookmark at the current position\n */\nfunction setBookmark() {\n  const currentTime = peaksInstance.value?.player.getCurrentTime();\n  if (currentTime) {\n    peaksInstance.value?.points.add({\n      time: currentTime,\n      editable: true,\n      labelText: 'Bookmark',\n      color: '#000000'\n    });\n    state.bookmark = currentTime;\n  }\n}\n\n/** Seeks to the stored bookmark\n */\nfunction seekBookmark() {\n  peaksInstance.value?.player.seek(state.bookmark);\n}\n</script>\n<template>\n  <div class='widget'>\n    <button class='item' @click='togglePlayback()' :disabled='!state.canPlay'>\n      <!-- pause icon -->\n      <svg v-if='state.isPlaying' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M14,19H18V5H14M6,19H10V5H6V19Z' />\n      </svg>\n      <!-- play icon -->\n      <svg v-else style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M8,5.14V19.14L19,12.14L8,5.14Z' />\n      </svg>\n    </button>\n    <button class='item' @click='setBookmark()' :disabled='!state.canPlay' title=\"set bookmark\">\n      <!-- bookmark icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M14.55 20C15 20.76 15.5 21.44 15.91 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V10.22C19.5 10.08 19 10 18.5 10C18.33 10 18.17 10 18 10.03V4H13V12L10.5 9.75L8 12V4H6V20H14.55M22 15.5C22 18.1 18.5 22 18.5 22S15 18.1 15 15.5C15 13.6 16.6 12 18.5 12S22 13.6 22 15.5M19.7 15.6C19.7 15 19.1 14.4 18.5 14.4S17.3 14.9 17.3 15.6C17.3 16.2 17.8 16.8 18.5 16.8S19.8 16.2 19.7 15.6Z' />\n      </svg>\n    </button>\n    <button class='item' @click='seekBookmark()' :disabled='!state.bookmark' title='seek bookmark'>\n      <!-- bookmark seek icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M13.09 20C13.21 20.72 13.46 21.39 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V13.09C19.67 13.04 19.34 13 19 13C18.66 13 18.33 13.04 18 13.09V4H13V12L10.5 9.75L8 12V4H6V20H13.09M17 16V22L22 19L17 16Z' />\n      </svg>\n    </button>\n    <AudioPeaks overviewElementId='widgetOverview' ref='audioPeaks' :options='options'\n      @error='(err) => state.lastErrorMessage = err.message'>\n      <template #zoomview>\n        <template />\n      </template>\n      <template #default>\n        <audio ref='audio' @canplay='\n          () => {\n            state.canPlay = true;\n          }\n        '>\n          <source :src='props.src' />\n        </audio>\n      </template>\n      <template #controls>\n        <template />\n      </template>\n    </AudioPeaks>\n    <div class='item peaks-overview' id='widgetOverview'>\n      <div v-if='props.src' :title='`Loading and rendering from ${props.src}`'>\n        <!-- spinner icon -->\n        <svg class='spin' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n          <path fill='currentColor'\n            d='M12 19C13.1 19 14 19.9 14 21S13.1 23 12 23 10 22.1 10 21 10.9 19 12 19M12 1C13.1 1 14 1.9 14 3S13.1 5 12 5 10 4.1 10 3 10.9 1 12 1M6 16C7.1 16 8 16.9 8 18S7.1 20 6 20 4 19.1 4 18 4.9 16 6 16M3 10C4.1 10 5 10.9 5 12S4.1 14 3 14 1 13.1 1 12 1.9 10 3 10M6 4C7.1 4 8 4.9 8 6S7.1 8 6 8 4 7.1 4 6 4.9 4 6 4M18 16C19.1 16 20 16.9 20 18S19.1 20 18 20 16 19.1 16 18 16.9 16 18 16M21 10C22.1 10 23 10.9 23 12S22.1 14 21 14 19 13.1 19 12 19.9 10 21 10M18 4C19.1 4 20 4.9 20 6S19.1 8 18 8 16 7.1 16 6 16.9 4 18 4Z' />\n        </svg>\n      </div>\n      <span v-else>no media available</span>\n      <span v-if='state.lastErrorMessage' class='has-text-danger'>{{state.lastErrorMessage}}</span>\n    </div>\n  </div>\n</template>\n<style scoped>\n.widget {\n  height: 48px;\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}\n\n.item {\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  border-radius: 8px;\n  cursor: pointer;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center;\n}\n\n/** The overview item should use all available space, including in the item itself */\n.item.peaks-overview {\n  flex-grow: 1;\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.widget .item:not(:last-child) {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  margin-right: -1px;\n}\n\n.widget .item:not(:first-child) {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(359deg);\n  }\n}\n\n.spin {\n  animation: spin 6s linear infinite;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { reactive } from 'vue';\nimport AudioPeaksWidget from '../components/AudioPeaksWidget.vue';\nconst state = reactive({ url: '' });\n</script>\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        This is a showcase for a simple snippets player. The player is available\n        with vue-peaks as ready-made component, which you can use as-is or adapt it to your needs.\n      </p>\n    </div>\n    <div class=\"column\">\n      <highlightjs language='vue-typescript' code=\"import AudioPeaksWidget \nfrom 'vue-peaks/src/components/AudioPeaksWidget.vue';\nconst state = reactive({ url: '' });\" />\n      <highlightjs language='vue-template' code=\"<input type='url' \n       v-model='state.url' \n       placeholder='Paste an URL to a media file' />\n<!-- The :key property makes sure that the component \n     is re-rendered on every URL change, causing\n     a re-render of the waveform -->       \n<AudioPeaksWidget :src='state.url' \n                  :key='state.url'>\n</AudioPeaksWidget>\" />\n    </div>\n    <div class=\"column\">\n      <div class=\"box\">\n        <div class=\"field\">\n          <div class=\"control\">\n            <input class=\"input\" type=\"url\" v-model=\"state.url\" placeholder=\"Paste an URL to a media file\" />\n          </div>\n        </div>\n        <!-- The :key property makes sure that the component \n        is re-rendered on every URL change, causing\n        a re-render of the waveform -->\n        <AudioPeaksWidget :src=\"state.url\" :key=\"state.url\">\n        </AudioPeaksWidget>\n      </div>\n    </div>\n  </div>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>For your reference, here's the complete Widget SFC (as available from <a\n          href='https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaksWidget.vue'>GitHub</a>)</p>\n      <highlightjs language='vue-sfc' code=\"<script setup lang='ts'>\nimport type { PeaksOptions } from 'peaks.js';\nimport { computed, reactive, shallowRef } from 'vue';\nimport AudioPeaks from './AudioPeaks.vue';\n\n/** Reference to the AudioPeaks component */\nconst audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()\n\n/** Accessor to the peaks instance from the AudioPeaks component\n * @remarks Allows access to the peaks.js instance to call various functions on the API.\n */\nconst peaksInstance = computed(() => audioPeaks.value?.peaksInstance);\nconst audio = shallowRef<HTMLAudioElement | null>(null);\nconst state = reactive({ isPlaying: false, canPlay: false, bookmark: 0, lastErrorMessage: '' });\n\nconst props = defineProps<{\n  /** The media source URL\n   */\n  src?: string;\n}>();\n\n/** The configuration options\n */\nconst options: PeaksOptions = {\n  overview: {\n    /* The container div is provided and handled internally by AudioPeaks */\n    waveformColor: '#2ecc71',\n    playedWaveformColor: '#29b765',\n    showAxisLabels: false,\n    axisGridlineColor: 'hsl(0, 0%, 100%)',\n    playheadTextColor: '#e43725',\n    showPlayheadTime: true\n  },\n  showPlayheadTime: true,\n  /* The widget does not use a zoom area */\n\n  /* The mediaElement is provided and handled internally by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  playheadColor: '#e43725',\n};\n\n\n\n/** Toggles playback\n * @devdoc Directly uses the audio element instead of the peaks.js player API \n * to allow control even when the waveform is not yet ready.\n */\nfunction togglePlayback() {\n  state.isPlaying = !state.isPlaying;\n  if (state.isPlaying) {\n    audio.value?.play();\n  } else {\n    audio.value?.pause();\n  }\n}\n\n/** Sets a bookmark at the current position\n */\nfunction setBookmark() {\n  const currentTime = peaksInstance.value?.player.getCurrentTime();\n  if (currentTime) {\n    peaksInstance.value?.points.add({\n      time: currentTime,\n      editable: true,\n      labelText: 'Bookmark',\n      color: '#000000'\n    });\n    state.bookmark = currentTime;\n  }\n}\n\n/** Seeks to the stored bookmark\n */\nfunction seekBookmark() {\n  peaksInstance.value?.player.seek(state.bookmark);\n}\n</script>\n<template>\n  <div class='widget'>\n    <button class='item' @click='togglePlayback()' :disabled='!state.canPlay'>\n      <!-- pause icon -->\n      <svg v-if='state.isPlaying' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M14,19H18V5H14M6,19H10V5H6V19Z' />\n      </svg>\n      <!-- play icon -->\n      <svg v-else style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M8,5.14V19.14L19,12.14L8,5.14Z' />\n      </svg>\n    </button>\n    <button class='item' @click='setBookmark()' :disabled='!state.canPlay' title='set bookmark'>\n      <!-- bookmark icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M14.55 20C15 20.76 15.5 21.44 15.91 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V10.22C19.5 10.08 19 10 18.5 10C18.33 10 18.17 10 18 10.03V4H13V12L10.5 9.75L8 12V4H6V20H14.55M22 15.5C22 18.1 18.5 22 18.5 22S15 18.1 15 15.5C15 13.6 16.6 12 18.5 12S22 13.6 22 15.5M19.7 15.6C19.7 15 19.1 14.4 18.5 14.4S17.3 14.9 17.3 15.6C17.3 16.2 17.8 16.8 18.5 16.8S19.8 16.2 19.7 15.6Z' />\n      </svg>\n    </button>\n    <button class='item' @click='seekBookmark()' :disabled='!state.bookmark' title='seek bookmark'>\n      <!-- bookmark seek icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M13.09 20C13.21 20.72 13.46 21.39 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V13.09C19.67 13.04 19.34 13 19 13C18.66 13 18.33 13.04 18 13.09V4H13V12L10.5 9.75L8 12V4H6V20H13.09M17 16V22L22 19L17 16Z' />\n      </svg>\n    </button>\n    <AudioPeaks overviewElementId='widgetOverview' ref='audioPeaks' :options='options'\n      @error='(err) => state.lastErrorMessage = err.message'>\n      <template #zoomview>\n        <template />\n      </template>\n      <template #default>\n        <audio ref='audio' @canplay='\n          () => {\n            state.canPlay = true;\n          }\n        '>\n          <source :src='props.src' />\n        </audio>\n      </template>\n      <template #controls>\n        <template />\n      </template>\n    </AudioPeaks>\n    <div class='item peaks-overview' id='widgetOverview'>\n      <div v-if='props.src' :title='`Loading and rendering from ${props.src}`'>\n        <!-- spinner icon -->\n        <svg class='spin' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n          <path fill='currentColor'\n            d='M12 19C13.1 19 14 19.9 14 21S13.1 23 12 23 10 22.1 10 21 10.9 19 12 19M12 1C13.1 1 14 1.9 14 3S13.1 5 12 5 10 4.1 10 3 10.9 1 12 1M6 16C7.1 16 8 16.9 8 18S7.1 20 6 20 4 19.1 4 18 4.9 16 6 16M3 10C4.1 10 5 10.9 5 12S4.1 14 3 14 1 13.1 1 12 1.9 10 3 10M6 4C7.1 4 8 4.9 8 6S7.1 8 6 8 4 7.1 4 6 4.9 4 6 4M18 16C19.1 16 20 16.9 20 18S19.1 20 18 20 16 19.1 16 18 16.9 16 18 16M21 10C22.1 10 23 10.9 23 12S22.1 14 21 14 19 13.1 19 12 19.9 10 21 10M18 4C19.1 4 20 4.9 20 6S19.1 8 18 8 16 7.1 16 6 16.9 4 18 4Z' />\n        </svg>\n      </div>\n      <span v-else>no media available</span>\n      <span v-if='state.lastErrorMessage' class='has-text-danger'>{{state.lastErrorMessage}}</span>\n    </div>\n  </div>\n</template>\n<style scoped>\n.widget {\n  height: 48px;\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}\n\n.item {\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  border-radius: 8px;\n  cursor: pointer;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center;\n}\n\n/** The overview item should use all available space, including in the item itself */\n.item.peaks-overview {\n  flex-grow: 1;\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.widget .item:not(:last-child) {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  margin-right: -1px;\n}\n\n.widget .item:not(:first-child) {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(359deg);\n  }\n}\n\n.spin {\n  animation: spin 6s linear infinite;\n}\n</style>\" />\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { reactive } from 'vue';\n\nconst state = reactive({ url: '' });\n\n</script>\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>You might need to access the peaks.js instance to call various functions on their extensive <a\n          href=\"https://github.com/bbc/peaks.js#api>\">API</a>.</p>\n      <p>\n        In the hosting component, get a reference to the AudioPeaks child component and, for convenience, a directly\n        computed\n        property to the actual peaks.js instance:\n      </p>\n      <p>\n        <highlightjs language='vue-typescript' code=\"/** Reference to the AudioPeaks component */\nconst audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()\n\n/** Accessor to the peaks instance from the AudioPeaks component\n * @remarks Allows access to the peaks.js instance \n * to call various functions on the API.\n */\nconst peaksInstance = computed(() => audioPeaks.value?.peaksInstance);\" />\n      </p>\n      <p>\n        Now you can access the instance and it's methods by using the reference, like in this example:\n      </p>\n      <p>\n        <highlightjs language='vue-typescript' code=\"/** Sets a bookmark at the current position\n */\nfunction setBookmark() {\n  const currentTime = peaksInstance.value?.player.getCurrentTime();\n  if (currentTime) {\n    peaksInstance.value?.points.add({\n      time: currentTime\n    });\n    state.bookmark = currentTime;\n  }\n}\" />\n      </p>\n      <p>\n        Remember, that the instance is available only after the child has been mounted and peaks.js has been\n        initialized.\n      </p>\n    </div>\n  </div>\n</template>\n ","<script setup lang='ts'>\nimport { reactive } from 'vue';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\nconst state = reactive({\n  isRendered: true,\n  mediaSource: ''\n})\n\nfunction toggleRendering() {\n  const currentState = state.isRendered;\n  console.log('CurrentState', currentState);\n  state.isRendered = !currentState;\n}\n</script>\n  \n<template>\n  <div class='columns is-desktop'>\n    <div class='column'>\n      <p>\n        AudioPeaks currently does not support reactivity for the options. Still, you can use Vue's reactivity on the\n        component\n        itself. You can for example:\n      </p>\n      <p>\n      <ul>\n        <li>Conditionally render the component (by using Vue's built-in\n          <span class='code'>v-if</span> directive). This also releases memory used.\n        </li>\n        <li>Replace the media source by setting the <span class='code'>src</span> attribute of the audio element. When\n          you also set the <span class='code'>:key</span> property to a new value, the component re-renders. <br />This\n          is called the key-changing\n          technique, and is required to trigger an update of the waveform.</li>\n      </ul>\n      </p>\n    </div>\n    <div class='column is-narrow'>\n      <div class='box'>\n        <div class='field'>\n          <label class='label is-multiline'>Create\n            and destroy an AudioPeaks instance:</label>\n          <div class='control'>\n            <button @click='toggleRendering()' class='button  is-danger'>\n              <span>{{ state.isRendered ? 'Destroy' : 'Render' }}</span>\n            </button>\n          </div>\n        </div>\n        <div class='field'>\n          <label class='label is-multiline'>Change the media URL (triggers re-rendering).</label>\n          <div class='control'>\n            <div class='select is-danger'>\n              <select v-model='state.mediaSource' class='highlight'>\n                <option value=''>-select option-</option>\n                <option value='https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3'>An MP3 music file\n                </option>\n                <option value='https://suterma.github.io/vue-peaks/lidija_roos-decisions.ogg'>An OGG music file\n                </option>\n                <option value='https://twit.cachefly.net/audio/sn/sn0886/sn0886.mp3'>Security Now! Podcast,\n                  Episode #886 (112 min, 55.5MB, MP3)</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <AudioPeaks v-if='state.isRendered' :key='state.mediaSource'>\n          <audio controls :src='state.mediaSource'></audio>\n          <template #zoomview>\n            <template />\n          </template>\n          <template #controls>\n            <template />\n          </template>\n        </AudioPeaks>\n      </div>\n    </div>\n    <div class='column'>\n      <highlightjs language='vue-template' code=\"<div class='field'>\n  <label class='label'>Example button to create\n    and destroy an AudioPeaks instance:</label>\n  <div class='control'>\n    <button @click='toggleRendering()' class='button  is-danger'>\n      <span>{{ state.isRendered ? 'Destroy' : 'Render' }}</span>\n    </button>\n  </div>\n</div>\n<div class='field'>\n  <label class='label'>Example menu to change the media URL,\n    with automatic re-rendering of the\n    component.</label>\n  <div class='control'>\n    <div class='select is-danger'>\n      <select v-model='state.mediaSource' class='highlight'>\n        <option value=''>-select option-</option>\n        <option value='https://example.com/file1.mp3'>\n          An MP3 music file\n        </option>\n        <option value='https://example.com/file2.ogg'>\n          An OGG music file\n        </option>\n        <option value='https://example.com/file3.mp3'>\n          Podcast\n        </option>\n      </select>\n    </div>\n  </div>\n</div>\n<AudioPeaks v-if='state.isRendered' :key='state.mediaSource'>\n  <audio controls :src='state.mediaSource'></audio>\n  <template #zoomview>\n    <template />\n  </template>\n  <template #controls>\n    <template />\n  </template>\n</AudioPeaks>\" />\n    </div>\n  </div>\n\n\n</template>\n  "," \n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        vue-peaks aims to simplify the use of <a target=\"_blank\" href=\"https://github.com/bbc/peaks.js/\">peaks.js</a>\n        in a <a target=\"_blank\" href=\" https://vuejs.org/\">Vue3</a> environment. It provides a <a target=\"_blank\"\n          href=\"    https://vuejs.org/guide/scaling-up/sfc.html\">Single File Component\n          (SFC)</a>,\n        <span class='code'>AudioPeaks</span>.\n      </p>\n      <p>\n        Explore the below examples or see the\n        <a target=\"_blank\" href=\"https://github.com/suterma/vue-peaks#vue-peaks\">vue-peaks GitHub repository</a>.\n      </p>\n\n    </div>\n    <div class=\"column\">\n      <p>\n\n        <highlightjs language='bash' code=\"npm install vue-peaks\n# peer dependencies of peaks.js\nnpm install konva\nnpm install waveform-data\" />\n      </p>\n      <p>\n        Installing vue-peaks also installs <a target=\"_blank\" href=\"https://github.com/bbc/peaks.js/\">peaks.js</a> as a\n        dependency. However, peaks.js uses\n        <a target=\"_blank\" href=\"https://konvajs.org/\">Konva</a>\n        and\n        <a target=\"_blank\" href=\"https://github.com/bbc/waveform-data.js\">waveform-data</a>\n        as peer dependencies,\n        so you must also install those modules.\n      </p>\n    </div>\n  </div>\n</template>\n"," \n<template>\n  <p>This project uses</p>\n  <ul>\n    <li>\n      <a href=\"https://github.com/bbc/peaks.js/\" target=\"_blank\">peaks.js</a>,\n      a client-side JavaScript component to display and interact with audio waveforms in the browser. (Released under\n      the LGPL-3.0 license, by the British Broadcasting Corporation and contributors)\n    </li>\n    <li>\n      <a href=\"https://vuejs.org/\" target=\"_blank\">Vue.js</a>, the\n      progressive JavaScript framework. (Released under the MIT\n      License, Copyright  2014-2021 Evan You)\n    </li>\n    <li> <a href=\"https://bulma.io/\" target=\"_blank\">Bulma</a>, the\n      modern CSS framework that just works. (Released under the\n      MIT License, by Jeremy Thomas)\n    </li>\n    <li>\n      <a href=\"https://jenil.github.io/bulmaswatch/\" target=\"_blank\">Bulmaswatch</a>, free themes for Bulma. (Released\n      under the MIT License,\n      by Jenil Gogari)\n    </li>\n    <li>\n      <a href=\"https://materialdesignicons.com/\" target=\"_blank\">Material Design Icons</a>, the original. Following\n      Google's Material Design\n      guidelines for system icons. (Icons released under the\n      Apache 2.0 License, by pictogrammers.com)\n    </li>\n    <li>\n      <a href=\"https://jestjs.io/\" target=\"_blank\"> Jest</a>, a\n      delightful JavaScript Testing Framework. (Released under the\n      MIT License, by Facebook)\n    </li>\n    <li>\n      Music from the Album \"Not For Sale\" by Lidija Roos (Released to the public, by Lidija Roos)\n    </li>\n\n    <li><a href=\"https://github.com/highlightjs/vue-plugin\" target=\"_blank\">@highlightjs/vue-plugin</a>, provides a\n      highlightjs component for use in your Vue.js 3 applications. (Released under the BSD-3-Clause license, by the\n      highlight.js team) </li>\n    <li><a href=\"https://github.com/microsoft/rushstack/tree/main/eslint/eslint-patch\"\n        target=\"_blank\">@rushstack/eslint-patch</a>, a patch that improves how ESLint loads plugins when working in a\n      monorepo with a reusable toolchain. (Released under the\n      MIT License, by Microsoft)</li>\n    <li><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" target=\"_blank\">@types/jsdom, @types/node</a>, the\n      repository\n      for high quality TypeScript type definitions. (Released under the\n      MIT License, by various contributors)</li>\n    <li><a href=\"https://github.com/vitejs/vite\" target=\"_blank\">vite, vitest, @vitejs/plugin-vue</a>, next Generation\n      Frontend Tooling. (Released under the\n      MIT License, by the vite team)\n    </li>\n    <li><a href=\"https://github.com/eslint/eslint\" target=\"_blank\">eslint</a>, a tool for identifying and reporting on\n      patterns found in ECMAScript/JavaScript code. (Released under the\n      MIT License, by the eslint team)\n    </li>\n    <li><a href=\"https://github.com/jsdom/jsdom\" target=\"_blank\">jsdom</a>, a pure-JavaScript implementation of many web\n      standards. (Released under the\n      MIT License, by the jsdom team)\n    </li>\n    <li><a href=\"https://github.com/mysticatea/npm-run-all\" target=\"_blank\">npm-run-all</a>, a CLI tool to run multiple\n      npm-scripts in parallel or sequential. (Released under the\n      MIT License, by Toru Nagashima)\n    </li>\n    <li><a href=\"https://github.com/prettier/prettier\" target=\"_blank\">prettier</a>, an opinionated Code Formatter.\n      (Released under the\n      MIT License, by the prettier team)\n    </li>\n    <li><a href=\"https://github.com/Microsoft/TypeScript\" target=\"_blank\">typescript</a>, a language for\n      application-scale JavaScript. (Released under the\n      Apache-2.0 license, by Microsoft)\n    </li>\n    <li><a href=\"https://github.com/johnsoncodehk/volar\" target=\"_blank\">vue-tsc</a>, high-performance tooling for Vue.\n      (Released under the\n      MIT License, by Johnson Chu)\n    </li>\n  </ul>\n\n  <p>Initial code is taken from</p>\n\n  <ul>\n    <li><a href=\"https://github.com/candeogi/peaks-vue-demo\" target=\"_blank\">peaks-vue-demo</a>, by Giovanni Candeo\n      (MIT-licensed)\n    </li>\n    <li><a href=\"https://github.com/thom4parisot/vue-waveform-template\" target=\"_blank\">vue-waveform-template</a>, by\n      Thomas Parisot (MIT-licensed)\n    </li>\n  </ul>\n\n</template>\n","<script setup lang=\"ts\">\n</script>\n\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        Vue-peaks offers it's own properties for customization. Plus you can configure the underlying peaks.js instance\n        via the options property (of type <span class='code'>PeaksOptions</span>).\n      </p>\n    </div>\n    <div class=\"column\">\n      <highlightjs language='vue-typescript' code=\"const props = defineProps<{\n  /** The audio source URL (for the 'simple' mode)\n   * @remarks This URL is to be used internally with the default media slot\n   * (no slot template or external media element id is expected)\n   */\n  src?: string;\n  /** The unique identifier of an external zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElementId?: string;\n  /** The zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElement?: HTMLDivElement;\n  /** The unique identifier of an external overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElementId?: string;\n  /** The overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElement?: HTMLDivElement;\n  /** The unique identifier of an external media element to use. \n   * (for the 'external' mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElementId?: string;\n  /** The external media element to use. (for the 'external' mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElement?: HTMLMediaElement;\n  /** The peaks options to use.\n   * @remarks The element references to the overview, zoomview and media element\n   * should not be provided, because these are handled internally by AudioPeaks.\n   * This removes the burden of management of the Vue ref lifecycle from the user.\n   * @devdoc Refs to HTML elements can only be accessed after mount.\n   * See https://vuejs.org/guide/essentials/template-refs.html#accessing-the-refs\n   */\n  options?: PeaksOptions;\n}>();\" />\n    </div>\n  </div>\n\n</template>\n ","/* eslint-disable no-multi-assign */\n\nfunction deepFreeze(obj) {\n  if (obj instanceof Map) {\n    obj.clear =\n      obj.delete =\n      obj.set =\n        function () {\n          throw new Error('map is read-only');\n        };\n  } else if (obj instanceof Set) {\n    obj.add =\n      obj.clear =\n      obj.delete =\n        function () {\n          throw new Error('set is read-only');\n        };\n  }\n\n  // Freeze self\n  Object.freeze(obj);\n\n  Object.getOwnPropertyNames(obj).forEach((name) => {\n    const prop = obj[name];\n    const type = typeof prop;\n\n    // Freeze prop if it is an object or function and also not already frozen\n    if ((type === 'object' || type === 'function') && !Object.isFrozen(prop)) {\n      deepFreeze(prop);\n    }\n  });\n\n  return obj;\n}\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope;\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  // sub-language\n  if (name.startsWith(\"language:\")) {\n    return name.replace(\"language:\", \"language-\");\n  }\n  // tiered scope: comment.line\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  // simple scope\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    const className = scopeToCSSClass(node.scope,\n      { prefix: this.classPrefix });\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addText(text)\n  - __addSublanguage(emitter, subLanguageName)\n  - startScope(scope)\n  - endScope()\n  - finalize()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /** @param {string} scope */\n  startScope(scope) {\n    this.openNode(scope);\n  }\n\n  endScope() {\n    this.closeNode();\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  __addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    if (name) node.scope = `language:${name}`;\n\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    this.closeAllNodes();\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    scope: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type {import(\"highlight.js/private\").KeywordDict} */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.8.0\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.__addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} scope\n     */\n    function emitKeyword(keyword, scope) {\n      if (keyword === \"\") return;\n\n      emitter.startScope(scope);\n      emitter.addText(keyword);\n      emitter.endScope();\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      if (!language.__emitTokens) {\n        top.matcher.considerAll();\n\n        for (;;) {\n          iterations++;\n          if (resumeScanAtSamePosition) {\n            // only regexes not matched previously will now be\n            // considered for a potential match\n            resumeScanAtSamePosition = false;\n          } else {\n            top.matcher.considerAll();\n          }\n          top.matcher.lastIndex = index;\n\n          const match = top.matcher.exec(codeToHighlight);\n          // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n          if (!match) break;\n\n          const beforeMatch = codeToHighlight.substring(index, match.index);\n          const processedCount = processLexeme(beforeMatch, match);\n          index = match.index + processedCount;\n        }\n        processLexeme(codeToHighlight.substring(index));\n      } else {\n        language.__emitTokens(codeToHighlight, emitter);\n      }\n\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language });\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  function boot() {\n    // if a highlight was requested before DOM was loaded, do now\n    if (wantsHighlight) highlightAll();\n  }\n\n  // make sure we are in the browser environment\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('DOMContentLoaded', boot, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function removePlugin(plugin) {\n    const index = plugins.indexOf(plugin);\n    if (index !== -1) {\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin,\n    removePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// Other names for the variable may break build script\nconst highlight = HLJS({});\n\n// returns a new instance of the highlighter to be used for extensions\n// check https://github.com/wooorm/lowlight/issues/47\nhighlight.newInstance = () => HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: 'gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ]),\n      IDENT_RE$1, regex.lookahead(/\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        className: 'attr',\n        begin: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\n/*\nLanguage: TypeScript\nAuthor: Panu Horsmalahti <panu.horsmalahti@iki.fi>\nContributors: Ike Ku <dempfi@yahoo.com>\nDescription: TypeScript is a strict superset of JavaScript\nWebsite: https://www.typescriptlang.org\nCategory: common, scripting\n*/\n\n/** @type LanguageFn */\nfunction typescript(hljs) {\n  const tsLanguage = javascript(hljs);\n\n  const IDENT_RE$1 = IDENT_RE;\n  const TYPES = [\n    \"any\",\n    \"void\",\n    \"number\",\n    \"boolean\",\n    \"string\",\n    \"object\",\n    \"never\",\n    \"symbol\",\n    \"bigint\",\n    \"unknown\"\n  ];\n  const NAMESPACE = {\n    beginKeywords: 'namespace',\n    end: /\\{/,\n    excludeEnd: true,\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const INTERFACE = {\n    beginKeywords: 'interface',\n    end: /\\{/,\n    excludeEnd: true,\n    keywords: {\n      keyword: 'interface extends',\n      built_in: TYPES\n    },\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const USE_STRICT = {\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use strict['\"]/\n  };\n  const TS_SPECIFIC_KEYWORDS = [\n    \"type\",\n    \"namespace\",\n    \"interface\",\n    \"public\",\n    \"private\",\n    \"protected\",\n    \"implements\",\n    \"declare\",\n    \"abstract\",\n    \"readonly\",\n    \"enum\",\n    \"override\"\n  ];\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.concat(TS_SPECIFIC_KEYWORDS),\n    literal: LITERALS,\n    built_in: BUILT_INS.concat(TYPES),\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n  const DECORATOR = {\n    className: 'meta',\n    begin: '@' + IDENT_RE$1,\n  };\n\n  const swapMode = (mode, label, replacement) => {\n    const indx = mode.contains.findIndex(m => m.label === label);\n    if (indx === -1) { throw new Error(\"can not find mode to replace\"); }\n\n    mode.contains.splice(indx, 1, replacement);\n  };\n\n\n  // this should update anywhere keywords is used since\n  // it will be the same actual JS object\n  Object.assign(tsLanguage.keywords, KEYWORDS$1);\n\n  tsLanguage.exports.PARAMS_CONTAINS.push(DECORATOR);\n  tsLanguage.contains = tsLanguage.contains.concat([\n    DECORATOR,\n    NAMESPACE,\n    INTERFACE,\n  ]);\n\n  // TS gets a simpler shebang rule than JS\n  swapMode(tsLanguage, \"shebang\", hljs.SHEBANG());\n  // JS use strict rule purposely excludes `asm` which makes no sense\n  swapMode(tsLanguage, \"use_strict\", USE_STRICT);\n\n  const functionDeclaration = tsLanguage.contains.find(m => m.label === \"func.def\");\n  functionDeclaration.relevance = 0; // () => {} is more typical in TypeScript\n\n  Object.assign(tsLanguage, {\n    name: 'TypeScript',\n    aliases: [\n      'ts',\n      'tsx',\n      'mts',\n      'cts'\n    ]\n  });\n\n  return tsLanguage;\n}\n\nexport { typescript as default };\n","/*\nLanguage: HTML, XML\nWebsite: https://www.w3.org/XML/\nCategory: common, web\nAudit: 2020\n*/\n\n/** @type LanguageFn */\nfunction xml(hljs) {\n  const regex = hljs.regex;\n  // XML names can have the following additional letters: https://www.w3.org/TR/xml/#NT-NameChar\n  // OTHER_NAME_CHARS = /[:\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]/;\n  // Element names start with NAME_START_CHAR followed by optional other Unicode letters, ASCII digits, hyphens, underscores, and periods\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);;\n  // const XML_IDENT_RE = /[A-Z_a-z:\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]+/;\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);\n  // however, to cater for performance and more Unicode support rely simply on the Unicode letter class\n  const TAG_NAME_RE = regex.concat(/[\\p{L}_]/u, regex.optional(/[\\p{L}0-9_.-]*:/u), /[\\p{L}0-9_.-]*/u);\n  const XML_IDENT_RE = /[\\p{L}0-9._:-]+/u;\n  const XML_ENTITIES = {\n    className: 'symbol',\n    begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/\n  };\n  const XML_META_KEYWORDS = {\n    begin: /\\s/,\n    contains: [\n      {\n        className: 'keyword',\n        begin: /#?[a-z_][a-z1-9_-]+/,\n        illegal: /\\n/\n      }\n    ]\n  };\n  const XML_META_PAR_KEYWORDS = hljs.inherit(XML_META_KEYWORDS, {\n    begin: /\\(/,\n    end: /\\)/\n  });\n  const APOS_META_STRING_MODE = hljs.inherit(hljs.APOS_STRING_MODE, { className: 'string' });\n  const QUOTE_META_STRING_MODE = hljs.inherit(hljs.QUOTE_STRING_MODE, { className: 'string' });\n  const TAG_INTERNALS = {\n    endsWithParent: true,\n    illegal: /</,\n    relevance: 0,\n    contains: [\n      {\n        className: 'attr',\n        begin: XML_IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: /=\\s*/,\n        relevance: 0,\n        contains: [\n          {\n            className: 'string',\n            endsParent: true,\n            variants: [\n              {\n                begin: /\"/,\n                end: /\"/,\n                contains: [ XML_ENTITIES ]\n              },\n              {\n                begin: /'/,\n                end: /'/,\n                contains: [ XML_ENTITIES ]\n              },\n              { begin: /[^\\s\"'=<>`]+/ }\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  return {\n    name: 'HTML, XML',\n    aliases: [\n      'html',\n      'xhtml',\n      'rss',\n      'atom',\n      'xjb',\n      'xsd',\n      'xsl',\n      'plist',\n      'wsf',\n      'svg'\n    ],\n    case_insensitive: true,\n    unicodeRegex: true,\n    contains: [\n      {\n        className: 'meta',\n        begin: /<![a-z]/,\n        end: />/,\n        relevance: 10,\n        contains: [\n          XML_META_KEYWORDS,\n          QUOTE_META_STRING_MODE,\n          APOS_META_STRING_MODE,\n          XML_META_PAR_KEYWORDS,\n          {\n            begin: /\\[/,\n            end: /\\]/,\n            contains: [\n              {\n                className: 'meta',\n                begin: /<![a-z]/,\n                end: />/,\n                contains: [\n                  XML_META_KEYWORDS,\n                  XML_META_PAR_KEYWORDS,\n                  QUOTE_META_STRING_MODE,\n                  APOS_META_STRING_MODE\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      hljs.COMMENT(\n        /<!--/,\n        /-->/,\n        { relevance: 10 }\n      ),\n      {\n        begin: /<!\\[CDATA\\[/,\n        end: /\\]\\]>/,\n        relevance: 10\n      },\n      XML_ENTITIES,\n      // xml processing instructions\n      {\n        className: 'meta',\n        end: /\\?>/,\n        variants: [\n          {\n            begin: /<\\?xml/,\n            relevance: 10,\n            contains: [\n              QUOTE_META_STRING_MODE\n            ]\n          },\n          {\n            begin: /<\\?[a-z][a-z0-9]+/,\n          }\n        ]\n\n      },\n      {\n        className: 'tag',\n        /*\n        The lookahead pattern (?=...) ensures that 'begin' only matches\n        '<style' as a single word, followed by a whitespace or an\n        ending bracket.\n        */\n        begin: /<style(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'style' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/style>/,\n          returnEnd: true,\n          subLanguage: [\n            'css',\n            'xml'\n          ]\n        }\n      },\n      {\n        className: 'tag',\n        // See the comment in the <style tag about the lookahead pattern\n        begin: /<script(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'script' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/script>/,\n          returnEnd: true,\n          subLanguage: [\n            'javascript',\n            'handlebars',\n            'xml'\n          ]\n        }\n      },\n      // we need this for now for jSX\n      {\n        className: 'tag',\n        begin: /<>|<\\/>/\n      },\n      // open tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /</,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE,\n            // <tag/>\n            // <tag>\n            // <tag ...\n            regex.either(/\\/>/, />/, /\\s/)\n          ))\n        ),\n        end: /\\/?>/,\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0,\n            starts: TAG_INTERNALS\n          }\n        ]\n      },\n      // close tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /<\\//,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE, />/\n          ))\n        ),\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0\n          },\n          {\n            begin: />/,\n            relevance: 0,\n            endsParent: true\n          }\n        ]\n      }\n    ]\n  };\n}\n\nexport { xml as default };\n","/*\nLanguage: Bash\nAuthor: vah <vahtenberg@gmail.com>\nContributrors: Benjamin Pannell <contact@sierrasoftworks.com>\nWebsite: https://www.gnu.org/software/bash/\nCategory: common\n*/\n\n/** @type LanguageFn */\nfunction bash(hljs) {\n  const regex = hljs.regex;\n  const VAR = {};\n  const BRACED_VAR = {\n    begin: /\\$\\{/,\n    end: /\\}/,\n    contains: [\n      \"self\",\n      {\n        begin: /:-/,\n        contains: [ VAR ]\n      } // default values\n    ]\n  };\n  Object.assign(VAR, {\n    className: 'variable',\n    variants: [\n      { begin: regex.concat(/\\$[\\w\\d#@][\\w\\d_]*/,\n        // negative look-ahead tries to avoid matching patterns that are not\n        // Perl at all like $ident$, @ident@, etc.\n        `(?![\\\\w\\\\d])(?![$])`) },\n      BRACED_VAR\n    ]\n  });\n\n  const SUBST = {\n    className: 'subst',\n    begin: /\\$\\(/,\n    end: /\\)/,\n    contains: [ hljs.BACKSLASH_ESCAPE ]\n  };\n  const HERE_DOC = {\n    begin: /<<-?\\s*(?=\\w+)/,\n    starts: { contains: [\n      hljs.END_SAME_AS_BEGIN({\n        begin: /(\\w+)/,\n        end: /(\\w+)/,\n        className: 'string'\n      })\n    ] }\n  };\n  const QUOTE_STRING = {\n    className: 'string',\n    begin: /\"/,\n    end: /\"/,\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      VAR,\n      SUBST\n    ]\n  };\n  SUBST.contains.push(QUOTE_STRING);\n  const ESCAPED_QUOTE = {\n    className: '',\n    begin: /\\\\\"/\n\n  };\n  const APOS_STRING = {\n    className: 'string',\n    begin: /'/,\n    end: /'/\n  };\n  const ARITHMETIC = {\n    begin: /\\$?\\(\\(/,\n    end: /\\)\\)/,\n    contains: [\n      {\n        begin: /\\d+#[0-9a-f]+/,\n        className: \"number\"\n      },\n      hljs.NUMBER_MODE,\n      VAR\n    ]\n  };\n  const SH_LIKE_SHELLS = [\n    \"fish\",\n    \"bash\",\n    \"zsh\",\n    \"sh\",\n    \"csh\",\n    \"ksh\",\n    \"tcsh\",\n    \"dash\",\n    \"scsh\",\n  ];\n  const KNOWN_SHEBANG = hljs.SHEBANG({\n    binary: `(${SH_LIKE_SHELLS.join(\"|\")})`,\n    relevance: 10\n  });\n  const FUNCTION = {\n    className: 'function',\n    begin: /\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,\n    returnBegin: true,\n    contains: [ hljs.inherit(hljs.TITLE_MODE, { begin: /\\w[\\w\\d_]*/ }) ],\n    relevance: 0\n  };\n\n  const KEYWORDS = [\n    \"if\",\n    \"then\",\n    \"else\",\n    \"elif\",\n    \"fi\",\n    \"for\",\n    \"while\",\n    \"until\",\n    \"in\",\n    \"do\",\n    \"done\",\n    \"case\",\n    \"esac\",\n    \"function\",\n    \"select\"\n  ];\n\n  const LITERALS = [\n    \"true\",\n    \"false\"\n  ];\n\n  // to consume paths to prevent keyword matches inside them\n  const PATH_MODE = { match: /(\\/[a-z._-]+)+/ };\n\n  // http://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n  const SHELL_BUILT_INS = [\n    \"break\",\n    \"cd\",\n    \"continue\",\n    \"eval\",\n    \"exec\",\n    \"exit\",\n    \"export\",\n    \"getopts\",\n    \"hash\",\n    \"pwd\",\n    \"readonly\",\n    \"return\",\n    \"shift\",\n    \"test\",\n    \"times\",\n    \"trap\",\n    \"umask\",\n    \"unset\"\n  ];\n\n  const BASH_BUILT_INS = [\n    \"alias\",\n    \"bind\",\n    \"builtin\",\n    \"caller\",\n    \"command\",\n    \"declare\",\n    \"echo\",\n    \"enable\",\n    \"help\",\n    \"let\",\n    \"local\",\n    \"logout\",\n    \"mapfile\",\n    \"printf\",\n    \"read\",\n    \"readarray\",\n    \"source\",\n    \"type\",\n    \"typeset\",\n    \"ulimit\",\n    \"unalias\"\n  ];\n\n  const ZSH_BUILT_INS = [\n    \"autoload\",\n    \"bg\",\n    \"bindkey\",\n    \"bye\",\n    \"cap\",\n    \"chdir\",\n    \"clone\",\n    \"comparguments\",\n    \"compcall\",\n    \"compctl\",\n    \"compdescribe\",\n    \"compfiles\",\n    \"compgroups\",\n    \"compquote\",\n    \"comptags\",\n    \"comptry\",\n    \"compvalues\",\n    \"dirs\",\n    \"disable\",\n    \"disown\",\n    \"echotc\",\n    \"echoti\",\n    \"emulate\",\n    \"fc\",\n    \"fg\",\n    \"float\",\n    \"functions\",\n    \"getcap\",\n    \"getln\",\n    \"history\",\n    \"integer\",\n    \"jobs\",\n    \"kill\",\n    \"limit\",\n    \"log\",\n    \"noglob\",\n    \"popd\",\n    \"print\",\n    \"pushd\",\n    \"pushln\",\n    \"rehash\",\n    \"sched\",\n    \"setcap\",\n    \"setopt\",\n    \"stat\",\n    \"suspend\",\n    \"ttyctl\",\n    \"unfunction\",\n    \"unhash\",\n    \"unlimit\",\n    \"unsetopt\",\n    \"vared\",\n    \"wait\",\n    \"whence\",\n    \"where\",\n    \"which\",\n    \"zcompile\",\n    \"zformat\",\n    \"zftp\",\n    \"zle\",\n    \"zmodload\",\n    \"zparseopts\",\n    \"zprof\",\n    \"zpty\",\n    \"zregexparse\",\n    \"zsocket\",\n    \"zstyle\",\n    \"ztcp\"\n  ];\n\n  const GNU_CORE_UTILS = [\n    \"chcon\",\n    \"chgrp\",\n    \"chown\",\n    \"chmod\",\n    \"cp\",\n    \"dd\",\n    \"df\",\n    \"dir\",\n    \"dircolors\",\n    \"ln\",\n    \"ls\",\n    \"mkdir\",\n    \"mkfifo\",\n    \"mknod\",\n    \"mktemp\",\n    \"mv\",\n    \"realpath\",\n    \"rm\",\n    \"rmdir\",\n    \"shred\",\n    \"sync\",\n    \"touch\",\n    \"truncate\",\n    \"vdir\",\n    \"b2sum\",\n    \"base32\",\n    \"base64\",\n    \"cat\",\n    \"cksum\",\n    \"comm\",\n    \"csplit\",\n    \"cut\",\n    \"expand\",\n    \"fmt\",\n    \"fold\",\n    \"head\",\n    \"join\",\n    \"md5sum\",\n    \"nl\",\n    \"numfmt\",\n    \"od\",\n    \"paste\",\n    \"ptx\",\n    \"pr\",\n    \"sha1sum\",\n    \"sha224sum\",\n    \"sha256sum\",\n    \"sha384sum\",\n    \"sha512sum\",\n    \"shuf\",\n    \"sort\",\n    \"split\",\n    \"sum\",\n    \"tac\",\n    \"tail\",\n    \"tr\",\n    \"tsort\",\n    \"unexpand\",\n    \"uniq\",\n    \"wc\",\n    \"arch\",\n    \"basename\",\n    \"chroot\",\n    \"date\",\n    \"dirname\",\n    \"du\",\n    \"echo\",\n    \"env\",\n    \"expr\",\n    \"factor\",\n    // \"false\", // keyword literal already\n    \"groups\",\n    \"hostid\",\n    \"id\",\n    \"link\",\n    \"logname\",\n    \"nice\",\n    \"nohup\",\n    \"nproc\",\n    \"pathchk\",\n    \"pinky\",\n    \"printenv\",\n    \"printf\",\n    \"pwd\",\n    \"readlink\",\n    \"runcon\",\n    \"seq\",\n    \"sleep\",\n    \"stat\",\n    \"stdbuf\",\n    \"stty\",\n    \"tee\",\n    \"test\",\n    \"timeout\",\n    // \"true\", // keyword literal already\n    \"tty\",\n    \"uname\",\n    \"unlink\",\n    \"uptime\",\n    \"users\",\n    \"who\",\n    \"whoami\",\n    \"yes\"\n  ];\n\n  return {\n    name: 'Bash',\n    aliases: [ 'sh' ],\n    keywords: {\n      $pattern: /\\b[a-z][a-z0-9._-]+\\b/,\n      keyword: KEYWORDS,\n      literal: LITERALS,\n      built_in: [\n        ...SHELL_BUILT_INS,\n        ...BASH_BUILT_INS,\n        // Shell modifiers\n        \"set\",\n        \"shopt\",\n        ...ZSH_BUILT_INS,\n        ...GNU_CORE_UTILS\n      ]\n    },\n    contains: [\n      KNOWN_SHEBANG, // to catch known shells and boost relevancy\n      hljs.SHEBANG(), // to catch unknown shells but still highlight the shebang\n      FUNCTION,\n      ARITHMETIC,\n      hljs.HASH_COMMENT_MODE,\n      HERE_DOC,\n      PATH_MODE,\n      QUOTE_STRING,\n      ESCAPED_QUOTE,\n      APOS_STRING,\n      VAR\n    ]\n  };\n}\n\nexport { bash as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'p',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n];\n\nconst ATTRIBUTES = [\n  'align-content',\n  'align-items',\n  'align-self',\n  'all',\n  'animation',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-timing-function',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-repeat',\n  'background-size',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-decoration-break',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'direction',\n  'display',\n  'empty-cells',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-size',\n  'font-size-adjust',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-variant',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'gap',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'inline-size',\n  'isolation',\n  'justify-content',\n  'left',\n  'letter-spacing',\n  'line-break',\n  'line-height',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'pointer-events',\n  'position',\n  'quotes',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'row-gap',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-style',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-transform',\n  'text-underline-position',\n  'top',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'unicode-bidi',\n  'vertical-align',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'z-index'\n  // reverse makes sure longer attributes `font-weight` are matched fully\n  // instead of getting false positives on say `font`\n].reverse();\n\n/*\nLanguage: CSS\nCategory: common, css, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/CSS\n*/\n\n/** @type LanguageFn */\nfunction css(hljs) {\n  const regex = hljs.regex;\n  const modes = MODES(hljs);\n  const VENDOR_PREFIX = { begin: /-(webkit|moz|ms|o)-(?=[a-z])/ };\n  const AT_MODIFIERS = \"and or not only\";\n  const AT_PROPERTY_RE = /@-?\\w[\\w]*(-\\w+)*/; // @-webkit-keyframes\n  const IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  const STRINGS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE\n  ];\n\n  return {\n    name: 'CSS',\n    case_insensitive: true,\n    illegal: /[=|'\\$]/,\n    keywords: { keyframePosition: \"from to\" },\n    classNameAliases: {\n      // for visual continuity with `tag {}` and because we\n      // don't have a great class for this?\n      keyframePosition: \"selector-tag\" },\n    contains: [\n      modes.BLOCK_COMMENT,\n      VENDOR_PREFIX,\n      // to recognize keyframe 40% etc which are outside the scope of our\n      // attribute value mode\n      modes.CSS_NUMBER_MODE,\n      {\n        className: 'selector-id',\n        begin: /#[A-Za-z0-9_-]+/,\n        relevance: 0\n      },\n      {\n        className: 'selector-class',\n        begin: '\\\\.' + IDENT_RE,\n        relevance: 0\n      },\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-pseudo',\n        variants: [\n          { begin: ':(' + PSEUDO_CLASSES.join('|') + ')' },\n          { begin: ':(:)?(' + PSEUDO_ELEMENTS.join('|') + ')' }\n        ]\n      },\n      // we may actually need this (12/2020)\n      // { // pseudo-selector params\n      //   begin: /\\(/,\n      //   end: /\\)/,\n      //   contains: [ hljs.CSS_NUMBER_MODE ]\n      // },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b'\n      },\n      // attribute values\n      {\n        begin: /:/,\n        end: /[;}{]/,\n        contains: [\n          modes.BLOCK_COMMENT,\n          modes.HEXCOLOR,\n          modes.IMPORTANT,\n          modes.CSS_NUMBER_MODE,\n          ...STRINGS,\n          // needed to highlight these as strings and to avoid issues with\n          // illegal characters that might be inside urls that would tigger the\n          // languages illegal stack\n          {\n            begin: /(url|data-uri)\\(/,\n            end: /\\)/,\n            relevance: 0, // from keywords\n            keywords: { built_in: \"url data-uri\" },\n            contains: [\n              ...STRINGS,\n              {\n                className: \"string\",\n                // any character other than `)` as in `url()` will be the start\n                // of a string, which ends with `)` (from the parent mode)\n                begin: /[^)]/,\n                endsWithParent: true,\n                excludeEnd: true\n              }\n            ]\n          },\n          modes.FUNCTION_DISPATCH\n        ]\n      },\n      {\n        begin: regex.lookahead(/@/),\n        end: '[{;]',\n        relevance: 0,\n        illegal: /:/, // break on Less variables @var: ...\n        contains: [\n          {\n            className: 'keyword',\n            begin: AT_PROPERTY_RE\n          },\n          {\n            begin: /\\s/,\n            endsWithParent: true,\n            excludeEnd: true,\n            relevance: 0,\n            keywords: {\n              $pattern: /[a-z-]+/,\n              keyword: AT_MODIFIERS,\n              attribute: MEDIA_FEATURES.join(\" \")\n            },\n            contains: [\n              {\n                begin: /[a-z-]+(?=:)/,\n                className: \"attribute\"\n              },\n              ...STRINGS,\n              modes.CSS_NUMBER_MODE\n            ]\n          }\n        ]\n      },\n      {\n        className: 'selector-tag',\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b'\n      }\n    ]\n  };\n}\n\nexport { css as default };\n","import{defineComponent as e,ref as l,watch as a,computed as t,h as n}from\"vue\";import u from\"highlight.js/lib/core\";var r=e({props:{code:{type:String,required:!0},language:{type:String,default:\"\"},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var n=l(e.language);a((function(){return e.language}),(function(e){n.value=e}));var r=t((function(){return e.autodetect||!n.value})),o=t((function(){return!r.value&&!u.getLanguage(n.value)}));return{className:t((function(){return o.value?\"\":\"hljs \"+n.value})),highlightedCode:t((function(){var l;if(o.value)return console.warn('The language \"'+n.value+'\" you specified could not be found.'),e.code.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#x27;\");if(r.value){var a=u.highlightAuto(e.code);return n.value=null!==(l=a.language)&&void 0!==l?l:\"\",a.value}return(a=u.highlight(e.code,{language:n.value,ignoreIllegals:e.ignoreIllegals})).value}))}},render:function(){return n(\"pre\",{},[n(\"code\",{class:this.className,innerHTML:this.highlightedCode})])}}),o={install:function(e){e.component(\"highlightjs\",r)},component:r};export default o;\n","import { createApp } from 'vue';\nimport App from './App.vue';\n\nimport './assets/vue-peaks-mods.css';\n\n// Syntax highlighter\nimport hljs from 'highlight.js/lib/core';\n\nimport typescript from 'highlight.js/lib/languages/typescript';\nhljs.registerLanguage('vue-typescript', typescript);\n\nimport xml from 'highlight.js/lib/languages/xml';\nhljs.registerLanguage('vue-template', xml);\nhljs.registerLanguage('vue-sfc', xml);\n\nimport bash from 'highlight.js/lib/languages/bash';\nhljs.registerLanguage('bash', bash);\n\nimport css from 'highlight.js/lib/languages/css';\nhljs.registerLanguage('css', css);\n\nimport hljsVuePlugin from '@highlightjs/vue-plugin';\n\n// The style to use (see https://highlightjs.org/static/demo/ to choose)\nimport 'highlight.js/styles/base16/decaf.css';\n\ncreateApp(App).use(hljsVuePlugin).mount('#app');\n"],"names":["relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","makeMap","str","expectsLowerCase","map","list","i","val","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE","isOn","key","isModelListener","extend","remove","arr","el","hasOwnProperty","hasOwn","isArray","isMap","toTypeString","isSet","isDate","isFunction","isString","isSymbol","isObject","isPromise","objectToString","value","toRawType","isPlainObject","isIntegerKey","isReservedProp","cacheStringFunction","fn","cache","camelizeRE","camelize","_","c","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","oldValue","invokeArrayFns","fns","arg","def","obj","looseToNumber","n","_globalThis","getGlobalThis","normalizeStyle","res","item","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","normalizeClass","name","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","looseCompareArrays","a","b","equal","looseEqual","aValidType","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","toDisplayString","replacer","_key","entries","val2","activeEffectScope","EffectScope","detached","currentEffectScope","fromParent","l","last","recordEffectScope","effect","scope","getCurrentScope","createDep","effects","dep","wasTracked","trackOpBit","newTracked","initDepMarkers","deps","finalizeDepMarkers","ptr","targetMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ReactiveEffect","scheduler","parent","lastShouldTrack","shouldTrack","cleanupEffect","effect2","trackStack","pauseTracking","resetTracking","track","target","type","depsMap","trackEffects","debuggerEventExtraInfo","shouldTrack2","trigger","newValue","oldTarget","newLength","key2","triggerEffects","triggerEffect","isNonTrackableKeys","builtInSymbols","get$1","createGetter","shallowGet","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","toRaw","isReadonly2","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","isRef","readonly","reactive","set$1","createSetter","shallowSet","isReadonly","isShallow","hadKey","result","deleteProperty","has$1","ownKeys","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","v","get","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","has","size","add","set","get2","deleteEntry","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","isKeyOnly","innerIterator","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","isProxy","raw","markRaw","trackRefValue","ref2","triggerRefValue","newVal","r","ref","createRef","shallowRef","rawValue","RefImpl","__v_isShallow","useDirectValue","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ComputedRefImpl","getter","_setter","isSSR","self","computed","getterOrOptions","debugOptions","setter","onlyGetter","callWithErrorHandling","instance","err","handleError","callWithAsyncErrorHandling","values","throwInDev","contextVNode","cur","exposedInstance","errorInfo","errorCapturedHooks","appErrorHandler","logError","isFlushing","isFlushPending","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","p","findInsertionIndex","id","start","end","middle","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queuePostFlushCb","cb","flushPreFlushCbs","seen","flushPostFlushCbs","deduped","comparator","diff","check","emit","event","rawArgs","props","modelArg","modifiersKey","number","trim","handlerName","handler","onceHandler","normalizeEmitsOptions","comp","appContext","asMixin","cached","hasExtends","extendEmits","raw2","normalizedFromExtend","isEmitListener","options","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","prev","pushScopeId","popScopeId","withCtx","ctx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","renderComponentRoot","Component","vnode","withProxy","propsOptions","slots","attrs","render","renderCache","data","setupState","inheritAttrs","fallthroughAttrs","proxyToUse","normalizeVNode","render2","getFunctionalFallthrough","blockStack","createVNode","Comment","root","keys","shapeFlag","filterModelListeners","cloneVNode","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","component","nextProps","nextChildren","patchFlag","emits","hasPropsChanged","dynamicProps","emitsOptions","nextKeys","updateHOCHostEl","isSuspense","queueEffectWithSuspense","suspense","INITIAL_WATCHER_VALUE","watch","source","doWatch","immediate","deep","flush","onTrack","onTrigger","_a","currentInstance","forceTrigger","isMultiSource","isShallow$1","s","traverse","cleanup","onCleanup","baseGetter","ssrCleanup","isInSSRComponentSetup","useSSRContext","queuePostRenderEffect","unwatch","instanceWatch","publicThis","createPathGetter","setCurrentInstance","unsetCurrentInstance","path","segments","withDirectives","directives","internalInstance","getExposeProxy","bindings","dir","modifiers","invokeDirectiveHook","oldBindings","binding","hook","defineComponent","extraOptions","isAsyncWrapper","isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","current","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","hooks","createHook","lifecycle","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","warnMissing","selfName","getComponentName","resolve","registry","renderSlot","fallback","noSlotted","slot","openBlock","validSlotContent","ensureValidVNode","rendered","createBlock","Fragment","vnodes","child","isVNode","getPublicInstance","isStatefulComponent","publicPropertiesMap","resolveMergedOptions","hasSetupBinding","state","PublicInstanceProxyHandlers","accessCache","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","descriptor","normalizePropsOrEmits","applyOptions","callHook","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","components","filters","resolveInjections","methodHandler","opt","createWatcher","provides","provide","registerLifecycleHook","register","_hook","exposed","checkDuplicateProperties","normalizeInject","inject","h","base","mixins","extendsOptions","globalMixins","optionMergeStrategies","resolved","m","mergeOptions","to","from","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","isMounted","app","version","plugin","mixin","directive","rootContainer","isHydrate","isSVG","currentApp","parentProvides","defaultValue","treatDefaultAsFactory","initProps","rawProps","isStateful","InternalObjectKey","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","propsToUpdate","camelizedKey","resolvePropValue","kebabKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","propsDefaults","normalizePropsOptions","extendProps","normalizedKey","validatePropName","prop","booleanIndex","getTypeIndex","stringIndex","getType","ctor","match","isSameType","expectedTypes","t","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","normalizeVNodeSlots","children","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","refs","_isString","_isRef","doSet","existing","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","hostSetText","hostSetElementText","hostParentNode","hostNextSibling","hostSetScopeId","hostInsertStaticContent","patch","n1","n2","container","anchor","parentComponent","slotScopeIds","isSameVNodeType","getNextHostNode","unmount","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","nextSibling","next","removeStaticNode","mountElement","patchElement","vnodeHook","transition","dirs","mountChildren","setScopeId","unmountChildren","invokeVNodeHook","needCallTransitionHooks","scopeId","subTree","parentVNode","cloneIfMounted","dynamicChildren","oldProps","newProps","toggleRecurse","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","setupRenderEffect","placeholder","updateComponentPreRender","componentUpdateFn","bu","u","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","update","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","oldLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","leave","delayLeave","afterLeave","remove2","performLeave","doRemove","shouldInvokeDirs","shouldInvokeVnodeHook","unmountComponent","removeFragment","performRemove","bum","um","allowed","ch1","ch2","len","arrI","isTeleport","currentBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","klass","style","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","text","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","slotFlag","toMerge","incoming","emptyAppContext","uid","internalSetCurrentInstance","globalCurrentInstanceSetters","settersKey","setupResult","setupStatefulComponent","setup","setupContext","createSetupContext","resolvedResult","handleSetupResult","e","finishComponentSetup","compile","skipOptions","template","isCustomElement","compilerOptions","delimiters","componentCompilerOptions","finalCompilerOptions","getAttrsProxy","includeInferred","computed$1","propsOrChildren","ssrContextKey","svgNS","doc","templateContainer","nodeOps","tag","is","selector","before","wrapper","patchClass","transitionClasses","patchStyle","isCssString","setStyle","currentDisplay","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","isBoolean","patchDOMProp","needRemove","addEventListener","removeEventListener","patchEvent","prevValue","nextValue","invokers","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","patchStopImmediatePropagation","originalStop","nativeOnRE","patchProp","shouldSetAsProp","getModelAssigner","onCompositionStart","onCompositionEnd","vModelText","lazy","castToNumber","domValue","vModelSelect","isSetModel","selectedVal","o","getValue","setSelected","_binding","isMultiple","option","optionValue","rendererOptions","renderer","ensureRenderer","createApp","mount","containerOrSelector","normalizeContainer","_imports_0","_createElementVNode","_createTextVNode","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_component_highlightjs","PI_OVER_180","detectBrowser","glob","Konva","param","angle","_registerNode","NodeClass","Transform","tr","point","x","y","sx","sy","rad","m11","m12","m21","m22","matrix","dx","dy","d","m0","m1","m2","m3","m4","m5","f","delta","Util","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","RGB_REGEX","animQueue","req","firstChar","canvas","url","imageObj","g","hex","bigint","randColor","color","rgb","parts","index","hsl","t2","t3","t1","r1","r2","retObj","deg","radians","func","left","right","x1","y1","x2","y2","x3","y3","dist","pd2","pt","line","isClosed","pc","p1","p2","proj","px","py","pdist","startArray","endArray","temp","newStart","pr","desc","evt","canvases","width","height","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","_formatValue","getNumberValidator","attr","getNumberOrArrayOfNumbersValidator","noOfElements","isNumber","isValidArray","getNumberOrAutoValidator","isAuto","getStringValidator","getStringOrGradientValidator","isGradient","getNumberArrayValidator","TypedArray","getBooleanValidator","isBool","getComponentValidator","GET","SET","Factory","constructor","validator","after","basicValidator","oldVal","capitalizedAttr","message","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","simplifyArray","retArr","util","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","CONTEXT_METHODS","CONTEXT_PROPERTIES","traceArrMax","Context","shape","relaxed","rounded","traceArr","trace","pixelRatio","bounds","lineCap","absOpacity","lineJoin","a0","a1","a2","a3","a4","a5","a6","a7","a8","_context","fillRule","path2d","maxWidth","that","origSetter","methodName","origMethod","op","SceneContext","fill","grd","hasColor","fillPriority","hasPattern","hasLinearGradient","hasRadialGradient","colorStops","dash","strokeScaleEnabled","_b","_c","blur","offset","scale","ratio","scaleX","scaleY","HitContext","hitStrokeWidth","strokeWidth","_pixelRatio","getDevicePixelRatio","devicePixelRatio","backingStoreRatio","Canvas","config","conf","previousRatio","mimeType","quality","SceneCanvas","HitCanvas","DD","elem","nodesToFireEvents","stage","pos","dragDistance","distance","drawNodes","drawNode","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","CHANGE","CHILDREN","KONVA","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_STAGE","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","Node","privateGetter","isTransform","invalid","depsString","scene","filter","hit","rect","drawBorder","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","top","points","minX","minY","maxX","maxY","trans","transformed","canvasCache","cacheCanvas","hitCanvas","cachedCanvas","sceneCanvas","filterCanvas","filterContext","imageData","evtStr","events","baseEvent","stopNode","targets","ancestors","relativeTo","skipDragCheck","layer","layerUnderDrag","dragSkip","depth","nodes","addChildren","transform","haveCachedParent","absoluteMatrix","absoluteTransform","origTrans","it","change","changeX","changeY","family","theta","zIndex","newContainer","nonPlainObject","includeSelf","ancestor","selectorArr","sel","eventType","bubble","at","transformsEnabled","offsetX","offsetY","rotation","skewX","skewY","allListeners","listener","box","reject","img","blob","evtListeners","evtName","oldName","newName","fullName","names","compareShape","shouldStop","stopBubble","listeners","newEvents","oldEvents","topListeners","selfListeners","pointerId","ap","bubbleEvent","newNodePos","dbf","bounded","draggable","shouldCheckButton","canDrag","hasDraggingChild","dragElement","isDragging","isReady","margin","screenRect","className","no","Class","addGetterSetter","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","shapes","_fillFunc","_strokeFunc","_fillFuncHit","_strokeFuncHit","_clearHasShadowCache","_clearGetShadowRGBACache","_clearFillPatternCache","_clearLinearGradientCache","_clearRadialGradientCache","Shape","pattern","rgba","bufferHitCanvas","forceFill","hasFill","hasStroke","isTransparent","hasShadow","strokeForShadow","skipTransform","fillRect","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","shadowOffsetX","shadowOffsetY","preWidth","preHeight","blurRadius","can","drawFunc","bufferCanvas","bufferContext","skipBuffer","cachingSelf","alphaThreshold","hitWidth","hitHeight","hitImageData","hitData","rgbColorKey","alpha","PointerEvents.hasPointerCapture","PointerEvents.setPointerCapture","PointerEvents.releaseCapture","getControlPoints","x0","y0","d01","d12","fa","fb","p1x","p1y","p2x","p2y","expandPoints","tension","allPoints","cp","Line","length","closed","bezier","tp","firstControlPoints","lastControlPoints","Rect","stringToArray","string","AUTO","CENTER","JUSTIFY","CHANGE_KONVA","CONTEXT_2D","DASH","LEFT","TEXT","TEXT_UPPER","TOP","BOTTOM","MIDDLE","NORMAL","PX_SPACE","RIGHT","WORD","CHAR","NONE","ELLIPSIS","ATTR_CHANGE_LIST","attrChangeListLen","normalizeFontFamily","fontFamily","hasSpace","hasQuotes","checkDefaultFill","textArr","textArrLen","padding","fontSize","lineHeightPx","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","lastLine","spacesNumber","oneWord","lineWidth","gradient","array","li","letter","metrics","lines","textWidth","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","shouldWrap","wrapAtWord","shouldAddEllipsis","additionalWidth","max","low","high","matchWidth","mid","substr","substrWidth","wrapIndex","nextChar","nextIsSpaceOrDash","shouldHandleEllipsis","haveSpace","Container","filterFunc","results","findOne","valid","caching","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipX","clipY","hasComposition","selfRect","hasVisible","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","LOSTPOINTERCAPTURE","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","MAX_LAYERS_NUMBER","EVENTS","EVENTS_MAP","getEventType","getEventsMap","checkNoClip","NO_POINTERS_MESSAGE","stages","Stage","isLayer","isFastLayer","layers","layerCanvas","rest","evenType","targetShape","eventsEnabled","triggeredOnShape","isTouch","processedShapesIds","PointerEvents.getCapturedShape","differentTarget","clickStartShape","clickEndShape","fireDblClick","PointerEvents.createEvent","contentPosition","touch","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","Layer","_canvas","spiralSearchDistance","continueSearch","intersectionOffset","p3","colorKey","added","FastLayer","Group","now","Animation","lays","animations","time","anim","layerHash","layersLen","needRedraw","Anim","blacklist","PAUSED","PLAYING","REVERSING","colorAttrs","TweenEngine","propFunc","begin","finish","duration","yoyo","Tween","nodeId","easing","Easings","tweenId","trueEnd","trueStart","endRGBA","startRGBA","thisId","params","onFinish","tween","Global","WaveformDataChannel","waveformData","channelIndex","sample","INT8_MAX","INT8_MIN","calculateWaveformDataLength","audio_sample_count","data_length","samples_remaining","generateWaveformData","amplitude_scale","split_channels","sample_rate","channels","channel","output_channels","header_size","total_size","buffer","data_view","scale_counter","min_value","max_value","_typeof","isJsonWaveformData","isBinaryWaveformData","isCompatible","view","convertJsonToBinary","bytes_per_sample","expected_length","array_buffer","data_object","decodeBase64","base64","enableUnicode","binaryString","binaryView","createURL","sourcemapArg","enableUnicodeArg","sourcemap","body","createBase64WorkerFactory","WorkerFactory","WaveformData","defaultOptions","getOptions","opts","getChannelData","audio_buffer","createFromAudioBuffer","worker","createFromArrayBuffer","audioContext","audioData","errorCallback","error","output_samples_per_pixel","input_buffer_size","input_buffer_length_samples","output_buffer_length_samples","output_header_size","output_data","output_dataview","waveform_data","input_index","output_index","min","where","prev_where","stop","last_input_index","sample_at_pixel","otherWaveforms","otherWaveform","combinedBuffer","headerSize","totalSize","totalDataLength","bufferCollection","w","dataSize","totalBuffer","sourceHeader","totalBufferView","dataOfTotalBuffer","correction","bits","waveform","eventemitter3","module","prefix","Events","EE","once","addListener","emitter","clearEvent","EventEmitter","handlers","ee","Cue","zeroPad","precision","formatTime","fractionSeconds","seconds","minutes","hours","roundUpToNearest","multiple","multiplier","roundedUp","clamp","objectHasProperty","object","field","isInAscendingOrder","isFinite","isValidTime","isArrayBuffer","isNullOrUndefined","isHTMLElement","isLinearGradientColor","isHeadless","windowIsVisible","requestAnimationFrame","cancelAnimationFrame","eventTypes","EVENT_TYPE_POINT","EVENT_TYPE_SEGMENT_ENTER","EVENT_TYPE_SEGMENT_EXIT","eventNames","getPointOrSegment","peaks","cue","CueEmitter","segment","previousTime","isForward","step","marker","getSegmentIdComparator","activeSegments","triggerUpdateOn","pointOptions","validatePoint","Point","startTime","endTime","WaveformPoints","arrayArgs","predicate","indexes","removed","itemRemoved","pointId","segmentOptions","validateSegment","Segment","WaveformSegments","colors","segmentId","fnFilter","TAB","LEFT_ARROW","RIGHT_ARROW","KeyboardHandler","eventEmitter","MediaElementPlayer","mediaElement","eventHandler","SetSourceHandler","setSourceHandler","getAllPropertiesFrom","adapter","allProperties","validateAdapter","publicAdapterMethods","Player","loop","DefaultPointMarker","group","handleWidth","handleHeight","handleX","DefaultSegmentMarker","xPosition","createSegmentMarker","createSegmentLabel","createPointMarker","HighlightLayer","startOffset","endOffset","getMarkerObject","MouseDragHandler","mouseDownPosX","clientX","mousePosX","containerPos","PlayheadLayer","pixelsPerSecond","pixelIndex","frameOffset","isVisible","playheadX","playheadTextWidth","lastPlayheadPosition","playheadPosition","show","PointMarker","defaultFontFamily$1","defaultFontSize$1","defaultFontShape$1","PointsLayer","allowEditing","enable","frameStartTime","frameEndTime","editable","pointMarker","markerX","pointMarkerOffset","pointMarkerX","count","visible","SegmentMarker","limit","WaveformShape","shapeOptions","startY","endY","startPixels","endPixels","waveformTop","waveformHeight","amplitude","amplitudeScale","lineX","lineY","viewWidth","viewHeight","hitRectHeight","hitRectLeft","hitRectWidth","defaultFontFamily","defaultFontSize","defaultFontShape","SegmentShape","segmentStartOffset","segmentEndOffset","frameStartOffset","startPixel","endPixel","startMarker","endMarker","segmentMarker","startMarkerX","endMarkerX","startMarkerOffset","endMarkerOffset","SegmentsLayer","redraw","segmentShape","WaveformAxis","fontStyle","baseSecs","steps","minSpacing","secs","pixels","currentFrameStartTime","markerHeight","axisLabelIntervalSecs","firstAxisLabelSecs","axisLabelOffsetSecs","axisLabelOffsetPixels","label","labelWidth","labelX","labelY","WaveformOverview","eventName","playheadTime","updateWaveform","WaveformZoomView","initialZoomLevel","playheadOffset","newFrameOffset","mode","wheelEvent","direction","large","increment","endThreshold","isAutoScale","currentTime","apexTime","playheadOffsetPixels","prevScale","apexPixel","sourceWaveform","scrollAmount","upperLimit","playheadPixel","resample","resampleOptions","ViewController","ZoomController","zoomLevels","zoomLevelIndex","forceUpdate","zoomview","isXhr2","WaveformBuilder","dataUri","requestType","connector","xhr","createdWaveformData","webAudioOptions","mediaSourceUrl","webAudioBuilderOptions","webAudio","withCredentials","onLoad","onError","Peaks","defaultViewOptions","defaultZoomviewOptions","defaultOverviewOptions","getOverviewOptions","overviewOptions","optNames","optName","getZoomviewOptions","zoomviewOptions","extendOptions","zoomviewContainer","overviewContainer","player","waveformBuilder","viewName","peaksInstance","overview","overviewSlot","zoomviewSlot","audio","audioSlot","zoomLevel","__expose","createPeaksInstance","destroyPeaksInstance","overviewElement","zoomviewElement","elm","htmlElementId","slotRef","slotRefHtmlTagName","elementByRef","externalSlot","elementByFirstInSlot","zoomIn","zoomOut","audioPeaks","togglePlayback","setBookmark","seekBookmark","toggleRendering","currentState","_createStaticVNode","_sfc_render","_ctx","_cache","deepFreeze","Response","escapeHTML","inherit$1","original","objects","SPAN_CLOSE","emitsWrappingTags","scopeToCSSClass","pieces","HTMLRenderer","parseTree","newNode","TokenTree","builder","TokenTreeEmitter","re","lookahead","concat","anyNumberOfTimes","optional","stripOptionsFromArgs","either","countMatchGroups","startsWith","lexeme","BACKREF_RE","_rewriteBackreferences","regexps","joinWith","numCaptures","regex","out","MATCH_NOTHING_RE","IDENT_RE","UNDERSCORE_IDENT_RE","NUMBER_RE","C_NUMBER_RE","BINARY_NUMBER_RE","RE_STARTERS_RE","SHEBANG","beginShebang","resp","BACKSLASH_ESCAPE","APOS_STRING_MODE","QUOTE_STRING_MODE","PHRASAL_WORDS_MODE","COMMENT","modeOptions","ENGLISH_WORD","C_LINE_COMMENT_MODE","C_BLOCK_COMMENT_MODE","HASH_COMMENT_MODE","NUMBER_MODE","C_NUMBER_MODE","BINARY_NUMBER_MODE","REGEXP_MODE","TITLE_MODE","UNDERSCORE_TITLE_MODE","METHOD_GUARD","END_SAME_AS_BEGIN","MODES","skipIfHasPrecedingDot","response","scopeClassName","_parent","beginKeywords","compileIllegal","compileMatch","compileRelevance","beforeMatchExt","originalMode","COMMON_KEYWORDS","DEFAULT_KEYWORD_SCOPE","compileKeywords","rawKeywords","caseInsensitive","scopeName","compiledKeywords","compileList","keywordList","keyword","pair","scoreForKeyword","providedScore","commonKeyword","seenDeprecations","warn","MultiClassError","remapScopeNames","regexes","scopeNames","positions","beginMultiClass","endMultiClass","scopeSugar","MultiClass","compileLanguage","language","langRe","global","MultiRegex","terminators","matchData","ResumableMultiRegex","matcher","buildModeRegex","mm","term","compileMode","cmode","ext","keywordPattern","expandOrCloneMode","dependencyOnParent","variant","HTMLInjectionError","reason","html","escape","inherit","NO_MATCH","MAX_KEYWORD_HITS","HLJS","hljs","languages","aliases","plugins","SAFE_MODE","LANGUAGE_NOT_FOUND","PLAINTEXT_LANGUAGE","shouldNotHighlight","languageName","blockLanguage","block","classes","getLanguage","_class","highlight","codeOrLanguageName","optionsOrCode","ignoreIllegals","code","fire","_highlight","codeToHighlight","continuation","keywordHits","keywordData","matchText","processKeywords","modeBuffer","lastIndex","buf","word","kind","keywordRelevance","relevance","cssClass","emitKeyword","processSubLanguage","continuations","highlightAuto","processBuffer","emitMultiClass","startNewMode","endOfMode","matchPlusRemainder","matched","doIgnore","resumeScanAtSamePosition","doBeginMatch","newMode","beforeCallbacks","doEndMatch","endMode","origin","processContinuations","lastMatch","processLexeme","textBeforeMatch","processed","iterations","md","beforeMatch","processedCount","justTextHighlightResult","languageSubset","plaintext","autoDetection","sorted","best","secondBest","updateClassName","element","currentLang","resultLang","highlightElement","configure","userOptions","initHighlighting","highlightAll","initHighlightingOnLoad","wantsHighlight","boot","registerLanguage","languageDefinition","lang","error$1","registerAliases","unregisterLanguage","alias","listLanguages","aliasList","upgradePluginAPI","addPlugin","removePlugin","deprecateHighlightBlock","core","KEYWORDS","LITERALS","TYPES","ERROR_TYPES","BUILT_IN_GLOBALS","BUILT_IN_VARIABLES","BUILT_INS","javascript","hasClosingTag","IDENT_RE$1","FRAGMENT","XML_SELF_CLOSING","XML_TAG","afterMatchIndex","afterMatch","KEYWORDS$1","decimalDigits","frac","decimalInteger","NUMBER","SUBST","HTML_TEMPLATE","CSS_TEMPLATE","GRAPHQL_TEMPLATE","TEMPLATE_STRING","SUBST_INTERNALS","SUBST_AND_COMMENTS","PARAMS_CONTAINS","PARAMS","CLASS_OR_EXTENDS","CLASS_REFERENCE","USE_STRICT","FUNCTION_DEFINITION","UPPER_CASE_CONSTANT","noneOf","FUNCTION_CALL","PROPERTY_ACCESS","GETTER_OR_SETTER","FUNC_LEAD_IN_RE","FUNCTION_VARIABLE","typescript","tsLanguage","NAMESPACE","INTERFACE","TS_SPECIFIC_KEYWORDS","DECORATOR","swapMode","replacement","indx","functionDeclaration","xml","TAG_NAME_RE","XML_IDENT_RE","XML_ENTITIES","XML_META_KEYWORDS","XML_META_PAR_KEYWORDS","APOS_META_STRING_MODE","QUOTE_META_STRING_MODE","TAG_INTERNALS","bash","VAR","BRACED_VAR","HERE_DOC","QUOTE_STRING","ESCAPED_QUOTE","APOS_STRING","ARITHMETIC","SH_LIKE_SHELLS","KNOWN_SHEBANG","FUNCTION","PATH_MODE","SHELL_BUILT_INS","BASH_BUILT_INS","ZSH_BUILT_INS","GNU_CORE_UTILS","TAGS","MEDIA_FEATURES","PSEUDO_CLASSES","PSEUDO_ELEMENTS","ATTRIBUTES","css","modes","VENDOR_PREFIX","AT_MODIFIERS","AT_PROPERTY_RE","STRINGS","App","hljsVuePlugin"],"mappings":"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CA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,SACF,EACMC,GAAW,CACf,OACA,QACA,OACA,YACA,MACA,UACF,EAGMC,GAAQ,CAEZ,SACA,WACA,UACA,SAEA,OACA,OACA,SACA,SAEA,SACA,SAEA,QACA,eACA,eACA,YACA,aACA,oBACA,aACA,aACA,cACA,cACA,gBACA,iBAEA,MACA,MACA,UACA,UAEA,cACA,oBACA,UACA,WACA,OAEA,UACA,YACA,oBACA,gBAEA,UACA,QAEA,OAEA,aACF,EAEMC,GAAc,CAClB,QACA,YACA,gBACA,aACA,iBACA,cACA,YACA,UACF,EAEMC,GAAmB,CACvB,cACA,aACA,gBACA,eAEA,UACA,UAEA,OACA,WACA,QACA,aACA,WACA,YACA,qBACA,YACA,qBACA,SACA,UACF,EAEMC,GAAqB,CACzB,YACA,OACA,QACA,UACA,SACA,WACA,eACA,iBACA,SACA,QACF,EAEMC,GAAY,CAAE,EAAC,OACnBF,GACAF,GACAC,EACF,EAUA,SAASI,GAAWtG,EAAM,CACxB,MAAM7F,EAAQ6F,EAAK,MAQbuG,EAAgB,CAAClgD,EAAO,CAAE,MAAAkb,CAAK,IAAO,CAC1C,MAAM1M,GAAM,KAAOxO,EAAM,GAAG,MAAM,CAAC,EAEnC,OADYA,EAAM,MAAM,QAAQwO,GAAK0M,CAAK,IAC3B,EACnB,EAEQilC,EAAalM,GACbmM,EAAW,CACf,MAAO,KACP,IAAK,KACT,EAEQC,EAAmB,4BACnBC,EAAU,CACd,MAAO,sBACP,IAAK,4BAKL,kBAAmB,CAACtgD,EAAO81C,IAAa,CACtC,MAAMyK,GAAkBvgD,EAAM,GAAG,OAASA,EAAM,MAC1C+yB,GAAW/yB,EAAM,MAAMugD,IAC7B,GAIExtB,KAAa,KAGbA,KAAa,IACX,CACF+iB,EAAS,YAAW,EACpB,MACD,CAIG/iB,KAAa,MAGVmtB,EAAclgD,EAAO,CAAE,MAAOugD,EAAiB,CAAA,GAClDzK,EAAS,YAAW,GAOxB,IAAI/5C,GACJ,MAAMykD,GAAaxgD,EAAM,M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AW,QACnB,CAAO,CACP,CAAO,CACP,EACQ8J,EAAe,CACnB,UAAW,SACX,MAAO,IACP,IAAK,IACL,SAAU,CACR9J,EAAK,iBACL2J,EACAxC,CACD,CACL,EACEA,EAAM,SAAS,KAAK2C,CAAY,EAChC,MAAMC,EAAgB,CACpB,UAAW,GACX,MAAO,KAEX,EACQC,EAAc,CAClB,UAAW,SACX,MAAO,IACP,IAAK,GACT,EACQC,EAAa,CACjB,MAAO,UACP,IAAK,OACL,SAAU,CACR,CACE,MAAO,gBACP,UAAW,QACZ,EACDjK,EAAK,YACL2J,CACD,CACL,EACQO,EAAiB,CACrB,OACA,OACA,MACA,KACA,MACA,MACA,OACA,OACA,MACJ,EACQC,EAAgBnK,EAAK,QAAQ,CACjC,OAAQ,IAAIkK,EAAe,KAAK,GAAG,KACnC,UAAW,EACf,CAAG,EACKE,EAAW,CACf,UAAW,WACX,MAAO,4BACP,YAAa,GACb,SAAU,CAAEpK,EAAK,QAAQA,EAAK,WAAY,CAAE,MAAO,YAAY,CAAE,CAAG,EACpE,UAAW,CACf,EAEQ+F,EAAW,CACf,KACA,OACA,OACA,OACA,KACA,MACA,QACA,QACA,KACA,KACA,OACA,OACA,OACA,WACA,QACJ,EAEQC,EAAW,CACf,OACA,OACJ,EAGQqE,EAAY,CAAE,MAAO,kBAGrBC,EAAkB,CACtB,QACA,KACA,WACA,OACA,OACA,OACA,SACA,UACA,OACA,MACA,WACA,SACA,QACA,OACA,QACA,OACA,QACA,OACJ,EAEQC,EAAiB,CACrB,QACA,OACA,UACA,SACA,UACA,UACA,OACA,SACA,OACA,MACA,QACA,SACA,UACA,SACA,OACA,YACA,SACA,OACA,UACA,SACA,SACJ,EAEQC,EAAgB,CACpB,WACA,KACA,UACA,MACA,MACA,QACA,QACA,gBACA,WACA,UACA,eACA,YACA,aACA,YACA,WACA,UACA,aACA,OACA,UACA,SACA,SACA,SACA,UACA,KACA,KACA,QACA,YACA,SACA,QACA,UACA,UACA,OACA,OACA,QACA,MACA,SACA,OACA,QACA,QACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,SACA,aACA,SACA,UACA,WACA,QACA,OACA,SACA,QACA,QACA,WACA,UACA,OACA,MACA,WACA,aACA,QACA,OACA,cACA,UACA,SACA,MACJ,EAEQC,EAAiB,CACrB,QACA,QACA,QACA,QACA,KACA,KACA,KACA,MACA,YACA,KACA,KACA,QACA,SACA,QACA,SACA,KACA,WACA,KACA,QACA,QACA,OACA,QACA,WACA,OACA,QACA,SACA,SACA,MACA,QACA,OACA,SACA,MACA,SACA,MACA,OACA,OACA,OACA,SACA,KACA,SACA,KACA,QACA,MACA,KACA,UACA,YACA,YACA,YACA,YACA,OACA,OACA,QACA,MACA,MACA,OACA,KACA,QACA,WACA,OACA,KACA,OACA,WACA,SACA,OACA,UACA,KACA,OACA,MACA,OACA,SAEA,SACA,SACA,KACA,OACA,UACA,OACA,QACA,QACA,UACA,QACA,WACA,SACA,MACA,WACA,SACA,MACA,QACA,OACA,SACA,OACA,MACA,OACA,UAEA,MACA,QACA,SACA,SACA,QACA,MACA,SACA,KACJ,EAEE,MAAO,CACL,KAAM,OACN,QAAS,CAAE,IAAM,EACjB,SAAU,CACR,SAAU,wBACV,QAAS1E,EACT,QAASC,EACT,SAAU,CACR,GAAGsE,EACH,GAAGC,EAEH,MACA,QACA,GAAGC,EACH,GAAGC,CACJ,CACF,EACD,SAAU,CACRN,EACAnK,EAAK,QAAS,EACdoK,EACAH,EACAjK,EAAK,kBACL6J,EACAQ,EACAP,EACAC,EACAC,EACAL,CACD,CACL,CACA,CClYA,MAAM1N,GAAS+D,IACN,CACL,UAAW,CACT,MAAO,OACP,MAAO,YACR,EACD,cAAeA,EAAK,qBACpB,SAAU,CACR,MAAO,SACP,MAAO,iDACR,EACD,kBAAmB,CACjB,UAAW,WACX,MAAO,cACR,EACD,wBAAyB,CACvB,MAAO,gBACP,MAAO,KACP,IAAK,KACL,QAAS,IACT,SAAU,CACRA,EAAK,iBACLA,EAAK,iBACN,CACF,EACD,gBAAiB,CACf,MAAO,SACP,MAAOA,EAAK,UAAY,kGASxB,UAAW,CACZ,EACD,aAAc,CACZ,UAAW,OACX,MAAO,0BACR,CACL,GAGM0K,GAAO,CACX,IACA,OACA,UACA,UACA,QACA,QACA,IACA,aACA,OACA,SACA,SACA,UACA,OACA,OACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,IACA,IACA,QACA,OACA,UACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAGMC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAGMC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAEMC,GAAa,CACjB,gBACA,cACA,aACA,MACA,YACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,4BACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,oBACA,kBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,uBACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,UACA,qBACA,oBACA,gBACA,MACA,YACA,aACA,SACA,YACA,UACA,cACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,YACA,mBACA,iBACA,eACA,aACA,iBACA,eACA,oBACA,0BACA,yBACA,uBACA,wBACA,0BACA,cACA,MACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,cACA,YACA,kBACA,OACA,iBACA,aACA,cACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,gBACA,aACA,aACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,mBACA,oBACA,oBACA,QACA,cACA,eACA,cACA,qBACA,iBACA,WACA,SACA,SACA,OACA,aACA,cACA,QACA,UACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,QACA,WACA,MACA,WACA,eACA,aACA,iBACA,kBACA,uBACA,kBACA,wBACA,uBACA,wBACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,iBACA,0BACA,MACA,YACA,gBACA,mBACA,kBACA,aACA,mBACA,sBACA,sBACA,6BACA,eACA,iBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,SAGF,EAAE,QAAO,EAST,SAASC,GAAI/K,EAAM,CACjB,MAAM7F,EAAQ6F,EAAK,MACbgL,EAAQ/O,GAAM+D,CAAI,EAClBiL,EAAgB,CAAE,MAAO,gCACzBC,EAAe,kBACfC,EAAiB,oBACjB7Q,EAAW,0BACX8Q,EAAU,CACdpL,EAAK,iBACLA,EAAK,iBACT,EAEE,MAAO,CACL,KAAM,MACN,iBAAkB,GAClB,QAAS,UACT,SAAU,CAAE,iBAAkB,SAAW,EACzC,iBAAkB,CAGhB,iBAAkB,cAAgB,EACpC,SAAU,CACRgL,EAAM,cACNC,EAGAD,EAAM,gBACN,CACE,UAAW,cACX,MAAO,kBACP,UAAW,CACZ,EACD,CACE,UAAW,iBACX,MAAO,MAAQ1Q,EACf,UAAW,CACZ,EACD0Q,EAAM,wBACN,CACE,UAAW,kBACX,SAAU,CACR,CAAE,MAAO,KAAOJ,GAAe,KAAK,GAAG,EAAI,GAAK,EAChD,CAAE,MAAO,SAAWC,GAAg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"}