{"version":3,"file":"index.a8eb20b7.js","sources":["../../vite/modulepreload-polyfill","../../node_modules/@vue/shared/dist/shared.esm-bundler.js","../../node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","../../node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","../../node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","../../src/assets/peaks-logo.svg","../../src/documentation/ExampleWithStyle.vue","../../node_modules/@vueuse/shared/index.mjs","../../node_modules/@vueuse/core/index.mjs","../../node_modules/konva/lib/Global.js","../../node_modules/konva/lib/Util.js","../../node_modules/konva/lib/Validators.js","../../node_modules/konva/lib/Factory.js","../../node_modules/konva/lib/Context.js","../../node_modules/konva/lib/Canvas.js","../../node_modules/konva/lib/DragAndDrop.js","../../node_modules/konva/lib/Node.js","../../node_modules/konva/lib/Container.js","../../node_modules/konva/lib/PointerEvents.js","../../node_modules/konva/lib/Stage.js","../../node_modules/konva/lib/Shape.js","../../node_modules/konva/lib/Layer.js","../../node_modules/konva/lib/FastLayer.js","../../node_modules/konva/lib/Group.js","../../node_modules/konva/lib/Animation.js","../../node_modules/konva/lib/Tween.js","../../node_modules/konva/lib/_CoreInternals.js","../../node_modules/konva/lib/Core.js","../../node_modules/konva/lib/shapes/Line.js","../../node_modules/konva/lib/shapes/Rect.js","../../node_modules/konva/lib/shapes/Text.js","../../node_modules/waveform-data/dist/waveform-data.esm.js","../../node_modules/peaks.js/dist/peaks.esm.js","../../src/components/AudioPeaks.vue","../../src/documentation/ExampleUsingPeaksOptions.vue","../../src/components/AudioPeaksWidget.vue","../../src/documentation/DemoWidget.vue","../../src/documentation/AccessingThePeaksInstance.vue","../../src/documentation/ExampleUsingReactivity.vue","../../src/documentation/Introduction.vue","../../src/documentation/Credits.vue","../../src/documentation/AvailableProperties.vue","../../node_modules/highlight.js/lib/core.js","../../node_modules/highlight.js/es/languages/typescript.js","../../node_modules/highlight.js/es/languages/xml.js","../../node_modules/highlight.js/es/languages/bash.js","../../node_modules/highlight.js/es/languages/css.js","../../node_modules/@highlightjs/vue-plugin/dist/highlightjs-vue.esm.min.js","../../src/main.ts"],"sourcesContent":["__VITE_IS_MODERN__&&(function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n}());","function makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction(\n  (str) => str.charAt(0).toUpperCase() + str.slice(1)\n);\nconst toHandlerKey = cacheStringFunction(\n  (str) => str ? `on${capitalize(str)}` : ``\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `HYDRATE_EVENTS`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_WHITE_LISTED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console\";\nconst isGloballyWhitelisted = /* @__PURE__ */ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length)\n          continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value)) {\n    return value;\n  } else if (isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n    if (isString(value) || typeof value === \"number\") {\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length)\n    return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b)\n    return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect2) {\n  const { deps } = effect2;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect2);\n    }\n    deps.length = 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn);\n  if (options) {\n    extend(_effect, options);\n    if (options.scope)\n      recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { effect: activeEffect, target, type, key } : void 0;\n    trackEffects(dep, eventInfo);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (!!(process.env.NODE_ENV !== \"production\") && activeEffect.onTrack) {\n      activeEffect.onTrack(\n        extend(\n          {\n            effect: activeEffect\n          },\n          debuggerEventExtraInfo\n        )\n      );\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { target, type, key, newValue, oldValue, oldTarget } : void 0;\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        triggerEffects(deps[0], eventInfo);\n      } else {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(createDep(effects), eventInfo);\n    } else {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray(dep) ? dep : [...dep];\n  for (const effect2 of effects) {\n    if (effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n  for (const effect2 of effects) {\n    if (!effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n}\nfunction triggerEffect(effect2, debuggerEventExtraInfo) {\n  if (effect2 !== activeEffect || effect2.allowRecurse) {\n    if (!!(process.env.NODE_ENV !== \"production\") && effect2.onTrigger) {\n      effect2.onTrigger(extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n    if (effect2.scheduler) {\n      effect2.scheduler();\n    } else {\n      effect2.run();\n    }\n  }\n}\nfunction getDepFromReactive(object, key) {\n  var _a;\n  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst get$1 = /* @__PURE__ */ createGetter();\nconst shallowGet = /* @__PURE__ */ createGetter(false, true);\nconst readonlyGet = /* @__PURE__ */ createGetter(true);\nconst shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nfunction createGetter(isReadonly2 = false, shallow = false) {\n  return function get2(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  };\n}\nconst set$1 = /* @__PURE__ */ createSetter();\nconst shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set2(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!shallow) {\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn(target, key);\n  const oldValue = target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction has$1(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n  get: get$1,\n  set: set$1,\n  deleteProperty,\n  has: has$1,\n  ownKeys\n};\nconst readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  },\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n};\nconst shallowReactiveHandlers = /* @__PURE__ */ extend(\n  {},\n  mutableHandlers,\n  {\n    get: shallowGet,\n    set: shallowSet\n  }\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ extend(\n  {},\n  readonlyHandlers,\n  {\n    get: shallowReadonlyGet\n  }\n);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      false\n    );\n    readonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      false\n    );\n    shallowInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      true\n    );\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref2) {\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      trackEffects(ref2.dep || (ref2.dep = createDep()), {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      trackEffects(ref2.dep || (ref2.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref2, newVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(dep, {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal\n      });\n    } else {\n      triggerEffects(dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, newVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    console.warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(\n    source,\n    key,\n    defaultValue\n  );\n}\n\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    trackRefValue(self);\n    if (self._dirty || !self._cacheable) {\n      self._dirty = false;\n      self._value = self.effect.run();\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      console.warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst tick = /* @__PURE__ */ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n  queue.push(fn);\n  if (!queued) {\n    queued = true;\n    tick.then(flush);\n  }\n};\nconst flush = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  queued = false;\n};\nclass DeferredComputedRefImpl {\n  constructor(getter) {\n    this.dep = void 0;\n    this._dirty = true;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = true;\n    let compareTarget;\n    let hasCompareTarget = false;\n    let scheduled = false;\n    this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n      if (this.dep) {\n        if (computedTrigger) {\n          compareTarget = this._value;\n          hasCompareTarget = true;\n        } else if (!scheduled) {\n          const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n          scheduled = true;\n          hasCompareTarget = false;\n          scheduler(() => {\n            if (this.effect.active && this._get() !== valueToCompare) {\n              triggerRefValue(this);\n            }\n            scheduled = false;\n          });\n        }\n        for (const e of this.dep) {\n          if (e.computed instanceof DeferredComputedRefImpl) {\n            e.scheduler(\n              true\n              /* computedTrigger */\n            );\n          }\n        }\n      }\n      this._dirty = true;\n    });\n    this.effect.computed = this;\n  }\n  _get() {\n    if (this._dirty) {\n      this._dirty = false;\n      return this._value = this.effect.run();\n    }\n    return this._value;\n  }\n  get value() {\n    trackRefValue(this);\n    return toRaw(this)._get();\n  }\n}\nfunction deferredComputed(getter) {\n  return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n","import { pauseTracking, resetTracking, isRef, toRaw, getCurrentScope, isShallow as isShallow$1, isReactive, ReactiveEffect, ref, shallowReadonly, track, reactive, shallowReactive, trigger, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, customRef, effect, effectScope, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, NOOP, getGlobalThis, extend, EMPTY_OBJ, toHandlerKey, looseToNumber, hyphenate, camelize, isObject, isOn, hasOwn, isModelListener, toNumber, hasChanged, remove, isSet, isMap, isPlainObject, isBuiltInDirective, invokeArrayFns, isRegExp, capitalize, isGloballyWhitelisted, NO, def, isReservedProp, EMPTY_ARR, toRawType, makeMap, normalizeClass, normalizeStyle } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nfunction warn(msg, ...args) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        msg + args.join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\"))\n    return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorTypeStrings = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  let res;\n  try {\n    res = args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n  return res;\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  const values = [];\n  for (let i = 0; i < fn.length; i++) {\n    values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n  }\n  return values;\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings[type] : type;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    const appErrorHandler = instance.appContext.config.errorHandler;\n    if (appErrorHandler) {\n      callWithErrorHandling(\n        appErrorHandler,\n        null,\n        10,\n        [err, exposedInstance, errorInfo]\n      );\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev);\n}\nfunction logError(err, type, contextVNode, throwInDev = true) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else {\n    console.error(err);\n  }\n}\n\nlet isFlushing = false;\nlet isFlushPending = false;\nconst queue = [];\nlet flushIndex = 0;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJobId = getId(queue[middle]);\n    middleJobId < id ? start = middle + 1 : end = middle;\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!queue.length || !queue.includes(\n    job,\n    isFlushing && job.allowRecurse ? flushIndex + 1 : flushIndex\n  )) {\n    if (job.id == null) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(job.id), 0, job);\n    }\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!isFlushing && !isFlushPending) {\n    isFlushPending = true;\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction invalidateJob(job) {\n  const i = queue.indexOf(job);\n  if (i > flushIndex) {\n    queue.splice(i, 1);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (!activePostFlushCbs || !activePostFlushCbs.includes(\n      cb,\n      cb.allowRecurse ? postFlushIndex + 1 : postFlushIndex\n    )) {\n      pendingPostFlushCbs.push(cb);\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(seen, i = isFlushing ? flushIndex + 1 : 0) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.pre) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      cb();\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)];\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    activePostFlushCbs.sort((a, b) => getId(a) - getId(b));\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, activePostFlushCbs[postFlushIndex])) {\n        continue;\n      }\n      activePostFlushCbs[postFlushIndex]();\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? Infinity : job.id;\nconst comparator = (a, b) => {\n  const diff = getId(a) - getId(b);\n  if (diff === 0) {\n    if (a.pre && !b.pre)\n      return -1;\n    if (b.pre && !a.pre)\n      return 1;\n  }\n  return diff;\n};\nfunction flushJobs(seen) {\n  isFlushPending = false;\n  isFlushing = true;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  queue.sort(comparator);\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && job.active !== false) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        callWithErrorHandling(job, null, 14);\n      }\n    }\n  } finally {\n    flushIndex = 0;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    isFlushing = false;\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  if (!seen.has(fn)) {\n    seen.set(fn, 1);\n  } else {\n    const count = seen.get(fn);\n    if (count > RECURSION_LIMIT) {\n      const instance = fn.ownerInstance;\n      const componentName = instance && getComponentName(instance.type);\n      warn(\n        `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`\n      );\n      return true;\n    } else {\n      seen.set(fn, count + 1);\n    }\n  }\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Set();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record)\n    return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (const instance of instances) {\n    const oldComp = normalizeClassComponent(instance.type);\n    if (!hmrDirtyComponents.has(oldComp)) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.add(oldComp);\n    }\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      hmrDirtyComponents.add(oldComp);\n      instance.ceReload(newComp.styles);\n      hmrDirtyComponents.delete(oldComp);\n    } else if (instance.parent) {\n      queueJob(instance.parent.update);\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n  }\n  queuePostFlushCb(() => {\n    for (const instance of instances) {\n      hmrDirtyComponents.delete(\n        normalizeClassComponent(instance.type)\n      );\n    }\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools) {\n    devtools.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook(hook, target) {\n  var _a, _b;\n  devtools = hook;\n  if (devtools) {\n    devtools.enabled = true;\n    buffer.forEach(({ event, args }) => devtools.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:added\" /* COMPONENT_ADDED */\n);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools && typeof devtools.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:start\" /* PERFORMANCE_START */\n);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\n  \"perf:end\" /* PERFORMANCE_END */\n);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted)\n    return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(event) in propsOptions)) {\n          warn(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(event)}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modelArg = isModelListener && event.slice(7);\n  if (modelArg && modelArg in props) {\n    const modifiersKey = `${modelArg === \"modelValue\" ? \"model\" : modelArg}Modifiers`;\n    const { number, trim } = props[modifiersKey] || EMPTY_OBJ;\n    if (trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(event)}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx)\n    return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    props,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  let result;\n  let fallthroughAttrs;\n  const prev = setCurrentRenderingInstance(instance);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      result = normalizeVNode(\n        render.call(\n          proxyToUse,\n          proxyToUse,\n          renderCache,\n          props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return attrs;\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          props,\n          null\n          /* we know it doesn't need it */\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    root.transition = vnode.transition;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren);\n  if (!childRoot) {\n    return [vnode, void 0];\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent && parent.subTree === vnode) {\n    (vnode = parent.vnode).el = el;\n    parent = parent.parent;\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  create: createSuspenseBoundary,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    isSVG,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      isSVG,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, isSVG, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        patch(\n          activeBranch,\n          newFallback,\n          container,\n          anchor,\n          parentComponent,\n          null,\n          // fallback tree will not have suspense context\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, newFallback);\n      }\n    } else {\n      suspense.pendingId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      suspense.pendingId++;\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, isSVG, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense == null ? void 0 : parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    isSVG,\n    container,\n    hiddenContainer,\n    anchor,\n    deps: 0,\n    pendingId: 0,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: true,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        const delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(pendingBranch, container2, anchor2, 0);\n            }\n          };\n        }\n        let { anchor: anchor2 } = suspense;\n        if (activeBranch) {\n          anchor2 = next(activeBranch);\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor2, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, isSVG: isSVG2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          isSVG2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          isSVG,\n          optimized\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    document.createElement(\"div\"),\n    null,\n    isSVG,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n    /* hydrating */\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild) {\n      warn(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  const el = vnode.el = branch.el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  var _a;\n  return ((_a = vnode.props) == null ? void 0 : _a.suspensible) != null && vnode.props.suspensible !== false;\n}\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nconst INITIAL_WATCHER_VALUE = {};\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, { immediate, deep, flush, onTrack, onTrigger } = EMPTY_OBJ) {\n  var _a;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const warnInvalidSource = (s) => {\n    warn(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const instance = getCurrentScope() === ((_a = currentInstance) == null ? void 0 : _a.scope) ? currentInstance : null;\n  let getter;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow$1(source);\n  } else if (isReactive(source)) {\n    getter = () => source;\n    deep = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow$1(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return traverse(s);\n      } else if (isFunction(s)) {\n        return callWithErrorHandling(s, instance, 2);\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = () => callWithErrorHandling(source, instance, 2);\n    } else {\n      getter = () => {\n        if (instance && instance.isUnmounted) {\n          return;\n        }\n        if (cleanup) {\n          cleanup();\n        }\n        return callWithAsyncErrorHandling(\n          source,\n          instance,\n          3,\n          [onCleanup]\n        );\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    getter = () => traverse(baseGetter());\n  }\n  let cleanup;\n  let onCleanup = (fn) => {\n    cleanup = effect.onStop = () => {\n      callWithErrorHandling(fn, instance, 4);\n    };\n  };\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    onCleanup = NOOP;\n    if (!cb) {\n      getter();\n    } else if (immediate) {\n      callWithAsyncErrorHandling(cb, instance, 3, [\n        getter(),\n        isMultiSource ? [] : void 0,\n        onCleanup\n      ]);\n    }\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else {\n      return NOOP;\n    }\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = () => {\n    if (!effect.active) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some(\n        (v, i) => hasChanged(v, oldValue[i])\n      ) : hasChanged(newValue, oldValue)) || false) {\n        if (cleanup) {\n          cleanup();\n        }\n        callWithAsyncErrorHandling(cb, instance, 3, [\n          newValue,\n          // pass undefined as the old value when it's changed for the first time\n          oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n          onCleanup\n        ]);\n        oldValue = newValue;\n      }\n    } else {\n      effect.run();\n    }\n  };\n  job.allowRecurse = !!cb;\n  let scheduler;\n  if (flush === \"sync\") {\n    scheduler = job;\n  } else if (flush === \"post\") {\n    scheduler = () => queuePostRenderEffect(job, instance && instance.suspense);\n  } else {\n    job.pre = true;\n    if (instance)\n      job.id = instance.uid;\n    scheduler = () => queueJob(job);\n  }\n  const effect = new ReactiveEffect(getter, scheduler);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = onTrack;\n    effect.onTrigger = onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job();\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (flush === \"post\") {\n    queuePostRenderEffect(\n      effect.run.bind(effect),\n      instance && instance.suspense\n    );\n  } else {\n    effect.run();\n  }\n  const unwatch = () => {\n    effect.stop();\n    if (instance && instance.scope) {\n      remove(instance.scope.effects, effect);\n    }\n  };\n  if (ssrCleanup)\n    ssrCleanup.push(unwatch);\n  return unwatch;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const cur = currentInstance;\n  setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  if (cur) {\n    setCurrentInstance(cur);\n  } else {\n    unsetCurrentInstance();\n  }\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\nfunction traverse(value, seen) {\n  if (!isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  if (isRef(value)) {\n    traverse(value.value, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], seen);\n    }\n  }\n  return value;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  const internalInstance = currentRenderingInstance;\n  if (internalInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getExposeProxy(internalInstance) || internalInstance.proxy;\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevTransitionKey;\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      let child = children[0];\n      if (children.length > 1) {\n        let hasFound = false;\n        for (const c of children) {\n          if (c.type !== Comment) {\n            if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n              warn(\n                \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n              );\n              break;\n            }\n            child = c;\n            hasFound = true;\n            if (!!!(process.env.NODE_ENV !== \"production\"))\n              break;\n          }\n        }\n      }\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getKeepAliveChild(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      const enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance\n      );\n      setTransitionHooks(innerChild, enterHooks);\n      const oldChild = instance.subTree;\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild);\n      let transitionKeyChanged = false;\n      const { getTransitionKey } = innerChild.type;\n      if (getTransitionKey) {\n        const key = getTransitionKey();\n        if (prevTransitionKey === void 0) {\n          prevTransitionKey = key;\n        } else if (key !== prevTransitionKey) {\n          prevTransitionKey = key;\n          transitionKeyChanged = true;\n        }\n      }\n      if (oldInnerChild && oldInnerChild.type !== Comment && (!isSameVNodeType(innerChild, oldInnerChild) || transitionKeyChanged)) {\n        const leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\") {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (instance.update.active !== false) {\n              instance.update();\n            }\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el._leaveCb = () => {\n              earlyRemove();\n              el._leaveCb = void 0;\n              delete enterHooks.delayedLeave;\n            };\n            enterHooks.delayedLeave = delayedLeave;\n          };\n        }\n      }\n      return child;\n    };\n  }\n};\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1))\n        done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el._leaveCb) {\n        el._leaveCb(\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el._leaveCb) {\n        leavingVNode.el._leaveCb();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el._enterCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el._enterCb = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el._enterCb) {\n        el._enterCb(\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el._leaveCb = (cancelled) => {\n        if (called)\n          return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el._leaveCb = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      return resolveTransitionHooks(vnode2, props, state, instance);\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getKeepAliveChild(vnode) {\n  return isKeepAlive(vnode) ? vnode.children ? vnode.children[0] : void 0 : vnode;\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128)\n        keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8326: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n          /* do not throw in dev if user provided error component */\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          queueJob(instance.parent.update);\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, isSVG, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        isSVG,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && (!filter || !filter(name))) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (!current || !isSameVNodeType(cached, current)) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      if (target.isUnmounted) {\n        return;\n      }\n      pauseTracking();\n      setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      unsetCurrentInstance();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings[type].replace(/ hook$/, \"\"));\n    warn(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => (\n  // post-create lifecycle registrations are noops during SSR (except for serverPrefetch)\n  (!isInSSRComponentSetup || lifecycle === \"sp\") && injectHook(lifecycle, (...args) => hook(...args), target)\n);\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\"bu\");\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\"bum\");\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\"sp\");\nconst onRenderTriggered = createHook(\n  \"rtg\"\n);\nconst onRenderTracked = createHook(\n  \"rtc\"\n);\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n        /* do not include inferred name to avoid breaking existing code */\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  if (isArray(source) || isString(source)) {\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(source[i], i, void 0, cached && cached[i]);\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res)\n          res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.isCE || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.isCE) {\n    if (name !== \"default\")\n      props.name = name;\n    return createVNode(\"slot\", props, fallback && fallback());\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: props.key || // slot content array of a dynamic conditional slot may have a branch\n      // key attached in the `createSlots` helper, respect that\n      validSlotContent && validSlotContent.key || `_${name}`\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child))\n      return true;\n    if (child.type === Comment)\n      return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i)\n    return null;\n  if (isStatefulComponent(i))\n    return getExposeProxy(i) || i.proxy;\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => queueJob(i.update)),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance, \"get\", key);\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend(\n  {},\n  PublicInstanceProxyHandlers,\n  {\n    get(target, key) {\n      if (key === Symbol.unscopables) {\n        return;\n      }\n      return PublicInstanceProxyHandlers.get(target, key, target);\n    },\n    has(_, key) {\n      const has = key[0] !== \"_\" && !isGloballyWhitelisted(key);\n      if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n        warn(\n          `Property ${JSON.stringify(\n            key\n          )} should not start with _ which is a reserved prefix for Vue internals.`\n        );\n      }\n      return has;\n    }\n  }\n);\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction useModel(props, name, options) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useModel() called without active instance.`);\n    return ref();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][name]) {\n    warn(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  if (options && options.local) {\n    const proxy = ref(props[name]);\n    watch(\n      () => props[name],\n      (v) => proxy.value = v\n    );\n    watch(proxy, (value) => {\n      if (value !== props[name]) {\n        i.emit(`update:${name}`, value);\n      }\n    });\n    return proxy;\n  } else {\n    return {\n      __v_isRef: true,\n      get value() {\n        return props[name];\n      },\n      set value(value) {\n        i.emit(`update:${name}`, value);\n      }\n    };\n  }\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\"))\n      continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b)\n    return a || b;\n  if (isArray(a) && isArray(b))\n    return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components)\n    instance.components = components;\n  if (directives)\n    instance.directives = directives;\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n          /* treat default function as factory */\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  const getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      watch(getter, handler);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    watch(getter, raw.bind(publicThis));\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to)\n    return from;\n  if (!from)\n    return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      Object.defineProperty(context.config, \"unwrapInjectedRef\", {\n        get() {\n          return true;\n        },\n        set() {\n          warn(\n            `app.config.unwrapInjectedRef has been deprecated. 3.3 now alawys unwraps injected refs in Options API.`\n          );\n        }\n      });\n    }\n    const installedPlugins = /* @__PURE__ */ new Set();\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, isSVG) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = createVNode(\n            rootComponent,\n            rootProps\n          );\n          vnode.appContext = context;\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(cloneVNode(vnode), rootContainer, isSVG);\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, isSVG);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getExposeProxy(vnode.component) || vnode.component.proxy;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      unmount() {\n        if (isMounted) {\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = null;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : currentApp._context.provides;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = {};\n  def(attrs, InternalObjectKey, 1);\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId)\n      return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n              /* isAbsent */\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n              /* isAbsent */\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance, \"set\", \"$attrs\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          unsetCurrentInstance();\n        }\n      } else {\n        value = defaultValue;\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys)\n        needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        if (prop) {\n          const booleanIndex = getTypeIndex(Boolean, prop.type);\n          const stringIndex = getTypeIndex(String, prop.type);\n          prop[0 /* shouldCast */] = booleanIndex > -1;\n          prop[1 /* shouldCastTrue */] = stringIndex < 0 || booleanIndex < stringIndex;\n          if (booleanIndex > -1 || hasOwn(prop, \"default\")) {\n            needCastKeys.push(normalizedKey);\n          }\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\") {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  const match = ctor && ctor.toString().match(/^\\s*(function|class) (\\w+)/);\n  return match ? match[2] : ctor === null ? \"null\" : \"\";\n}\nfunction isSameType(a, b) {\n  return getType(a) === getType(b);\n}\nfunction getTypeIndex(type, expectedTypes) {\n  if (isArray(expectedTypes)) {\n    return expectedTypes.findIndex((t) => isSameType(t, type));\n  } else if (isFunction(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1;\n  }\n  return -1;\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null)\n      continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !hasOwn(rawProps, key) && !hasOwn(rawProps, hyphenate(key))\n    );\n  }\n}\nfunction validateProp(name, value, prop, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value)) {\n    warn('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else if (expectedType === \"null\") {\n    valid = value === null;\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance) {\n      warn(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key))\n      continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst initSlots = (instance, children) => {\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      instance.slots = toRaw(children);\n      def(children, \"_\", type);\n    } else {\n      normalizeObjectSlots(\n        children,\n        instance.slots = {});\n    }\n  } else {\n    instance.slots = {};\n    if (children) {\n      normalizeVNodeSlots(instance, children);\n    }\n  }\n  def(instance.slots, InternalObjectKey, 1);\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        extend(slots, children);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        extend(slots, children);\n        if (!optimized && type === 1) {\n          delete slots._;\n        }\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && !(key in deletionComparisonTarget)) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getExposeProxy(vnode.component) || vnode.component.proxy : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (hasOwn(setupState, oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? hasOwn(setupState, ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (hasOwn(setupState, ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k)\n                  refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (hasOwn(setupState, ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k)\n            refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasMismatch = false;\nconst isSVGContainer = (container) => /svg/.test(container.namespaceURI) && container.tagName !== \"foreignObject\";\nconst isComment = (node) => node.nodeType === 8 /* COMMENT */;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hasMismatch = false;\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n    if (hasMismatch && true) {\n      console.error(`Hydration completed but contains mismatches.`);\n    }\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3 /* TEXT */) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            hasMismatch = true;\n            !!(process.env.NODE_ENV !== \"production\") && warn(\n              `Hydration text mismatch:\n- Client: ${JSON.stringify(node.data)}\n- Server: ${JSON.stringify(vnode.children)}`\n            );\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (domType !== 8 /* COMMENT */ || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 /* ELEMENT */ || domType === 3 /* TEXT */) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 /* ELEMENT */ ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if (domType !== 1 /* ELEMENT */ || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(container),\n            optimized\n          );\n          nextNode = isFragmentStart ? locateClosingAsyncAnchor(node) : nextSibling(node);\n          if (nextNode && isComment(nextNode) && nextNode.data === \"teleport end\") {\n            nextNode = nextSibling(nextNode);\n          }\n          if (isAsyncWrapper(vnode)) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8 /* COMMENT */) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            isSVGContainer(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs } = vnode;\n    const forcePatchValue = type === \"input\" && dirs || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatchValue || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      if (props) {\n        if (forcePatchValue || !optimized || patchFlag & (16 | 32)) {\n          for (const key in props) {\n            if (forcePatchValue && key.endsWith(\"value\") || isOn(key) && !isReservedProp(key)) {\n              patchProp(\n                el,\n                key,\n                null,\n                props[key],\n                false,\n                void 0,\n                parentComponent\n              );\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            false,\n            void 0,\n            parentComponent\n          );\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          hasMismatch = true;\n          if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n            warn(\n              `Hydration children mismatch in <${vnode.type}>: server rendered element contains more child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        if (el.textContent !== vnode.children) {\n          hasMismatch = true;\n          !!(process.env.NODE_ENV !== \"production\") && warn(\n            `Hydration text content mismatch in <${vnode.type}>:\n- Client: ${el.textContent}\n- Server: ${vnode.children}`\n          );\n          el.textContent = vnode.children;\n        }\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      if (node) {\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (vnode.type === Text && !vnode.children) {\n        continue;\n      } else {\n        hasMismatch = true;\n        if (!!(process.env.NODE_ENV !== \"production\") && !hasWarned) {\n          warn(\n            `Hydration children mismatch in <${container.tagName.toLowerCase()}>: server rendered element contains fewer child nodes than client vdom.`\n          );\n          hasWarned = true;\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVGContainer(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      hasMismatch = true;\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    hasMismatch = true;\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `Hydration node mismatch:\n- Client vnode:`,\n      vnode.type,\n      `\n- Server rendered DOM:`,\n      node,\n      node.nodeType === 3 /* TEXT */ ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``\n    );\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAsyncAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      isSVGContainer(container),\n      slotScopeIds\n    );\n    return next;\n  };\n  const locateClosingAsyncAnchor = (node) => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === \"[\")\n          match++;\n        if (node.data === \"]\") {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  return [hydrate, hydrateNode];\n}\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, isSVG = false, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, isSVG);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, isSVG);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, isSVG) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      isSVG,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, isSVG) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        isSVG\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    isSVG = isSVG || n2.type === \"svg\";\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { type, props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      isSVG,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG && type !== \"foreignObject\",\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(\n            el,\n            key,\n            null,\n            props[key],\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      Object.defineProperty(el, \"__vnode\", {\n        value: vnode,\n        enumerable: false\n      });\n      Object.defineProperty(el, \"__vueParentComponent\", {\n        value: parentComponent,\n        enumerable: false\n      });\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    const areChildrenSVG = isSVG && n2.type !== \"foreignObject\";\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        areChildrenSVG,\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(\n          el,\n          n2,\n          oldProps,\n          newProps,\n          parentComponent,\n          parentSuspense,\n          isSVG\n        );\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, isSVG);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, isSVG);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(\n                el,\n                key,\n                prev,\n                next,\n                isSVG,\n                n1.children,\n                parentComponent,\n                parentSuspense,\n                unmountChildren\n              );\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(\n        el,\n        n2,\n        oldProps,\n        newProps,\n        parentComponent,\n        parentSuspense,\n        isSVG\n      );\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, isSVG, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, vnode, oldProps, newProps, parentComponent, parentSuspense, isSVG) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              isSVG,\n              vnode.children,\n              parentComponent,\n              parentSuspense,\n              unmountChildren\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key))\n          continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(\n            el,\n            key,\n            prev,\n            next,\n            isSVG,\n            vnode.children,\n            parentComponent,\n            parentSuspense,\n            unmountChildren\n          );\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        n2.children,\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          isSVG,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, isSVG, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n      return;\n    }\n    setupRenderEffect(\n      instance,\n      initialVNode,\n      container,\n      anchor,\n      parentSuspense,\n      isSVG,\n      optimized\n    );\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        invalidateJob(instance.update);\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, isSVG, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode) {\n            initialVNode.type.__asyncLoader().then(\n              // note: we are moving the render call into an async callback,\n              // which means it won't track dependencies - but it's ok because\n              // a server-rendered async wrapper is already in resolved state\n              // and it will never need to change.\n              () => !instance.isUnmounted && hydrateSubTree()\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            isSVG\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          isSVG\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    const effect = instance.effect = new ReactiveEffect(\n      componentUpdateFn,\n      () => queueJob(update),\n      instance.scope\n      // track it in component's effect scope\n    );\n    const update = instance.update = () => effect.run();\n    update.id = instance.uid;\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n      update.ownerInstance = instance;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs();\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        isSVG,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++)\n        newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs\n    } = vnode;\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          optimized,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, update, subTree, um } = instance;\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (update) {\n      update.active = false;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    return hostNextSibling(vnode.anchor || vnode.el);\n  };\n  const render = (vnode, container, isSVG) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(container._vnode || null, vnode, container, null, null, null, isSVG);\n    }\n    flushPreFlushCbs();\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction toggleRecurse({ effect, update }, allowed) {\n  effect.allowRecurse = update.allowRecurse = allowed;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\n\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!target) {\n        !!(process.env.NODE_ENV !== \"production\") && warn(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, isSVG, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const target = n2.target = resolveTarget(n2.props, querySelector);\n      const targetAnchor = n2.targetAnchor = createText(\"\");\n      if (target) {\n        insert(targetAnchor, target);\n        isSVG = isSVG || isTargetSVG(target);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n        warn(\"Invalid Teleport target on mount:\", target, `(${typeof target})`);\n      }\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            isSVG,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n      } else if (target) {\n        mount(target, targetAnchor);\n      }\n    } else {\n      n2.el = n1.el;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      isSVG = isSVG || isTargetSVG(target);\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          isSVG,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n    }\n    updateCssVars(n2);\n  },\n  remove(vnode, parentComponent, parentSuspense, optimized, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const { shapeFlag, children, anchor, targetAnchor, target, props } = vnode;\n    if (target) {\n      hostRemove(targetAnchor);\n    }\n    if (doRemove || !isTeleportDisabled(props)) {\n      hostRemove(anchor);\n      if (shapeFlag & 16) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          unmount(\n            child,\n            parentComponent,\n            parentSuspense,\n            true,\n            !!child.dynamicChildren\n          );\n        }\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (isTeleportDisabled(vnode.props)) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetAnchor = targetNode;\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          targetAnchor = nextSibling(targetAnchor);\n          if (targetAnchor && targetAnchor.nodeType === 8 && targetAnchor.data === \"teleport anchor\") {\n            vnode.targetAnchor = targetAnchor;\n            target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n            break;\n          }\n        }\n        hydrateChildren(\n          targetNode,\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node = vnode.children[0].el;\n    while (node !== vnode.targetAnchor) {\n      if (node.nodeType === 1)\n        node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value) {\n  isBlockTreeEnabled += value;\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n      /* isBlock */\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n      /* isBlock: prevent a block from tracking itself */\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && hmrDirtyComponents.has(n2.type)) {\n    n1.shapeFlag &= ~256;\n    n2.shapeFlag &= ~512;\n    return false;\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst InternalObjectKey = `__vInternal`;\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag |= -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn(\n      `Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props)\n    return null;\n  return isProxy(props) || InternalObjectKey in props ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false) {\n  const { props, ref, patchFlag, children } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition: vnode.transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (typeof child === \"object\") {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !(InternalObjectKey in children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    attrsProxy: null,\n    slotsProxy: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet globalCurrentInstanceSetters;\nlet settersKey = \"__VUE_INSTANCE_SETTERS__\";\n{\n  if (!(globalCurrentInstanceSetters = getGlobalThis()[settersKey])) {\n    globalCurrentInstanceSetters = getGlobalThis()[settersKey] = [];\n  }\n  globalCurrentInstanceSetters.push((i) => currentInstance = i);\n  internalSetCurrentInstance = (instance) => {\n    if (globalCurrentInstanceSetters.length > 1) {\n      globalCurrentInstanceSetters.forEach((s) => s(instance));\n    } else {\n      globalCurrentInstanceSetters[0](instance);\n    }\n  };\n}\nconst setCurrentInstance = (instance) => {\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, config) {\n  const appIsNativeTag = config.isNativeTag || NO;\n  if (isBuiltInTag(name) || appIsNativeTag(name)) {\n    warn(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false) {\n  isInSSRComponentSetup = isSSR;\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isInSSRComponentSetup = false;\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = markRaw(new Proxy(instance.ctx, PublicInstanceProxyHandlers));\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    setCurrentInstance(instance);\n    pauseTracking();\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [!!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props, setupContext]\n    );\n    resetTracking();\n    unsetCurrentInstance();\n    if (isPromise(setupResult)) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    setCurrentInstance(instance);\n    pauseTracking();\n    applyOptions(instance);\n    resetTracking();\n    unsetCurrentInstance();\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n        /* should not happen */\n      );\n    } else {\n      warn(`Component is missing template or render function.`);\n    }\n  }\n}\nfunction getAttrsProxy(instance) {\n  return instance.attrsProxy || (instance.attrsProxy = new Proxy(\n    instance.attrs,\n    !!(process.env.NODE_ENV !== \"production\") ? {\n      get(target, key) {\n        markAttrsAccessed();\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      },\n      set() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      },\n      deleteProperty() {\n        warn(`setupContext.attrs is readonly.`);\n        return false;\n      }\n    } : {\n      get(target, key) {\n        track(instance, \"get\", \"$attrs\");\n        return target[key];\n      }\n    }\n  ));\n}\nfunction getSlotsProxy(instance) {\n  return instance.slotsProxy || (instance.slotsProxy = new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  }));\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    return Object.freeze({\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      get slots() {\n        return getSlotsProxy(instance);\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      get attrs() {\n        return getAttrsProxy(instance);\n      },\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getExposeProxy(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  return computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#0b1bc9\" };\n  const stringStyle = { style: \"color:#b62e24\" };\n  const keywordStyle = { style: \"color:#9d288c\" };\n  const formatter = {\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          formatValue(obj.value),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.3.4\";\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useModel, useSSRContext, useSlots, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","import { warn, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, createVNode, getCurrentInstance, watchPostEffect, onMounted, onUnmounted, Fragment, Static, h, BaseTransition, BaseTransitionPropsValidators, assertNumber, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { isString, isArray, hyphenate, capitalize, isSpecialBooleanAttr, includeBooleanAttr, isOn, isModelListener, isFunction, camelize as camelize$1, toNumber, extend, EMPTY_OBJ, isObject, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag } from '@vue/shared';\n\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, isSVG, is, props) => {\n    const el = isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag, is ? { is } : void 0);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, isSVG, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling))\n          break;\n      }\n    } else {\n      templateContainer.innerHTML = isSVG ? `<svg>${content}</svg>` : content;\n      const template = templateContainer.content;\n      if (isSVG) {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el._vtc;\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  if (next && !isCssString) {\n    if (prev && !isString(prev)) {\n      for (const key in prev) {\n        if (next[key] == null) {\n          setStyle(style, key, \"\");\n        }\n      }\n    }\n    for (const key in next) {\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    const currentDisplay = style.display;\n    if (isCssString) {\n      if (prev !== next) {\n        style.cssText = next;\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n    if (\"_vod\" in el) {\n      style.display = currentDisplay;\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null)\n      val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    const isBoolean = isSpecialBooleanAttr(key);\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(key, isBoolean ? \"\" : value);\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, prevChildren, parentComponent, parentSuspense, unmountChildren) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (prevChildren) {\n      unmountChildren(prevChildren, parentComponent, parentSuspense);\n    }\n    el[key] = value == null ? \"\" : value;\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    el._value = value;\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (oldValue !== newValue) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el._vei || (el._vei = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(nextValue, instance);\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map((fn) => (e2) => !e2._stopped && fn && fn(e2));\n  } else {\n    return value;\n  }\n}\n\nconst nativeOnRE = /^on[a-z]/;\nconst patchProp = (el, key, prevValue, nextValue, isSVG = false, prevChildren, parentComponent, parentSuspense, unmountChildren) => {\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(\n      el,\n      key,\n      nextValue,\n      prevChildren,\n      parentComponent,\n      parentSuspense,\n      unmountChildren\n    );\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && nativeOnRE.test(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (nativeOnRE.test(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nfunction defineCustomElement(options, hydrate2) {\n  const Comp = defineComponent(options);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, hydrate2);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\nconst defineSSRCustomElement = (options) => {\n  return defineCustomElement(options, hydrate);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, hydrate2) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    if (this.shadowRoot && hydrate2) {\n      hydrate2(this._createVNode(), this.shadowRoot);\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      this.attachShadow({ mode: \"open\" });\n      if (!this._def.__asyncLoader) {\n        this._resolveProps(this._def);\n      }\n    }\n  }\n  connectedCallback() {\n    this._connected = true;\n    if (!this._instance) {\n      if (this._resolved) {\n        this._update();\n      } else {\n        this._resolveDef();\n      }\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        render(null, this.shadowRoot);\n        this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    this._resolved = true;\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    }).observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      this._applyStyles(styles);\n      this._update();\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      asyncDef().then((def) => resolve(def, true));\n    } else {\n      resolve(this._def);\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key], true, false);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    let value = this.getAttribute(key);\n    const camelKey = camelize$1(key);\n    if (this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = true) {\n    if (val !== this._props[key]) {\n      this._props[key] = val;\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this.shadowRoot);\n  }\n  _createVNode() {\n    const vnode = createVNode(this._def, extend({}, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this.shadowRoot.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(event, {\n              detail: args\n            })\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        let parent = this;\n        while (parent = parent && (parent.parentNode || parent.host)) {\n          if (parent instanceof VueElement) {\n            instance.parent = parent._instance;\n            instance.provides = parent._instance.provides;\n            break;\n          }\n        }\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles) {\n    if (styles) {\n      styles.forEach((css) => {\n        const s = document.createElement(\"style\");\n        s.textContent = css;\n        this.shadowRoot.appendChild(s);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      });\n    }\n  }\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    setVarsOnVNode(instance.subTree, vars);\n    updateTeleports(vars);\n  };\n  watchPostEffect(setVars);\n  onMounted(() => {\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor)\n        break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n    }\n  }\n}\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst Transition = (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots);\nTransition.displayName = \"Transition\";\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = Transition.props = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done) => {\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      forceReflow();\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el._vtc || (el._vtc = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const { _vtc } = el;\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el._vtc = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst TransitionGroupImpl = {\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el._moveCb = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = children;\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      if (prevChildren) {\n        for (let i = 0; i < prevChildren.length; i++) {\n          const child = prevChildren[i];\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n          positionMap.set(child, child.el.getBoundingClientRect());\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n};\nconst removeMode = (props) => delete props.mode;\n/* @__PURE__ */ removeMode(TransitionGroupImpl.props);\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el._moveCb) {\n    el._moveCb();\n  }\n  if (el._enterCb) {\n    el._enterCb();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  if (el._vtc) {\n    el._vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing)\n        return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el._assign(domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, modifiers: { lazy, trim, number } }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (el.composing)\n      return;\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy) {\n        return;\n      }\n      if (trim && el.value.trim() === value) {\n        return;\n      }\n      if ((number || el.type === \"number\") && looseToNumber(el.value) === value) {\n        return;\n      }\n    }\n    const newValue = value == null ? \"\" : value;\n    if (el.value !== newValue) {\n      el.value = newValue;\n    }\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el._assign;\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  if (isArray(value)) {\n    el.checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    el.checked = value.has(vnode.props.value);\n  } else if (value !== oldValue) {\n    el.checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el._assign = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el._assign(getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el._assign = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el._assign(\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n    });\n    el._assign = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el._assign = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    setSelected(el, value);\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  if (isMultiple && !isArray(value) && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArray(value)) {\n        option.selected = looseIndexOf(value, optionValue) > -1;\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i)\n          el.selectedIndex = i;\n        return;\n      }\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  return (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers))\n        return;\n    }\n    return fn(event, ...args);\n  };\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  return (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some((k) => k === eventKey || keyNames[k] === eventKey)) {\n      return fn(event);\n    }\n  };\n};\n\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el._vod = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue)\n      return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nfunction setDisplay(el, value) {\n  el.style.display = value ? el._vod : \"none\";\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container)\n      return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    container.innerHTML = \"\";\n    const proxy = mount(container, false, container instanceof SVGElement);\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, container instanceof SVGElement);\n    }\n  };\n  return app;\n};\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","export default \"__VITE_ASSET__72e98b64__\"","<script setup lang=\"ts\"></script>\n\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        The <span class=\"code\">AudioPeaks</span> component has it's own CSS\n        class, plus each generated pane (overview, zoomview, audio/video\n        element, controls) also has a dedicated CSS class which you can select\n        for your styles. Note however, that you can not style the waveforms\n        themselves this way.\n      </p>\n      <p>\n        To use the default style also for external or slotted panes, you need to\n        set the corresponding classes yourself.\n      </p>\n      <p>The following selectors are available:</p>\n    </div>\n    <div class=\"column\">\n      <highlightjs\n        language=\"css\"\n        code=\"div.peaks { \n    /* The div with the whole AudioPeaks component */ }\ndiv.peaks-overview { \n    /* The div with the overview waveform */ }\ndiv.peaks-zoomview { \n    /* The div with the zoom waveform */ }\ndiv.peaks-controls { \n    /* The div with the zoom controls */ }\naudio.peaks { \n    /* The audio element, when provided by vue-peaks \n       (in the 'simple' mode) */ }\nvideo.peaks { \n    /* The video element, when provided by vue-peaks \n       (in the 'simple' mode) */ }\ndiv.peaks-overview:empty,\ndiv.peaks-zoomview:empty {       \n    /* The overview and zommview pane, respectively, as long as data is loading.\n    You can use this to show you own custom progress indication */ }\n    \"\n      />\n    </div>\n  </div>\n</template>\n","import { shallowRef, watchEffect, readonly, ref, watch, customRef, getCurrentScope, onScopeDispose, effectScope, provide, inject, isVue3, version, isRef, unref, computed, reactive, toRefs as toRefs$1, toRef as toRef$1, isVue2, set as set$1, getCurrentInstance, onBeforeMount, nextTick, onBeforeUnmount, onMounted, onUnmounted, isReactive } from 'vue-demi';\n\nfunction computedEager(fn, options) {\n  var _a;\n  const result = shallowRef();\n  watchEffect(() => {\n    result.value = fn();\n  }, {\n    ...options,\n    flush: (_a = options == null ? void 0 : options.flush) != null ? _a : \"sync\"\n  });\n  return readonly(result);\n}\n\nfunction computedWithControl(source, fn) {\n  let v = void 0;\n  let track;\n  let trigger;\n  const dirty = ref(true);\n  const update = () => {\n    dirty.value = true;\n    trigger();\n  };\n  watch(source, update, { flush: \"sync\" });\n  const get = typeof fn === \"function\" ? fn : fn.get;\n  const set = typeof fn === \"function\" ? void 0 : fn.set;\n  const result = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        if (dirty.value) {\n          v = get();\n          dirty.value = false;\n        }\n        track();\n        return v;\n      },\n      set(v2) {\n        set == null ? void 0 : set(v2);\n      }\n    };\n  });\n  if (Object.isExtensible(result))\n    result.trigger = update;\n  return result;\n}\n\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\n\nfunction createEventHook() {\n  const fns = /* @__PURE__ */ new Set();\n  const off = (fn) => {\n    fns.delete(fn);\n  };\n  const on = (fn) => {\n    fns.add(fn);\n    const offFn = () => off(fn);\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = (param) => {\n    return Promise.all(Array.from(fns).map((fn) => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger\n  };\n}\n\nfunction createGlobalState(stateFactory) {\n  let initialized = false;\n  let state;\n  const scope = effectScope(true);\n  return (...args) => {\n    if (!initialized) {\n      state = scope.run(() => stateFactory(...args));\n      initialized = true;\n    }\n    return state;\n  };\n}\n\nfunction createInjectionState(composable) {\n  const key = Symbol(\"InjectionState\");\n  const useProvidingState = (...args) => {\n    const state = composable(...args);\n    provide(key, state);\n    return state;\n  };\n  const useInjectedState = () => inject(key);\n  return [useProvidingState, useInjectedState];\n}\n\nfunction createSharedComposable(composable) {\n  let subscribers = 0;\n  let state;\n  let scope;\n  const dispose = () => {\n    subscribers -= 1;\n    if (scope && subscribers <= 0) {\n      scope.stop();\n      state = void 0;\n      scope = void 0;\n    }\n  };\n  return (...args) => {\n    subscribers += 1;\n    if (!state) {\n      scope = effectScope(true);\n      state = scope.run(() => composable(...args));\n    }\n    tryOnScopeDispose(dispose);\n    return state;\n  };\n}\n\nfunction extendRef(ref, extend, { enumerable = false, unwrap = true } = {}) {\n  if (!isVue3 && !version.startsWith(\"2.7.\")) {\n    if (process.env.NODE_ENV !== \"production\")\n      throw new Error(\"[VueUse] extendRef only works in Vue 2.7 or above.\");\n    return;\n  }\n  for (const [key, value] of Object.entries(extend)) {\n    if (key === \"value\")\n      continue;\n    if (isRef(value) && unwrap) {\n      Object.defineProperty(ref, key, {\n        get() {\n          return value.value;\n        },\n        set(v) {\n          value.value = v;\n        },\n        enumerable\n      });\n    } else {\n      Object.defineProperty(ref, key, { value, enumerable });\n    }\n  }\n  return ref;\n}\n\nfunction get(obj, key) {\n  if (key == null)\n    return unref(obj);\n  return unref(obj)[key];\n}\n\nfunction isDefined(v) {\n  return unref(v) != null;\n}\n\nfunction makeDestructurable(obj, arr) {\n  if (typeof Symbol !== \"undefined\") {\n    const clone = { ...obj };\n    Object.defineProperty(clone, Symbol.iterator, {\n      enumerable: false,\n      value() {\n        let index = 0;\n        return {\n          next: () => ({\n            value: arr[index++],\n            done: index > arr.length\n          })\n        };\n      }\n    });\n    return clone;\n  } else {\n    return Object.assign([...arr], obj);\n  }\n}\n\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nconst resolveUnref = toValue;\n\nfunction reactify(fn, options) {\n  const unrefFn = (options == null ? void 0 : options.computedGetter) === false ? unref : toValue;\n  return function(...args) {\n    return computed(() => fn.apply(this, args.map((i) => unrefFn(i))));\n  };\n}\n\nfunction reactifyObject(obj, optionsOrKeys = {}) {\n  let keys = [];\n  let options;\n  if (Array.isArray(optionsOrKeys)) {\n    keys = optionsOrKeys;\n  } else {\n    options = optionsOrKeys;\n    const { includeOwnProperties = true } = optionsOrKeys;\n    keys.push(...Object.keys(obj));\n    if (includeOwnProperties)\n      keys.push(...Object.getOwnPropertyNames(obj));\n  }\n  return Object.fromEntries(\n    keys.map((key) => {\n      const value = obj[key];\n      return [\n        key,\n        typeof value === \"function\" ? reactify(value.bind(obj), options) : value\n      ];\n    })\n  );\n}\n\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\n\nfunction reactiveComputed(fn) {\n  return toReactive(computed(fn));\n}\n\nfunction reactiveOmit(obj, ...keys) {\n  const flatKeys = keys.flat();\n  const predicate = flatKeys[0];\n  return reactiveComputed(\n    () => typeof predicate === \"function\" ? Object.fromEntries(Object.entries(toRefs$1(obj)).filter(([k, v]) => !predicate(toValue(v), k))) : Object.fromEntries(Object.entries(toRefs$1(obj)).filter((e) => !flatKeys.includes(e[0])))\n  );\n}\n\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef = (val) => typeof val !== \"undefined\";\nconst notNullish = (val) => val != null;\nconst assert = (condition, ...infos) => {\n  if (!condition)\n    console.warn(...infos);\n};\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst now = () => Date.now();\nconst timestamp = () => +Date.now();\nconst clamp = (n, min, max) => Math.min(max, Math.max(min, n));\nconst noop = () => {\n};\nconst rand = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst hasOwn = (val, key) => Object.prototype.hasOwnProperty.call(val, key);\nconst isIOS = /* @__PURE__ */ getIsIOS();\nfunction getIsIOS() {\n  var _a;\n  return isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && /* @__PURE__ */ /iP(ad|hone|od)/.test(window.navigator.userAgent);\n}\n\nfunction createFilterWrapper(filter, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction debounceFilter(ms, options = {}) {\n  let timer;\n  let maxTimer;\n  let lastRejector = noop;\n  const _clearTimeout = (timer2) => {\n    clearTimeout(timer2);\n    lastRejector();\n    lastRejector = noop;\n  };\n  const filter = (invoke) => {\n    const duration = toValue(ms);\n    const maxDuration = toValue(options.maxWait);\n    if (timer)\n      _clearTimeout(timer);\n    if (duration <= 0 || maxDuration !== void 0 && maxDuration <= 0) {\n      if (maxTimer) {\n        _clearTimeout(maxTimer);\n        maxTimer = null;\n      }\n      return Promise.resolve(invoke());\n    }\n    return new Promise((resolve, reject) => {\n      lastRejector = options.rejectOnCancel ? reject : resolve;\n      if (maxDuration && !maxTimer) {\n        maxTimer = setTimeout(() => {\n          if (timer)\n            _clearTimeout(timer);\n          maxTimer = null;\n          resolve(invoke());\n        }, maxDuration);\n      }\n      timer = setTimeout(() => {\n        if (maxTimer)\n          _clearTimeout(maxTimer);\n        maxTimer = null;\n        resolve(invoke());\n      }, duration);\n    });\n  };\n  return filter;\n}\nfunction throttleFilter(ms, trailing = true, leading = true, rejectOnCancel = false) {\n  let lastExec = 0;\n  let timer;\n  let isLeading = true;\n  let lastRejector = noop;\n  let lastValue;\n  const clear = () => {\n    if (timer) {\n      clearTimeout(timer);\n      timer = void 0;\n      lastRejector();\n      lastRejector = noop;\n    }\n  };\n  const filter = (_invoke) => {\n    const duration = toValue(ms);\n    const elapsed = Date.now() - lastExec;\n    const invoke = () => {\n      return lastValue = _invoke();\n    };\n    clear();\n    if (duration <= 0) {\n      lastExec = Date.now();\n      return invoke();\n    }\n    if (elapsed > duration && (leading || !isLeading)) {\n      lastExec = Date.now();\n      invoke();\n    } else if (trailing) {\n      lastValue = new Promise((resolve, reject) => {\n        lastRejector = rejectOnCancel ? reject : resolve;\n        timer = setTimeout(() => {\n          lastExec = Date.now();\n          isLeading = true;\n          resolve(invoke());\n          clear();\n        }, Math.max(0, duration - elapsed));\n      });\n    }\n    if (!leading && !timer)\n      timer = setTimeout(() => isLeading = true, duration);\n    isLeading = false;\n    return lastValue;\n  };\n  return filter;\n}\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\n\nconst directiveHooks = {\n  mounted: isVue3 ? \"mounted\" : \"inserted\",\n  updated: isVue3 ? \"updated\" : \"componentUpdated\",\n  unmounted: isVue3 ? \"unmounted\" : \"unbind\"\n};\n\nfunction cacheStringFunction(fn) {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\n\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction identity(arg) {\n  return arg;\n}\nfunction createSingletonPromise(fn) {\n  let _promise;\n  function wrapper() {\n    if (!_promise)\n      _promise = fn();\n    return _promise;\n  }\n  wrapper.reset = async () => {\n    const _prev = _promise;\n    _promise = void 0;\n    if (_prev)\n      await _prev;\n  };\n  return wrapper;\n}\nfunction invoke(fn) {\n  return fn();\n}\nfunction containsProp(obj, ...props) {\n  return props.some((k) => k in obj);\n}\nfunction increaseWithUnit(target, delta) {\n  var _a;\n  if (typeof target === \"number\")\n    return target + delta;\n  const value = ((_a = target.match(/^-?[0-9]+\\.?[0-9]*/)) == null ? void 0 : _a[0]) || \"\";\n  const unit = target.slice(value.length);\n  const result = Number.parseFloat(value) + delta;\n  if (Number.isNaN(result))\n    return target;\n  return result + unit;\n}\nfunction objectPick(obj, keys, omitUndefined = false) {\n  return keys.reduce((n, k) => {\n    if (k in obj) {\n      if (!omitUndefined || obj[k] !== void 0)\n        n[k] = obj[k];\n    }\n    return n;\n  }, {});\n}\nfunction objectOmit(obj, keys, omitUndefined = false) {\n  return Object.fromEntries(Object.entries(obj).filter(([key, value]) => {\n    return (!omitUndefined || value !== void 0) && !keys.includes(key);\n  }));\n}\nfunction objectEntries(obj) {\n  return Object.entries(obj);\n}\n\nfunction toRef(...args) {\n  if (args.length !== 1)\n    return toRef$1(...args);\n  const r = args[0];\n  return typeof r === \"function\" ? readonly(customRef(() => ({ get: r, set: noop }))) : ref(r);\n}\nconst resolveRef = toRef;\n\nfunction reactivePick(obj, ...keys) {\n  const flatKeys = keys.flat();\n  const predicate = flatKeys[0];\n  return reactiveComputed(() => typeof predicate === \"function\" ? Object.fromEntries(Object.entries(toRefs$1(obj)).filter(([k, v]) => predicate(toValue(v), k))) : Object.fromEntries(flatKeys.map((k) => [k, toRef(obj, k)])));\n}\n\nfunction refAutoReset(defaultValue, afterMs = 1e4) {\n  return customRef((track, trigger) => {\n    let value = toValue(defaultValue);\n    let timer;\n    const resetAfter = () => setTimeout(() => {\n      value = toValue(defaultValue);\n      trigger();\n    }, toValue(afterMs));\n    tryOnScopeDispose(() => {\n      clearTimeout(timer);\n    });\n    return {\n      get() {\n        track();\n        return value;\n      },\n      set(newValue) {\n        value = newValue;\n        trigger();\n        clearTimeout(timer);\n        timer = resetAfter();\n      }\n    };\n  });\n}\n\nfunction useDebounceFn(fn, ms = 200, options = {}) {\n  return createFilterWrapper(\n    debounceFilter(ms, options),\n    fn\n  );\n}\n\nfunction refDebounced(value, ms = 200, options = {}) {\n  const debounced = ref(value.value);\n  const updater = useDebounceFn(() => {\n    debounced.value = value.value;\n  }, ms, options);\n  watch(value, () => updater());\n  return debounced;\n}\n\nfunction refDefault(source, defaultValue) {\n  return computed({\n    get() {\n      var _a;\n      return (_a = source.value) != null ? _a : defaultValue;\n    },\n    set(value) {\n      source.value = value;\n    }\n  });\n}\n\nfunction useThrottleFn(fn, ms = 200, trailing = false, leading = true, rejectOnCancel = false) {\n  return createFilterWrapper(\n    throttleFilter(ms, trailing, leading, rejectOnCancel),\n    fn\n  );\n}\n\nfunction refThrottled(value, delay = 200, trailing = true, leading = true) {\n  if (delay <= 0)\n    return value;\n  const throttled = ref(value.value);\n  const updater = useThrottleFn(() => {\n    throttled.value = value.value;\n  }, delay, trailing, leading);\n  watch(value, () => updater());\n  return throttled;\n}\n\nfunction refWithControl(initial, options = {}) {\n  let source = initial;\n  let track;\n  let trigger;\n  const ref = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        return get();\n      },\n      set(v) {\n        set(v);\n      }\n    };\n  });\n  function get(tracking = true) {\n    if (tracking)\n      track();\n    return source;\n  }\n  function set(value, triggering = true) {\n    var _a, _b;\n    if (value === source)\n      return;\n    const old = source;\n    if (((_a = options.onBeforeChange) == null ? void 0 : _a.call(options, value, old)) === false)\n      return;\n    source = value;\n    (_b = options.onChanged) == null ? void 0 : _b.call(options, value, old);\n    if (triggering)\n      trigger();\n  }\n  const untrackedGet = () => get(false);\n  const silentSet = (v) => set(v, false);\n  const peek = () => get(false);\n  const lay = (v) => set(v, false);\n  return extendRef(\n    ref,\n    {\n      get,\n      set,\n      untrackedGet,\n      silentSet,\n      peek,\n      lay\n    },\n    { enumerable: true }\n  );\n}\nconst controlledRef = refWithControl;\n\nfunction set(...args) {\n  if (args.length === 2) {\n    const [ref, value] = args;\n    ref.value = value;\n  }\n  if (args.length === 3) {\n    if (isVue2) {\n      set$1(...args);\n    } else {\n      const [target, key, value] = args;\n      target[key] = value;\n    }\n  }\n}\n\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\n\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter,\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter);\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\n\nfunction syncRef(left, right, options = {}) {\n  var _a, _b;\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true,\n    direction = \"both\",\n    transform = {}\n  } = options;\n  const watchers = [];\n  const transformLTR = (_a = transform.ltr) != null ? _a : (v) => v;\n  const transformRTL = (_b = transform.rtl) != null ? _b : (v) => v;\n  if (direction === \"both\" || direction === \"ltr\") {\n    watchers.push(watchPausable(\n      left,\n      (newValue) => {\n        watchers.forEach((w) => w.pause());\n        right.value = transformLTR(newValue);\n        watchers.forEach((w) => w.resume());\n      },\n      { flush, deep, immediate }\n    ));\n  }\n  if (direction === \"both\" || direction === \"rtl\") {\n    watchers.push(watchPausable(\n      right,\n      (newValue) => {\n        watchers.forEach((w) => w.pause());\n        left.value = transformRTL(newValue);\n        watchers.forEach((w) => w.resume());\n      },\n      { flush, deep, immediate }\n    ));\n  }\n  const stop = () => {\n    watchers.forEach((w) => w.stop());\n  };\n  return stop;\n}\n\nfunction syncRefs(source, targets, options = {}) {\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true\n  } = options;\n  if (!Array.isArray(targets))\n    targets = [targets];\n  return watch(\n    source,\n    (newValue) => targets.forEach((target) => target.value = newValue),\n    { flush, deep, immediate }\n  );\n}\n\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\n\nfunction tryOnBeforeMount(fn, sync = true) {\n  if (getCurrentInstance())\n    onBeforeMount(fn);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnBeforeUnmount(fn) {\n  if (getCurrentInstance())\n    onBeforeUnmount(fn);\n}\n\nfunction tryOnMounted(fn, sync = true) {\n  if (getCurrentInstance())\n    onMounted(fn);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnUnmounted(fn) {\n  if (getCurrentInstance())\n    onUnmounted(fn);\n}\n\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            stop == null ? void 0 : stop();\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(\n        promiseTimeout(timeout, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            stop == null ? void 0 : stop();\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(\n        promiseTimeout(timeout, throwOnTimeout).then(() => toValue(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array = Array.from(v);\n      return array.includes(value) || array.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\n\nfunction defaultComparator(value, othVal) {\n  return value === othVal;\n}\nfunction useArrayDifference(...args) {\n  var _a;\n  const list = args[0];\n  const values = args[1];\n  let compareFn = (_a = args[2]) != null ? _a : defaultComparator;\n  if (typeof compareFn === \"string\") {\n    const key = compareFn;\n    compareFn = (value, othVal) => value[key] === othVal[key];\n  }\n  return computed(() => toValue(list).filter((x) => toValue(values).findIndex((y) => compareFn(x, y)) === -1));\n}\n\nfunction useArrayEvery(list, fn) {\n  return computed(() => toValue(list).every((element, index, array) => fn(toValue(element), index, array)));\n}\n\nfunction useArrayFilter(list, fn) {\n  return computed(() => toValue(list).map((i) => toValue(i)).filter(fn));\n}\n\nfunction useArrayFind(list, fn) {\n  return computed(\n    () => toValue(\n      toValue(list).find((element, index, array) => fn(toValue(element), index, array))\n    )\n  );\n}\n\nfunction useArrayFindIndex(list, fn) {\n  return computed(() => toValue(list).findIndex((element, index, array) => fn(toValue(element), index, array)));\n}\n\nfunction findLast(arr, cb) {\n  let index = arr.length;\n  while (index-- > 0) {\n    if (cb(arr[index], index, arr))\n      return arr[index];\n  }\n  return void 0;\n}\nfunction useArrayFindLast(list, fn) {\n  return computed(\n    () => toValue(\n      !Array.prototype.findLast ? findLast(toValue(list), (element, index, array) => fn(toValue(element), index, array)) : toValue(list).findLast((element, index, array) => fn(toValue(element), index, array))\n    )\n  );\n}\n\nfunction isArrayIncludesOptions(obj) {\n  return isObject(obj) && containsProp(obj, \"formIndex\", \"comparator\");\n}\nfunction useArrayIncludes(...args) {\n  var _a;\n  const list = args[0];\n  const value = args[1];\n  let comparator = args[2];\n  let formIndex = 0;\n  if (isArrayIncludesOptions(comparator)) {\n    formIndex = (_a = comparator.fromIndex) != null ? _a : 0;\n    comparator = comparator.comparator;\n  }\n  if (typeof comparator === \"string\") {\n    const key = comparator;\n    comparator = (element, value2) => element[key] === toValue(value2);\n  }\n  comparator = comparator != null ? comparator : (element, value2) => element === toValue(value2);\n  return computed(\n    () => toValue(list).slice(formIndex).some(\n      (element, index, array) => comparator(toValue(element), toValue(value), index, toValue(array))\n    )\n  );\n}\n\nfunction useArrayJoin(list, separator) {\n  return computed(() => toValue(list).map((i) => toValue(i)).join(toValue(separator)));\n}\n\nfunction useArrayMap(list, fn) {\n  return computed(() => toValue(list).map((i) => toValue(i)).map(fn));\n}\n\nfunction useArrayReduce(list, reducer, ...args) {\n  const reduceCallback = (sum, value, index) => reducer(toValue(sum), toValue(value), index);\n  return computed(() => {\n    const resolved = toValue(list);\n    return args.length ? resolved.reduce(reduceCallback, toValue(args[0])) : resolved.reduce(reduceCallback);\n  });\n}\n\nfunction useArraySome(list, fn) {\n  return computed(() => toValue(list).some((element, index, array) => fn(toValue(element), index, array)));\n}\n\nfunction uniq(array) {\n  return Array.from(new Set(array));\n}\nfunction uniqueElementsBy(array, fn) {\n  return array.reduce((acc, v) => {\n    if (!acc.some((x) => fn(v, x, array)))\n      acc.push(v);\n    return acc;\n  }, []);\n}\nfunction useArrayUnique(list, compareFn) {\n  return computed(() => {\n    const resolvedList = toValue(list).map((element) => toValue(element));\n    return compareFn ? uniqueElementsBy(resolvedList, compareFn) : uniq(resolvedList);\n  });\n}\n\nfunction useCounter(initialValue = 0, options = {}) {\n  let _initialValue = unref(initialValue);\n  const count = ref(initialValue);\n  const {\n    max = Number.POSITIVE_INFINITY,\n    min = Number.NEGATIVE_INFINITY\n  } = options;\n  const inc = (delta = 1) => count.value = Math.min(max, count.value + delta);\n  const dec = (delta = 1) => count.value = Math.max(min, count.value - delta);\n  const get = () => count.value;\n  const set = (val) => count.value = Math.max(min, Math.min(max, val));\n  const reset = (val = _initialValue) => {\n    _initialValue = val;\n    return set(val);\n  };\n  return { count, inc, dec, get, set, reset };\n}\n\nconst REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/;\nconst REGEX_FORMAT = /\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;\nfunction defaultMeridiem(hours, minutes, isLowercase, hasPeriod) {\n  let m = hours < 12 ? \"AM\" : \"PM\";\n  if (hasPeriod)\n    m = m.split(\"\").reduce((acc, curr) => acc += `${curr}.`, \"\");\n  return isLowercase ? m.toLowerCase() : m;\n}\nfunction formatDate(date, formatStr, options = {}) {\n  var _a;\n  const years = date.getFullYear();\n  const month = date.getMonth();\n  const days = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n  const milliseconds = date.getMilliseconds();\n  const day = date.getDay();\n  const meridiem = (_a = options.customMeridiem) != null ? _a : defaultMeridiem;\n  const matches = {\n    YY: () => String(years).slice(-2),\n    YYYY: () => years,\n    M: () => month + 1,\n    MM: () => `${month + 1}`.padStart(2, \"0\"),\n    MMM: () => date.toLocaleDateString(options.locales, { month: \"short\" }),\n    MMMM: () => date.toLocaleDateString(options.locales, { month: \"long\" }),\n    D: () => String(days),\n    DD: () => `${days}`.padStart(2, \"0\"),\n    H: () => String(hours),\n    HH: () => `${hours}`.padStart(2, \"0\"),\n    h: () => `${hours % 12 || 12}`.padStart(1, \"0\"),\n    hh: () => `${hours % 12 || 12}`.padStart(2, \"0\"),\n    m: () => String(minutes),\n    mm: () => `${minutes}`.padStart(2, \"0\"),\n    s: () => String(seconds),\n    ss: () => `${seconds}`.padStart(2, \"0\"),\n    SSS: () => `${milliseconds}`.padStart(3, \"0\"),\n    d: () => day,\n    dd: () => date.toLocaleDateString(options.locales, { weekday: \"narrow\" }),\n    ddd: () => date.toLocaleDateString(options.locales, { weekday: \"short\" }),\n    dddd: () => date.toLocaleDateString(options.locales, { weekday: \"long\" }),\n    A: () => meridiem(hours, minutes),\n    AA: () => meridiem(hours, minutes, false, true),\n    a: () => meridiem(hours, minutes, true),\n    aa: () => meridiem(hours, minutes, true, true)\n  };\n  return formatStr.replace(REGEX_FORMAT, (match, $1) => {\n    var _a2, _b;\n    return (_b = $1 != null ? $1 : (_a2 = matches[match]) == null ? void 0 : _a2.call(matches)) != null ? _b : match;\n  });\n}\nfunction normalizeDate(date) {\n  if (date === null)\n    return new Date(Number.NaN);\n  if (date === void 0)\n    return /* @__PURE__ */ new Date();\n  if (date instanceof Date)\n    return new Date(date);\n  if (typeof date === \"string\" && !/Z$/i.test(date)) {\n    const d = date.match(REGEX_PARSE);\n    if (d) {\n      const m = d[2] - 1 || 0;\n      const ms = (d[7] || \"0\").substring(0, 3);\n      return new Date(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms);\n    }\n  }\n  return new Date(date);\n}\nfunction useDateFormat(date, formatStr = \"HH:mm:ss\", options = {}) {\n  return computed(() => formatDate(normalizeDate(toValue(date)), toValue(formatStr), options));\n}\n\nfunction useIntervalFn(cb, interval = 1e3, options = {}) {\n  const {\n    immediate = true,\n    immediateCallback = false\n  } = options;\n  let timer = null;\n  const isActive = ref(false);\n  function clean() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n  }\n  function pause() {\n    isActive.value = false;\n    clean();\n  }\n  function resume() {\n    const intervalValue = toValue(interval);\n    if (intervalValue <= 0)\n      return;\n    isActive.value = true;\n    if (immediateCallback)\n      cb();\n    clean();\n    timer = setInterval(cb, intervalValue);\n  }\n  if (immediate && isClient)\n    resume();\n  if (isRef(interval) || typeof interval === \"function\") {\n    const stopWatch = watch(interval, () => {\n      if (isActive.value && isClient)\n        resume();\n    });\n    tryOnScopeDispose(stopWatch);\n  }\n  tryOnScopeDispose(pause);\n  return {\n    isActive,\n    pause,\n    resume\n  };\n}\n\nfunction useInterval(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    immediate = true,\n    callback\n  } = options;\n  const counter = ref(0);\n  const update = () => counter.value += 1;\n  const reset = () => {\n    counter.value = 0;\n  };\n  const controls = useIntervalFn(\n    callback ? () => {\n      update();\n      callback(counter.value);\n    } : update,\n    interval,\n    { immediate }\n  );\n  if (exposeControls) {\n    return {\n      counter,\n      reset,\n      ...controls\n    };\n  } else {\n    return counter;\n  }\n}\n\nfunction useLastChanged(source, options = {}) {\n  var _a;\n  const ms = ref((_a = options.initialValue) != null ? _a : null);\n  watch(\n    source,\n    () => ms.value = timestamp(),\n    options\n  );\n  return ms;\n}\n\nfunction useTimeoutFn(cb, interval, options = {}) {\n  const {\n    immediate = true\n  } = options;\n  const isPending = ref(false);\n  let timer = null;\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n  function stop() {\n    isPending.value = false;\n    clear();\n  }\n  function start(...args) {\n    clear();\n    isPending.value = true;\n    timer = setTimeout(() => {\n      isPending.value = false;\n      timer = null;\n      cb(...args);\n    }, toValue(interval));\n  }\n  if (immediate) {\n    isPending.value = true;\n    if (isClient)\n      start();\n  }\n  tryOnScopeDispose(stop);\n  return {\n    isPending: readonly(isPending),\n    start,\n    stop\n  };\n}\n\nfunction useTimeout(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    callback\n  } = options;\n  const controls = useTimeoutFn(\n    callback != null ? callback : noop,\n    interval,\n    options\n  );\n  const ready = computed(() => !controls.isPending.value);\n  if (exposeControls) {\n    return {\n      ready,\n      ...controls\n    };\n  } else {\n    return ready;\n  }\n}\n\nfunction useToNumber(value, options = {}) {\n  const {\n    method = \"parseFloat\",\n    radix,\n    nanToZero\n  } = options;\n  return computed(() => {\n    let resolved = toValue(value);\n    if (typeof resolved === \"string\")\n      resolved = Number[method](resolved, radix);\n    if (nanToZero && Number.isNaN(resolved))\n      resolved = 0;\n    return resolved;\n  });\n}\n\nfunction useToString(value) {\n  return computed(() => `${toValue(value)}`);\n}\n\nfunction useToggle(initialValue = false, options = {}) {\n  const {\n    truthyValue = true,\n    falsyValue = false\n  } = options;\n  const valueIsRef = isRef(initialValue);\n  const _value = ref(initialValue);\n  function toggle(value) {\n    if (arguments.length) {\n      _value.value = value;\n      return _value.value;\n    } else {\n      const truthy = toValue(truthyValue);\n      _value.value = _value.value === truthy ? toValue(falsyValue) : truthy;\n      return _value.value;\n    }\n  }\n  if (valueIsRef)\n    return toggle;\n  else\n    return [_value, toggle];\n}\n\nfunction watchArray(source, cb, options) {\n  let oldList = (options == null ? void 0 : options.immediate) ? [] : [\n    ...source instanceof Function ? source() : Array.isArray(source) ? source : toValue(source)\n  ];\n  return watch(source, (newList, _, onCleanup) => {\n    const oldListRemains = Array.from({ length: oldList.length });\n    const added = [];\n    for (const obj of newList) {\n      let found = false;\n      for (let i = 0; i < oldList.length; i++) {\n        if (!oldListRemains[i] && obj === oldList[i]) {\n          oldListRemains[i] = true;\n          found = true;\n          break;\n        }\n      }\n      if (!found)\n        added.push(obj);\n    }\n    const removed = oldList.filter((_2, i) => !oldListRemains[i]);\n    cb(newList, oldList, added, removed, onCleanup);\n    oldList = [...newList];\n  }, options);\n}\n\nfunction watchAtMost(source, cb, options) {\n  const {\n    count,\n    ...watchOptions\n  } = options;\n  const current = ref(0);\n  const stop = watchWithFilter(\n    source,\n    (...args) => {\n      current.value += 1;\n      if (current.value >= toValue(count))\n        nextTick(() => stop());\n      cb(...args);\n    },\n    watchOptions\n  );\n  return { count: current, stop };\n}\n\nfunction watchDebounced(source, cb, options = {}) {\n  const {\n    debounce = 0,\n    maxWait = void 0,\n    ...watchOptions\n  } = options;\n  return watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter: debounceFilter(debounce, { maxWait })\n    }\n  );\n}\n\nfunction watchDeep(source, cb, options) {\n  return watch(\n    source,\n    cb,\n    {\n      ...options,\n      deep: true\n    }\n  );\n}\n\nfunction watchIgnorable(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  const filteredCb = createFilterWrapper(\n    eventFilter,\n    cb\n  );\n  let ignoreUpdates;\n  let ignorePrevAsyncUpdates;\n  let stop;\n  if (watchOptions.flush === \"sync\") {\n    const ignore = ref(false);\n    ignorePrevAsyncUpdates = () => {\n    };\n    ignoreUpdates = (updater) => {\n      ignore.value = true;\n      updater();\n      ignore.value = false;\n    };\n    stop = watch(\n      source,\n      (...args) => {\n        if (!ignore.value)\n          filteredCb(...args);\n      },\n      watchOptions\n    );\n  } else {\n    const disposables = [];\n    const ignoreCounter = ref(0);\n    const syncCounter = ref(0);\n    ignorePrevAsyncUpdates = () => {\n      ignoreCounter.value = syncCounter.value;\n    };\n    disposables.push(\n      watch(\n        source,\n        () => {\n          syncCounter.value++;\n        },\n        { ...watchOptions, flush: \"sync\" }\n      )\n    );\n    ignoreUpdates = (updater) => {\n      const syncCounterPrev = syncCounter.value;\n      updater();\n      ignoreCounter.value += syncCounter.value - syncCounterPrev;\n    };\n    disposables.push(\n      watch(\n        source,\n        (...args) => {\n          const ignore = ignoreCounter.value > 0 && ignoreCounter.value === syncCounter.value;\n          ignoreCounter.value = 0;\n          syncCounter.value = 0;\n          if (ignore)\n            return;\n          filteredCb(...args);\n        },\n        watchOptions\n      )\n    );\n    stop = () => {\n      disposables.forEach((fn) => fn());\n    };\n  }\n  return { stop, ignoreUpdates, ignorePrevAsyncUpdates };\n}\n\nfunction watchImmediate(source, cb, options) {\n  return watch(\n    source,\n    cb,\n    {\n      ...options,\n      immediate: true\n    }\n  );\n}\n\nfunction watchOnce(source, cb, options) {\n  const stop = watch(source, (...args) => {\n    nextTick(() => stop());\n    return cb(...args);\n  }, options);\n}\n\nfunction watchThrottled(source, cb, options = {}) {\n  const {\n    throttle = 0,\n    trailing = true,\n    leading = true,\n    ...watchOptions\n  } = options;\n  return watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter: throttleFilter(throttle, trailing, leading)\n    }\n  );\n}\n\nfunction watchTriggerable(source, cb, options = {}) {\n  let cleanupFn;\n  function onEffect() {\n    if (!cleanupFn)\n      return;\n    const fn = cleanupFn;\n    cleanupFn = void 0;\n    fn();\n  }\n  function onCleanup(callback) {\n    cleanupFn = callback;\n  }\n  const _cb = (value, oldValue) => {\n    onEffect();\n    return cb(value, oldValue, onCleanup);\n  };\n  const res = watchIgnorable(source, _cb, options);\n  const { ignoreUpdates } = res;\n  const trigger = () => {\n    let res2;\n    ignoreUpdates(() => {\n      res2 = _cb(getWatchSources(source), getOldValue(source));\n    });\n    return res2;\n  };\n  return {\n    ...res,\n    trigger\n  };\n}\nfunction getWatchSources(sources) {\n  if (isReactive(sources))\n    return sources;\n  if (Array.isArray(sources))\n    return sources.map((item) => toValue(item));\n  return toValue(sources);\n}\nfunction getOldValue(source) {\n  return Array.isArray(source) ? source.map(() => void 0) : void 0;\n}\n\nfunction whenever(source, cb, options) {\n  return watch(\n    source,\n    (v, ov, onInvalidate) => {\n      if (v)\n        cb(v, ov, onInvalidate);\n    },\n    options\n  );\n}\n\nexport { assert, refAutoReset as autoResetRef, bypassFilter, camelize, clamp, computedEager, computedWithControl, containsProp, computedWithControl as controlledComputed, controlledRef, createEventHook, createFilterWrapper, createGlobalState, createInjectionState, reactify as createReactiveFn, createSharedComposable, createSingletonPromise, debounceFilter, refDebounced as debouncedRef, watchDebounced as debouncedWatch, directiveHooks, computedEager as eagerComputed, extendRef, formatDate, get, hasOwn, hyphenate, identity, watchIgnorable as ignorableWatch, increaseWithUnit, invoke, isClient, isDef, isDefined, isIOS, isObject, makeDestructurable, noop, normalizeDate, notNullish, now, objectEntries, objectOmit, objectPick, pausableFilter, watchPausable as pausableWatch, promiseTimeout, rand, reactify, reactifyObject, reactiveComputed, reactiveOmit, reactivePick, refAutoReset, refDebounced, refDefault, refThrottled, refWithControl, resolveRef, resolveUnref, set, syncRef, syncRefs, throttleFilter, refThrottled as throttledRef, watchThrottled as throttledWatch, timestamp, toReactive, toRef, toRefs, toValue, tryOnBeforeMount, tryOnBeforeUnmount, tryOnMounted, tryOnScopeDispose, tryOnUnmounted, until, useArrayDifference, useArrayEvery, useArrayFilter, useArrayFind, useArrayFindIndex, useArrayFindLast, useArrayIncludes, useArrayJoin, useArrayMap, useArrayReduce, useArraySome, useArrayUnique, useCounter, useDateFormat, refDebounced as useDebounce, useDebounceFn, useInterval, useIntervalFn, useLastChanged, refThrottled as useThrottle, useThrottleFn, useTimeout, useTimeoutFn, useToNumber, useToString, useToggle, watchArray, watchAtMost, watchDebounced, watchDeep, watchIgnorable, watchImmediate, watchOnce, watchPausable, watchThrottled, watchTriggerable, watchWithFilter, whenever };\n","import { noop, makeDestructurable, camelize, toValue, isClient, isObject, tryOnScopeDispose, isIOS, tryOnMounted, computedWithControl, objectOmit, promiseTimeout, until, increaseWithUnit, objectEntries, useTimeoutFn, pausableWatch, toRef, createEventHook, timestamp, pausableFilter, watchIgnorable, debounceFilter, createFilterWrapper, bypassFilter, createSingletonPromise, toRefs, useIntervalFn, notNullish, containsProp, hasOwn, throttleFilter, useDebounceFn, useThrottleFn, clamp, syncRef, objectPick, tryOnUnmounted, watchWithFilter, identity, isDef } from '@vueuse/shared';\nexport * from '@vueuse/shared';\nimport { isRef, ref, shallowRef, watchEffect, computed, inject, isVue3, version, defineComponent, h, TransitionGroup, shallowReactive, Fragment, watch, getCurrentInstance, customRef, onUpdated, onMounted, readonly, nextTick, reactive, markRaw, getCurrentScope, isVue2, set, del, isReadonly, onBeforeUpdate } from 'vue-demi';\n\nfunction computedAsync(evaluationCallback, initialState, optionsOrRef) {\n  let options;\n  if (isRef(optionsOrRef)) {\n    options = {\n      evaluating: optionsOrRef\n    };\n  } else {\n    options = optionsOrRef || {};\n  }\n  const {\n    lazy = false,\n    evaluating = void 0,\n    shallow = true,\n    onError = noop\n  } = options;\n  const started = ref(!lazy);\n  const current = shallow ? shallowRef(initialState) : ref(initialState);\n  let counter = 0;\n  watchEffect(async (onInvalidate) => {\n    if (!started.value)\n      return;\n    counter++;\n    const counterAtBeginning = counter;\n    let hasFinished = false;\n    if (evaluating) {\n      Promise.resolve().then(() => {\n        evaluating.value = true;\n      });\n    }\n    try {\n      const result = await evaluationCallback((cancelCallback) => {\n        onInvalidate(() => {\n          if (evaluating)\n            evaluating.value = false;\n          if (!hasFinished)\n            cancelCallback();\n        });\n      });\n      if (counterAtBeginning === counter)\n        current.value = result;\n    } catch (e) {\n      onError(e);\n    } finally {\n      if (evaluating && counterAtBeginning === counter)\n        evaluating.value = false;\n      hasFinished = true;\n    }\n  });\n  if (lazy) {\n    return computed(() => {\n      started.value = true;\n      return current.value;\n    });\n  } else {\n    return current;\n  }\n}\n\nfunction computedInject(key, options, defaultSource, treatDefaultAsFactory) {\n  let source = inject(key);\n  if (defaultSource)\n    source = inject(key, defaultSource);\n  if (treatDefaultAsFactory)\n    source = inject(key, defaultSource, treatDefaultAsFactory);\n  if (typeof options === \"function\") {\n    return computed((ctx) => options(source, ctx));\n  } else {\n    return computed({\n      get: (ctx) => options.get(source, ctx),\n      set: options.set\n    });\n  }\n}\n\nfunction createReusableTemplate(options = {}) {\n  if (!isVue3 && !version.startsWith(\"2.7.\")) {\n    if (process.env.NODE_ENV !== \"production\")\n      throw new Error(\"[VueUse] createReusableTemplate only works in Vue 2.7 or above.\");\n    return;\n  }\n  const {\n    inheritAttrs = true\n  } = options;\n  const render = shallowRef();\n  const define = /* #__PURE__ */ defineComponent({\n    setup(_, { slots }) {\n      return () => {\n        render.value = slots.default;\n      };\n    }\n  });\n  const reuse = /* #__PURE__ */ defineComponent({\n    inheritAttrs,\n    setup(_, { attrs, slots }) {\n      return () => {\n        var _a;\n        if (!render.value && process.env.NODE_ENV !== \"production\")\n          throw new Error(\"[VueUse] Failed to find the definition of reusable template\");\n        const vnode = (_a = render.value) == null ? void 0 : _a.call(render, { ...keysToCamelKebabCase(attrs), $slots: slots });\n        return inheritAttrs && (vnode == null ? void 0 : vnode.length) === 1 ? vnode[0] : vnode;\n      };\n    }\n  });\n  return makeDestructurable(\n    { define, reuse },\n    [define, reuse]\n  );\n}\nfunction keysToCamelKebabCase(obj) {\n  const newObj = {};\n  for (const key in obj)\n    newObj[camelize(key)] = obj[key];\n  return newObj;\n}\n\nfunction createTemplatePromise(options = {}) {\n  if (!isVue3) {\n    if (process.env.NODE_ENV !== \"production\")\n      throw new Error(\"[VueUse] createTemplatePromise only works in Vue 3 or above.\");\n    return;\n  }\n  let index = 0;\n  const instances = ref([]);\n  function create(...args) {\n    const props = shallowReactive({\n      key: index++,\n      args,\n      promise: void 0,\n      resolve: () => {\n      },\n      reject: () => {\n      },\n      isResolving: false,\n      options\n    });\n    instances.value.push(props);\n    props.promise = new Promise((_resolve, _reject) => {\n      props.resolve = (v) => {\n        props.isResolving = true;\n        return _resolve(v);\n      };\n      props.reject = _reject;\n    }).finally(() => {\n      props.promise = void 0;\n      const index2 = instances.value.indexOf(props);\n      if (index2 !== -1)\n        instances.value.splice(index2, 1);\n    });\n    return props.promise;\n  }\n  function start(...args) {\n    if (options.singleton && instances.value.length > 0)\n      return instances.value[0].promise;\n    return create(...args);\n  }\n  const component = /* #__PURE__ */ defineComponent((_, { slots }) => {\n    const renderList = () => instances.value.map((props) => {\n      var _a;\n      return h(Fragment, { key: props.key }, (_a = slots.default) == null ? void 0 : _a.call(slots, props));\n    });\n    if (options.transition)\n      return () => h(TransitionGroup, options.transition, renderList);\n    return renderList;\n  });\n  component.start = start;\n  return component;\n}\n\nfunction createUnrefFn(fn) {\n  return function(...args) {\n    return fn.apply(this, args.map((i) => toValue(i)));\n  };\n}\n\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\n\nconst defaultWindow = isClient ? window : void 0;\nconst defaultDocument = isClient ? window.document : void 0;\nconst defaultNavigator = isClient ? window.navigator : void 0;\nconst defaultLocation = isClient ? window.location : void 0;\n\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target)\n    return noop;\n  if (!Array.isArray(events))\n    events = [events];\n  if (!Array.isArray(listeners))\n    listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach((fn) => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(\n    () => [unrefElement(target), toValue(options)],\n    ([el, options2]) => {\n      cleanup();\n      if (!el)\n        return;\n      const optionsClone = isObject(options2) ? { ...options2 } : options2;\n      cleanups.push(\n        ...events.flatMap((event) => {\n          return listeners.map((listener) => register(el, event, listener, optionsClone));\n        })\n      );\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\n\nlet _iOSWorkaround = false;\nfunction onClickOutside(target, handler, options = {}) {\n  const { window = defaultWindow, ignore = [], capture = true, detectIframe = false } = options;\n  if (!window)\n    return;\n  if (isIOS && !_iOSWorkaround) {\n    _iOSWorkaround = true;\n    Array.from(window.document.body.children).forEach((el) => el.addEventListener(\"click\", noop));\n    window.document.documentElement.addEventListener(\"click\", noop);\n  }\n  let shouldListen = true;\n  const shouldIgnore = (event) => {\n    return ignore.some((target2) => {\n      if (typeof target2 === \"string\") {\n        return Array.from(window.document.querySelectorAll(target2)).some((el) => el === event.target || event.composedPath().includes(el));\n      } else {\n        const el = unrefElement(target2);\n        return el && (event.target === el || event.composedPath().includes(el));\n      }\n    });\n  };\n  const listener = (event) => {\n    const el = unrefElement(target);\n    if (!el || el === event.target || event.composedPath().includes(el))\n      return;\n    if (event.detail === 0)\n      shouldListen = !shouldIgnore(event);\n    if (!shouldListen) {\n      shouldListen = true;\n      return;\n    }\n    handler(event);\n  };\n  const cleanup = [\n    useEventListener(window, \"click\", listener, { passive: true, capture }),\n    useEventListener(window, \"pointerdown\", (e) => {\n      const el = unrefElement(target);\n      if (el)\n        shouldListen = !e.composedPath().includes(el) && !shouldIgnore(e);\n    }, { passive: true }),\n    detectIframe && useEventListener(window, \"blur\", (event) => {\n      setTimeout(() => {\n        var _a;\n        const el = unrefElement(target);\n        if (((_a = window.document.activeElement) == null ? void 0 : _a.tagName) === \"IFRAME\" && !(el == null ? void 0 : el.contains(window.document.activeElement)))\n          handler(event);\n      }, 0);\n    })\n  ].filter(Boolean);\n  const stop = () => cleanup.forEach((fn) => fn());\n  return stop;\n}\n\nfunction createKeyPredicate(keyFilter) {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate(key);\n  const listener = (e) => {\n    if (e.repeat && toValue(dedupe))\n      return;\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction onKeyDown(key, handler, options = {}) {\n  return onKeyStroke(key, handler, { ...options, eventName: \"keydown\" });\n}\nfunction onKeyPressed(key, handler, options = {}) {\n  return onKeyStroke(key, handler, { ...options, eventName: \"keypress\" });\n}\nfunction onKeyUp(key, handler, options = {}) {\n  return onKeyStroke(key, handler, { ...options, eventName: \"keyup\" });\n}\n\nconst DEFAULT_DELAY = 500;\nfunction onLongPress(target, handler, options) {\n  var _a, _b;\n  const elementRef = computed(() => unrefElement(target));\n  let timeout;\n  function clear() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = void 0;\n    }\n  }\n  function onDown(ev) {\n    var _a2, _b2, _c, _d;\n    if (((_a2 = options == null ? void 0 : options.modifiers) == null ? void 0 : _a2.self) && ev.target !== elementRef.value)\n      return;\n    clear();\n    if ((_b2 = options == null ? void 0 : options.modifiers) == null ? void 0 : _b2.prevent)\n      ev.preventDefault();\n    if ((_c = options == null ? void 0 : options.modifiers) == null ? void 0 : _c.stop)\n      ev.stopPropagation();\n    timeout = setTimeout(\n      () => handler(ev),\n      (_d = options == null ? void 0 : options.delay) != null ? _d : DEFAULT_DELAY\n    );\n  }\n  const listenerOptions = {\n    capture: (_a = options == null ? void 0 : options.modifiers) == null ? void 0 : _a.capture,\n    once: (_b = options == null ? void 0 : options.modifiers) == null ? void 0 : _b.once\n  };\n  useEventListener(elementRef, \"pointerdown\", onDown, listenerOptions);\n  useEventListener(elementRef, [\"pointerup\", \"pointerleave\"], clear, listenerOptions);\n}\n\nfunction isFocusedElementEditable() {\n  const { activeElement, body } = document;\n  if (!activeElement)\n    return false;\n  if (activeElement === body)\n    return false;\n  switch (activeElement.tagName) {\n    case \"INPUT\":\n    case \"TEXTAREA\":\n      return true;\n  }\n  return activeElement.hasAttribute(\"contenteditable\");\n}\nfunction isTypedCharValid({\n  keyCode,\n  metaKey,\n  ctrlKey,\n  altKey\n}) {\n  if (metaKey || ctrlKey || altKey)\n    return false;\n  if (keyCode >= 48 && keyCode <= 57)\n    return true;\n  if (keyCode >= 65 && keyCode <= 90)\n    return true;\n  if (keyCode >= 97 && keyCode <= 122)\n    return true;\n  return false;\n}\nfunction onStartTyping(callback, options = {}) {\n  const { document: document2 = defaultDocument } = options;\n  const keydown = (event) => {\n    !isFocusedElementEditable() && isTypedCharValid(event) && callback(event);\n  };\n  if (document2)\n    useEventListener(document2, \"keydown\", keydown, { passive: true });\n}\n\nfunction templateRef(key, initialValue = null) {\n  const instance = getCurrentInstance();\n  let _trigger = () => {\n  };\n  const element = customRef((track, trigger) => {\n    _trigger = trigger;\n    return {\n      get() {\n        var _a, _b;\n        track();\n        return (_b = (_a = instance == null ? void 0 : instance.proxy) == null ? void 0 : _a.$refs[key]) != null ? _b : initialValue;\n      },\n      set() {\n      }\n    };\n  });\n  tryOnMounted(_trigger);\n  onUpdated(_trigger);\n  return element;\n}\n\nfunction useActiveElement(options = {}) {\n  var _a;\n  const {\n    window = defaultWindow,\n    deep = true\n  } = options;\n  const document = (_a = options.document) != null ? _a : window == null ? void 0 : window.document;\n  const getDeepActiveElement = () => {\n    var _a2;\n    let element = document == null ? void 0 : document.activeElement;\n    if (deep) {\n      while (element == null ? void 0 : element.shadowRoot)\n        element = (_a2 = element == null ? void 0 : element.shadowRoot) == null ? void 0 : _a2.activeElement;\n    }\n    return element;\n  };\n  const activeElement = computedWithControl(\n    () => null,\n    () => getDeepActiveElement()\n  );\n  if (window) {\n    useEventListener(window, \"blur\", (event) => {\n      if (event.relatedTarget !== null)\n        return;\n      activeElement.trigger();\n    }, true);\n    useEventListener(window, \"focus\", activeElement.trigger, true);\n  }\n  return activeElement;\n}\n\nfunction useMounted() {\n  const isMounted = ref(false);\n  if (getCurrentInstance()) {\n    onMounted(() => {\n      isMounted.value = true;\n    });\n  }\n  return isMounted;\n}\n\nfunction useSupported(callback) {\n  const isMounted = useMounted();\n  return computed(() => {\n    isMounted.value;\n    return Boolean(callback());\n  });\n}\n\nfunction useRafFn(fn, options = {}) {\n  const {\n    immediate = true,\n    window = defaultWindow\n  } = options;\n  const isActive = ref(false);\n  let previousFrameTimestamp = 0;\n  let rafId = null;\n  function loop(timestamp) {\n    if (!isActive.value || !window)\n      return;\n    const delta = timestamp - (previousFrameTimestamp || timestamp);\n    fn({ delta, timestamp });\n    previousFrameTimestamp = timestamp;\n    rafId = window.requestAnimationFrame(loop);\n  }\n  function resume() {\n    if (!isActive.value && window) {\n      isActive.value = true;\n      rafId = window.requestAnimationFrame(loop);\n    }\n  }\n  function pause() {\n    isActive.value = false;\n    if (rafId != null && window) {\n      window.cancelAnimationFrame(rafId);\n      rafId = null;\n    }\n  }\n  if (immediate)\n    resume();\n  tryOnScopeDispose(pause);\n  return {\n    isActive: readonly(isActive),\n    pause,\n    resume\n  };\n}\n\nfunction useAnimate(target, keyframes, options) {\n  let config;\n  let animateOptions;\n  if (isObject(options)) {\n    config = options;\n    animateOptions = objectOmit(options, [\"window\", \"immediate\", \"commitStyles\", \"persist\", \"onReady\", \"onError\"]);\n  } else {\n    config = { duration: options };\n    animateOptions = options;\n  }\n  const {\n    window = defaultWindow,\n    immediate = true,\n    commitStyles,\n    persist,\n    playbackRate: _playbackRate = 1,\n    onReady,\n    onError = (e) => {\n      console.error(e);\n    }\n  } = config;\n  const isSupported = useSupported(() => window && HTMLElement && \"animate\" in HTMLElement.prototype);\n  const animate = shallowRef(void 0);\n  const store = shallowReactive({\n    startTime: null,\n    currentTime: null,\n    timeline: null,\n    playbackRate: _playbackRate,\n    pending: false,\n    playState: immediate ? \"idle\" : \"paused\",\n    replaceState: \"active\"\n  });\n  const pending = computed(() => store.pending);\n  const playState = computed(() => store.playState);\n  const replaceState = computed(() => store.replaceState);\n  const startTime = computed({\n    get() {\n      return store.startTime;\n    },\n    set(value) {\n      store.startTime = value;\n      if (animate.value)\n        animate.value.startTime = value;\n    }\n  });\n  const currentTime = computed({\n    get() {\n      return store.currentTime;\n    },\n    set(value) {\n      store.currentTime = value;\n      if (animate.value) {\n        animate.value.currentTime = value;\n        syncResume();\n      }\n    }\n  });\n  const timeline = computed({\n    get() {\n      return store.timeline;\n    },\n    set(value) {\n      store.timeline = value;\n      if (animate.value)\n        animate.value.timeline = value;\n    }\n  });\n  const playbackRate = computed({\n    get() {\n      return store.playbackRate;\n    },\n    set(value) {\n      store.playbackRate = value;\n      if (animate.value)\n        animate.value.playbackRate = value;\n    }\n  });\n  const play = () => {\n    if (animate.value) {\n      try {\n        animate.value.play();\n        syncResume();\n      } catch (e) {\n        syncPause();\n        onError(e);\n      }\n    } else {\n      update();\n    }\n  };\n  const pause = () => {\n    var _a;\n    try {\n      (_a = animate.value) == null ? void 0 : _a.pause();\n      syncPause();\n    } catch (e) {\n      onError(e);\n    }\n  };\n  const reverse = () => {\n    var _a;\n    !animate.value && update();\n    try {\n      (_a = animate.value) == null ? void 0 : _a.reverse();\n      syncResume();\n    } catch (e) {\n      syncPause();\n      onError(e);\n    }\n  };\n  const finish = () => {\n    var _a;\n    try {\n      (_a = animate.value) == null ? void 0 : _a.finish();\n      syncPause();\n    } catch (e) {\n      onError(e);\n    }\n  };\n  const cancel = () => {\n    var _a;\n    try {\n      (_a = animate.value) == null ? void 0 : _a.cancel();\n      syncPause();\n    } catch (e) {\n      onError(e);\n    }\n  };\n  watch(() => unrefElement(target), (el) => {\n    el && update();\n  });\n  watch(() => keyframes, (value) => {\n    !animate.value && update();\n    if (!unrefElement(target) && animate.value) {\n      animate.value.effect = new KeyframeEffect(\n        unrefElement(target),\n        toValue(value),\n        animateOptions\n      );\n    }\n  }, { deep: true });\n  tryOnMounted(() => {\n    nextTick(() => update(true));\n  });\n  tryOnScopeDispose(cancel);\n  function update(init) {\n    const el = unrefElement(target);\n    if (!isSupported.value || !el)\n      return;\n    animate.value = el.animate(toValue(keyframes), animateOptions);\n    if (commitStyles)\n      animate.value.commitStyles();\n    if (persist)\n      animate.value.persist();\n    if (_playbackRate !== 1)\n      animate.value.playbackRate = _playbackRate;\n    if (init && !immediate)\n      animate.value.pause();\n    else\n      syncResume();\n    onReady == null ? void 0 : onReady(animate.value);\n  }\n  useEventListener(animate, [\"cancel\", \"finish\", \"remove\"], syncPause);\n  const { resume: resumeRef, pause: pauseRef } = useRafFn(() => {\n    if (!animate.value)\n      return;\n    store.pending = animate.value.pending;\n    store.playState = animate.value.playState;\n    store.replaceState = animate.value.replaceState;\n    store.startTime = animate.value.startTime;\n    store.currentTime = animate.value.currentTime;\n    store.timeline = animate.value.timeline;\n    store.playbackRate = animate.value.playbackRate;\n  }, { immediate: false });\n  function syncResume() {\n    if (isSupported.value)\n      resumeRef();\n  }\n  function syncPause() {\n    if (isSupported.value && window)\n      window.requestAnimationFrame(pauseRef);\n  }\n  return {\n    isSupported,\n    animate,\n    // actions\n    play,\n    pause,\n    reverse,\n    finish,\n    cancel,\n    // state\n    pending,\n    playState,\n    replaceState,\n    startTime,\n    currentTime,\n    timeline,\n    playbackRate\n  };\n}\n\nfunction useAsyncQueue(tasks, options) {\n  const {\n    interrupt = true,\n    onError = noop,\n    onFinished = noop,\n    signal\n  } = options || {};\n  const promiseState = {\n    aborted: \"aborted\",\n    fulfilled: \"fulfilled\",\n    pending: \"pending\",\n    rejected: \"rejected\"\n  };\n  const initialResult = Array.from(Array.from({ length: tasks.length }), () => ({ state: promiseState.pending, data: null }));\n  const result = reactive(initialResult);\n  const activeIndex = ref(-1);\n  if (!tasks || tasks.length === 0) {\n    onFinished();\n    return {\n      activeIndex,\n      result\n    };\n  }\n  function updateResult(state, res) {\n    activeIndex.value++;\n    result[activeIndex.value].data = res;\n    result[activeIndex.value].state = state;\n  }\n  tasks.reduce((prev, curr) => {\n    return prev.then((prevRes) => {\n      var _a;\n      if (signal == null ? void 0 : signal.aborted) {\n        updateResult(promiseState.aborted, new Error(\"aborted\"));\n        return;\n      }\n      if (((_a = result[activeIndex.value]) == null ? void 0 : _a.state) === promiseState.rejected && interrupt) {\n        onFinished();\n        return;\n      }\n      const done = curr(prevRes).then((currentRes) => {\n        updateResult(promiseState.fulfilled, currentRes);\n        activeIndex.value === tasks.length - 1 && onFinished();\n        return currentRes;\n      });\n      if (!signal)\n        return done;\n      return Promise.race([done, whenAborted(signal)]);\n    }).catch((e) => {\n      if (signal == null ? void 0 : signal.aborted) {\n        updateResult(promiseState.aborted, e);\n        return e;\n      }\n      updateResult(promiseState.rejected, e);\n      onError();\n      return e;\n    });\n  }, Promise.resolve());\n  return {\n    activeIndex,\n    result\n  };\n}\nfunction whenAborted(signal) {\n  return new Promise((resolve, reject) => {\n    const error = new Error(\"aborted\");\n    if (signal.aborted)\n      reject(error);\n    else\n      signal.addEventListener(\"abort\", () => reject(error), { once: true });\n  });\n}\n\nfunction useAsyncState(promise, initialState, options) {\n  const {\n    immediate = true,\n    delay = 0,\n    onError = noop,\n    onSuccess = noop,\n    resetOnExecute = true,\n    shallow = true,\n    throwError\n  } = options != null ? options : {};\n  const state = shallow ? shallowRef(initialState) : ref(initialState);\n  const isReady = ref(false);\n  const isLoading = ref(false);\n  const error = shallowRef(void 0);\n  async function execute(delay2 = 0, ...args) {\n    if (resetOnExecute)\n      state.value = initialState;\n    error.value = void 0;\n    isReady.value = false;\n    isLoading.value = true;\n    if (delay2 > 0)\n      await promiseTimeout(delay2);\n    const _promise = typeof promise === \"function\" ? promise(...args) : promise;\n    try {\n      const data = await _promise;\n      state.value = data;\n      isReady.value = true;\n      onSuccess(data);\n    } catch (e) {\n      error.value = e;\n      onError(e);\n      if (throwError)\n        throw e;\n    } finally {\n      isLoading.value = false;\n    }\n    return state.value;\n  }\n  if (immediate)\n    execute(delay);\n  const shell = {\n    state,\n    isReady,\n    isLoading,\n    error,\n    execute\n  };\n  function waitUntilIsLoaded() {\n    return new Promise((resolve, reject) => {\n      until(isLoading).toBe(false).then(() => resolve(shell)).catch(reject);\n    });\n  }\n  return {\n    ...shell,\n    then(onFulfilled, onRejected) {\n      return waitUntilIsLoaded().then(onFulfilled, onRejected);\n    }\n  };\n}\n\nconst defaults = {\n  array: (v) => JSON.stringify(v),\n  object: (v) => JSON.stringify(v),\n  set: (v) => JSON.stringify(Array.from(v)),\n  map: (v) => JSON.stringify(Object.fromEntries(v)),\n  null: () => \"\"\n};\nfunction getDefaultSerialization(target) {\n  if (!target)\n    return defaults.null;\n  if (target instanceof Map)\n    return defaults.map;\n  else if (target instanceof Set)\n    return defaults.set;\n  else if (Array.isArray(target))\n    return defaults.array;\n  else\n    return defaults.object;\n}\n\nfunction useBase64(target, options) {\n  const base64 = ref(\"\");\n  const promise = ref();\n  function execute() {\n    if (!isClient)\n      return;\n    promise.value = new Promise((resolve, reject) => {\n      try {\n        const _target = toValue(target);\n        if (_target == null) {\n          resolve(\"\");\n        } else if (typeof _target === \"string\") {\n          resolve(blobToBase64(new Blob([_target], { type: \"text/plain\" })));\n        } else if (_target instanceof Blob) {\n          resolve(blobToBase64(_target));\n        } else if (_target instanceof ArrayBuffer) {\n          resolve(window.btoa(String.fromCharCode(...new Uint8Array(_target))));\n        } else if (_target instanceof HTMLCanvasElement) {\n          resolve(_target.toDataURL(options == null ? void 0 : options.type, options == null ? void 0 : options.quality));\n        } else if (_target instanceof HTMLImageElement) {\n          const img = _target.cloneNode(false);\n          img.crossOrigin = \"Anonymous\";\n          imgLoaded(img).then(() => {\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n            resolve(canvas.toDataURL(options == null ? void 0 : options.type, options == null ? void 0 : options.quality));\n          }).catch(reject);\n        } else if (typeof _target === \"object\") {\n          const _serializeFn = (options == null ? void 0 : options.serializer) || getDefaultSerialization(_target);\n          const serialized = _serializeFn(_target);\n          return resolve(blobToBase64(new Blob([serialized], { type: \"application/json\" })));\n        } else {\n          reject(new Error(\"target is unsupported types\"));\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n    promise.value.then((res) => base64.value = res);\n    return promise.value;\n  }\n  if (isRef(target) || typeof target === \"function\")\n    watch(target, execute, { immediate: true });\n  else\n    execute();\n  return {\n    base64,\n    promise,\n    execute\n  };\n}\nfunction imgLoaded(img) {\n  return new Promise((resolve, reject) => {\n    if (!img.complete) {\n      img.onload = () => {\n        resolve();\n      };\n      img.onerror = reject;\n    } else {\n      resolve();\n    }\n  });\n}\nfunction blobToBase64(blob) {\n  return new Promise((resolve, reject) => {\n    const fr = new FileReader();\n    fr.onload = (e) => {\n      resolve(e.target.result);\n    };\n    fr.onerror = reject;\n    fr.readAsDataURL(blob);\n  });\n}\n\nfunction useBattery({ navigator = defaultNavigator } = {}) {\n  const events = [\"chargingchange\", \"chargingtimechange\", \"dischargingtimechange\", \"levelchange\"];\n  const isSupported = useSupported(() => navigator && \"getBattery\" in navigator);\n  const charging = ref(false);\n  const chargingTime = ref(0);\n  const dischargingTime = ref(0);\n  const level = ref(1);\n  let battery;\n  function updateBatteryInfo() {\n    charging.value = this.charging;\n    chargingTime.value = this.chargingTime || 0;\n    dischargingTime.value = this.dischargingTime || 0;\n    level.value = this.level;\n  }\n  if (isSupported.value) {\n    navigator.getBattery().then((_battery) => {\n      battery = _battery;\n      updateBatteryInfo.call(battery);\n      useEventListener(battery, events, updateBatteryInfo, { passive: true });\n    });\n  }\n  return {\n    isSupported,\n    charging,\n    chargingTime,\n    dischargingTime,\n    level\n  };\n}\n\nfunction useBluetooth(options) {\n  let {\n    acceptAllDevices = false\n  } = options || {};\n  const {\n    filters = void 0,\n    optionalServices = void 0,\n    navigator = defaultNavigator\n  } = options || {};\n  const isSupported = useSupported(() => navigator && \"bluetooth\" in navigator);\n  const device = shallowRef(void 0);\n  const error = shallowRef(null);\n  watch(device, () => {\n    connectToBluetoothGATTServer();\n  });\n  async function requestDevice() {\n    if (!isSupported.value)\n      return;\n    error.value = null;\n    if (filters && filters.length > 0)\n      acceptAllDevices = false;\n    try {\n      device.value = await (navigator == null ? void 0 : navigator.bluetooth.requestDevice({\n        acceptAllDevices,\n        filters,\n        optionalServices\n      }));\n    } catch (err) {\n      error.value = err;\n    }\n  }\n  const server = ref();\n  const isConnected = computed(() => {\n    var _a;\n    return ((_a = server.value) == null ? void 0 : _a.connected) || false;\n  });\n  async function connectToBluetoothGATTServer() {\n    error.value = null;\n    if (device.value && device.value.gatt) {\n      device.value.addEventListener(\"gattserverdisconnected\", () => {\n      });\n      try {\n        server.value = await device.value.gatt.connect();\n      } catch (err) {\n        error.value = err;\n      }\n    }\n  }\n  tryOnMounted(() => {\n    var _a;\n    if (device.value)\n      (_a = device.value.gatt) == null ? void 0 : _a.connect();\n  });\n  tryOnScopeDispose(() => {\n    var _a;\n    if (device.value)\n      (_a = device.value.gatt) == null ? void 0 : _a.disconnect();\n  });\n  return {\n    isSupported,\n    isConnected,\n    // Device:\n    device,\n    requestDevice,\n    // Server:\n    server,\n    // Errors:\n    error\n  };\n}\n\nfunction useMediaQuery(query, options = {}) {\n  const { window = defaultWindow } = options;\n  const isSupported = useSupported(() => window && \"matchMedia\" in window && typeof window.matchMedia === \"function\");\n  let mediaQuery;\n  const matches = ref(false);\n  const handler = (event) => {\n    matches.value = event.matches;\n  };\n  const cleanup = () => {\n    if (!mediaQuery)\n      return;\n    if (\"removeEventListener\" in mediaQuery)\n      mediaQuery.removeEventListener(\"change\", handler);\n    else\n      mediaQuery.removeListener(handler);\n  };\n  const stopWatch = watchEffect(() => {\n    if (!isSupported.value)\n      return;\n    cleanup();\n    mediaQuery = window.matchMedia(toValue(query));\n    if (\"addEventListener\" in mediaQuery)\n      mediaQuery.addEventListener(\"change\", handler);\n    else\n      mediaQuery.addListener(handler);\n    matches.value = mediaQuery.matches;\n  });\n  tryOnScopeDispose(() => {\n    stopWatch();\n    cleanup();\n    mediaQuery = void 0;\n  });\n  return matches;\n}\n\nconst breakpointsTailwind = {\n  \"sm\": 640,\n  \"md\": 768,\n  \"lg\": 1024,\n  \"xl\": 1280,\n  \"2xl\": 1536\n};\nconst breakpointsBootstrapV5 = {\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1400\n};\nconst breakpointsVuetify = {\n  xs: 600,\n  sm: 960,\n  md: 1264,\n  lg: 1904\n};\nconst breakpointsAntDesign = {\n  xs: 480,\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1600\n};\nconst breakpointsQuasar = {\n  xs: 600,\n  sm: 1024,\n  md: 1440,\n  lg: 1920\n};\nconst breakpointsSematic = {\n  mobileS: 320,\n  mobileM: 375,\n  mobileL: 425,\n  tablet: 768,\n  laptop: 1024,\n  laptopL: 1440,\n  desktop4K: 2560\n};\nconst breakpointsMasterCss = {\n  \"3xs\": 360,\n  \"2xs\": 480,\n  \"xs\": 600,\n  \"sm\": 768,\n  \"md\": 1024,\n  \"lg\": 1280,\n  \"xl\": 1440,\n  \"2xl\": 1600,\n  \"3xl\": 1920,\n  \"4xl\": 2560\n};\nconst breakpointsPrimeFlex = {\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200\n};\n\nfunction useBreakpoints(breakpoints, options = {}) {\n  function getValue(k, delta) {\n    let v = breakpoints[k];\n    if (delta != null)\n      v = increaseWithUnit(v, delta);\n    if (typeof v === \"number\")\n      v = `${v}px`;\n    return v;\n  }\n  const { window = defaultWindow } = options;\n  function match(query) {\n    if (!window)\n      return false;\n    return window.matchMedia(query).matches;\n  }\n  const greaterOrEqual = (k) => {\n    return useMediaQuery(`(min-width: ${getValue(k)})`, options);\n  };\n  const shortcutMethods = Object.keys(breakpoints).reduce((shortcuts, k) => {\n    Object.defineProperty(shortcuts, k, {\n      get: () => greaterOrEqual(k),\n      enumerable: true,\n      configurable: true\n    });\n    return shortcuts;\n  }, {});\n  return Object.assign(shortcutMethods, {\n    greater(k) {\n      return useMediaQuery(`(min-width: ${getValue(k, 0.1)})`, options);\n    },\n    greaterOrEqual,\n    smaller(k) {\n      return useMediaQuery(`(max-width: ${getValue(k, -0.1)})`, options);\n    },\n    smallerOrEqual(k) {\n      return useMediaQuery(`(max-width: ${getValue(k)})`, options);\n    },\n    between(a, b) {\n      return useMediaQuery(`(min-width: ${getValue(a)}) and (max-width: ${getValue(b, -0.1)})`, options);\n    },\n    isGreater(k) {\n      return match(`(min-width: ${getValue(k, 0.1)})`);\n    },\n    isGreaterOrEqual(k) {\n      return match(`(min-width: ${getValue(k)})`);\n    },\n    isSmaller(k) {\n      return match(`(max-width: ${getValue(k, -0.1)})`);\n    },\n    isSmallerOrEqual(k) {\n      return match(`(max-width: ${getValue(k)})`);\n    },\n    isInBetween(a, b) {\n      return match(`(min-width: ${getValue(a)}) and (max-width: ${getValue(b, -0.1)})`);\n    },\n    current() {\n      const points = Object.keys(breakpoints).map((i) => [i, greaterOrEqual(i)]);\n      return computed(() => points.filter(([, v]) => v.value).map(([k]) => k));\n    }\n  });\n}\n\nfunction useBroadcastChannel(options) {\n  const {\n    name,\n    window = defaultWindow\n  } = options;\n  const isSupported = useSupported(() => window && \"BroadcastChannel\" in window);\n  const isClosed = ref(false);\n  const channel = ref();\n  const data = ref();\n  const error = shallowRef(null);\n  const post = (data2) => {\n    if (channel.value)\n      channel.value.postMessage(data2);\n  };\n  const close = () => {\n    if (channel.value)\n      channel.value.close();\n    isClosed.value = true;\n  };\n  if (isSupported.value) {\n    tryOnMounted(() => {\n      error.value = null;\n      channel.value = new BroadcastChannel(name);\n      channel.value.addEventListener(\"message\", (e) => {\n        data.value = e.data;\n      }, { passive: true });\n      channel.value.addEventListener(\"messageerror\", (e) => {\n        error.value = e;\n      }, { passive: true });\n      channel.value.addEventListener(\"close\", () => {\n        isClosed.value = true;\n      });\n    });\n  }\n  tryOnScopeDispose(() => {\n    close();\n  });\n  return {\n    isSupported,\n    channel,\n    data,\n    post,\n    close,\n    error,\n    isClosed\n  };\n}\n\nconst WRITABLE_PROPERTIES = [\n  \"hash\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"search\"\n];\nfunction useBrowserLocation({ window = defaultWindow } = {}) {\n  const refs = Object.fromEntries(\n    WRITABLE_PROPERTIES.map((key) => [key, ref()])\n  );\n  for (const [key, ref2] of objectEntries(refs)) {\n    watch(ref2, (value) => {\n      if (!(window == null ? void 0 : window.location) || window.location[key] === value)\n        return;\n      window.location[key] = value;\n    });\n  }\n  const buildState = (trigger) => {\n    var _a;\n    const { state: state2, length } = (window == null ? void 0 : window.history) || {};\n    const { origin } = (window == null ? void 0 : window.location) || {};\n    for (const key of WRITABLE_PROPERTIES)\n      refs[key].value = (_a = window == null ? void 0 : window.location) == null ? void 0 : _a[key];\n    return reactive({\n      trigger,\n      state: state2,\n      length,\n      origin,\n      ...refs\n    });\n  };\n  const state = ref(buildState(\"load\"));\n  if (window) {\n    useEventListener(window, \"popstate\", () => state.value = buildState(\"popstate\"), { passive: true });\n    useEventListener(window, \"hashchange\", () => state.value = buildState(\"hashchange\"), { passive: true });\n  }\n  return state;\n}\n\nfunction useCached(refValue, comparator = (a, b) => a === b, watchOptions) {\n  const cachedValue = ref(refValue.value);\n  watch(() => refValue.value, (value) => {\n    if (!comparator(value, cachedValue.value))\n      cachedValue.value = value;\n  }, watchOptions);\n  return cachedValue;\n}\n\nfunction useClipboard(options = {}) {\n  const {\n    navigator = defaultNavigator,\n    read = false,\n    source,\n    copiedDuring = 1500,\n    legacy = false\n  } = options;\n  const isClipboardApiSupported = useSupported(() => navigator && \"clipboard\" in navigator);\n  const isSupported = computed(() => isClipboardApiSupported.value || legacy);\n  const text = ref(\"\");\n  const copied = ref(false);\n  const timeout = useTimeoutFn(() => copied.value = false, copiedDuring);\n  function updateText() {\n    if (isClipboardApiSupported.value) {\n      navigator.clipboard.readText().then((value) => {\n        text.value = value;\n      });\n    } else {\n      text.value = legacyRead();\n    }\n  }\n  if (isSupported.value && read)\n    useEventListener([\"copy\", \"cut\"], updateText);\n  async function copy(value = toValue(source)) {\n    if (isSupported.value && value != null) {\n      if (isClipboardApiSupported.value)\n        await navigator.clipboard.writeText(value);\n      else\n        legacyCopy(value);\n      text.value = value;\n      copied.value = true;\n      timeout.start();\n    }\n  }\n  function legacyCopy(value) {\n    const ta = document.createElement(\"textarea\");\n    ta.value = value != null ? value : \"\";\n    ta.style.position = \"absolute\";\n    ta.style.opacity = \"0\";\n    document.body.appendChild(ta);\n    ta.select();\n    document.execCommand(\"copy\");\n    ta.remove();\n  }\n  function legacyRead() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = document == null ? void 0 : document.getSelection) == null ? void 0 : _a.call(document)) == null ? void 0 : _b.toString()) != null ? _c : \"\";\n  }\n  return {\n    isSupported,\n    text,\n    copied,\n    copy\n  };\n}\n\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useCloned(source, options = {}) {\n  const cloned = ref({});\n  const {\n    manual,\n    clone = cloneFnJSON,\n    // watch options\n    deep = true,\n    immediate = true\n  } = options;\n  function sync() {\n    cloned.value = clone(toValue(source));\n  }\n  if (!manual && (isRef(source) || typeof source === \"function\")) {\n    watch(source, sync, {\n      ...options,\n      deep,\n      immediate\n    });\n  } else {\n    sync();\n  }\n  return { cloned, sync };\n}\n\nconst _global = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\nconst globalKey = \"__vueuse_ssr_handlers__\";\nconst handlers = /* @__PURE__ */ getHandlers();\nfunction getHandlers() {\n  if (!(globalKey in _global))\n    _global[globalKey] = _global[globalKey] || {};\n  return _global[globalKey];\n}\nfunction getSSRHandler(key, fallback) {\n  return handlers[key] || fallback;\n}\nfunction setSSRHandler(key, fn) {\n  handlers[key] = fn;\n}\n\nfunction guessSerializerType(rawInit) {\n  return rawInit == null ? \"any\" : rawInit instanceof Set ? \"set\" : rawInit instanceof Map ? \"map\" : rawInit instanceof Date ? \"date\" : typeof rawInit === \"boolean\" ? \"boolean\" : typeof rawInit === \"string\" ? \"string\" : typeof rawInit === \"object\" ? \"object\" : !Number.isNaN(rawInit) ? \"number\" : \"any\";\n}\n\nconst StorageSerializers = {\n  boolean: {\n    read: (v) => v === \"true\",\n    write: (v) => String(v)\n  },\n  object: {\n    read: (v) => JSON.parse(v),\n    write: (v) => JSON.stringify(v)\n  },\n  number: {\n    read: (v) => Number.parseFloat(v),\n    write: (v) => String(v)\n  },\n  any: {\n    read: (v) => v,\n    write: (v) => String(v)\n  },\n  string: {\n    read: (v) => v,\n    write: (v) => String(v)\n  },\n  map: {\n    read: (v) => new Map(JSON.parse(v)),\n    write: (v) => JSON.stringify(Array.from(v.entries()))\n  },\n  set: {\n    read: (v) => new Set(JSON.parse(v)),\n    write: (v) => JSON.stringify(Array.from(v))\n  },\n  date: {\n    read: (v) => new Date(v),\n    write: (v) => v.toISOString()\n  }\n};\nconst customStorageEventName = \"vueuse-storage\";\nfunction useStorage(key, defaults, storage, options = {}) {\n  var _a;\n  const {\n    flush = \"pre\",\n    deep = true,\n    listenToStorageChanges = true,\n    writeDefaults = true,\n    mergeDefaults = false,\n    shallow,\n    window = defaultWindow,\n    eventFilter,\n    onError = (e) => {\n      console.error(e);\n    }\n  } = options;\n  const data = (shallow ? shallowRef : ref)(defaults);\n  if (!storage) {\n    try {\n      storage = getSSRHandler(\"getDefaultStorage\", () => {\n        var _a2;\n        return (_a2 = defaultWindow) == null ? void 0 : _a2.localStorage;\n      })();\n    } catch (e) {\n      onError(e);\n    }\n  }\n  if (!storage)\n    return data;\n  const rawInit = toValue(defaults);\n  const type = guessSerializerType(rawInit);\n  const serializer = (_a = options.serializer) != null ? _a : StorageSerializers[type];\n  const { pause: pauseWatch, resume: resumeWatch } = pausableWatch(\n    data,\n    () => write(data.value),\n    { flush, deep, eventFilter }\n  );\n  if (window && listenToStorageChanges) {\n    useEventListener(window, \"storage\", update);\n    useEventListener(window, customStorageEventName, updateFromCustomEvent);\n  }\n  update();\n  return data;\n  function write(v) {\n    try {\n      if (v == null) {\n        storage.removeItem(key);\n      } else {\n        const serialized = serializer.write(v);\n        const oldValue = storage.getItem(key);\n        if (oldValue !== serialized) {\n          storage.setItem(key, serialized);\n          if (window) {\n            window.dispatchEvent(new CustomEvent(customStorageEventName, {\n              detail: {\n                key,\n                oldValue,\n                newValue: serialized,\n                storageArea: storage\n              }\n            }));\n          }\n        }\n      }\n    } catch (e) {\n      onError(e);\n    }\n  }\n  function read(event) {\n    const rawValue = event ? event.newValue : storage.getItem(key);\n    if (rawValue == null) {\n      if (writeDefaults && rawInit !== null)\n        storage.setItem(key, serializer.write(rawInit));\n      return rawInit;\n    } else if (!event && mergeDefaults) {\n      const value = serializer.read(rawValue);\n      if (typeof mergeDefaults === \"function\")\n        return mergeDefaults(value, rawInit);\n      else if (type === \"object\" && !Array.isArray(value))\n        return { ...rawInit, ...value };\n      return value;\n    } else if (typeof rawValue !== \"string\") {\n      return rawValue;\n    } else {\n      return serializer.read(rawValue);\n    }\n  }\n  function updateFromCustomEvent(event) {\n    update(event.detail);\n  }\n  function update(event) {\n    if (event && event.storageArea !== storage)\n      return;\n    if (event && event.key == null) {\n      data.value = rawInit;\n      return;\n    }\n    if (event && event.key !== key)\n      return;\n    pauseWatch();\n    try {\n      if ((event == null ? void 0 : event.newValue) !== serializer.write(data.value))\n        data.value = read(event);\n    } catch (e) {\n      onError(e);\n    } finally {\n      if (event)\n        nextTick(resumeWatch);\n      else\n        resumeWatch();\n    }\n  }\n}\n\nfunction usePreferredDark(options) {\n  return useMediaQuery(\"(prefers-color-scheme: dark)\", options);\n}\n\nfunction useColorMode(options = {}) {\n  const {\n    selector = \"html\",\n    attribute = \"class\",\n    initialValue = \"auto\",\n    window = defaultWindow,\n    storage,\n    storageKey = \"vueuse-color-scheme\",\n    listenToStorageChanges = true,\n    storageRef,\n    emitAuto,\n    disableTransition = true\n  } = options;\n  const modes = {\n    auto: \"\",\n    light: \"light\",\n    dark: \"dark\",\n    ...options.modes || {}\n  };\n  const preferredDark = usePreferredDark({ window });\n  const system = computed(() => preferredDark.value ? \"dark\" : \"light\");\n  const store = storageRef || (storageKey == null ? toRef(initialValue) : useStorage(storageKey, initialValue, storage, { window, listenToStorageChanges }));\n  const state = computed(\n    () => store.value === \"auto\" ? system.value : store.value\n  );\n  const updateHTMLAttrs = getSSRHandler(\n    \"updateHTMLAttrs\",\n    (selector2, attribute2, value) => {\n      const el = typeof selector2 === \"string\" ? window == null ? void 0 : window.document.querySelector(selector2) : unrefElement(selector2);\n      if (!el)\n        return;\n      let style;\n      if (disableTransition) {\n        style = window.document.createElement(\"style\");\n        const styleString = \"*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\";\n        style.appendChild(document.createTextNode(styleString));\n        window.document.head.appendChild(style);\n      }\n      if (attribute2 === \"class\") {\n        const current = value.split(/\\s/g);\n        Object.values(modes).flatMap((i) => (i || \"\").split(/\\s/g)).filter(Boolean).forEach((v) => {\n          if (current.includes(v))\n            el.classList.add(v);\n          else\n            el.classList.remove(v);\n        });\n      } else {\n        el.setAttribute(attribute2, value);\n      }\n      if (disableTransition) {\n        window.getComputedStyle(style).opacity;\n        document.head.removeChild(style);\n      }\n    }\n  );\n  function defaultOnChanged(mode) {\n    var _a;\n    updateHTMLAttrs(selector, attribute, (_a = modes[mode]) != null ? _a : mode);\n  }\n  function onChanged(mode) {\n    if (options.onChanged)\n      options.onChanged(mode, defaultOnChanged);\n    else\n      defaultOnChanged(mode);\n  }\n  watch(state, onChanged, { flush: \"post\", immediate: true });\n  tryOnMounted(() => onChanged(state.value));\n  const auto = computed({\n    get() {\n      return emitAuto ? store.value : state.value;\n    },\n    set(v) {\n      store.value = v;\n    }\n  });\n  try {\n    return Object.assign(auto, { store, system, state });\n  } catch (e) {\n    return auto;\n  }\n}\n\nfunction useConfirmDialog(revealed = ref(false)) {\n  const confirmHook = createEventHook();\n  const cancelHook = createEventHook();\n  const revealHook = createEventHook();\n  let _resolve = noop;\n  const reveal = (data) => {\n    revealHook.trigger(data);\n    revealed.value = true;\n    return new Promise((resolve) => {\n      _resolve = resolve;\n    });\n  };\n  const confirm = (data) => {\n    revealed.value = false;\n    confirmHook.trigger(data);\n    _resolve({ data, isCanceled: false });\n  };\n  const cancel = (data) => {\n    revealed.value = false;\n    cancelHook.trigger(data);\n    _resolve({ data, isCanceled: true });\n  };\n  return {\n    isRevealed: computed(() => revealed.value),\n    reveal,\n    confirm,\n    cancel,\n    onReveal: revealHook.on,\n    onConfirm: confirmHook.on,\n    onCancel: cancelHook.on\n  };\n}\n\nfunction useMutationObserver(target, callback, options = {}) {\n  const { window = defaultWindow, ...mutationOptions } = options;\n  let observer;\n  const isSupported = useSupported(() => window && \"MutationObserver\" in window);\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const stopWatch = watch(\n    () => unrefElement(target),\n    (el) => {\n      cleanup();\n      if (isSupported.value && window && el) {\n        observer = new MutationObserver(callback);\n        observer.observe(el, mutationOptions);\n      }\n    },\n    { immediate: true }\n  );\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\n\nfunction useCssVar(prop, target, options = {}) {\n  const { window = defaultWindow, initialValue = \"\", observe = false } = options;\n  const variable = ref(initialValue);\n  const elRef = computed(() => {\n    var _a;\n    return unrefElement(target) || ((_a = window == null ? void 0 : window.document) == null ? void 0 : _a.documentElement);\n  });\n  function updateCssVar() {\n    var _a;\n    const key = toValue(prop);\n    const el = toValue(elRef);\n    if (el && window) {\n      const value = (_a = window.getComputedStyle(el).getPropertyValue(key)) == null ? void 0 : _a.trim();\n      variable.value = value || initialValue;\n    }\n  }\n  if (observe) {\n    useMutationObserver(elRef, updateCssVar, {\n      attributeFilter: [\"style\", \"class\"],\n      window\n    });\n  }\n  watch(\n    [elRef, () => toValue(prop)],\n    updateCssVar,\n    { immediate: true }\n  );\n  watch(\n    variable,\n    (val) => {\n      var _a;\n      if ((_a = elRef.value) == null ? void 0 : _a.style)\n        elRef.value.style.setProperty(toValue(prop), val);\n    }\n  );\n  return variable;\n}\n\nfunction useCurrentElement() {\n  const vm = getCurrentInstance();\n  const currentElement = computedWithControl(\n    () => null,\n    () => vm.proxy.$el\n  );\n  onUpdated(currentElement.trigger);\n  onMounted(currentElement.trigger);\n  return currentElement;\n}\n\nfunction useCycleList(list, options) {\n  const state = shallowRef(getInitialValue());\n  const listRef = toRef(list);\n  const index = computed({\n    get() {\n      var _a;\n      const targetList = listRef.value;\n      let index2 = (options == null ? void 0 : options.getIndexOf) ? options.getIndexOf(state.value, targetList) : targetList.indexOf(state.value);\n      if (index2 < 0)\n        index2 = (_a = options == null ? void 0 : options.fallbackIndex) != null ? _a : 0;\n      return index2;\n    },\n    set(v) {\n      set(v);\n    }\n  });\n  function set(i) {\n    const targetList = listRef.value;\n    const length = targetList.length;\n    const index2 = (i % length + length) % length;\n    const value = targetList[index2];\n    state.value = value;\n    return value;\n  }\n  function shift(delta = 1) {\n    return set(index.value + delta);\n  }\n  function next(n = 1) {\n    return shift(n);\n  }\n  function prev(n = 1) {\n    return shift(-n);\n  }\n  function getInitialValue() {\n    var _a, _b;\n    return (_b = toValue((_a = options == null ? void 0 : options.initialValue) != null ? _a : toValue(list)[0])) != null ? _b : void 0;\n  }\n  watch(listRef, () => set(index.value));\n  return {\n    state,\n    index,\n    next,\n    prev\n  };\n}\n\nfunction useDark(options = {}) {\n  const {\n    valueDark = \"dark\",\n    valueLight = \"\"\n  } = options;\n  const mode = useColorMode({\n    ...options,\n    onChanged: (mode2, defaultHandler) => {\n      var _a;\n      if (options.onChanged)\n        (_a = options.onChanged) == null ? void 0 : _a.call(options, mode2 === \"dark\", defaultHandler, mode2);\n      else\n        defaultHandler(mode2);\n    },\n    modes: {\n      dark: valueDark,\n      light: valueLight\n    }\n  });\n  const isDark = computed({\n    get() {\n      return mode.value === \"dark\";\n    },\n    set(v) {\n      const modeVal = v ? \"dark\" : \"light\";\n      if (mode.system.value === modeVal)\n        mode.value = \"auto\";\n      else\n        mode.value = modeVal;\n    }\n  });\n  return isDark;\n}\n\nfunction fnBypass(v) {\n  return v;\n}\nfunction fnSetSource(source, value) {\n  return source.value = value;\n}\nfunction defaultDump(clone) {\n  return clone ? typeof clone === \"function\" ? clone : cloneFnJSON : fnBypass;\n}\nfunction defaultParse(clone) {\n  return clone ? typeof clone === \"function\" ? clone : cloneFnJSON : fnBypass;\n}\nfunction useManualRefHistory(source, options = {}) {\n  const {\n    clone = false,\n    dump = defaultDump(clone),\n    parse = defaultParse(clone),\n    setSource = fnSetSource\n  } = options;\n  function _createHistoryRecord() {\n    return markRaw({\n      snapshot: dump(source.value),\n      timestamp: timestamp()\n    });\n  }\n  const last = ref(_createHistoryRecord());\n  const undoStack = ref([]);\n  const redoStack = ref([]);\n  const _setSource = (record) => {\n    setSource(source, parse(record.snapshot));\n    last.value = record;\n  };\n  const commit = () => {\n    undoStack.value.unshift(last.value);\n    last.value = _createHistoryRecord();\n    if (options.capacity && undoStack.value.length > options.capacity)\n      undoStack.value.splice(options.capacity, Number.POSITIVE_INFINITY);\n    if (redoStack.value.length)\n      redoStack.value.splice(0, redoStack.value.length);\n  };\n  const clear = () => {\n    undoStack.value.splice(0, undoStack.value.length);\n    redoStack.value.splice(0, redoStack.value.length);\n  };\n  const undo = () => {\n    const state = undoStack.value.shift();\n    if (state) {\n      redoStack.value.unshift(last.value);\n      _setSource(state);\n    }\n  };\n  const redo = () => {\n    const state = redoStack.value.shift();\n    if (state) {\n      undoStack.value.unshift(last.value);\n      _setSource(state);\n    }\n  };\n  const reset = () => {\n    _setSource(last.value);\n  };\n  const history = computed(() => [last.value, ...undoStack.value]);\n  const canUndo = computed(() => undoStack.value.length > 0);\n  const canRedo = computed(() => redoStack.value.length > 0);\n  return {\n    source,\n    undoStack,\n    redoStack,\n    last,\n    history,\n    canUndo,\n    canRedo,\n    clear,\n    commit,\n    reset,\n    undo,\n    redo\n  };\n}\n\nfunction useRefHistory(source, options = {}) {\n  const {\n    deep = false,\n    flush = \"pre\",\n    eventFilter\n  } = options;\n  const {\n    eventFilter: composedFilter,\n    pause,\n    resume: resumeTracking,\n    isActive: isTracking\n  } = pausableFilter(eventFilter);\n  const {\n    ignoreUpdates,\n    ignorePrevAsyncUpdates,\n    stop\n  } = watchIgnorable(\n    source,\n    commit,\n    { deep, flush, eventFilter: composedFilter }\n  );\n  function setSource(source2, value) {\n    ignorePrevAsyncUpdates();\n    ignoreUpdates(() => {\n      source2.value = value;\n    });\n  }\n  const manualHistory = useManualRefHistory(source, { ...options, clone: options.clone || deep, setSource });\n  const { clear, commit: manualCommit } = manualHistory;\n  function commit() {\n    ignorePrevAsyncUpdates();\n    manualCommit();\n  }\n  function resume(commitNow) {\n    resumeTracking();\n    if (commitNow)\n      commit();\n  }\n  function batch(fn) {\n    let canceled = false;\n    const cancel = () => canceled = true;\n    ignoreUpdates(() => {\n      fn(cancel);\n    });\n    if (!canceled)\n      commit();\n  }\n  function dispose() {\n    stop();\n    clear();\n  }\n  return {\n    ...manualHistory,\n    isTracking,\n    pause,\n    resume,\n    commit,\n    batch,\n    dispose\n  };\n}\n\nfunction useDebouncedRefHistory(source, options = {}) {\n  const filter = options.debounce ? debounceFilter(options.debounce) : void 0;\n  const history = useRefHistory(source, { ...options, eventFilter: filter });\n  return {\n    ...history\n  };\n}\n\nfunction useDeviceMotion(options = {}) {\n  const {\n    window = defaultWindow,\n    eventFilter = bypassFilter\n  } = options;\n  const acceleration = ref({ x: null, y: null, z: null });\n  const rotationRate = ref({ alpha: null, beta: null, gamma: null });\n  const interval = ref(0);\n  const accelerationIncludingGravity = ref({\n    x: null,\n    y: null,\n    z: null\n  });\n  if (window) {\n    const onDeviceMotion = createFilterWrapper(\n      eventFilter,\n      (event) => {\n        acceleration.value = event.acceleration;\n        accelerationIncludingGravity.value = event.accelerationIncludingGravity;\n        rotationRate.value = event.rotationRate;\n        interval.value = event.interval;\n      }\n    );\n    useEventListener(window, \"devicemotion\", onDeviceMotion);\n  }\n  return {\n    acceleration,\n    accelerationIncludingGravity,\n    rotationRate,\n    interval\n  };\n}\n\nfunction useDeviceOrientation(options = {}) {\n  const { window = defaultWindow } = options;\n  const isSupported = useSupported(() => window && \"DeviceOrientationEvent\" in window);\n  const isAbsolute = ref(false);\n  const alpha = ref(null);\n  const beta = ref(null);\n  const gamma = ref(null);\n  if (window && isSupported.value) {\n    useEventListener(window, \"deviceorientation\", (event) => {\n      isAbsolute.value = event.absolute;\n      alpha.value = event.alpha;\n      beta.value = event.beta;\n      gamma.value = event.gamma;\n    });\n  }\n  return {\n    isSupported,\n    isAbsolute,\n    alpha,\n    beta,\n    gamma\n  };\n}\n\nfunction useDevicePixelRatio({\n  window = defaultWindow\n} = {}) {\n  const pixelRatio = ref(1);\n  if (window) {\n    let observe = function() {\n      pixelRatio.value = window.devicePixelRatio;\n      cleanup();\n      media = window.matchMedia(`(resolution: ${pixelRatio.value}dppx)`);\n      media.addEventListener(\"change\", observe, { once: true });\n    }, cleanup = function() {\n      media == null ? void 0 : media.removeEventListener(\"change\", observe);\n    };\n    let media;\n    observe();\n    tryOnScopeDispose(cleanup);\n  }\n  return { pixelRatio };\n}\n\nfunction usePermission(permissionDesc, options = {}) {\n  const {\n    controls = false,\n    navigator = defaultNavigator\n  } = options;\n  const isSupported = useSupported(() => navigator && \"permissions\" in navigator);\n  let permissionStatus;\n  const desc = typeof permissionDesc === \"string\" ? { name: permissionDesc } : permissionDesc;\n  const state = ref();\n  const onChange = () => {\n    if (permissionStatus)\n      state.value = permissionStatus.state;\n  };\n  const query = createSingletonPromise(async () => {\n    if (!isSupported.value)\n      return;\n    if (!permissionStatus) {\n      try {\n        permissionStatus = await navigator.permissions.query(desc);\n        useEventListener(permissionStatus, \"change\", onChange);\n        onChange();\n      } catch (e) {\n        state.value = \"prompt\";\n      }\n    }\n    return permissionStatus;\n  });\n  query();\n  if (controls) {\n    return {\n      state,\n      isSupported,\n      query\n    };\n  } else {\n    return state;\n  }\n}\n\nfunction useDevicesList(options = {}) {\n  const {\n    navigator = defaultNavigator,\n    requestPermissions = false,\n    constraints = { audio: true, video: true },\n    onUpdated\n  } = options;\n  const devices = ref([]);\n  const videoInputs = computed(() => devices.value.filter((i) => i.kind === \"videoinput\"));\n  const audioInputs = computed(() => devices.value.filter((i) => i.kind === \"audioinput\"));\n  const audioOutputs = computed(() => devices.value.filter((i) => i.kind === \"audiooutput\"));\n  const isSupported = useSupported(() => navigator && navigator.mediaDevices && navigator.mediaDevices.enumerateDevices);\n  const permissionGranted = ref(false);\n  let stream;\n  async function update() {\n    if (!isSupported.value)\n      return;\n    devices.value = await navigator.mediaDevices.enumerateDevices();\n    onUpdated == null ? void 0 : onUpdated(devices.value);\n    if (stream) {\n      stream.getTracks().forEach((t) => t.stop());\n      stream = null;\n    }\n  }\n  async function ensurePermissions() {\n    if (!isSupported.value)\n      return false;\n    if (permissionGranted.value)\n      return true;\n    const { state, query } = usePermission(\"camera\", { controls: true });\n    await query();\n    if (state.value !== \"granted\") {\n      stream = await navigator.mediaDevices.getUserMedia(constraints);\n      update();\n      permissionGranted.value = true;\n    } else {\n      permissionGranted.value = true;\n    }\n    return permissionGranted.value;\n  }\n  if (isSupported.value) {\n    if (requestPermissions)\n      ensurePermissions();\n    useEventListener(navigator.mediaDevices, \"devicechange\", update);\n    update();\n  }\n  return {\n    devices,\n    ensurePermissions,\n    permissionGranted,\n    videoInputs,\n    audioInputs,\n    audioOutputs,\n    isSupported\n  };\n}\n\nfunction useDisplayMedia(options = {}) {\n  var _a;\n  const enabled = ref((_a = options.enabled) != null ? _a : false);\n  const video = options.video;\n  const audio = options.audio;\n  const { navigator = defaultNavigator } = options;\n  const isSupported = useSupported(() => {\n    var _a2;\n    return (_a2 = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a2.getDisplayMedia;\n  });\n  const constraint = { audio, video };\n  const stream = shallowRef();\n  async function _start() {\n    if (!isSupported.value || stream.value)\n      return;\n    stream.value = await navigator.mediaDevices.getDisplayMedia(constraint);\n    return stream.value;\n  }\n  async function _stop() {\n    var _a2;\n    (_a2 = stream.value) == null ? void 0 : _a2.getTracks().forEach((t) => t.stop());\n    stream.value = void 0;\n  }\n  function stop() {\n    _stop();\n    enabled.value = false;\n  }\n  async function start() {\n    await _start();\n    if (stream.value)\n      enabled.value = true;\n    return stream.value;\n  }\n  watch(\n    enabled,\n    (v) => {\n      if (v)\n        _start();\n      else\n        _stop();\n    },\n    { immediate: true }\n  );\n  return {\n    isSupported,\n    stream,\n    start,\n    stop,\n    enabled\n  };\n}\n\nfunction useDocumentVisibility({ document = defaultDocument } = {}) {\n  if (!document)\n    return ref(\"visible\");\n  const visibility = ref(document.visibilityState);\n  useEventListener(document, \"visibilitychange\", () => {\n    visibility.value = document.visibilityState;\n  });\n  return visibility;\n}\n\nfunction useDraggable(target, options = {}) {\n  var _a, _b;\n  const {\n    pointerTypes,\n    preventDefault,\n    stopPropagation,\n    exact,\n    onMove,\n    onEnd,\n    onStart,\n    initialValue,\n    axis = \"both\",\n    draggingElement = defaultWindow,\n    containerElement,\n    handle: draggingHandle = target\n  } = options;\n  const position = ref(\n    (_a = toValue(initialValue)) != null ? _a : { x: 0, y: 0 }\n  );\n  const pressedDelta = ref();\n  const filterEvent = (e) => {\n    if (pointerTypes)\n      return pointerTypes.includes(e.pointerType);\n    return true;\n  };\n  const handleEvent = (e) => {\n    if (toValue(preventDefault))\n      e.preventDefault();\n    if (toValue(stopPropagation))\n      e.stopPropagation();\n  };\n  const start = (e) => {\n    var _a2;\n    if (!filterEvent(e))\n      return;\n    if (toValue(exact) && e.target !== toValue(target))\n      return;\n    const container = (_a2 = toValue(containerElement)) != null ? _a2 : toValue(target);\n    const rect = container.getBoundingClientRect();\n    const pos = {\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    };\n    if ((onStart == null ? void 0 : onStart(pos, e)) === false)\n      return;\n    pressedDelta.value = pos;\n    handleEvent(e);\n  };\n  const move = (e) => {\n    if (!filterEvent(e))\n      return;\n    if (!pressedDelta.value)\n      return;\n    let { x, y } = position.value;\n    if (axis === \"x\" || axis === \"both\")\n      x = e.clientX - pressedDelta.value.x;\n    if (axis === \"y\" || axis === \"both\")\n      y = e.clientY - pressedDelta.value.y;\n    position.value = {\n      x,\n      y\n    };\n    onMove == null ? void 0 : onMove(position.value, e);\n    handleEvent(e);\n  };\n  const end = (e) => {\n    if (!filterEvent(e))\n      return;\n    if (!pressedDelta.value)\n      return;\n    pressedDelta.value = void 0;\n    onEnd == null ? void 0 : onEnd(position.value, e);\n    handleEvent(e);\n  };\n  if (isClient) {\n    const config = { capture: (_b = options.capture) != null ? _b : true };\n    useEventListener(draggingHandle, \"pointerdown\", start, config);\n    useEventListener(draggingElement, \"pointermove\", move, config);\n    useEventListener(draggingElement, \"pointerup\", end, config);\n  }\n  return {\n    ...toRefs(position),\n    position,\n    isDragging: computed(() => !!pressedDelta.value),\n    style: computed(\n      () => `left:${position.value.x}px;top:${position.value.y}px;`\n    )\n  };\n}\n\nfunction useDropZone(target, options = {}) {\n  const isOverDropZone = ref(false);\n  const files = shallowRef(null);\n  let counter = 0;\n  if (isClient) {\n    const _options = typeof options === \"function\" ? { onDrop: options } : options;\n    const getFiles = (event) => {\n      var _a, _b;\n      const list = Array.from((_b = (_a = event.dataTransfer) == null ? void 0 : _a.files) != null ? _b : []);\n      return files.value = list.length === 0 ? null : list;\n    };\n    useEventListener(target, \"dragenter\", (event) => {\n      var _a;\n      event.preventDefault();\n      counter += 1;\n      isOverDropZone.value = true;\n      (_a = _options.onEnter) == null ? void 0 : _a.call(_options, getFiles(event), event);\n    });\n    useEventListener(target, \"dragover\", (event) => {\n      var _a;\n      event.preventDefault();\n      (_a = _options.onOver) == null ? void 0 : _a.call(_options, getFiles(event), event);\n    });\n    useEventListener(target, \"dragleave\", (event) => {\n      var _a;\n      event.preventDefault();\n      counter -= 1;\n      if (counter === 0)\n        isOverDropZone.value = false;\n      (_a = _options.onLeave) == null ? void 0 : _a.call(_options, getFiles(event), event);\n    });\n    useEventListener(target, \"drop\", (event) => {\n      var _a;\n      event.preventDefault();\n      counter = 0;\n      isOverDropZone.value = false;\n      (_a = _options.onDrop) == null ? void 0 : _a.call(_options, getFiles(event), event);\n    });\n  }\n  return {\n    files,\n    isOverDropZone\n  };\n}\n\nfunction useResizeObserver(target, callback, options = {}) {\n  const { window = defaultWindow, ...observerOptions } = options;\n  let observer;\n  const isSupported = useSupported(() => window && \"ResizeObserver\" in window);\n  const cleanup = () => {\n    if (observer) {\n      observer.disconnect();\n      observer = void 0;\n    }\n  };\n  const targets = computed(\n    () => Array.isArray(target) ? target.map((el) => unrefElement(el)) : [unrefElement(target)]\n  );\n  const stopWatch = watch(\n    targets,\n    (els) => {\n      cleanup();\n      if (isSupported.value && window) {\n        observer = new ResizeObserver(callback);\n        for (const _el of els)\n          _el && observer.observe(_el, observerOptions);\n      }\n    },\n    { immediate: true, flush: \"post\", deep: true }\n  );\n  const stop = () => {\n    cleanup();\n    stopWatch();\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    stop\n  };\n}\n\nfunction useElementBounding(target, options = {}) {\n  const {\n    reset = true,\n    windowResize = true,\n    windowScroll = true,\n    immediate = true\n  } = options;\n  const height = ref(0);\n  const bottom = ref(0);\n  const left = ref(0);\n  const right = ref(0);\n  const top = ref(0);\n  const width = ref(0);\n  const x = ref(0);\n  const y = ref(0);\n  function update() {\n    const el = unrefElement(target);\n    if (!el) {\n      if (reset) {\n        height.value = 0;\n        bottom.value = 0;\n        left.value = 0;\n        right.value = 0;\n        top.value = 0;\n        width.value = 0;\n        x.value = 0;\n        y.value = 0;\n      }\n      return;\n    }\n    const rect = el.getBoundingClientRect();\n    height.value = rect.height;\n    bottom.value = rect.bottom;\n    left.value = rect.left;\n    right.value = rect.right;\n    top.value = rect.top;\n    width.value = rect.width;\n    x.value = rect.x;\n    y.value = rect.y;\n  }\n  useResizeObserver(target, update);\n  watch(() => unrefElement(target), (ele) => !ele && update());\n  if (windowScroll)\n    useEventListener(\"scroll\", update, { capture: true, passive: true });\n  if (windowResize)\n    useEventListener(\"resize\", update, { passive: true });\n  tryOnMounted(() => {\n    if (immediate)\n      update();\n  });\n  return {\n    height,\n    bottom,\n    left,\n    right,\n    top,\n    width,\n    x,\n    y,\n    update\n  };\n}\n\nfunction useElementByPoint(options) {\n  const {\n    x,\n    y,\n    document = defaultDocument,\n    multiple,\n    interval = \"requestAnimationFrame\",\n    immediate = true\n  } = options;\n  const isSupported = useSupported(() => {\n    if (toValue(multiple))\n      return document && \"elementsFromPoint\" in document;\n    return document && \"elementFromPoint\" in document;\n  });\n  const element = ref(null);\n  const cb = () => {\n    var _a, _b;\n    element.value = toValue(multiple) ? (_a = document == null ? void 0 : document.elementsFromPoint(toValue(x), toValue(y))) != null ? _a : [] : (_b = document == null ? void 0 : document.elementFromPoint(toValue(x), toValue(y))) != null ? _b : null;\n  };\n  const controls = interval === \"requestAnimationFrame\" ? useRafFn(cb, { immediate }) : useIntervalFn(cb, interval, { immediate });\n  return {\n    isSupported,\n    element,\n    ...controls\n  };\n}\n\nfunction useElementHover(el, options = {}) {\n  const {\n    delayEnter = 0,\n    delayLeave = 0,\n    window = defaultWindow\n  } = options;\n  const isHovered = ref(false);\n  let timer;\n  const toggle = (entering) => {\n    const delay = entering ? delayEnter : delayLeave;\n    if (timer) {\n      clearTimeout(timer);\n      timer = void 0;\n    }\n    if (delay)\n      timer = setTimeout(() => isHovered.value = entering, delay);\n    else\n      isHovered.value = entering;\n  };\n  if (!window)\n    return isHovered;\n  useEventListener(el, \"mouseenter\", () => toggle(true), { passive: true });\n  useEventListener(el, \"mouseleave\", () => toggle(false), { passive: true });\n  return isHovered;\n}\n\nfunction useElementSize(target, initialSize = { width: 0, height: 0 }, options = {}) {\n  const { window = defaultWindow, box = \"content-box\" } = options;\n  const isSVG = computed(() => {\n    var _a, _b;\n    return (_b = (_a = unrefElement(target)) == null ? void 0 : _a.namespaceURI) == null ? void 0 : _b.includes(\"svg\");\n  });\n  const width = ref(initialSize.width);\n  const height = ref(initialSize.height);\n  useResizeObserver(\n    target,\n    ([entry]) => {\n      const boxSize = box === \"border-box\" ? entry.borderBoxSize : box === \"content-box\" ? entry.contentBoxSize : entry.devicePixelContentBoxSize;\n      if (window && isSVG.value) {\n        const $elem = unrefElement(target);\n        if ($elem) {\n          const styles = window.getComputedStyle($elem);\n          width.value = Number.parseFloat(styles.width);\n          height.value = Number.parseFloat(styles.height);\n        }\n      } else {\n        if (boxSize) {\n          const formatBoxSize = Array.isArray(boxSize) ? boxSize : [boxSize];\n          width.value = formatBoxSize.reduce((acc, { inlineSize }) => acc + inlineSize, 0);\n          height.value = formatBoxSize.reduce((acc, { blockSize }) => acc + blockSize, 0);\n        } else {\n          width.value = entry.contentRect.width;\n          height.value = entry.contentRect.height;\n        }\n      }\n    },\n    options\n  );\n  watch(\n    () => unrefElement(target),\n    (ele) => {\n      width.value = ele ? initialSize.width : 0;\n      height.value = ele ? initialSize.height : 0;\n    }\n  );\n  return {\n    width,\n    height\n  };\n}\n\nfunction useIntersectionObserver(target, callback, options = {}) {\n  const {\n    root,\n    rootMargin = \"0px\",\n    threshold = 0.1,\n    window = defaultWindow,\n    immediate = true\n  } = options;\n  const isSupported = useSupported(() => window && \"IntersectionObserver\" in window);\n  const targets = computed(() => {\n    const _target = toValue(target);\n    return (Array.isArray(_target) ? _target : [_target]).map(unrefElement).filter(notNullish);\n  });\n  let cleanup = noop;\n  const isActive = ref(immediate);\n  const stopWatch = isSupported.value ? watch(\n    () => [targets.value, unrefElement(root), isActive.value],\n    ([targets2, root2]) => {\n      cleanup();\n      if (!isActive.value)\n        return;\n      if (!targets2.length)\n        return;\n      const observer = new IntersectionObserver(\n        callback,\n        {\n          root: unrefElement(root2),\n          rootMargin,\n          threshold\n        }\n      );\n      targets2.forEach((el) => el && observer.observe(el));\n      cleanup = () => {\n        observer.disconnect();\n        cleanup = noop;\n      };\n    },\n    { immediate, flush: \"post\" }\n  ) : noop;\n  const stop = () => {\n    cleanup();\n    stopWatch();\n    isActive.value = false;\n  };\n  tryOnScopeDispose(stop);\n  return {\n    isSupported,\n    isActive,\n    pause() {\n      cleanup();\n      isActive.value = false;\n    },\n    resume() {\n      isActive.value = true;\n    },\n    stop\n  };\n}\n\nfunction useElementVisibility(element, { window = defaultWindow, scrollTarget } = {}) {\n  const elementIsVisible = ref(false);\n  useIntersectionObserver(\n    element,\n    ([{ isIntersecting }]) => {\n      elementIsVisible.value = isIntersecting;\n    },\n    {\n      root: scrollTarget,\n      window,\n      threshold: 0\n    }\n  );\n  return elementIsVisible;\n}\n\nconst events = /* @__PURE__ */ new Map();\n\nfunction useEventBus(key) {\n  const scope = getCurrentScope();\n  function on(listener) {\n    var _a;\n    const listeners = events.get(key) || /* @__PURE__ */ new Set();\n    listeners.add(listener);\n    events.set(key, listeners);\n    const _off = () => off(listener);\n    (_a = scope == null ? void 0 : scope.cleanups) == null ? void 0 : _a.push(_off);\n    return _off;\n  }\n  function once(listener) {\n    function _listener(...args) {\n      off(_listener);\n      listener(...args);\n    }\n    return on(_listener);\n  }\n  function off(listener) {\n    const listeners = events.get(key);\n    if (!listeners)\n      return;\n    listeners.delete(listener);\n    if (!listeners.size)\n      reset();\n  }\n  function reset() {\n    events.delete(key);\n  }\n  function emit(event, payload) {\n    var _a;\n    (_a = events.get(key)) == null ? void 0 : _a.forEach((v) => v(event, payload));\n  }\n  return { on, once, off, emit, reset };\n}\n\nfunction useEventSource(url, events = [], options = {}) {\n  const event = ref(null);\n  const data = ref(null);\n  const status = ref(\"CONNECTING\");\n  const eventSource = ref(null);\n  const error = shallowRef(null);\n  const {\n    withCredentials = false\n  } = options;\n  const close = () => {\n    if (eventSource.value) {\n      eventSource.value.close();\n      eventSource.value = null;\n      status.value = \"CLOSED\";\n    }\n  };\n  const es = new EventSource(url, { withCredentials });\n  eventSource.value = es;\n  es.onopen = () => {\n    status.value = \"OPEN\";\n    error.value = null;\n  };\n  es.onerror = (e) => {\n    status.value = \"CLOSED\";\n    error.value = e;\n  };\n  es.onmessage = (e) => {\n    event.value = null;\n    data.value = e.data;\n  };\n  for (const event_name of events) {\n    useEventListener(es, event_name, (e) => {\n      event.value = event_name;\n      data.value = e.data || null;\n    });\n  }\n  tryOnScopeDispose(() => {\n    close();\n  });\n  return {\n    eventSource,\n    event,\n    data,\n    status,\n    error,\n    close\n  };\n}\n\nfunction useEyeDropper(options = {}) {\n  const { initialValue = \"\" } = options;\n  const isSupported = useSupported(() => typeof window !== \"undefined\" && \"EyeDropper\" in window);\n  const sRGBHex = ref(initialValue);\n  async function open(openOptions) {\n    if (!isSupported.value)\n      return;\n    const eyeDropper = new window.EyeDropper();\n    const result = await eyeDropper.open(openOptions);\n    sRGBHex.value = result.sRGBHex;\n    return result;\n  }\n  return { isSupported, sRGBHex, open };\n}\n\nfunction useFavicon(newIcon = null, options = {}) {\n  const {\n    baseUrl = \"\",\n    rel = \"icon\",\n    document = defaultDocument\n  } = options;\n  const favicon = toRef(newIcon);\n  const applyIcon = (icon) => {\n    document == null ? void 0 : document.head.querySelectorAll(`link[rel*=\"${rel}\"]`).forEach((el) => el.href = `${baseUrl}${icon}`);\n  };\n  watch(\n    favicon,\n    (i, o) => {\n      if (typeof i === \"string\" && i !== o)\n        applyIcon(i);\n    },\n    { immediate: true }\n  );\n  return favicon;\n}\n\nconst payloadMapping = {\n  json: \"application/json\",\n  text: \"text/plain\"\n};\nfunction isFetchOptions(obj) {\n  return obj && containsProp(obj, \"immediate\", \"refetch\", \"initialData\", \"timeout\", \"beforeFetch\", \"afterFetch\", \"onFetchError\", \"fetch\", \"updateDataOnError\");\n}\nfunction isAbsoluteURL(url) {\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\nfunction headersToObject(headers) {\n  if (typeof Headers !== \"undefined\" && headers instanceof Headers)\n    return Object.fromEntries([...headers.entries()]);\n  return headers;\n}\nfunction combineCallbacks(combination, ...callbacks) {\n  if (combination === \"overwrite\") {\n    return async (ctx) => {\n      const callback = callbacks[callbacks.length - 1];\n      if (callback)\n        return { ...ctx, ...await callback(ctx) };\n      return ctx;\n    };\n  } else {\n    return async (ctx) => {\n      for (const callback of callbacks) {\n        if (callback)\n          ctx = { ...ctx, ...await callback(ctx) };\n      }\n      return ctx;\n    };\n  }\n}\nfunction createFetch(config = {}) {\n  const _combination = config.combination || \"chain\";\n  const _options = config.options || {};\n  const _fetchOptions = config.fetchOptions || {};\n  function useFactoryFetch(url, ...args) {\n    const computedUrl = computed(() => {\n      const baseUrl = toValue(config.baseUrl);\n      const targetUrl = toValue(url);\n      return baseUrl && !isAbsoluteURL(targetUrl) ? joinPaths(baseUrl, targetUrl) : targetUrl;\n    });\n    let options = _options;\n    let fetchOptions = _fetchOptions;\n    if (args.length > 0) {\n      if (isFetchOptions(args[0])) {\n        options = {\n          ...options,\n          ...args[0],\n          beforeFetch: combineCallbacks(_combination, _options.beforeFetch, args[0].beforeFetch),\n          afterFetch: combineCallbacks(_combination, _options.afterFetch, args[0].afterFetch),\n          onFetchError: combineCallbacks(_combination, _options.onFetchError, args[0].onFetchError)\n        };\n      } else {\n        fetchOptions = {\n          ...fetchOptions,\n          ...args[0],\n          headers: {\n            ...headersToObject(fetchOptions.headers) || {},\n            ...headersToObject(args[0].headers) || {}\n          }\n        };\n      }\n    }\n    if (args.length > 1 && isFetchOptions(args[1])) {\n      options = {\n        ...options,\n        ...args[1],\n        beforeFetch: combineCallbacks(_combination, _options.beforeFetch, args[1].beforeFetch),\n        afterFetch: combineCallbacks(_combination, _options.afterFetch, args[1].afterFetch),\n        onFetchError: combineCallbacks(_combination, _options.onFetchError, args[1].onFetchError)\n      };\n    }\n    return useFetch(computedUrl, fetchOptions, options);\n  }\n  return useFactoryFetch;\n}\nfunction useFetch(url, ...args) {\n  var _a;\n  const supportsAbort = typeof AbortController === \"function\";\n  let fetchOptions = {};\n  let options = {\n    immediate: true,\n    refetch: false,\n    timeout: 0,\n    updateDataOnError: false\n  };\n  const config = {\n    method: \"GET\",\n    type: \"text\",\n    payload: void 0\n  };\n  if (args.length > 0) {\n    if (isFetchOptions(args[0]))\n      options = { ...options, ...args[0] };\n    else\n      fetchOptions = args[0];\n  }\n  if (args.length > 1) {\n    if (isFetchOptions(args[1]))\n      options = { ...options, ...args[1] };\n  }\n  const {\n    fetch = (_a = defaultWindow) == null ? void 0 : _a.fetch,\n    initialData,\n    timeout\n  } = options;\n  const responseEvent = createEventHook();\n  const errorEvent = createEventHook();\n  const finallyEvent = createEventHook();\n  const isFinished = ref(false);\n  const isFetching = ref(false);\n  const aborted = ref(false);\n  const statusCode = ref(null);\n  const response = shallowRef(null);\n  const error = shallowRef(null);\n  const data = shallowRef(initialData || null);\n  const canAbort = computed(() => supportsAbort && isFetching.value);\n  let controller;\n  let timer;\n  const abort = () => {\n    if (supportsAbort) {\n      controller == null ? void 0 : controller.abort();\n      controller = new AbortController();\n      controller.signal.onabort = () => aborted.value = true;\n      fetchOptions = {\n        ...fetchOptions,\n        signal: controller.signal\n      };\n    }\n  };\n  const loading = (isLoading) => {\n    isFetching.value = isLoading;\n    isFinished.value = !isLoading;\n  };\n  if (timeout)\n    timer = useTimeoutFn(abort, timeout, { immediate: false });\n  const execute = async (throwOnFailed = false) => {\n    var _a2;\n    abort();\n    loading(true);\n    error.value = null;\n    statusCode.value = null;\n    aborted.value = false;\n    const defaultFetchOptions = {\n      method: config.method,\n      headers: {}\n    };\n    if (config.payload) {\n      const headers = headersToObject(defaultFetchOptions.headers);\n      const payload = toValue(config.payload);\n      if (!config.payloadType && payload && Object.getPrototypeOf(payload) === Object.prototype && !(payload instanceof FormData))\n        config.payloadType = \"json\";\n      if (config.payloadType)\n        headers[\"Content-Type\"] = (_a2 = payloadMapping[config.payloadType]) != null ? _a2 : config.payloadType;\n      defaultFetchOptions.body = config.payloadType === \"json\" ? JSON.stringify(payload) : payload;\n    }\n    let isCanceled = false;\n    const context = {\n      url: toValue(url),\n      options: {\n        ...defaultFetchOptions,\n        ...fetchOptions\n      },\n      cancel: () => {\n        isCanceled = true;\n      }\n    };\n    if (options.beforeFetch)\n      Object.assign(context, await options.beforeFetch(context));\n    if (isCanceled || !fetch) {\n      loading(false);\n      return Promise.resolve(null);\n    }\n    let responseData = null;\n    if (timer)\n      timer.start();\n    return new Promise((resolve, reject) => {\n      var _a3;\n      fetch(\n        context.url,\n        {\n          ...defaultFetchOptions,\n          ...context.options,\n          headers: {\n            ...headersToObject(defaultFetchOptions.headers),\n            ...headersToObject((_a3 = context.options) == null ? void 0 : _a3.headers)\n          }\n        }\n      ).then(async (fetchResponse) => {\n        response.value = fetchResponse;\n        statusCode.value = fetchResponse.status;\n        responseData = await fetchResponse[config.type]();\n        if (!fetchResponse.ok) {\n          data.value = initialData || null;\n          throw new Error(fetchResponse.statusText);\n        }\n        if (options.afterFetch) {\n          ({ data: responseData } = await options.afterFetch({\n            data: responseData,\n            response: fetchResponse\n          }));\n        }\n        data.value = responseData;\n        responseEvent.trigger(fetchResponse);\n        return resolve(fetchResponse);\n      }).catch(async (fetchError) => {\n        let errorData = fetchError.message || fetchError.name;\n        if (options.onFetchError) {\n          ({ error: errorData, data: responseData } = await options.onFetchError({\n            data: responseData,\n            error: fetchError,\n            response: response.value\n          }));\n        }\n        error.value = errorData;\n        if (options.updateDataOnError)\n          data.value = responseData;\n        errorEvent.trigger(fetchError);\n        if (throwOnFailed)\n          return reject(fetchError);\n        return resolve(null);\n      }).finally(() => {\n        loading(false);\n        if (timer)\n          timer.stop();\n        finallyEvent.trigger(null);\n      });\n    });\n  };\n  const refetch = toRef(options.refetch);\n  watch(\n    [\n      refetch,\n      toRef(url)\n    ],\n    ([refetch2]) => refetch2 && execute(),\n    { deep: true }\n  );\n  const shell = {\n    isFinished,\n    statusCode,\n    response,\n    error,\n    data,\n    isFetching,\n    canAbort,\n    aborted,\n    abort,\n    execute,\n    onFetchResponse: responseEvent.on,\n    onFetchError: errorEvent.on,\n    onFetchFinally: finallyEvent.on,\n    // method\n    get: setMethod(\"GET\"),\n    put: setMethod(\"PUT\"),\n    post: setMethod(\"POST\"),\n    delete: setMethod(\"DELETE\"),\n    patch: setMethod(\"PATCH\"),\n    head: setMethod(\"HEAD\"),\n    options: setMethod(\"OPTIONS\"),\n    // type\n    json: setType(\"json\"),\n    text: setType(\"text\"),\n    blob: setType(\"blob\"),\n    arrayBuffer: setType(\"arrayBuffer\"),\n    formData: setType(\"formData\")\n  };\n  function setMethod(method) {\n    return (payload, payloadType) => {\n      if (!isFetching.value) {\n        config.method = method;\n        config.payload = payload;\n        config.payloadType = payloadType;\n        if (isRef(config.payload)) {\n          watch(\n            [\n              refetch,\n              toRef(config.payload)\n            ],\n            ([refetch2]) => refetch2 && execute(),\n            { deep: true }\n          );\n        }\n        return {\n          ...shell,\n          then(onFulfilled, onRejected) {\n            return waitUntilFinished().then(onFulfilled, onRejected);\n          }\n        };\n      }\n      return void 0;\n    };\n  }\n  function waitUntilFinished() {\n    return new Promise((resolve, reject) => {\n      until(isFinished).toBe(true).then(() => resolve(shell)).catch((error2) => reject(error2));\n    });\n  }\n  function setType(type) {\n    return () => {\n      if (!isFetching.value) {\n        config.type = type;\n        return {\n          ...shell,\n          then(onFulfilled, onRejected) {\n            return waitUntilFinished().then(onFulfilled, onRejected);\n          }\n        };\n      }\n      return void 0;\n    };\n  }\n  if (options.immediate)\n    Promise.resolve().then(() => execute());\n  return {\n    ...shell,\n    then(onFulfilled, onRejected) {\n      return waitUntilFinished().then(onFulfilled, onRejected);\n    }\n  };\n}\nfunction joinPaths(start, end) {\n  if (!start.endsWith(\"/\") && !end.startsWith(\"/\"))\n    return `${start}/${end}`;\n  return `${start}${end}`;\n}\n\nconst DEFAULT_OPTIONS = {\n  multiple: true,\n  accept: \"*\",\n  reset: false\n};\nfunction useFileDialog(options = {}) {\n  const {\n    document = defaultDocument\n  } = options;\n  const files = ref(null);\n  const { on: onChange, trigger } = createEventHook();\n  let input;\n  if (document) {\n    input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.onchange = (event) => {\n      const result = event.target;\n      files.value = result.files;\n      trigger(files.value);\n    };\n  }\n  const reset = () => {\n    files.value = null;\n    if (input)\n      input.value = \"\";\n  };\n  const open = (localOptions) => {\n    if (!input)\n      return;\n    const _options = {\n      ...DEFAULT_OPTIONS,\n      ...options,\n      ...localOptions\n    };\n    input.multiple = _options.multiple;\n    input.accept = _options.accept;\n    if (hasOwn(_options, \"capture\"))\n      input.capture = _options.capture;\n    if (_options.reset)\n      reset();\n    input.click();\n  };\n  return {\n    files: readonly(files),\n    open,\n    reset,\n    onChange\n  };\n}\n\nfunction useFileSystemAccess(options = {}) {\n  const {\n    window: _window = defaultWindow,\n    dataType = \"Text\"\n  } = options;\n  const window = _window;\n  const isSupported = useSupported(() => window && \"showSaveFilePicker\" in window && \"showOpenFilePicker\" in window);\n  const fileHandle = ref();\n  const data = ref();\n  const file = ref();\n  const fileName = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.name) != null ? _b : \"\";\n  });\n  const fileMIME = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.type) != null ? _b : \"\";\n  });\n  const fileSize = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.size) != null ? _b : 0;\n  });\n  const fileLastModified = computed(() => {\n    var _a, _b;\n    return (_b = (_a = file.value) == null ? void 0 : _a.lastModified) != null ? _b : 0;\n  });\n  async function open(_options = {}) {\n    if (!isSupported.value)\n      return;\n    const [handle] = await window.showOpenFilePicker({ ...toValue(options), ..._options });\n    fileHandle.value = handle;\n    await updateFile();\n    await updateData();\n  }\n  async function create(_options = {}) {\n    if (!isSupported.value)\n      return;\n    fileHandle.value = await window.showSaveFilePicker({ ...options, ..._options });\n    data.value = void 0;\n    await updateFile();\n    await updateData();\n  }\n  async function save(_options = {}) {\n    if (!isSupported.value)\n      return;\n    if (!fileHandle.value)\n      return saveAs(_options);\n    if (data.value) {\n      const writableStream = await fileHandle.value.createWritable();\n      await writableStream.write(data.value);\n      await writableStream.close();\n    }\n    await updateFile();\n  }\n  async function saveAs(_options = {}) {\n    if (!isSupported.value)\n      return;\n    fileHandle.value = await window.showSaveFilePicker({ ...options, ..._options });\n    if (data.value) {\n      const writableStream = await fileHandle.value.createWritable();\n      await writableStream.write(data.value);\n      await writableStream.close();\n    }\n    await updateFile();\n  }\n  async function updateFile() {\n    var _a;\n    file.value = await ((_a = fileHandle.value) == null ? void 0 : _a.getFile());\n  }\n  async function updateData() {\n    var _a, _b;\n    const type = toValue(dataType);\n    if (type === \"Text\")\n      data.value = await ((_a = file.value) == null ? void 0 : _a.text());\n    else if (type === \"ArrayBuffer\")\n      data.value = await ((_b = file.value) == null ? void 0 : _b.arrayBuffer());\n    else if (type === \"Blob\")\n      data.value = file.value;\n  }\n  watch(() => toValue(dataType), updateData);\n  return {\n    isSupported,\n    data,\n    file,\n    fileName,\n    fileMIME,\n    fileSize,\n    fileLastModified,\n    open,\n    create,\n    save,\n    saveAs,\n    updateData\n  };\n}\n\nfunction useFocus(target, options = {}) {\n  const { initialValue = false, focusVisible = false } = options;\n  const innerFocused = ref(false);\n  const targetElement = computed(() => unrefElement(target));\n  useEventListener(targetElement, \"focus\", (event) => {\n    var _a, _b;\n    if (!focusVisible || ((_b = (_a = event.target).matches) == null ? void 0 : _b.call(_a, \":focus-visible\")))\n      innerFocused.value = true;\n  });\n  useEventListener(targetElement, \"blur\", () => innerFocused.value = false);\n  const focused = computed({\n    get: () => innerFocused.value,\n    set(value) {\n      var _a, _b;\n      if (!value && innerFocused.value)\n        (_a = targetElement.value) == null ? void 0 : _a.blur();\n      else if (value && !innerFocused.value)\n        (_b = targetElement.value) == null ? void 0 : _b.focus();\n    }\n  });\n  watch(\n    targetElement,\n    () => {\n      focused.value = initialValue;\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  return { focused };\n}\n\nfunction useFocusWithin(target, options = {}) {\n  const activeElement = useActiveElement(options);\n  const targetElement = computed(() => unrefElement(target));\n  const focused = computed(() => targetElement.value && activeElement.value ? targetElement.value.contains(activeElement.value) : false);\n  return { focused };\n}\n\nfunction useFps(options) {\n  var _a;\n  const fps = ref(0);\n  if (typeof performance === \"undefined\")\n    return fps;\n  const every = (_a = options == null ? void 0 : options.every) != null ? _a : 10;\n  let last = performance.now();\n  let ticks = 0;\n  useRafFn(() => {\n    ticks += 1;\n    if (ticks >= every) {\n      const now = performance.now();\n      const diff = now - last;\n      fps.value = Math.round(1e3 / (diff / ticks));\n      last = now;\n      ticks = 0;\n    }\n  });\n  return fps;\n}\n\nconst eventHandlers = [\n  \"fullscreenchange\",\n  \"webkitfullscreenchange\",\n  \"webkitendfullscreen\",\n  \"mozfullscreenchange\",\n  \"MSFullscreenChange\"\n];\nfunction useFullscreen(target, options = {}) {\n  const {\n    document = defaultDocument,\n    autoExit = false\n  } = options;\n  const targetRef = computed(() => {\n    var _a;\n    return (_a = unrefElement(target)) != null ? _a : document == null ? void 0 : document.querySelector(\"html\");\n  });\n  const isFullscreen = ref(false);\n  const requestMethod = computed(() => {\n    return [\n      \"requestFullscreen\",\n      \"webkitRequestFullscreen\",\n      \"webkitEnterFullscreen\",\n      \"webkitEnterFullScreen\",\n      \"webkitRequestFullScreen\",\n      \"mozRequestFullScreen\",\n      \"msRequestFullscreen\"\n    ].find((m) => document && m in document || targetRef.value && m in targetRef.value);\n  });\n  const exitMethod = computed(() => {\n    return [\n      \"exitFullscreen\",\n      \"webkitExitFullscreen\",\n      \"webkitExitFullScreen\",\n      \"webkitCancelFullScreen\",\n      \"mozCancelFullScreen\",\n      \"msExitFullscreen\"\n    ].find((m) => document && m in document || targetRef.value && m in targetRef.value);\n  });\n  const fullscreenEnabled = computed(() => {\n    return [\n      \"fullScreen\",\n      \"webkitIsFullScreen\",\n      \"webkitDisplayingFullscreen\",\n      \"mozFullScreen\",\n      \"msFullscreenElement\"\n    ].find((m) => document && m in document || targetRef.value && m in targetRef.value);\n  });\n  const fullscreenElementMethod = [\n    \"fullscreenElement\",\n    \"webkitFullscreenElement\",\n    \"mozFullScreenElement\",\n    \"msFullscreenElement\"\n  ].find((m) => document && m in document);\n  const isSupported = useSupported(\n    () => targetRef.value && document && requestMethod.value !== void 0 && exitMethod.value !== void 0 && fullscreenEnabled.value !== void 0\n  );\n  const isCurrentElementFullScreen = () => {\n    if (fullscreenElementMethod)\n      return (document == null ? void 0 : document[fullscreenElementMethod]) === targetRef.value;\n    return false;\n  };\n  const isElementFullScreen = () => {\n    if (fullscreenEnabled.value) {\n      if (document && document[fullscreenEnabled.value] != null) {\n        return document[fullscreenEnabled.value];\n      } else {\n        const target2 = targetRef.value;\n        if ((target2 == null ? void 0 : target2[fullscreenEnabled.value]) != null) {\n          return Boolean(target2[fullscreenEnabled.value]);\n        }\n      }\n    }\n    return false;\n  };\n  async function exit() {\n    if (!isSupported.value || !isFullscreen.value)\n      return;\n    if (exitMethod.value) {\n      if ((document == null ? void 0 : document[exitMethod.value]) != null) {\n        await document[exitMethod.value]();\n      } else {\n        const target2 = targetRef.value;\n        if ((target2 == null ? void 0 : target2[exitMethod.value]) != null)\n          await target2[exitMethod.value]();\n      }\n    }\n    isFullscreen.value = false;\n  }\n  async function enter() {\n    if (!isSupported.value || isFullscreen.value)\n      return;\n    if (isElementFullScreen())\n      await exit();\n    const target2 = targetRef.value;\n    if (requestMethod.value && (target2 == null ? void 0 : target2[requestMethod.value]) != null) {\n      await target2[requestMethod.value]();\n      isFullscreen.value = true;\n    }\n  }\n  async function toggle() {\n    await (isFullscreen.value ? exit() : enter());\n  }\n  const handlerCallback = () => {\n    const isElementFullScreenValue = isElementFullScreen();\n    if (!isElementFullScreenValue || isElementFullScreenValue && isCurrentElementFullScreen())\n      isFullscreen.value = isElementFullScreenValue;\n  };\n  useEventListener(document, eventHandlers, handlerCallback, false);\n  useEventListener(() => unrefElement(targetRef), eventHandlers, handlerCallback, false);\n  if (autoExit)\n    tryOnScopeDispose(exit);\n  return {\n    isSupported,\n    isFullscreen,\n    enter,\n    exit,\n    toggle\n  };\n}\n\nfunction mapGamepadToXbox360Controller(gamepad) {\n  return computed(() => {\n    if (gamepad.value) {\n      return {\n        buttons: {\n          a: gamepad.value.buttons[0],\n          b: gamepad.value.buttons[1],\n          x: gamepad.value.buttons[2],\n          y: gamepad.value.buttons[3]\n        },\n        bumper: {\n          left: gamepad.value.buttons[4],\n          right: gamepad.value.buttons[5]\n        },\n        triggers: {\n          left: gamepad.value.buttons[6],\n          right: gamepad.value.buttons[7]\n        },\n        stick: {\n          left: {\n            horizontal: gamepad.value.axes[0],\n            vertical: gamepad.value.axes[1],\n            button: gamepad.value.buttons[10]\n          },\n          right: {\n            horizontal: gamepad.value.axes[2],\n            vertical: gamepad.value.axes[3],\n            button: gamepad.value.buttons[11]\n          }\n        },\n        dpad: {\n          up: gamepad.value.buttons[12],\n          down: gamepad.value.buttons[13],\n          left: gamepad.value.buttons[14],\n          right: gamepad.value.buttons[15]\n        },\n        back: gamepad.value.buttons[8],\n        start: gamepad.value.buttons[9]\n      };\n    }\n    return null;\n  });\n}\nfunction useGamepad(options = {}) {\n  const {\n    navigator = defaultNavigator\n  } = options;\n  const isSupported = useSupported(() => navigator && \"getGamepads\" in navigator);\n  const gamepads = ref([]);\n  const onConnectedHook = createEventHook();\n  const onDisconnectedHook = createEventHook();\n  const stateFromGamepad = (gamepad) => {\n    const hapticActuators = [];\n    const vibrationActuator = \"vibrationActuator\" in gamepad ? gamepad.vibrationActuator : null;\n    if (vibrationActuator)\n      hapticActuators.push(vibrationActuator);\n    if (gamepad.hapticActuators)\n      hapticActuators.push(...gamepad.hapticActuators);\n    return {\n      ...gamepad,\n      id: gamepad.id,\n      hapticActuators,\n      axes: gamepad.axes.map((axes) => axes),\n      buttons: gamepad.buttons.map((button) => ({ pressed: button.pressed, touched: button.touched, value: button.value }))\n    };\n  };\n  const updateGamepadState = () => {\n    const _gamepads = (navigator == null ? void 0 : navigator.getGamepads()) || [];\n    for (let i = 0; i < _gamepads.length; ++i) {\n      const gamepad = _gamepads[i];\n      if (gamepad) {\n        const index = gamepads.value.findIndex(({ index: index2 }) => index2 === gamepad.index);\n        if (index > -1)\n          gamepads.value[index] = stateFromGamepad(gamepad);\n      }\n    }\n  };\n  const { isActive, pause, resume } = useRafFn(updateGamepadState);\n  const onGamepadConnected = (gamepad) => {\n    if (!gamepads.value.some(({ index }) => index === gamepad.index)) {\n      gamepads.value.push(stateFromGamepad(gamepad));\n      onConnectedHook.trigger(gamepad.index);\n    }\n    resume();\n  };\n  const onGamepadDisconnected = (gamepad) => {\n    gamepads.value = gamepads.value.filter((x) => x.index !== gamepad.index);\n    onDisconnectedHook.trigger(gamepad.index);\n  };\n  useEventListener(\"gamepadconnected\", (e) => onGamepadConnected(e.gamepad));\n  useEventListener(\"gamepaddisconnected\", (e) => onGamepadDisconnected(e.gamepad));\n  tryOnMounted(() => {\n    const _gamepads = (navigator == null ? void 0 : navigator.getGamepads()) || [];\n    if (_gamepads) {\n      for (let i = 0; i < _gamepads.length; ++i) {\n        const gamepad = _gamepads[i];\n        if (gamepad)\n          onGamepadConnected(gamepad);\n      }\n    }\n  });\n  pause();\n  return {\n    isSupported,\n    onConnected: onConnectedHook.on,\n    onDisconnected: onDisconnectedHook.on,\n    gamepads,\n    pause,\n    resume,\n    isActive\n  };\n}\n\nfunction useGeolocation(options = {}) {\n  const {\n    enableHighAccuracy = true,\n    maximumAge = 3e4,\n    timeout = 27e3,\n    navigator = defaultNavigator,\n    immediate = true\n  } = options;\n  const isSupported = useSupported(() => navigator && \"geolocation\" in navigator);\n  const locatedAt = ref(null);\n  const error = shallowRef(null);\n  const coords = ref({\n    accuracy: 0,\n    latitude: Number.POSITIVE_INFINITY,\n    longitude: Number.POSITIVE_INFINITY,\n    altitude: null,\n    altitudeAccuracy: null,\n    heading: null,\n    speed: null\n  });\n  function updatePosition(position) {\n    locatedAt.value = position.timestamp;\n    coords.value = position.coords;\n    error.value = null;\n  }\n  let watcher;\n  function resume() {\n    if (isSupported.value) {\n      watcher = navigator.geolocation.watchPosition(\n        updatePosition,\n        (err) => error.value = err,\n        {\n          enableHighAccuracy,\n          maximumAge,\n          timeout\n        }\n      );\n    }\n  }\n  if (immediate)\n    resume();\n  function pause() {\n    if (watcher && navigator)\n      navigator.geolocation.clearWatch(watcher);\n  }\n  tryOnScopeDispose(() => {\n    pause();\n  });\n  return {\n    isSupported,\n    coords,\n    locatedAt,\n    error,\n    resume,\n    pause\n  };\n}\n\nconst defaultEvents$1 = [\"mousemove\", \"mousedown\", \"resize\", \"keydown\", \"touchstart\", \"wheel\"];\nconst oneMinute = 6e4;\nfunction useIdle(timeout = oneMinute, options = {}) {\n  const {\n    initialState = false,\n    listenForVisibilityChange = true,\n    events = defaultEvents$1,\n    window = defaultWindow,\n    eventFilter = throttleFilter(50)\n  } = options;\n  const idle = ref(initialState);\n  const lastActive = ref(timestamp());\n  let timer;\n  const reset = () => {\n    idle.value = false;\n    clearTimeout(timer);\n    timer = setTimeout(() => idle.value = true, timeout);\n  };\n  const onEvent = createFilterWrapper(\n    eventFilter,\n    () => {\n      lastActive.value = timestamp();\n      reset();\n    }\n  );\n  if (window) {\n    const document = window.document;\n    for (const event of events)\n      useEventListener(window, event, onEvent, { passive: true });\n    if (listenForVisibilityChange) {\n      useEventListener(document, \"visibilitychange\", () => {\n        if (!document.hidden)\n          onEvent();\n      });\n    }\n    reset();\n  }\n  return {\n    idle,\n    lastActive,\n    reset\n  };\n}\n\nasync function loadImage(options) {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    const { src, srcset, sizes, class: clazz, loading, crossorigin, referrerPolicy } = options;\n    img.src = src;\n    if (srcset)\n      img.srcset = srcset;\n    if (sizes)\n      img.sizes = sizes;\n    if (clazz)\n      img.className = clazz;\n    if (loading)\n      img.loading = loading;\n    if (crossorigin)\n      img.crossOrigin = crossorigin;\n    if (referrerPolicy)\n      img.referrerPolicy = referrerPolicy;\n    img.onload = () => resolve(img);\n    img.onerror = reject;\n  });\n}\nfunction useImage(options, asyncStateOptions = {}) {\n  const state = useAsyncState(\n    () => loadImage(toValue(options)),\n    void 0,\n    {\n      resetOnExecute: true,\n      ...asyncStateOptions\n    }\n  );\n  watch(\n    () => toValue(options),\n    () => state.execute(asyncStateOptions.delay),\n    { deep: true }\n  );\n  return state;\n}\n\nconst ARRIVED_STATE_THRESHOLD_PIXELS = 1;\nfunction useScroll(element, options = {}) {\n  const {\n    throttle = 0,\n    idle = 200,\n    onStop = noop,\n    onScroll = noop,\n    offset = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    },\n    eventListenerOptions = {\n      capture: false,\n      passive: true\n    },\n    behavior = \"auto\",\n    window = defaultWindow\n  } = options;\n  const internalX = ref(0);\n  const internalY = ref(0);\n  const x = computed({\n    get() {\n      return internalX.value;\n    },\n    set(x2) {\n      scrollTo(x2, void 0);\n    }\n  });\n  const y = computed({\n    get() {\n      return internalY.value;\n    },\n    set(y2) {\n      scrollTo(void 0, y2);\n    }\n  });\n  function scrollTo(_x, _y) {\n    var _a, _b, _c;\n    if (!window)\n      return;\n    const _element = toValue(element);\n    if (!_element)\n      return;\n    (_c = _element instanceof Document ? window.document.body : _element) == null ? void 0 : _c.scrollTo({\n      top: (_a = toValue(_y)) != null ? _a : y.value,\n      left: (_b = toValue(_x)) != null ? _b : x.value,\n      behavior: toValue(behavior)\n    });\n  }\n  const isScrolling = ref(false);\n  const arrivedState = reactive({\n    left: true,\n    right: false,\n    top: true,\n    bottom: false\n  });\n  const directions = reactive({\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  });\n  const onScrollEnd = (e) => {\n    if (!isScrolling.value)\n      return;\n    isScrolling.value = false;\n    directions.left = false;\n    directions.right = false;\n    directions.top = false;\n    directions.bottom = false;\n    onStop(e);\n  };\n  const onScrollEndDebounced = useDebounceFn(onScrollEnd, throttle + idle);\n  const setArrivedState = (target) => {\n    var _a;\n    if (!window)\n      return;\n    const el = target.document ? target.document.documentElement : (_a = target.documentElement) != null ? _a : target;\n    const { display, flexDirection } = getComputedStyle(el);\n    const scrollLeft = el.scrollLeft;\n    directions.left = scrollLeft < internalX.value;\n    directions.right = scrollLeft > internalX.value;\n    const left = Math.abs(scrollLeft) <= 0 + (offset.left || 0);\n    const right = Math.abs(scrollLeft) + el.clientWidth >= el.scrollWidth - (offset.right || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n    if (display === \"flex\" && flexDirection === \"row-reverse\") {\n      arrivedState.left = right;\n      arrivedState.right = left;\n    } else {\n      arrivedState.left = left;\n      arrivedState.right = right;\n    }\n    internalX.value = scrollLeft;\n    let scrollTop = el.scrollTop;\n    if (target === window.document && !scrollTop)\n      scrollTop = window.document.body.scrollTop;\n    directions.top = scrollTop < internalY.value;\n    directions.bottom = scrollTop > internalY.value;\n    const top = Math.abs(scrollTop) <= 0 + (offset.top || 0);\n    const bottom = Math.abs(scrollTop) + el.clientHeight >= el.scrollHeight - (offset.bottom || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n    if (display === \"flex\" && flexDirection === \"column-reverse\") {\n      arrivedState.top = bottom;\n      arrivedState.bottom = top;\n    } else {\n      arrivedState.top = top;\n      arrivedState.bottom = bottom;\n    }\n    internalY.value = scrollTop;\n  };\n  const onScrollHandler = (e) => {\n    var _a;\n    if (!window)\n      return;\n    const eventTarget = (_a = e.target.documentElement) != null ? _a : e.target;\n    setArrivedState(eventTarget);\n    isScrolling.value = true;\n    onScrollEndDebounced(e);\n    onScroll(e);\n  };\n  useEventListener(\n    element,\n    \"scroll\",\n    throttle ? useThrottleFn(onScrollHandler, throttle, true, false) : onScrollHandler,\n    eventListenerOptions\n  );\n  useEventListener(\n    element,\n    \"scrollend\",\n    onScrollEnd,\n    eventListenerOptions\n  );\n  return {\n    x,\n    y,\n    isScrolling,\n    arrivedState,\n    directions,\n    measure() {\n      const _element = toValue(element);\n      if (window && _element)\n        setArrivedState(_element);\n    }\n  };\n}\n\nfunction resolveElement(el) {\n  if (typeof Window !== \"undefined\" && el instanceof Window)\n    return el.document.documentElement;\n  if (typeof Document !== \"undefined\" && el instanceof Document)\n    return el.documentElement;\n  return el;\n}\n\nfunction useInfiniteScroll(element, onLoadMore, options = {}) {\n  var _a;\n  const {\n    direction = \"bottom\",\n    interval = 100\n  } = options;\n  const state = reactive(useScroll(\n    element,\n    {\n      ...options,\n      offset: {\n        [direction]: (_a = options.distance) != null ? _a : 0,\n        ...options.offset\n      }\n    }\n  ));\n  const promise = ref();\n  const isLoading = computed(() => !!promise.value);\n  const observedElement = computed(() => {\n    return resolveElement(toValue(element));\n  });\n  const isElementVisible = useElementVisibility(observedElement);\n  function checkAndLoad() {\n    state.measure();\n    if (!observedElement.value || !isElementVisible.value)\n      return;\n    const { scrollHeight, clientHeight, scrollWidth, clientWidth } = observedElement.value;\n    const isNarrower = direction === \"bottom\" || direction === \"top\" ? scrollHeight <= clientHeight : scrollWidth <= clientWidth;\n    if (state.arrivedState[direction] || isNarrower) {\n      if (!promise.value) {\n        promise.value = Promise.all([\n          onLoadMore(state),\n          new Promise((resolve) => setTimeout(resolve, interval))\n        ]).finally(() => {\n          promise.value = null;\n          nextTick(() => checkAndLoad());\n        });\n      }\n    }\n  }\n  watch(\n    () => [state.arrivedState[direction], isElementVisible.value],\n    checkAndLoad,\n    { immediate: true }\n  );\n  return {\n    isLoading\n  };\n}\n\nconst defaultEvents = [\"mousedown\", \"mouseup\", \"keydown\", \"keyup\"];\nfunction useKeyModifier(modifier, options = {}) {\n  const {\n    events = defaultEvents,\n    document = defaultDocument,\n    initial = null\n  } = options;\n  const state = ref(initial);\n  if (document) {\n    events.forEach((listenerEvent) => {\n      useEventListener(document, listenerEvent, (evt) => {\n        if (typeof evt.getModifierState === \"function\")\n          state.value = evt.getModifierState(modifier);\n      });\n    });\n  }\n  return state;\n}\n\nfunction useLocalStorage(key, initialValue, options = {}) {\n  const { window = defaultWindow } = options;\n  return useStorage(key, initialValue, window == null ? void 0 : window.localStorage, options);\n}\n\nconst DefaultMagicKeysAliasMap = {\n  ctrl: \"control\",\n  command: \"meta\",\n  cmd: \"meta\",\n  option: \"alt\",\n  up: \"arrowup\",\n  down: \"arrowdown\",\n  left: \"arrowleft\",\n  right: \"arrowright\"\n};\n\nfunction useMagicKeys(options = {}) {\n  const {\n    reactive: useReactive = false,\n    target = defaultWindow,\n    aliasMap = DefaultMagicKeysAliasMap,\n    passive = true,\n    onEventFired = noop\n  } = options;\n  const current = reactive(/* @__PURE__ */ new Set());\n  const obj = {\n    toJSON() {\n      return {};\n    },\n    current\n  };\n  const refs = useReactive ? reactive(obj) : obj;\n  const metaDeps = /* @__PURE__ */ new Set();\n  const usedKeys = /* @__PURE__ */ new Set();\n  function setRefs(key, value) {\n    if (key in refs) {\n      if (useReactive)\n        refs[key] = value;\n      else\n        refs[key].value = value;\n    }\n  }\n  function reset() {\n    current.clear();\n    for (const key of usedKeys)\n      setRefs(key, false);\n  }\n  function updateRefs(e, value) {\n    var _a, _b;\n    const key = (_a = e.key) == null ? void 0 : _a.toLowerCase();\n    const code = (_b = e.code) == null ? void 0 : _b.toLowerCase();\n    const values = [code, key].filter(Boolean);\n    if (key) {\n      if (value)\n        current.add(key);\n      else\n        current.delete(key);\n    }\n    for (const key2 of values) {\n      usedKeys.add(key2);\n      setRefs(key2, value);\n    }\n    if (key === \"meta\" && !value) {\n      metaDeps.forEach((key2) => {\n        current.delete(key2);\n        setRefs(key2, false);\n      });\n      metaDeps.clear();\n    } else if (typeof e.getModifierState === \"function\" && e.getModifierState(\"Meta\") && value) {\n      [...current, ...values].forEach((key2) => metaDeps.add(key2));\n    }\n  }\n  useEventListener(target, \"keydown\", (e) => {\n    updateRefs(e, true);\n    return onEventFired(e);\n  }, { passive });\n  useEventListener(target, \"keyup\", (e) => {\n    updateRefs(e, false);\n    return onEventFired(e);\n  }, { passive });\n  useEventListener(\"blur\", reset, { passive: true });\n  useEventListener(\"focus\", reset, { passive: true });\n  const proxy = new Proxy(\n    refs,\n    {\n      get(target2, prop, rec) {\n        if (typeof prop !== \"string\")\n          return Reflect.get(target2, prop, rec);\n        prop = prop.toLowerCase();\n        if (prop in aliasMap)\n          prop = aliasMap[prop];\n        if (!(prop in refs)) {\n          if (/[+_-]/.test(prop)) {\n            const keys = prop.split(/[+_-]/g).map((i) => i.trim());\n            refs[prop] = computed(() => keys.every((key) => toValue(proxy[key])));\n          } else {\n            refs[prop] = ref(false);\n          }\n        }\n        const r = Reflect.get(target2, prop, rec);\n        return useReactive ? toValue(r) : r;\n      }\n    }\n  );\n  return proxy;\n}\n\nfunction usingElRef(source, cb) {\n  if (toValue(source))\n    cb(toValue(source));\n}\nfunction timeRangeToArray(timeRanges) {\n  let ranges = [];\n  for (let i = 0; i < timeRanges.length; ++i)\n    ranges = [...ranges, [timeRanges.start(i), timeRanges.end(i)]];\n  return ranges;\n}\nfunction tracksToArray(tracks) {\n  return Array.from(tracks).map(({ label, kind, language, mode, activeCues, cues, inBandMetadataTrackDispatchType }, id) => ({ id, label, kind, language, mode, activeCues, cues, inBandMetadataTrackDispatchType }));\n}\nconst defaultOptions = {\n  src: \"\",\n  tracks: []\n};\nfunction useMediaControls(target, options = {}) {\n  options = {\n    ...defaultOptions,\n    ...options\n  };\n  const {\n    document = defaultDocument\n  } = options;\n  const currentTime = ref(0);\n  const duration = ref(0);\n  const seeking = ref(false);\n  const volume = ref(1);\n  const waiting = ref(false);\n  const ended = ref(false);\n  const playing = ref(false);\n  const rate = ref(1);\n  const stalled = ref(false);\n  const buffered = ref([]);\n  const tracks = ref([]);\n  const selectedTrack = ref(-1);\n  const isPictureInPicture = ref(false);\n  const muted = ref(false);\n  const supportsPictureInPicture = document && \"pictureInPictureEnabled\" in document;\n  const sourceErrorEvent = createEventHook();\n  const disableTrack = (track) => {\n    usingElRef(target, (el) => {\n      if (track) {\n        const id = typeof track === \"number\" ? track : track.id;\n        el.textTracks[id].mode = \"disabled\";\n      } else {\n        for (let i = 0; i < el.textTracks.length; ++i)\n          el.textTracks[i].mode = \"disabled\";\n      }\n      selectedTrack.value = -1;\n    });\n  };\n  const enableTrack = (track, disableTracks = true) => {\n    usingElRef(target, (el) => {\n      const id = typeof track === \"number\" ? track : track.id;\n      if (disableTracks)\n        disableTrack();\n      el.textTracks[id].mode = \"showing\";\n      selectedTrack.value = id;\n    });\n  };\n  const togglePictureInPicture = () => {\n    return new Promise((resolve, reject) => {\n      usingElRef(target, async (el) => {\n        if (supportsPictureInPicture) {\n          if (!isPictureInPicture.value) {\n            el.requestPictureInPicture().then(resolve).catch(reject);\n          } else {\n            document.exitPictureInPicture().then(resolve).catch(reject);\n          }\n        }\n      });\n    });\n  };\n  watchEffect(() => {\n    if (!document)\n      return;\n    const el = toValue(target);\n    if (!el)\n      return;\n    const src = toValue(options.src);\n    let sources = [];\n    if (!src)\n      return;\n    if (typeof src === \"string\")\n      sources = [{ src }];\n    else if (Array.isArray(src))\n      sources = src;\n    else if (isObject(src))\n      sources = [src];\n    el.querySelectorAll(\"source\").forEach((e) => {\n      e.removeEventListener(\"error\", sourceErrorEvent.trigger);\n      e.remove();\n    });\n    sources.forEach(({ src: src2, type }) => {\n      const source = document.createElement(\"source\");\n      source.setAttribute(\"src\", src2);\n      source.setAttribute(\"type\", type || \"\");\n      source.addEventListener(\"error\", sourceErrorEvent.trigger);\n      el.appendChild(source);\n    });\n    el.load();\n  });\n  tryOnScopeDispose(() => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    el.querySelectorAll(\"source\").forEach((e) => e.removeEventListener(\"error\", sourceErrorEvent.trigger));\n  });\n  watch([target, volume], () => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    el.volume = volume.value;\n  });\n  watch([target, muted], () => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    el.muted = muted.value;\n  });\n  watch([target, rate], () => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    el.playbackRate = rate.value;\n  });\n  watchEffect(() => {\n    if (!document)\n      return;\n    const textTracks = toValue(options.tracks);\n    const el = toValue(target);\n    if (!textTracks || !textTracks.length || !el)\n      return;\n    el.querySelectorAll(\"track\").forEach((e) => e.remove());\n    textTracks.forEach(({ default: isDefault, kind, label, src, srcLang }, i) => {\n      const track = document.createElement(\"track\");\n      track.default = isDefault || false;\n      track.kind = kind;\n      track.label = label;\n      track.src = src;\n      track.srclang = srcLang;\n      if (track.default)\n        selectedTrack.value = i;\n      el.appendChild(track);\n    });\n  });\n  const { ignoreUpdates: ignoreCurrentTimeUpdates } = watchIgnorable(currentTime, (time) => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    el.currentTime = time;\n  });\n  const { ignoreUpdates: ignorePlayingUpdates } = watchIgnorable(playing, (isPlaying) => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    isPlaying ? el.play() : el.pause();\n  });\n  useEventListener(target, \"timeupdate\", () => ignoreCurrentTimeUpdates(() => currentTime.value = toValue(target).currentTime));\n  useEventListener(target, \"durationchange\", () => duration.value = toValue(target).duration);\n  useEventListener(target, \"progress\", () => buffered.value = timeRangeToArray(toValue(target).buffered));\n  useEventListener(target, \"seeking\", () => seeking.value = true);\n  useEventListener(target, \"seeked\", () => seeking.value = false);\n  useEventListener(target, [\"waiting\", \"loadstart\"], () => {\n    waiting.value = true;\n    ignorePlayingUpdates(() => playing.value = false);\n  });\n  useEventListener(target, \"loadeddata\", () => waiting.value = false);\n  useEventListener(target, \"playing\", () => {\n    waiting.value = false;\n    ended.value = false;\n    ignorePlayingUpdates(() => playing.value = true);\n  });\n  useEventListener(target, \"ratechange\", () => rate.value = toValue(target).playbackRate);\n  useEventListener(target, \"stalled\", () => stalled.value = true);\n  useEventListener(target, \"ended\", () => ended.value = true);\n  useEventListener(target, \"pause\", () => ignorePlayingUpdates(() => playing.value = false));\n  useEventListener(target, \"play\", () => ignorePlayingUpdates(() => playing.value = true));\n  useEventListener(target, \"enterpictureinpicture\", () => isPictureInPicture.value = true);\n  useEventListener(target, \"leavepictureinpicture\", () => isPictureInPicture.value = false);\n  useEventListener(target, \"volumechange\", () => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    volume.value = el.volume;\n    muted.value = el.muted;\n  });\n  const listeners = [];\n  const stop = watch([target], () => {\n    const el = toValue(target);\n    if (!el)\n      return;\n    stop();\n    listeners[0] = useEventListener(el.textTracks, \"addtrack\", () => tracks.value = tracksToArray(el.textTracks));\n    listeners[1] = useEventListener(el.textTracks, \"removetrack\", () => tracks.value = tracksToArray(el.textTracks));\n    listeners[2] = useEventListener(el.textTracks, \"change\", () => tracks.value = tracksToArray(el.textTracks));\n  });\n  tryOnScopeDispose(() => listeners.forEach((listener) => listener()));\n  return {\n    currentTime,\n    duration,\n    waiting,\n    seeking,\n    ended,\n    stalled,\n    buffered,\n    playing,\n    rate,\n    // Volume\n    volume,\n    muted,\n    // Tracks\n    tracks,\n    selectedTrack,\n    enableTrack,\n    disableTrack,\n    // Picture in Picture\n    supportsPictureInPicture,\n    togglePictureInPicture,\n    isPictureInPicture,\n    // Events\n    onSourceError: sourceErrorEvent.on\n  };\n}\n\nfunction getMapVue2Compat() {\n  const data = reactive({});\n  return {\n    get: (key) => data[key],\n    set: (key, value) => set(data, key, value),\n    has: (key) => hasOwn(data, key),\n    delete: (key) => del(data, key),\n    clear: () => {\n      Object.keys(data).forEach((key) => {\n        del(data, key);\n      });\n    }\n  };\n}\nfunction useMemoize(resolver, options) {\n  const initCache = () => {\n    if (options == null ? void 0 : options.cache)\n      return reactive(options.cache);\n    if (isVue2)\n      return getMapVue2Compat();\n    return reactive(/* @__PURE__ */ new Map());\n  };\n  const cache = initCache();\n  const generateKey = (...args) => (options == null ? void 0 : options.getKey) ? options.getKey(...args) : JSON.stringify(args);\n  const _loadData = (key, ...args) => {\n    cache.set(key, resolver(...args));\n    return cache.get(key);\n  };\n  const loadData = (...args) => _loadData(generateKey(...args), ...args);\n  const deleteData = (...args) => {\n    cache.delete(generateKey(...args));\n  };\n  const clearData = () => {\n    cache.clear();\n  };\n  const memoized = (...args) => {\n    const key = generateKey(...args);\n    if (cache.has(key))\n      return cache.get(key);\n    return _loadData(key, ...args);\n  };\n  memoized.load = loadData;\n  memoized.delete = deleteData;\n  memoized.clear = clearData;\n  memoized.generateKey = generateKey;\n  memoized.cache = cache;\n  return memoized;\n}\n\nfunction useMemory(options = {}) {\n  const memory = ref();\n  const isSupported = useSupported(() => typeof performance !== \"undefined\" && \"memory\" in performance);\n  if (isSupported.value) {\n    const { interval = 1e3 } = options;\n    useIntervalFn(() => {\n      memory.value = performance.memory;\n    }, interval, { immediate: options.immediate, immediateCallback: options.immediateCallback });\n  }\n  return { isSupported, memory };\n}\n\nconst UseMouseBuiltinExtractors = {\n  page: (event) => [event.pageX, event.pageY],\n  client: (event) => [event.clientX, event.clientY],\n  screen: (event) => [event.screenX, event.screenY],\n  movement: (event) => event instanceof Touch ? null : [event.movementX, event.movementY]\n};\nfunction useMouse(options = {}) {\n  const {\n    type = \"page\",\n    touch = true,\n    resetOnTouchEnds = false,\n    initialValue = { x: 0, y: 0 },\n    window = defaultWindow,\n    target = window,\n    scroll = true,\n    eventFilter\n  } = options;\n  let _prevMouseEvent = null;\n  const x = ref(initialValue.x);\n  const y = ref(initialValue.y);\n  const sourceType = ref(null);\n  const extractor = typeof type === \"function\" ? type : UseMouseBuiltinExtractors[type];\n  const mouseHandler = (event) => {\n    const result = extractor(event);\n    _prevMouseEvent = event;\n    if (result) {\n      [x.value, y.value] = result;\n      sourceType.value = \"mouse\";\n    }\n  };\n  const touchHandler = (event) => {\n    if (event.touches.length > 0) {\n      const result = extractor(event.touches[0]);\n      if (result) {\n        [x.value, y.value] = result;\n        sourceType.value = \"touch\";\n      }\n    }\n  };\n  const scrollHandler = () => {\n    if (!_prevMouseEvent || !window)\n      return;\n    const pos = extractor(_prevMouseEvent);\n    if (_prevMouseEvent instanceof MouseEvent && pos) {\n      x.value = pos[0] + window.scrollX;\n      y.value = pos[1] + window.scrollY;\n    }\n  };\n  const reset = () => {\n    x.value = initialValue.x;\n    y.value = initialValue.y;\n  };\n  const mouseHandlerWrapper = eventFilter ? (event) => eventFilter(() => mouseHandler(event), {}) : (event) => mouseHandler(event);\n  const touchHandlerWrapper = eventFilter ? (event) => eventFilter(() => touchHandler(event), {}) : (event) => touchHandler(event);\n  const scrollHandlerWrapper = eventFilter ? () => eventFilter(() => scrollHandler(), {}) : () => scrollHandler();\n  if (target) {\n    const listenerOptions = { passive: true };\n    useEventListener(target, [\"mousemove\", \"dragover\"], mouseHandlerWrapper, listenerOptions);\n    if (touch && type !== \"movement\") {\n      useEventListener(target, [\"touchstart\", \"touchmove\"], touchHandlerWrapper, listenerOptions);\n      if (resetOnTouchEnds)\n        useEventListener(target, \"touchend\", reset, listenerOptions);\n    }\n    if (scroll && type === \"page\")\n      useEventListener(window, \"scroll\", scrollHandlerWrapper, { passive: true });\n  }\n  return {\n    x,\n    y,\n    sourceType\n  };\n}\n\nfunction useMouseInElement(target, options = {}) {\n  const {\n    handleOutside = true,\n    window = defaultWindow\n  } = options;\n  const { x, y, sourceType } = useMouse(options);\n  const targetRef = ref(target != null ? target : window == null ? void 0 : window.document.body);\n  const elementX = ref(0);\n  const elementY = ref(0);\n  const elementPositionX = ref(0);\n  const elementPositionY = ref(0);\n  const elementHeight = ref(0);\n  const elementWidth = ref(0);\n  const isOutside = ref(true);\n  let stop = () => {\n  };\n  if (window) {\n    stop = watch(\n      [targetRef, x, y],\n      () => {\n        const el = unrefElement(targetRef);\n        if (!el)\n          return;\n        const {\n          left,\n          top,\n          width,\n          height\n        } = el.getBoundingClientRect();\n        elementPositionX.value = left + window.pageXOffset;\n        elementPositionY.value = top + window.pageYOffset;\n        elementHeight.value = height;\n        elementWidth.value = width;\n        const elX = x.value - elementPositionX.value;\n        const elY = y.value - elementPositionY.value;\n        isOutside.value = width === 0 || height === 0 || elX < 0 || elY < 0 || elX > width || elY > height;\n        if (handleOutside || !isOutside.value) {\n          elementX.value = elX;\n          elementY.value = elY;\n        }\n      },\n      { immediate: true }\n    );\n    useEventListener(document, \"mouseleave\", () => {\n      isOutside.value = true;\n    });\n  }\n  return {\n    x,\n    y,\n    sourceType,\n    elementX,\n    elementY,\n    elementPositionX,\n    elementPositionY,\n    elementHeight,\n    elementWidth,\n    isOutside,\n    stop\n  };\n}\n\nfunction useMousePressed(options = {}) {\n  const {\n    touch = true,\n    drag = true,\n    initialValue = false,\n    window = defaultWindow\n  } = options;\n  const pressed = ref(initialValue);\n  const sourceType = ref(null);\n  if (!window) {\n    return {\n      pressed,\n      sourceType\n    };\n  }\n  const onPressed = (srcType) => () => {\n    pressed.value = true;\n    sourceType.value = srcType;\n  };\n  const onReleased = () => {\n    pressed.value = false;\n    sourceType.value = null;\n  };\n  const target = computed(() => unrefElement(options.target) || window);\n  useEventListener(target, \"mousedown\", onPressed(\"mouse\"), { passive: true });\n  useEventListener(window, \"mouseleave\", onReleased, { passive: true });\n  useEventListener(window, \"mouseup\", onReleased, { passive: true });\n  if (drag) {\n    useEventListener(target, \"dragstart\", onPressed(\"mouse\"), { passive: true });\n    useEventListener(window, \"drop\", onReleased, { passive: true });\n    useEventListener(window, \"dragend\", onReleased, { passive: true });\n  }\n  if (touch) {\n    useEventListener(target, \"touchstart\", onPressed(\"touch\"), { passive: true });\n    useEventListener(window, \"touchend\", onReleased, { passive: true });\n    useEventListener(window, \"touchcancel\", onReleased, { passive: true });\n  }\n  return {\n    pressed,\n    sourceType\n  };\n}\n\nfunction useNavigatorLanguage(options = {}) {\n  const { window = defaultWindow } = options;\n  const navigator = window == null ? void 0 : window.navigator;\n  const isSupported = useSupported(() => navigator && \"language\" in navigator);\n  const language = ref(navigator == null ? void 0 : navigator.language);\n  useEventListener(window, \"languagechange\", () => {\n    if (navigator)\n      language.value = navigator.language;\n  });\n  return {\n    isSupported,\n    language\n  };\n}\n\nfunction useNetwork(options = {}) {\n  const { window = defaultWindow } = options;\n  const navigator = window == null ? void 0 : window.navigator;\n  const isSupported = useSupported(() => navigator && \"connection\" in navigator);\n  const isOnline = ref(true);\n  const saveData = ref(false);\n  const offlineAt = ref(void 0);\n  const onlineAt = ref(void 0);\n  const downlink = ref(void 0);\n  const downlinkMax = ref(void 0);\n  const rtt = ref(void 0);\n  const effectiveType = ref(void 0);\n  const type = ref(\"unknown\");\n  const connection = isSupported.value && navigator.connection;\n  function updateNetworkInformation() {\n    if (!navigator)\n      return;\n    isOnline.value = navigator.onLine;\n    offlineAt.value = isOnline.value ? void 0 : Date.now();\n    onlineAt.value = isOnline.value ? Date.now() : void 0;\n    if (connection) {\n      downlink.value = connection.downlink;\n      downlinkMax.value = connection.downlinkMax;\n      effectiveType.value = connection.effectiveType;\n      rtt.value = connection.rtt;\n      saveData.value = connection.saveData;\n      type.value = connection.type;\n    }\n  }\n  if (window) {\n    useEventListener(window, \"offline\", () => {\n      isOnline.value = false;\n      offlineAt.value = Date.now();\n    });\n    useEventListener(window, \"online\", () => {\n      isOnline.value = true;\n      onlineAt.value = Date.now();\n    });\n  }\n  if (connection)\n    useEventListener(connection, \"change\", updateNetworkInformation, false);\n  updateNetworkInformation();\n  return {\n    isSupported,\n    isOnline,\n    saveData,\n    offlineAt,\n    onlineAt,\n    downlink,\n    downlinkMax,\n    effectiveType,\n    rtt,\n    type\n  };\n}\n\nfunction useNow(options = {}) {\n  const {\n    controls: exposeControls = false,\n    interval = \"requestAnimationFrame\"\n  } = options;\n  const now = ref(/* @__PURE__ */ new Date());\n  const update = () => now.value = /* @__PURE__ */ new Date();\n  const controls = interval === \"requestAnimationFrame\" ? useRafFn(update, { immediate: true }) : useIntervalFn(update, interval, { immediate: true });\n  if (exposeControls) {\n    return {\n      now,\n      ...controls\n    };\n  } else {\n    return now;\n  }\n}\n\nfunction useObjectUrl(object) {\n  const url = ref();\n  const release = () => {\n    if (url.value)\n      URL.revokeObjectURL(url.value);\n    url.value = void 0;\n  };\n  watch(\n    () => toValue(object),\n    (newObject) => {\n      release();\n      if (newObject)\n        url.value = URL.createObjectURL(newObject);\n    },\n    { immediate: true }\n  );\n  tryOnScopeDispose(release);\n  return readonly(url);\n}\n\nfunction useClamp(value, min, max) {\n  if (typeof value === \"function\" || isReadonly(value))\n    return computed(() => clamp(toValue(value), toValue(min), toValue(max)));\n  const _value = ref(value);\n  return computed({\n    get() {\n      return _value.value = clamp(_value.value, toValue(min), toValue(max));\n    },\n    set(value2) {\n      _value.value = clamp(value2, toValue(min), toValue(max));\n    }\n  });\n}\n\nfunction useOffsetPagination(options) {\n  const {\n    total = Number.POSITIVE_INFINITY,\n    pageSize = 10,\n    page = 1,\n    onPageChange = noop,\n    onPageSizeChange = noop,\n    onPageCountChange = noop\n  } = options;\n  const currentPageSize = useClamp(pageSize, 1, Number.POSITIVE_INFINITY);\n  const pageCount = computed(() => Math.max(\n    1,\n    Math.ceil(toValue(total) / toValue(currentPageSize))\n  ));\n  const currentPage = useClamp(page, 1, pageCount);\n  const isFirstPage = computed(() => currentPage.value === 1);\n  const isLastPage = computed(() => currentPage.value === pageCount.value);\n  if (isRef(page))\n    syncRef(page, currentPage);\n  if (isRef(pageSize))\n    syncRef(pageSize, currentPageSize);\n  function prev() {\n    currentPage.value--;\n  }\n  function next() {\n    currentPage.value++;\n  }\n  const returnValue = {\n    currentPage,\n    currentPageSize,\n    pageCount,\n    isFirstPage,\n    isLastPage,\n    prev,\n    next\n  };\n  watch(currentPage, () => {\n    onPageChange(reactive(returnValue));\n  });\n  watch(currentPageSize, () => {\n    onPageSizeChange(reactive(returnValue));\n  });\n  watch(pageCount, () => {\n    onPageCountChange(reactive(returnValue));\n  });\n  return returnValue;\n}\n\nfunction useOnline(options = {}) {\n  const { isOnline } = useNetwork(options);\n  return isOnline;\n}\n\nfunction usePageLeave(options = {}) {\n  const { window = defaultWindow } = options;\n  const isLeft = ref(false);\n  const handler = (event) => {\n    if (!window)\n      return;\n    event = event || window.event;\n    const from = event.relatedTarget || event.toElement;\n    isLeft.value = !from;\n  };\n  if (window) {\n    useEventListener(window, \"mouseout\", handler, { passive: true });\n    useEventListener(window.document, \"mouseleave\", handler, { passive: true });\n    useEventListener(window.document, \"mouseenter\", handler, { passive: true });\n  }\n  return isLeft;\n}\n\nfunction useParallax(target, options = {}) {\n  const {\n    deviceOrientationTiltAdjust = (i) => i,\n    deviceOrientationRollAdjust = (i) => i,\n    mouseTiltAdjust = (i) => i,\n    mouseRollAdjust = (i) => i,\n    window = defaultWindow\n  } = options;\n  const orientation = reactive(useDeviceOrientation({ window }));\n  const {\n    elementX: x,\n    elementY: y,\n    elementWidth: width,\n    elementHeight: height\n  } = useMouseInElement(target, { handleOutside: false, window });\n  const source = computed(() => {\n    if (orientation.isSupported && (orientation.alpha != null && orientation.alpha !== 0 || orientation.gamma != null && orientation.gamma !== 0))\n      return \"deviceOrientation\";\n    return \"mouse\";\n  });\n  const roll = computed(() => {\n    if (source.value === \"deviceOrientation\") {\n      const value = -orientation.beta / 90;\n      return deviceOrientationRollAdjust(value);\n    } else {\n      const value = -(y.value - height.value / 2) / height.value;\n      return mouseRollAdjust(value);\n    }\n  });\n  const tilt = computed(() => {\n    if (source.value === \"deviceOrientation\") {\n      const value = orientation.gamma / 90;\n      return deviceOrientationTiltAdjust(value);\n    } else {\n      const value = (x.value - width.value / 2) / width.value;\n      return mouseTiltAdjust(value);\n    }\n  });\n  return { roll, tilt, source };\n}\n\nfunction useParentElement(element = useCurrentElement()) {\n  const parentElement = shallowRef();\n  const update = () => {\n    const el = unrefElement(element);\n    if (el)\n      parentElement.value = el.parentElement;\n  };\n  tryOnMounted(update);\n  watch(() => toValue(element), update);\n  return parentElement;\n}\n\nfunction usePerformanceObserver(options, callback) {\n  const {\n    window = defaultWindow,\n    immediate = true,\n    ...performanceOptions\n  } = options;\n  const isSupported = useSupported(() => window && \"PerformanceObserver\" in window);\n  let observer;\n  const stop = () => {\n    observer == null ? void 0 : observer.disconnect();\n  };\n  const start = () => {\n    if (isSupported.value) {\n      stop();\n      observer = new PerformanceObserver(callback);\n      observer.observe(performanceOptions);\n    }\n  };\n  tryOnScopeDispose(stop);\n  if (immediate)\n    start();\n  return {\n    isSupported,\n    start,\n    stop\n  };\n}\n\nconst defaultState = {\n  x: 0,\n  y: 0,\n  pointerId: 0,\n  pressure: 0,\n  tiltX: 0,\n  tiltY: 0,\n  width: 0,\n  height: 0,\n  twist: 0,\n  pointerType: null\n};\nconst keys = /* @__PURE__ */ Object.keys(defaultState);\nfunction usePointer(options = {}) {\n  const {\n    target = defaultWindow\n  } = options;\n  const isInside = ref(false);\n  const state = ref(options.initialValue || {});\n  Object.assign(state.value, defaultState, state.value);\n  const handler = (event) => {\n    isInside.value = true;\n    if (options.pointerTypes && !options.pointerTypes.includes(event.pointerType))\n      return;\n    state.value = objectPick(event, keys, false);\n  };\n  if (target) {\n    const listenerOptions = { passive: true };\n    useEventListener(target, [\"pointerdown\", \"pointermove\", \"pointerup\"], handler, listenerOptions);\n    useEventListener(target, \"pointerleave\", () => isInside.value = false, listenerOptions);\n  }\n  return {\n    ...toRefs(state),\n    isInside\n  };\n}\n\nfunction usePointerLock(target, options = {}) {\n  const { document = defaultDocument, pointerLockOptions } = options;\n  const isSupported = useSupported(() => document && \"pointerLockElement\" in document);\n  const element = ref();\n  const triggerElement = ref();\n  let targetElement;\n  if (isSupported.value) {\n    useEventListener(document, \"pointerlockchange\", () => {\n      var _a;\n      const currentElement = (_a = document.pointerLockElement) != null ? _a : element.value;\n      if (targetElement && currentElement === targetElement) {\n        element.value = document.pointerLockElement;\n        if (!element.value)\n          targetElement = triggerElement.value = null;\n      }\n    });\n    useEventListener(document, \"pointerlockerror\", () => {\n      var _a;\n      const currentElement = (_a = document.pointerLockElement) != null ? _a : element.value;\n      if (targetElement && currentElement === targetElement) {\n        const action = document.pointerLockElement ? \"release\" : \"acquire\";\n        throw new Error(`Failed to ${action} pointer lock.`);\n      }\n    });\n  }\n  async function lock(e, options2) {\n    var _a;\n    if (!isSupported.value)\n      throw new Error(\"Pointer Lock API is not supported by your browser.\");\n    triggerElement.value = e instanceof Event ? e.currentTarget : null;\n    targetElement = e instanceof Event ? (_a = unrefElement(target)) != null ? _a : triggerElement.value : unrefElement(e);\n    if (!targetElement)\n      throw new Error(\"Target element undefined.\");\n    targetElement.requestPointerLock(options2 != null ? options2 : pointerLockOptions);\n    return await until(element).toBe(targetElement);\n  }\n  async function unlock() {\n    if (!element.value)\n      return false;\n    document.exitPointerLock();\n    await until(element).toBeNull();\n    return true;\n  }\n  return {\n    isSupported,\n    element,\n    triggerElement,\n    lock,\n    unlock\n  };\n}\n\nfunction usePointerSwipe(target, options = {}) {\n  const targetRef = toRef(target);\n  const {\n    threshold = 50,\n    onSwipe,\n    onSwipeEnd,\n    onSwipeStart\n  } = options;\n  const posStart = reactive({ x: 0, y: 0 });\n  const updatePosStart = (x, y) => {\n    posStart.x = x;\n    posStart.y = y;\n  };\n  const posEnd = reactive({ x: 0, y: 0 });\n  const updatePosEnd = (x, y) => {\n    posEnd.x = x;\n    posEnd.y = y;\n  };\n  const distanceX = computed(() => posStart.x - posEnd.x);\n  const distanceY = computed(() => posStart.y - posEnd.y);\n  const { max, abs } = Math;\n  const isThresholdExceeded = computed(() => max(abs(distanceX.value), abs(distanceY.value)) >= threshold);\n  const isSwiping = ref(false);\n  const isPointerDown = ref(false);\n  const direction = computed(() => {\n    if (!isThresholdExceeded.value)\n      return \"none\";\n    if (abs(distanceX.value) > abs(distanceY.value)) {\n      return distanceX.value > 0 ? \"left\" : \"right\";\n    } else {\n      return distanceY.value > 0 ? \"up\" : \"down\";\n    }\n  });\n  const eventIsAllowed = (e) => {\n    var _a, _b, _c;\n    const isReleasingButton = e.buttons === 0;\n    const isPrimaryButton = e.buttons === 1;\n    return (_c = (_b = (_a = options.pointerTypes) == null ? void 0 : _a.includes(e.pointerType)) != null ? _b : isReleasingButton || isPrimaryButton) != null ? _c : true;\n  };\n  const stops = [\n    useEventListener(target, \"pointerdown\", (e) => {\n      var _a, _b;\n      if (!eventIsAllowed(e))\n        return;\n      isPointerDown.value = true;\n      (_b = (_a = targetRef.value) == null ? void 0 : _a.style) == null ? void 0 : _b.setProperty(\"touch-action\", \"none\");\n      const eventTarget = e.target;\n      eventTarget == null ? void 0 : eventTarget.setPointerCapture(e.pointerId);\n      const { clientX: x, clientY: y } = e;\n      updatePosStart(x, y);\n      updatePosEnd(x, y);\n      onSwipeStart == null ? void 0 : onSwipeStart(e);\n    }),\n    useEventListener(target, \"pointermove\", (e) => {\n      if (!eventIsAllowed(e))\n        return;\n      if (!isPointerDown.value)\n        return;\n      const { clientX: x, clientY: y } = e;\n      updatePosEnd(x, y);\n      if (!isSwiping.value && isThresholdExceeded.value)\n        isSwiping.value = true;\n      if (isSwiping.value)\n        onSwipe == null ? void 0 : onSwipe(e);\n    }),\n    useEventListener(target, \"pointerup\", (e) => {\n      var _a, _b;\n      if (!eventIsAllowed(e))\n        return;\n      if (isSwiping.value)\n        onSwipeEnd == null ? void 0 : onSwipeEnd(e, direction.value);\n      isPointerDown.value = false;\n      isSwiping.value = false;\n      (_b = (_a = targetRef.value) == null ? void 0 : _a.style) == null ? void 0 : _b.setProperty(\"touch-action\", \"initial\");\n    })\n  ];\n  const stop = () => stops.forEach((s) => s());\n  return {\n    isSwiping: readonly(isSwiping),\n    direction: readonly(direction),\n    posStart: readonly(posStart),\n    posEnd: readonly(posEnd),\n    distanceX,\n    distanceY,\n    stop\n  };\n}\n\nfunction usePreferredColorScheme(options) {\n  const isLight = useMediaQuery(\"(prefers-color-scheme: light)\", options);\n  const isDark = useMediaQuery(\"(prefers-color-scheme: dark)\", options);\n  return computed(() => {\n    if (isDark.value)\n      return \"dark\";\n    if (isLight.value)\n      return \"light\";\n    return \"no-preference\";\n  });\n}\n\nfunction usePreferredContrast(options) {\n  const isMore = useMediaQuery(\"(prefers-contrast: more)\", options);\n  const isLess = useMediaQuery(\"(prefers-contrast: less)\", options);\n  const isCustom = useMediaQuery(\"(prefers-contrast: custom)\", options);\n  return computed(() => {\n    if (isMore.value)\n      return \"more\";\n    if (isLess.value)\n      return \"less\";\n    if (isCustom.value)\n      return \"custom\";\n    return \"no-preference\";\n  });\n}\n\nfunction usePreferredLanguages(options = {}) {\n  const { window = defaultWindow } = options;\n  if (!window)\n    return ref([\"en\"]);\n  const navigator = window.navigator;\n  const value = ref(navigator.languages);\n  useEventListener(window, \"languagechange\", () => {\n    value.value = navigator.languages;\n  });\n  return value;\n}\n\nfunction usePreferredReducedMotion(options) {\n  const isReduced = useMediaQuery(\"(prefers-reduced-motion: reduce)\", options);\n  return computed(() => {\n    if (isReduced.value)\n      return \"reduce\";\n    return \"no-preference\";\n  });\n}\n\nfunction usePrevious(value, initialValue) {\n  const previous = shallowRef(initialValue);\n  watch(\n    toRef(value),\n    (_, oldValue) => {\n      previous.value = oldValue;\n    },\n    { flush: \"sync\" }\n  );\n  return readonly(previous);\n}\n\nfunction useScreenOrientation(options = {}) {\n  const {\n    window = defaultWindow\n  } = options;\n  const isSupported = useSupported(() => window && \"screen\" in window && \"orientation\" in window.screen);\n  const screenOrientation = isSupported.value ? window.screen.orientation : {};\n  const orientation = ref(screenOrientation.type);\n  const angle = ref(screenOrientation.angle || 0);\n  if (isSupported.value) {\n    useEventListener(window, \"orientationchange\", () => {\n      orientation.value = screenOrientation.type;\n      angle.value = screenOrientation.angle;\n    });\n  }\n  const lockOrientation = (type) => {\n    if (!isSupported.value)\n      return Promise.reject(new Error(\"Not supported\"));\n    return screenOrientation.lock(type);\n  };\n  const unlockOrientation = () => {\n    if (isSupported.value)\n      screenOrientation.unlock();\n  };\n  return {\n    isSupported,\n    orientation,\n    angle,\n    lockOrientation,\n    unlockOrientation\n  };\n}\n\nconst topVarName = \"--vueuse-safe-area-top\";\nconst rightVarName = \"--vueuse-safe-area-right\";\nconst bottomVarName = \"--vueuse-safe-area-bottom\";\nconst leftVarName = \"--vueuse-safe-area-left\";\nfunction useScreenSafeArea() {\n  const top = ref(\"\");\n  const right = ref(\"\");\n  const bottom = ref(\"\");\n  const left = ref(\"\");\n  if (isClient) {\n    const topCssVar = useCssVar(topVarName);\n    const rightCssVar = useCssVar(rightVarName);\n    const bottomCssVar = useCssVar(bottomVarName);\n    const leftCssVar = useCssVar(leftVarName);\n    topCssVar.value = \"env(safe-area-inset-top, 0px)\";\n    rightCssVar.value = \"env(safe-area-inset-right, 0px)\";\n    bottomCssVar.value = \"env(safe-area-inset-bottom, 0px)\";\n    leftCssVar.value = \"env(safe-area-inset-left, 0px)\";\n    update();\n    useEventListener(\"resize\", useDebounceFn(update));\n  }\n  function update() {\n    top.value = getValue(topVarName);\n    right.value = getValue(rightVarName);\n    bottom.value = getValue(bottomVarName);\n    left.value = getValue(leftVarName);\n  }\n  return {\n    top,\n    right,\n    bottom,\n    left,\n    update\n  };\n}\nfunction getValue(position) {\n  return getComputedStyle(document.documentElement).getPropertyValue(position);\n}\n\nfunction useScriptTag(src, onLoaded = noop, options = {}) {\n  const {\n    immediate = true,\n    manual = false,\n    type = \"text/javascript\",\n    async = true,\n    crossOrigin,\n    referrerPolicy,\n    noModule,\n    defer,\n    document = defaultDocument,\n    attrs = {}\n  } = options;\n  const scriptTag = ref(null);\n  let _promise = null;\n  const loadScript = (waitForScriptLoad) => new Promise((resolve, reject) => {\n    const resolveWithElement = (el2) => {\n      scriptTag.value = el2;\n      resolve(el2);\n      return el2;\n    };\n    if (!document) {\n      resolve(false);\n      return;\n    }\n    let shouldAppend = false;\n    let el = document.querySelector(`script[src=\"${toValue(src)}\"]`);\n    if (!el) {\n      el = document.createElement(\"script\");\n      el.type = type;\n      el.async = async;\n      el.src = toValue(src);\n      if (defer)\n        el.defer = defer;\n      if (crossOrigin)\n        el.crossOrigin = crossOrigin;\n      if (noModule)\n        el.noModule = noModule;\n      if (referrerPolicy)\n        el.referrerPolicy = referrerPolicy;\n      Object.entries(attrs).forEach(([name, value]) => el == null ? void 0 : el.setAttribute(name, value));\n      shouldAppend = true;\n    } else if (el.hasAttribute(\"data-loaded\")) {\n      resolveWithElement(el);\n    }\n    el.addEventListener(\"error\", (event) => reject(event));\n    el.addEventListener(\"abort\", (event) => reject(event));\n    el.addEventListener(\"load\", () => {\n      el.setAttribute(\"data-loaded\", \"true\");\n      onLoaded(el);\n      resolveWithElement(el);\n    });\n    if (shouldAppend)\n      el = document.head.appendChild(el);\n    if (!waitForScriptLoad)\n      resolveWithElement(el);\n  });\n  const load = (waitForScriptLoad = true) => {\n    if (!_promise)\n      _promise = loadScript(waitForScriptLoad);\n    return _promise;\n  };\n  const unload = () => {\n    if (!document)\n      return;\n    _promise = null;\n    if (scriptTag.value)\n      scriptTag.value = null;\n    const el = document.querySelector(`script[src=\"${toValue(src)}\"]`);\n    if (el)\n      document.head.removeChild(el);\n  };\n  if (immediate && !manual)\n    tryOnMounted(load);\n  if (!manual)\n    tryOnUnmounted(unload);\n  return { scriptTag, load, unload };\n}\n\nfunction checkOverflowScroll(ele) {\n  const style = window.getComputedStyle(ele);\n  if (style.overflowX === \"scroll\" || style.overflowY === \"scroll\" || style.overflowX === \"auto\" && ele.clientWidth < ele.scrollWidth || style.overflowY === \"auto\" && ele.clientHeight < ele.scrollHeight) {\n    return true;\n  } else {\n    const parent = ele.parentNode;\n    if (!parent || parent.tagName === \"BODY\")\n      return false;\n    return checkOverflowScroll(parent);\n  }\n}\nfunction preventDefault(rawEvent) {\n  const e = rawEvent || window.event;\n  const _target = e.target;\n  if (checkOverflowScroll(_target))\n    return false;\n  if (e.touches.length > 1)\n    return true;\n  if (e.preventDefault)\n    e.preventDefault();\n  return false;\n}\nfunction useScrollLock(element, initialState = false) {\n  const isLocked = ref(initialState);\n  let stopTouchMoveListener = null;\n  let initialOverflow;\n  watch(toRef(element), (el) => {\n    const target = resolveElement(toValue(el));\n    if (target) {\n      const ele = target;\n      initialOverflow = ele.style.overflow;\n      if (isLocked.value)\n        ele.style.overflow = \"hidden\";\n    }\n  }, {\n    immediate: true\n  });\n  const lock = () => {\n    const el = resolveElement(toValue(element));\n    if (!el || isLocked.value)\n      return;\n    if (isIOS) {\n      stopTouchMoveListener = useEventListener(\n        el,\n        \"touchmove\",\n        (e) => {\n          preventDefault(e);\n        },\n        { passive: false }\n      );\n    }\n    el.style.overflow = \"hidden\";\n    isLocked.value = true;\n  };\n  const unlock = () => {\n    const el = resolveElement(toValue(element));\n    if (!el || !isLocked.value)\n      return;\n    isIOS && (stopTouchMoveListener == null ? void 0 : stopTouchMoveListener());\n    el.style.overflow = initialOverflow;\n    isLocked.value = false;\n  };\n  tryOnScopeDispose(unlock);\n  return computed({\n    get() {\n      return isLocked.value;\n    },\n    set(v) {\n      if (v)\n        lock();\n      else\n        unlock();\n    }\n  });\n}\n\nfunction useSessionStorage(key, initialValue, options = {}) {\n  const { window = defaultWindow } = options;\n  return useStorage(key, initialValue, window == null ? void 0 : window.sessionStorage, options);\n}\n\nfunction useShare(shareOptions = {}, options = {}) {\n  const { navigator = defaultNavigator } = options;\n  const _navigator = navigator;\n  const isSupported = useSupported(() => _navigator && \"canShare\" in _navigator);\n  const share = async (overrideOptions = {}) => {\n    if (isSupported.value) {\n      const data = {\n        ...toValue(shareOptions),\n        ...toValue(overrideOptions)\n      };\n      let granted = true;\n      if (data.files && _navigator.canShare)\n        granted = _navigator.canShare({ files: data.files });\n      if (granted)\n        return _navigator.share(data);\n    }\n  };\n  return {\n    isSupported,\n    share\n  };\n}\n\nconst defaultSortFn = (source, compareFn) => source.sort(compareFn);\nconst defaultCompare = (a, b) => a - b;\nfunction useSorted(...args) {\n  var _a, _b, _c, _d;\n  const [source] = args;\n  let compareFn = defaultCompare;\n  let options = {};\n  if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      options = args[1];\n      compareFn = (_a = options.compareFn) != null ? _a : defaultCompare;\n    } else {\n      compareFn = (_b = args[1]) != null ? _b : defaultCompare;\n    }\n  } else if (args.length > 2) {\n    compareFn = (_c = args[1]) != null ? _c : defaultCompare;\n    options = (_d = args[2]) != null ? _d : {};\n  }\n  const {\n    dirty = false,\n    sortFn = defaultSortFn\n  } = options;\n  if (!dirty)\n    return computed(() => sortFn([...toValue(source)], compareFn));\n  watchEffect(() => {\n    const result = sortFn(toValue(source), compareFn);\n    if (isRef(source))\n      source.value = result;\n    else\n      source.splice(0, source.length, ...result);\n  });\n  return source;\n}\n\nfunction useSpeechRecognition(options = {}) {\n  const {\n    interimResults = true,\n    continuous = true,\n    window = defaultWindow\n  } = options;\n  const lang = toRef(options.lang || \"en-US\");\n  const isListening = ref(false);\n  const isFinal = ref(false);\n  const result = ref(\"\");\n  const error = shallowRef(void 0);\n  const toggle = (value = !isListening.value) => {\n    isListening.value = value;\n  };\n  const start = () => {\n    isListening.value = true;\n  };\n  const stop = () => {\n    isListening.value = false;\n  };\n  const SpeechRecognition = window && (window.SpeechRecognition || window.webkitSpeechRecognition);\n  const isSupported = useSupported(() => SpeechRecognition);\n  let recognition;\n  if (isSupported.value) {\n    recognition = new SpeechRecognition();\n    recognition.continuous = continuous;\n    recognition.interimResults = interimResults;\n    recognition.lang = toValue(lang);\n    recognition.onstart = () => {\n      isFinal.value = false;\n    };\n    watch(lang, (lang2) => {\n      if (recognition && !isListening.value)\n        recognition.lang = lang2;\n    });\n    recognition.onresult = (event) => {\n      const transcript = Array.from(event.results).map((result2) => {\n        isFinal.value = result2.isFinal;\n        return result2[0];\n      }).map((result2) => result2.transcript).join(\"\");\n      result.value = transcript;\n      error.value = void 0;\n    };\n    recognition.onerror = (event) => {\n      error.value = event;\n    };\n    recognition.onend = () => {\n      isListening.value = false;\n      recognition.lang = toValue(lang);\n    };\n    watch(isListening, () => {\n      if (isListening.value)\n        recognition.start();\n      else\n        recognition.stop();\n    });\n  }\n  tryOnScopeDispose(() => {\n    isListening.value = false;\n  });\n  return {\n    isSupported,\n    isListening,\n    isFinal,\n    recognition,\n    result,\n    error,\n    toggle,\n    start,\n    stop\n  };\n}\n\nfunction useSpeechSynthesis(text, options = {}) {\n  const {\n    pitch = 1,\n    rate = 1,\n    volume = 1,\n    window = defaultWindow\n  } = options;\n  const synth = window && window.speechSynthesis;\n  const isSupported = useSupported(() => synth);\n  const isPlaying = ref(false);\n  const status = ref(\"init\");\n  const spokenText = toRef(text || \"\");\n  const lang = toRef(options.lang || \"en-US\");\n  const error = shallowRef(void 0);\n  const toggle = (value = !isPlaying.value) => {\n    isPlaying.value = value;\n  };\n  const bindEventsForUtterance = (utterance2) => {\n    utterance2.lang = toValue(lang);\n    utterance2.voice = toValue(options.voice) || null;\n    utterance2.pitch = toValue(pitch);\n    utterance2.rate = toValue(rate);\n    utterance2.volume = volume;\n    utterance2.onstart = () => {\n      isPlaying.value = true;\n      status.value = \"play\";\n    };\n    utterance2.onpause = () => {\n      isPlaying.value = false;\n      status.value = \"pause\";\n    };\n    utterance2.onresume = () => {\n      isPlaying.value = true;\n      status.value = \"play\";\n    };\n    utterance2.onend = () => {\n      isPlaying.value = false;\n      status.value = \"end\";\n    };\n    utterance2.onerror = (event) => {\n      error.value = event;\n    };\n  };\n  const utterance = computed(() => {\n    isPlaying.value = false;\n    status.value = \"init\";\n    const newUtterance = new SpeechSynthesisUtterance(spokenText.value);\n    bindEventsForUtterance(newUtterance);\n    return newUtterance;\n  });\n  const speak = () => {\n    synth.cancel();\n    utterance && synth.speak(utterance.value);\n  };\n  const stop = () => {\n    synth.cancel();\n    isPlaying.value = false;\n  };\n  if (isSupported.value) {\n    bindEventsForUtterance(utterance.value);\n    watch(lang, (lang2) => {\n      if (utterance.value && !isPlaying.value)\n        utterance.value.lang = lang2;\n    });\n    if (options.voice) {\n      watch(options.voice, () => {\n        synth.cancel();\n      });\n    }\n    watch(isPlaying, () => {\n      if (isPlaying.value)\n        synth.resume();\n      else\n        synth.pause();\n    });\n  }\n  tryOnScopeDispose(() => {\n    isPlaying.value = false;\n  });\n  return {\n    isSupported,\n    isPlaying,\n    status,\n    utterance,\n    error,\n    stop,\n    toggle,\n    speak\n  };\n}\n\nfunction useStepper(steps, initialStep) {\n  const stepsRef = ref(steps);\n  const stepNames = computed(() => Array.isArray(stepsRef.value) ? stepsRef.value : Object.keys(stepsRef.value));\n  const index = ref(stepNames.value.indexOf(initialStep != null ? initialStep : stepNames.value[0]));\n  const current = computed(() => at(index.value));\n  const isFirst = computed(() => index.value === 0);\n  const isLast = computed(() => index.value === stepNames.value.length - 1);\n  const next = computed(() => stepNames.value[index.value + 1]);\n  const previous = computed(() => stepNames.value[index.value - 1]);\n  function at(index2) {\n    if (Array.isArray(stepsRef.value))\n      return stepsRef.value[index2];\n    return stepsRef.value[stepNames.value[index2]];\n  }\n  function get(step) {\n    if (!stepNames.value.includes(step))\n      return;\n    return at(stepNames.value.indexOf(step));\n  }\n  function goTo(step) {\n    if (stepNames.value.includes(step))\n      index.value = stepNames.value.indexOf(step);\n  }\n  function goToNext() {\n    if (isLast.value)\n      return;\n    index.value++;\n  }\n  function goToPrevious() {\n    if (isFirst.value)\n      return;\n    index.value--;\n  }\n  function goBackTo(step) {\n    if (isAfter(step))\n      goTo(step);\n  }\n  function isNext(step) {\n    return stepNames.value.indexOf(step) === index.value + 1;\n  }\n  function isPrevious(step) {\n    return stepNames.value.indexOf(step) === index.value - 1;\n  }\n  function isCurrent(step) {\n    return stepNames.value.indexOf(step) === index.value;\n  }\n  function isBefore(step) {\n    return index.value < stepNames.value.indexOf(step);\n  }\n  function isAfter(step) {\n    return index.value > stepNames.value.indexOf(step);\n  }\n  return {\n    steps: stepsRef,\n    stepNames,\n    index,\n    current,\n    next,\n    previous,\n    isFirst,\n    isLast,\n    at,\n    get,\n    goTo,\n    goToNext,\n    goToPrevious,\n    goBackTo,\n    isNext,\n    isPrevious,\n    isCurrent,\n    isBefore,\n    isAfter\n  };\n}\n\nfunction useStorageAsync(key, initialValue, storage, options = {}) {\n  var _a;\n  const {\n    flush = \"pre\",\n    deep = true,\n    listenToStorageChanges = true,\n    writeDefaults = true,\n    mergeDefaults = false,\n    shallow,\n    window = defaultWindow,\n    eventFilter,\n    onError = (e) => {\n      console.error(e);\n    }\n  } = options;\n  const rawInit = toValue(initialValue);\n  const type = guessSerializerType(rawInit);\n  const data = (shallow ? shallowRef : ref)(initialValue);\n  const serializer = (_a = options.serializer) != null ? _a : StorageSerializers[type];\n  if (!storage) {\n    try {\n      storage = getSSRHandler(\"getDefaultStorage\", () => {\n        var _a2;\n        return (_a2 = defaultWindow) == null ? void 0 : _a2.localStorage;\n      })();\n    } catch (e) {\n      onError(e);\n    }\n  }\n  async function read(event) {\n    if (!storage || event && event.key !== key)\n      return;\n    try {\n      const rawValue = event ? event.newValue : await storage.getItem(key);\n      if (rawValue == null) {\n        data.value = rawInit;\n        if (writeDefaults && rawInit !== null)\n          await storage.setItem(key, await serializer.write(rawInit));\n      } else if (mergeDefaults) {\n        const value = await serializer.read(rawValue);\n        if (typeof mergeDefaults === \"function\")\n          data.value = mergeDefaults(value, rawInit);\n        else if (type === \"object\" && !Array.isArray(value))\n          data.value = { ...rawInit, ...value };\n        else\n          data.value = value;\n      } else {\n        data.value = await serializer.read(rawValue);\n      }\n    } catch (e) {\n      onError(e);\n    }\n  }\n  read();\n  if (window && listenToStorageChanges)\n    useEventListener(window, \"storage\", (e) => Promise.resolve().then(() => read(e)));\n  if (storage) {\n    watchWithFilter(\n      data,\n      async () => {\n        try {\n          if (data.value == null)\n            await storage.removeItem(key);\n          else\n            await storage.setItem(key, await serializer.write(data.value));\n        } catch (e) {\n          onError(e);\n        }\n      },\n      {\n        flush,\n        deep,\n        eventFilter\n      }\n    );\n  }\n  return data;\n}\n\nlet _id = 0;\nfunction useStyleTag(css, options = {}) {\n  const isLoaded = ref(false);\n  const {\n    document = defaultDocument,\n    immediate = true,\n    manual = false,\n    id = `vueuse_styletag_${++_id}`\n  } = options;\n  const cssRef = ref(css);\n  let stop = () => {\n  };\n  const load = () => {\n    if (!document)\n      return;\n    const el = document.getElementById(id) || document.createElement(\"style\");\n    if (!el.isConnected) {\n      el.id = id;\n      if (options.media)\n        el.media = options.media;\n      document.head.appendChild(el);\n    }\n    if (isLoaded.value)\n      return;\n    stop = watch(\n      cssRef,\n      (value) => {\n        el.textContent = value;\n      },\n      { immediate: true }\n    );\n    isLoaded.value = true;\n  };\n  const unload = () => {\n    if (!document || !isLoaded.value)\n      return;\n    stop();\n    document.head.removeChild(document.getElementById(id));\n    isLoaded.value = false;\n  };\n  if (immediate && !manual)\n    tryOnMounted(load);\n  if (!manual)\n    tryOnScopeDispose(unload);\n  return {\n    id,\n    css: cssRef,\n    unload,\n    load,\n    isLoaded: readonly(isLoaded)\n  };\n}\n\nfunction useSwipe(target, options = {}) {\n  const {\n    threshold = 50,\n    onSwipe,\n    onSwipeEnd,\n    onSwipeStart,\n    passive = true,\n    window = defaultWindow\n  } = options;\n  const coordsStart = reactive({ x: 0, y: 0 });\n  const coordsEnd = reactive({ x: 0, y: 0 });\n  const diffX = computed(() => coordsStart.x - coordsEnd.x);\n  const diffY = computed(() => coordsStart.y - coordsEnd.y);\n  const { max, abs } = Math;\n  const isThresholdExceeded = computed(() => max(abs(diffX.value), abs(diffY.value)) >= threshold);\n  const isSwiping = ref(false);\n  const direction = computed(() => {\n    if (!isThresholdExceeded.value)\n      return \"none\";\n    if (abs(diffX.value) > abs(diffY.value)) {\n      return diffX.value > 0 ? \"left\" : \"right\";\n    } else {\n      return diffY.value > 0 ? \"up\" : \"down\";\n    }\n  });\n  const getTouchEventCoords = (e) => [e.touches[0].clientX, e.touches[0].clientY];\n  const updateCoordsStart = (x, y) => {\n    coordsStart.x = x;\n    coordsStart.y = y;\n  };\n  const updateCoordsEnd = (x, y) => {\n    coordsEnd.x = x;\n    coordsEnd.y = y;\n  };\n  let listenerOptions;\n  const isPassiveEventSupported = checkPassiveEventSupport(window == null ? void 0 : window.document);\n  if (!passive)\n    listenerOptions = isPassiveEventSupported ? { passive: false, capture: true } : { capture: true };\n  else\n    listenerOptions = isPassiveEventSupported ? { passive: true } : { capture: false };\n  const onTouchEnd = (e) => {\n    if (isSwiping.value)\n      onSwipeEnd == null ? void 0 : onSwipeEnd(e, direction.value);\n    isSwiping.value = false;\n  };\n  const stops = [\n    useEventListener(target, \"touchstart\", (e) => {\n      if (e.touches.length !== 1)\n        return;\n      if (listenerOptions.capture && !listenerOptions.passive)\n        e.preventDefault();\n      const [x, y] = getTouchEventCoords(e);\n      updateCoordsStart(x, y);\n      updateCoordsEnd(x, y);\n      onSwipeStart == null ? void 0 : onSwipeStart(e);\n    }, listenerOptions),\n    useEventListener(target, \"touchmove\", (e) => {\n      if (e.touches.length !== 1)\n        return;\n      const [x, y] = getTouchEventCoords(e);\n      updateCoordsEnd(x, y);\n      if (!isSwiping.value && isThresholdExceeded.value)\n        isSwiping.value = true;\n      if (isSwiping.value)\n        onSwipe == null ? void 0 : onSwipe(e);\n    }, listenerOptions),\n    useEventListener(target, [\"touchend\", \"touchcancel\"], onTouchEnd, listenerOptions)\n  ];\n  const stop = () => stops.forEach((s) => s());\n  return {\n    isPassiveEventSupported,\n    isSwiping,\n    direction,\n    coordsStart,\n    coordsEnd,\n    lengthX: diffX,\n    lengthY: diffY,\n    stop\n  };\n}\nfunction checkPassiveEventSupport(document) {\n  if (!document)\n    return false;\n  let supportsPassive = false;\n  const optionsBlock = {\n    get passive() {\n      supportsPassive = true;\n      return false;\n    }\n  };\n  document.addEventListener(\"x\", noop, optionsBlock);\n  document.removeEventListener(\"x\", noop);\n  return supportsPassive;\n}\n\nfunction useTemplateRefsList() {\n  const refs = ref([]);\n  refs.value.set = (el) => {\n    if (el)\n      refs.value.push(el);\n  };\n  onBeforeUpdate(() => {\n    refs.value.length = 0;\n  });\n  return refs;\n}\n\nfunction useTextDirection(options = {}) {\n  const {\n    document = defaultDocument,\n    selector = \"html\",\n    observe = false,\n    initialValue = \"ltr\"\n  } = options;\n  function getValue() {\n    var _a, _b;\n    return (_b = (_a = document == null ? void 0 : document.querySelector(selector)) == null ? void 0 : _a.getAttribute(\"dir\")) != null ? _b : initialValue;\n  }\n  const dir = ref(getValue());\n  tryOnMounted(() => dir.value = getValue());\n  if (observe && document) {\n    useMutationObserver(\n      document.querySelector(selector),\n      () => dir.value = getValue(),\n      { attributes: true }\n    );\n  }\n  return computed({\n    get() {\n      return dir.value;\n    },\n    set(v) {\n      var _a, _b;\n      dir.value = v;\n      if (!document)\n        return;\n      if (dir.value)\n        (_a = document.querySelector(selector)) == null ? void 0 : _a.setAttribute(\"dir\", dir.value);\n      else\n        (_b = document.querySelector(selector)) == null ? void 0 : _b.removeAttribute(\"dir\");\n    }\n  });\n}\n\nfunction getRangesFromSelection(selection) {\n  var _a;\n  const rangeCount = (_a = selection.rangeCount) != null ? _a : 0;\n  return Array.from({ length: rangeCount }, (_, i) => selection.getRangeAt(i));\n}\nfunction useTextSelection(options = {}) {\n  const {\n    window = defaultWindow\n  } = options;\n  const selection = ref(null);\n  const text = computed(() => {\n    var _a, _b;\n    return (_b = (_a = selection.value) == null ? void 0 : _a.toString()) != null ? _b : \"\";\n  });\n  const ranges = computed(() => selection.value ? getRangesFromSelection(selection.value) : []);\n  const rects = computed(() => ranges.value.map((range) => range.getBoundingClientRect()));\n  function onSelectionChange() {\n    selection.value = null;\n    if (window)\n      selection.value = window.getSelection();\n  }\n  if (window)\n    useEventListener(window.document, \"selectionchange\", onSelectionChange);\n  return {\n    text,\n    rects,\n    ranges,\n    selection\n  };\n}\n\nfunction useTextareaAutosize(options) {\n  const textarea = ref(options == null ? void 0 : options.element);\n  const input = ref(options == null ? void 0 : options.input);\n  const textareaScrollHeight = ref(1);\n  function triggerResize() {\n    var _a, _b;\n    if (!textarea.value)\n      return;\n    let height = \"\";\n    textarea.value.style.height = \"1px\";\n    textareaScrollHeight.value = (_a = textarea.value) == null ? void 0 : _a.scrollHeight;\n    if (options == null ? void 0 : options.styleTarget)\n      toValue(options.styleTarget).style.height = `${textareaScrollHeight.value}px`;\n    else\n      height = `${textareaScrollHeight.value}px`;\n    textarea.value.style.height = height;\n    (_b = options == null ? void 0 : options.onResize) == null ? void 0 : _b.call(options);\n  }\n  watch([input, textarea], () => nextTick(triggerResize), { immediate: true });\n  useResizeObserver(textarea, () => triggerResize());\n  if (options == null ? void 0 : options.watch)\n    watch(options.watch, triggerResize, { immediate: true, deep: true });\n  return {\n    textarea,\n    input,\n    triggerResize\n  };\n}\n\nfunction useThrottledRefHistory(source, options = {}) {\n  const { throttle = 200, trailing = true } = options;\n  const filter = throttleFilter(throttle, trailing);\n  const history = useRefHistory(source, { ...options, eventFilter: filter });\n  return {\n    ...history\n  };\n}\n\nconst DEFAULT_UNITS = [\n  { max: 6e4, value: 1e3, name: \"second\" },\n  { max: 276e4, value: 6e4, name: \"minute\" },\n  { max: 72e6, value: 36e5, name: \"hour\" },\n  { max: 5184e5, value: 864e5, name: \"day\" },\n  { max: 24192e5, value: 6048e5, name: \"week\" },\n  { max: 28512e6, value: 2592e6, name: \"month\" },\n  { max: Number.POSITIVE_INFINITY, value: 31536e6, name: \"year\" }\n];\nconst DEFAULT_MESSAGES = {\n  justNow: \"just now\",\n  past: (n) => n.match(/\\d/) ? `${n} ago` : n,\n  future: (n) => n.match(/\\d/) ? `in ${n}` : n,\n  month: (n, past) => n === 1 ? past ? \"last month\" : \"next month\" : `${n} month${n > 1 ? \"s\" : \"\"}`,\n  year: (n, past) => n === 1 ? past ? \"last year\" : \"next year\" : `${n} year${n > 1 ? \"s\" : \"\"}`,\n  day: (n, past) => n === 1 ? past ? \"yesterday\" : \"tomorrow\" : `${n} day${n > 1 ? \"s\" : \"\"}`,\n  week: (n, past) => n === 1 ? past ? \"last week\" : \"next week\" : `${n} week${n > 1 ? \"s\" : \"\"}`,\n  hour: (n) => `${n} hour${n > 1 ? \"s\" : \"\"}`,\n  minute: (n) => `${n} minute${n > 1 ? \"s\" : \"\"}`,\n  second: (n) => `${n} second${n > 1 ? \"s\" : \"\"}`,\n  invalid: \"\"\n};\nfunction DEFAULT_FORMATTER(date) {\n  return date.toISOString().slice(0, 10);\n}\nfunction useTimeAgo(time, options = {}) {\n  const {\n    controls: exposeControls = false,\n    updateInterval = 3e4\n  } = options;\n  const { now, ...controls } = useNow({ interval: updateInterval, controls: true });\n  const timeAgo = computed(() => formatTimeAgo(new Date(toValue(time)), options, toValue(now)));\n  if (exposeControls) {\n    return {\n      timeAgo,\n      ...controls\n    };\n  } else {\n    return timeAgo;\n  }\n}\nfunction formatTimeAgo(from, options = {}, now = Date.now()) {\n  var _a;\n  const {\n    max,\n    messages = DEFAULT_MESSAGES,\n    fullDateFormatter = DEFAULT_FORMATTER,\n    units = DEFAULT_UNITS,\n    showSecond = false,\n    rounding = \"round\"\n  } = options;\n  const roundFn = typeof rounding === \"number\" ? (n) => +n.toFixed(rounding) : Math[rounding];\n  const diff = +now - +from;\n  const absDiff = Math.abs(diff);\n  function getValue(diff2, unit) {\n    return roundFn(Math.abs(diff2) / unit.value);\n  }\n  function format(diff2, unit) {\n    const val = getValue(diff2, unit);\n    const past = diff2 > 0;\n    const str = applyFormat(unit.name, val, past);\n    return applyFormat(past ? \"past\" : \"future\", str, past);\n  }\n  function applyFormat(name, val, isPast) {\n    const formatter = messages[name];\n    if (typeof formatter === \"function\")\n      return formatter(val, isPast);\n    return formatter.replace(\"{0}\", val.toString());\n  }\n  if (absDiff < 6e4 && !showSecond)\n    return messages.justNow;\n  if (typeof max === \"number\" && absDiff > max)\n    return fullDateFormatter(new Date(from));\n  if (typeof max === \"string\") {\n    const unitMax = (_a = units.find((i) => i.name === max)) == null ? void 0 : _a.max;\n    if (unitMax && absDiff > unitMax)\n      return fullDateFormatter(new Date(from));\n  }\n  for (const [idx, unit] of units.entries()) {\n    const val = getValue(diff, unit);\n    if (val <= 0 && units[idx - 1])\n      return format(diff, units[idx - 1]);\n    if (absDiff < unit.max)\n      return format(diff, unit);\n  }\n  return messages.invalid;\n}\n\nfunction useTimeoutPoll(fn, interval, timeoutPollOptions) {\n  const { start } = useTimeoutFn(loop, interval, { immediate: false });\n  const isActive = ref(false);\n  async function loop() {\n    if (!isActive.value)\n      return;\n    await fn();\n    start();\n  }\n  function resume() {\n    if (!isActive.value) {\n      isActive.value = true;\n      loop();\n    }\n  }\n  function pause() {\n    isActive.value = false;\n  }\n  if (timeoutPollOptions == null ? void 0 : timeoutPollOptions.immediate)\n    resume();\n  tryOnScopeDispose(pause);\n  return {\n    isActive,\n    pause,\n    resume\n  };\n}\n\nfunction useTimestamp(options = {}) {\n  const {\n    controls: exposeControls = false,\n    offset = 0,\n    immediate = true,\n    interval = \"requestAnimationFrame\",\n    callback\n  } = options;\n  const ts = ref(timestamp() + offset);\n  const update = () => ts.value = timestamp() + offset;\n  const cb = callback ? () => {\n    update();\n    callback(ts.value);\n  } : update;\n  const controls = interval === \"requestAnimationFrame\" ? useRafFn(cb, { immediate }) : useIntervalFn(cb, interval, { immediate });\n  if (exposeControls) {\n    return {\n      timestamp: ts,\n      ...controls\n    };\n  } else {\n    return ts;\n  }\n}\n\nfunction useTitle(newTitle = null, options = {}) {\n  var _a, _b;\n  const {\n    document = defaultDocument\n  } = options;\n  const title = toRef((_a = newTitle != null ? newTitle : document == null ? void 0 : document.title) != null ? _a : null);\n  const isReadonly = newTitle && typeof newTitle === \"function\";\n  function format(t) {\n    if (!(\"titleTemplate\" in options))\n      return t;\n    const template = options.titleTemplate || \"%s\";\n    return typeof template === \"function\" ? template(t) : toValue(template).replace(/%s/g, t);\n  }\n  watch(\n    title,\n    (t, o) => {\n      if (t !== o && document)\n        document.title = format(typeof t === \"string\" ? t : \"\");\n    },\n    { immediate: true }\n  );\n  if (options.observe && !options.titleTemplate && document && !isReadonly) {\n    useMutationObserver(\n      (_b = document.head) == null ? void 0 : _b.querySelector(\"title\"),\n      () => {\n        if (document && document.title !== title.value)\n          title.value = format(document.title);\n      },\n      { childList: true }\n    );\n  }\n  return title;\n}\n\nconst _TransitionPresets = {\n  easeInSine: [0.12, 0, 0.39, 0],\n  easeOutSine: [0.61, 1, 0.88, 1],\n  easeInOutSine: [0.37, 0, 0.63, 1],\n  easeInQuad: [0.11, 0, 0.5, 0],\n  easeOutQuad: [0.5, 1, 0.89, 1],\n  easeInOutQuad: [0.45, 0, 0.55, 1],\n  easeInCubic: [0.32, 0, 0.67, 0],\n  easeOutCubic: [0.33, 1, 0.68, 1],\n  easeInOutCubic: [0.65, 0, 0.35, 1],\n  easeInQuart: [0.5, 0, 0.75, 0],\n  easeOutQuart: [0.25, 1, 0.5, 1],\n  easeInOutQuart: [0.76, 0, 0.24, 1],\n  easeInQuint: [0.64, 0, 0.78, 0],\n  easeOutQuint: [0.22, 1, 0.36, 1],\n  easeInOutQuint: [0.83, 0, 0.17, 1],\n  easeInExpo: [0.7, 0, 0.84, 0],\n  easeOutExpo: [0.16, 1, 0.3, 1],\n  easeInOutExpo: [0.87, 0, 0.13, 1],\n  easeInCirc: [0.55, 0, 1, 0.45],\n  easeOutCirc: [0, 0.55, 0.45, 1],\n  easeInOutCirc: [0.85, 0, 0.15, 1],\n  easeInBack: [0.36, 0, 0.66, -0.56],\n  easeOutBack: [0.34, 1.56, 0.64, 1],\n  easeInOutBack: [0.68, -0.6, 0.32, 1.6]\n};\nconst TransitionPresets = /* @__PURE__ */ Object.assign({}, { linear: identity }, _TransitionPresets);\nfunction createEasingFunction([p0, p1, p2, p3]) {\n  const a = (a1, a2) => 1 - 3 * a2 + 3 * a1;\n  const b = (a1, a2) => 3 * a2 - 6 * a1;\n  const c = (a1) => 3 * a1;\n  const calcBezier = (t, a1, a2) => ((a(a1, a2) * t + b(a1, a2)) * t + c(a1)) * t;\n  const getSlope = (t, a1, a2) => 3 * a(a1, a2) * t * t + 2 * b(a1, a2) * t + c(a1);\n  const getTforX = (x) => {\n    let aGuessT = x;\n    for (let i = 0; i < 4; ++i) {\n      const currentSlope = getSlope(aGuessT, p0, p2);\n      if (currentSlope === 0)\n        return aGuessT;\n      const currentX = calcBezier(aGuessT, p0, p2) - x;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  };\n  return (x) => p0 === p1 && p2 === p3 ? x : calcBezier(getTforX(x), p1, p3);\n}\nfunction lerp(a, b, alpha) {\n  return a + alpha * (b - a);\n}\nfunction toVec(t) {\n  return (typeof t === \"number\" ? [t] : t) || [];\n}\nfunction executeTransition(source, from, to, options = {}) {\n  var _a, _b;\n  const fromVal = toValue(from);\n  const toVal = toValue(to);\n  const v1 = toVec(fromVal);\n  const v2 = toVec(toVal);\n  const duration = (_a = toValue(options.duration)) != null ? _a : 1e3;\n  const startedAt = Date.now();\n  const endAt = Date.now() + duration;\n  const trans = typeof options.transition === \"function\" ? options.transition : (_b = toValue(options.transition)) != null ? _b : identity;\n  const ease = typeof trans === \"function\" ? trans : createEasingFunction(trans);\n  return new Promise((resolve) => {\n    source.value = fromVal;\n    const tick = () => {\n      var _a2;\n      if ((_a2 = options.abort) == null ? void 0 : _a2.call(options)) {\n        resolve();\n        return;\n      }\n      const now = Date.now();\n      const alpha = ease((now - startedAt) / duration);\n      const arr = toVec(source.value).map((n, i) => lerp(v1[i], v2[i], alpha));\n      if (Array.isArray(source.value))\n        source.value = arr.map((n, i) => {\n          var _a3, _b2;\n          return lerp((_a3 = v1[i]) != null ? _a3 : 0, (_b2 = v2[i]) != null ? _b2 : 0, alpha);\n        });\n      else if (typeof source.value === \"number\")\n        source.value = arr[0];\n      if (now < endAt) {\n        requestAnimationFrame(tick);\n      } else {\n        source.value = toVal;\n        resolve();\n      }\n    };\n    tick();\n  });\n}\nfunction useTransition(source, options = {}) {\n  let currentId = 0;\n  const sourceVal = () => {\n    const v = toValue(source);\n    return typeof v === \"number\" ? v : v.map(toValue);\n  };\n  const outputRef = ref(sourceVal());\n  watch(sourceVal, async (to) => {\n    var _a, _b;\n    if (toValue(options.disabled))\n      return;\n    const id = ++currentId;\n    if (options.delay)\n      await promiseTimeout(toValue(options.delay));\n    if (id !== currentId)\n      return;\n    const toVal = Array.isArray(to) ? to.map(toValue) : toValue(to);\n    (_a = options.onStarted) == null ? void 0 : _a.call(options);\n    await executeTransition(outputRef, outputRef.value, toVal, {\n      ...options,\n      abort: () => {\n        var _a2;\n        return id !== currentId || ((_a2 = options.abort) == null ? void 0 : _a2.call(options));\n      }\n    });\n    (_b = options.onFinished) == null ? void 0 : _b.call(options);\n  }, { deep: true });\n  watch(() => toValue(options.disabled), (disabled) => {\n    if (disabled) {\n      currentId++;\n      outputRef.value = sourceVal();\n    }\n  });\n  tryOnScopeDispose(() => {\n    currentId++;\n  });\n  return computed(() => toValue(options.disabled) ? sourceVal() : outputRef.value);\n}\n\nfunction useUrlSearchParams(mode = \"history\", options = {}) {\n  const {\n    initialValue = {},\n    removeNullishValues = true,\n    removeFalsyValues = false,\n    write: enableWrite = true,\n    window = defaultWindow\n  } = options;\n  if (!window)\n    return reactive(initialValue);\n  const state = reactive({});\n  function getRawParams() {\n    if (mode === \"history\") {\n      return window.location.search || \"\";\n    } else if (mode === \"hash\") {\n      const hash = window.location.hash || \"\";\n      const index = hash.indexOf(\"?\");\n      return index > 0 ? hash.slice(index) : \"\";\n    } else {\n      return (window.location.hash || \"\").replace(/^#/, \"\");\n    }\n  }\n  function constructQuery(params) {\n    const stringified = params.toString();\n    if (mode === \"history\")\n      return `${stringified ? `?${stringified}` : \"\"}${window.location.hash || \"\"}`;\n    if (mode === \"hash-params\")\n      return `${window.location.search || \"\"}${stringified ? `#${stringified}` : \"\"}`;\n    const hash = window.location.hash || \"#\";\n    const index = hash.indexOf(\"?\");\n    if (index > 0)\n      return `${hash.slice(0, index)}${stringified ? `?${stringified}` : \"\"}`;\n    return `${hash}${stringified ? `?${stringified}` : \"\"}`;\n  }\n  function read() {\n    return new URLSearchParams(getRawParams());\n  }\n  function updateState(params) {\n    const unusedKeys = new Set(Object.keys(state));\n    for (const key of params.keys()) {\n      const paramsForKey = params.getAll(key);\n      state[key] = paramsForKey.length > 1 ? paramsForKey : params.get(key) || \"\";\n      unusedKeys.delete(key);\n    }\n    Array.from(unusedKeys).forEach((key) => delete state[key]);\n  }\n  const { pause, resume } = pausableWatch(\n    state,\n    () => {\n      const params = new URLSearchParams(\"\");\n      Object.keys(state).forEach((key) => {\n        const mapEntry = state[key];\n        if (Array.isArray(mapEntry))\n          mapEntry.forEach((value) => params.append(key, value));\n        else if (removeNullishValues && mapEntry == null)\n          params.delete(key);\n        else if (removeFalsyValues && !mapEntry)\n          params.delete(key);\n        else\n          params.set(key, mapEntry);\n      });\n      write(params);\n    },\n    { deep: true }\n  );\n  function write(params, shouldUpdate) {\n    pause();\n    if (shouldUpdate)\n      updateState(params);\n    window.history.replaceState(\n      window.history.state,\n      window.document.title,\n      window.location.pathname + constructQuery(params)\n    );\n    resume();\n  }\n  function onChanged() {\n    if (!enableWrite)\n      return;\n    write(read(), true);\n  }\n  useEventListener(window, \"popstate\", onChanged, false);\n  if (mode !== \"history\")\n    useEventListener(window, \"hashchange\", onChanged, false);\n  const initial = read();\n  if (initial.keys().next().value)\n    updateState(initial);\n  else\n    Object.assign(state, initialValue);\n  return state;\n}\n\nfunction useUserMedia(options = {}) {\n  var _a, _b;\n  const enabled = ref((_a = options.enabled) != null ? _a : false);\n  const autoSwitch = ref((_b = options.autoSwitch) != null ? _b : true);\n  const constraints = ref(options.constraints);\n  const { navigator = defaultNavigator } = options;\n  const isSupported = useSupported(() => {\n    var _a2;\n    return (_a2 = navigator == null ? void 0 : navigator.mediaDevices) == null ? void 0 : _a2.getUserMedia;\n  });\n  const stream = shallowRef();\n  function getDeviceOptions(type) {\n    switch (type) {\n      case \"video\": {\n        if (constraints.value)\n          return constraints.value.video || false;\n        break;\n      }\n      case \"audio\": {\n        if (constraints.value)\n          return constraints.value.audio || false;\n        break;\n      }\n    }\n  }\n  async function _start() {\n    if (!isSupported.value || stream.value)\n      return;\n    stream.value = await navigator.mediaDevices.getUserMedia({\n      video: getDeviceOptions(\"video\"),\n      audio: getDeviceOptions(\"audio\")\n    });\n    return stream.value;\n  }\n  function _stop() {\n    var _a2;\n    (_a2 = stream.value) == null ? void 0 : _a2.getTracks().forEach((t) => t.stop());\n    stream.value = void 0;\n  }\n  function stop() {\n    _stop();\n    enabled.value = false;\n  }\n  async function start() {\n    await _start();\n    if (stream.value)\n      enabled.value = true;\n    return stream.value;\n  }\n  async function restart() {\n    _stop();\n    return await start();\n  }\n  watch(\n    enabled,\n    (v) => {\n      if (v)\n        _start();\n      else\n        _stop();\n    },\n    { immediate: true }\n  );\n  watch(\n    constraints,\n    () => {\n      if (autoSwitch.value && stream.value)\n        restart();\n    },\n    { immediate: true }\n  );\n  return {\n    isSupported,\n    stream,\n    start,\n    stop,\n    restart,\n    constraints,\n    enabled,\n    autoSwitch\n  };\n}\n\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c, _d, _e;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    if (isVue2) {\n      const modelOptions = (_e = (_d = vm == null ? void 0 : vm.proxy) == null ? void 0 : _d.$options) == null ? void 0 : _e.model;\n      key = (modelOptions == null ? void 0 : modelOptions.value) || \"value\";\n      if (!eventName)\n        event = (modelOptions == null ? void 0 : modelOptions.event) || \"input\";\n    } else {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = (value) => {\n    if (shouldEmit) {\n      if (shouldEmit(value))\n        _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(\n      () => props[key],\n      (v) => {\n        if (!isUpdating) {\n          isUpdating = true;\n          proxy.value = cloneFn(v);\n          nextTick(() => isUpdating = false);\n        }\n      }\n    );\n    watch(\n      proxy,\n      (v) => {\n        if (!isUpdating && (v !== props[key] || deep))\n          triggerEmit(v);\n      },\n      { deep }\n    );\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\n\nfunction useVModels(props, emit, options = {}) {\n  const ret = {};\n  for (const key in props)\n    ret[key] = useVModel(props, key, emit, options);\n  return ret;\n}\n\nfunction useVibrate(options) {\n  const {\n    pattern = [],\n    interval = 0,\n    navigator = defaultNavigator\n  } = options || {};\n  const isSupported = useSupported(() => typeof navigator !== \"undefined\" && \"vibrate\" in navigator);\n  const patternRef = toRef(pattern);\n  let intervalControls;\n  const vibrate = (pattern2 = patternRef.value) => {\n    if (isSupported.value)\n      navigator.vibrate(pattern2);\n  };\n  const stop = () => {\n    if (isSupported.value)\n      navigator.vibrate(0);\n    intervalControls == null ? void 0 : intervalControls.pause();\n  };\n  if (interval > 0) {\n    intervalControls = useIntervalFn(\n      vibrate,\n      interval,\n      {\n        immediate: false,\n        immediateCallback: false\n      }\n    );\n  }\n  return {\n    isSupported,\n    pattern,\n    intervalControls,\n    vibrate,\n    stop\n  };\n}\n\nfunction useVirtualList(list, options) {\n  const { containerStyle, wrapperProps, scrollTo, calculateRange, currentList, containerRef } = \"itemHeight\" in options ? useVerticalVirtualList(options, list) : useHorizontalVirtualList(options, list);\n  return {\n    list: currentList,\n    scrollTo,\n    containerProps: {\n      ref: containerRef,\n      onScroll: () => {\n        calculateRange();\n      },\n      style: containerStyle\n    },\n    wrapperProps\n  };\n}\nfunction useVirtualListResources(list) {\n  const containerRef = ref(null);\n  const size = useElementSize(containerRef);\n  const currentList = ref([]);\n  const source = shallowRef(list);\n  const state = ref({ start: 0, end: 10 });\n  return { state, source, currentList, size, containerRef };\n}\nfunction createGetViewCapacity(state, source, itemSize) {\n  return (containerSize) => {\n    if (typeof itemSize === \"number\")\n      return Math.ceil(containerSize / itemSize);\n    const { start = 0 } = state.value;\n    let sum = 0;\n    let capacity = 0;\n    for (let i = start; i < source.value.length; i++) {\n      const size = itemSize(i);\n      sum += size;\n      capacity = i;\n      if (sum > containerSize)\n        break;\n    }\n    return capacity - start;\n  };\n}\nfunction createGetOffset(source, itemSize) {\n  return (scrollDirection) => {\n    if (typeof itemSize === \"number\")\n      return Math.floor(scrollDirection / itemSize) + 1;\n    let sum = 0;\n    let offset = 0;\n    for (let i = 0; i < source.value.length; i++) {\n      const size = itemSize(i);\n      sum += size;\n      if (sum >= scrollDirection) {\n        offset = i;\n        break;\n      }\n    }\n    return offset + 1;\n  };\n}\nfunction createCalculateRange(type, overscan, getOffset, getViewCapacity, { containerRef, state, currentList, source }) {\n  return () => {\n    const element = containerRef.value;\n    if (element) {\n      const offset = getOffset(type === \"vertical\" ? element.scrollTop : element.scrollLeft);\n      const viewCapacity = getViewCapacity(type === \"vertical\" ? element.clientHeight : element.clientWidth);\n      const from = offset - overscan;\n      const to = offset + viewCapacity + overscan;\n      state.value = {\n        start: from < 0 ? 0 : from,\n        end: to > source.value.length ? source.value.length : to\n      };\n      currentList.value = source.value.slice(state.value.start, state.value.end).map((ele, index) => ({\n        data: ele,\n        index: index + state.value.start\n      }));\n    }\n  };\n}\nfunction createGetDistance(itemSize, source) {\n  return (index) => {\n    if (typeof itemSize === \"number\") {\n      const size2 = index * itemSize;\n      return size2;\n    }\n    const size = source.value.slice(0, index).reduce((sum, _, i) => sum + itemSize(i), 0);\n    return size;\n  };\n}\nfunction useWatchForSizes(size, list, calculateRange) {\n  watch([size.width, size.height, list], () => {\n    calculateRange();\n  });\n}\nfunction createComputedTotalSize(itemSize, source) {\n  return computed(() => {\n    if (typeof itemSize === \"number\")\n      return source.value.length * itemSize;\n    return source.value.reduce((sum, _, index) => sum + itemSize(index), 0);\n  });\n}\nconst scrollToDictionaryForElementScrollKey = {\n  horizontal: \"scrollLeft\",\n  vertical: \"scrollTop\"\n};\nfunction createScrollTo(type, calculateRange, getDistance, containerRef) {\n  return (index) => {\n    if (containerRef.value) {\n      containerRef.value[scrollToDictionaryForElementScrollKey[type]] = getDistance(index);\n      calculateRange();\n    }\n  };\n}\nfunction useHorizontalVirtualList(options, list) {\n  const resources = useVirtualListResources(list);\n  const { state, source, currentList, size, containerRef } = resources;\n  const containerStyle = { overflowX: \"auto\" };\n  const { itemWidth, overscan = 5 } = options;\n  const getViewCapacity = createGetViewCapacity(state, source, itemWidth);\n  const getOffset = createGetOffset(source, itemWidth);\n  const calculateRange = createCalculateRange(\"horizontal\", overscan, getOffset, getViewCapacity, resources);\n  const getDistanceLeft = createGetDistance(itemWidth, source);\n  const offsetLeft = computed(() => getDistanceLeft(state.value.start));\n  const totalWidth = createComputedTotalSize(itemWidth, source);\n  useWatchForSizes(size, list, calculateRange);\n  const scrollTo = createScrollTo(\"horizontal\", calculateRange, getDistanceLeft, containerRef);\n  const wrapperProps = computed(() => {\n    return {\n      style: {\n        height: \"100%\",\n        width: `${totalWidth.value - offsetLeft.value}px`,\n        marginLeft: `${offsetLeft.value}px`,\n        display: \"flex\"\n      }\n    };\n  });\n  return {\n    scrollTo,\n    calculateRange,\n    wrapperProps,\n    containerStyle,\n    currentList,\n    containerRef\n  };\n}\nfunction useVerticalVirtualList(options, list) {\n  const resources = useVirtualListResources(list);\n  const { state, source, currentList, size, containerRef } = resources;\n  const containerStyle = { overflowY: \"auto\" };\n  const { itemHeight, overscan = 5 } = options;\n  const getViewCapacity = createGetViewCapacity(state, source, itemHeight);\n  const getOffset = createGetOffset(source, itemHeight);\n  const calculateRange = createCalculateRange(\"vertical\", overscan, getOffset, getViewCapacity, resources);\n  const getDistanceTop = createGetDistance(itemHeight, source);\n  const offsetTop = computed(() => getDistanceTop(state.value.start));\n  const totalHeight = createComputedTotalSize(itemHeight, source);\n  useWatchForSizes(size, list, calculateRange);\n  const scrollTo = createScrollTo(\"vertical\", calculateRange, getDistanceTop, containerRef);\n  const wrapperProps = computed(() => {\n    return {\n      style: {\n        width: \"100%\",\n        height: `${totalHeight.value - offsetTop.value}px`,\n        marginTop: `${offsetTop.value}px`\n      }\n    };\n  });\n  return {\n    calculateRange,\n    scrollTo,\n    containerStyle,\n    wrapperProps,\n    currentList,\n    containerRef\n  };\n}\n\nfunction useWakeLock(options = {}) {\n  const {\n    navigator = defaultNavigator,\n    document = defaultDocument\n  } = options;\n  let wakeLock;\n  const isSupported = useSupported(() => navigator && \"wakeLock\" in navigator);\n  const isActive = ref(false);\n  async function onVisibilityChange() {\n    if (!isSupported.value || !wakeLock)\n      return;\n    if (document && document.visibilityState === \"visible\")\n      wakeLock = await navigator.wakeLock.request(\"screen\");\n    isActive.value = !wakeLock.released;\n  }\n  if (document)\n    useEventListener(document, \"visibilitychange\", onVisibilityChange, { passive: true });\n  async function request(type) {\n    if (!isSupported.value)\n      return;\n    wakeLock = await navigator.wakeLock.request(type);\n    isActive.value = !wakeLock.released;\n  }\n  async function release() {\n    if (!isSupported.value || !wakeLock)\n      return;\n    await wakeLock.release();\n    isActive.value = !wakeLock.released;\n    wakeLock = null;\n  }\n  return {\n    isSupported,\n    isActive,\n    request,\n    release\n  };\n}\n\nfunction useWebNotification(options = {}) {\n  const {\n    window = defaultWindow,\n    requestPermissions: _requestForPermissions = true\n  } = options;\n  const defaultWebNotificationOptions = options;\n  const isSupported = useSupported(() => !!window && \"Notification\" in window);\n  const permissionGranted = ref(isSupported.value && \"permission\" in Notification && Notification.permission === \"granted\");\n  const notification = ref(null);\n  const ensurePermissions = async () => {\n    if (!isSupported.value)\n      return;\n    if (!permissionGranted.value && Notification.permission !== \"denied\") {\n      const result = await Notification.requestPermission();\n      if (result === \"granted\")\n        permissionGranted.value = true;\n    }\n    return permissionGranted.value;\n  };\n  const { on: onClick, trigger: clickTrigger } = createEventHook();\n  const { on: onShow, trigger: showTrigger } = createEventHook();\n  const { on: onError, trigger: errorTrigger } = createEventHook();\n  const { on: onClose, trigger: closeTrigger } = createEventHook();\n  const show = async (overrides) => {\n    if (!isSupported.value && !permissionGranted.value)\n      return;\n    const options2 = Object.assign({}, defaultWebNotificationOptions, overrides);\n    notification.value = new Notification(options2.title || \"\", options2);\n    notification.value.onclick = clickTrigger;\n    notification.value.onshow = showTrigger;\n    notification.value.onerror = errorTrigger;\n    notification.value.onclose = closeTrigger;\n    return notification.value;\n  };\n  const close = () => {\n    if (notification.value)\n      notification.value.close();\n    notification.value = null;\n  };\n  if (_requestForPermissions)\n    tryOnMounted(ensurePermissions);\n  tryOnScopeDispose(close);\n  if (isSupported.value && window) {\n    const document = window.document;\n    useEventListener(document, \"visibilitychange\", (e) => {\n      e.preventDefault();\n      if (document.visibilityState === \"visible\") {\n        close();\n      }\n    });\n  }\n  return {\n    isSupported,\n    notification,\n    ensurePermissions,\n    permissionGranted,\n    show,\n    close,\n    onClick,\n    onShow,\n    onError,\n    onClose\n  };\n}\n\nconst DEFAULT_PING_MESSAGE = \"ping\";\nfunction resolveNestedOptions(options) {\n  if (options === true)\n    return {};\n  return options;\n}\nfunction useWebSocket(url, options = {}) {\n  const {\n    onConnected,\n    onDisconnected,\n    onError,\n    onMessage,\n    immediate = true,\n    autoClose = true,\n    protocols = []\n  } = options;\n  const data = ref(null);\n  const status = ref(\"CLOSED\");\n  const wsRef = ref();\n  const urlRef = toRef(url);\n  let heartbeatPause;\n  let heartbeatResume;\n  let explicitlyClosed = false;\n  let retried = 0;\n  let bufferedData = [];\n  let pongTimeoutWait;\n  const _sendBuffer = () => {\n    if (bufferedData.length && wsRef.value && status.value === \"OPEN\") {\n      for (const buffer of bufferedData)\n        wsRef.value.send(buffer);\n      bufferedData = [];\n    }\n  };\n  const resetHeartbeat = () => {\n    clearTimeout(pongTimeoutWait);\n    pongTimeoutWait = void 0;\n  };\n  const close = (code = 1e3, reason) => {\n    if (!wsRef.value)\n      return;\n    explicitlyClosed = true;\n    resetHeartbeat();\n    heartbeatPause == null ? void 0 : heartbeatPause();\n    wsRef.value.close(code, reason);\n  };\n  const send = (data2, useBuffer = true) => {\n    if (!wsRef.value || status.value !== \"OPEN\") {\n      if (useBuffer)\n        bufferedData.push(data2);\n      return false;\n    }\n    _sendBuffer();\n    wsRef.value.send(data2);\n    return true;\n  };\n  const _init = () => {\n    if (explicitlyClosed || typeof urlRef.value === \"undefined\")\n      return;\n    const ws = new WebSocket(urlRef.value, protocols);\n    wsRef.value = ws;\n    status.value = \"CONNECTING\";\n    ws.onopen = () => {\n      status.value = \"OPEN\";\n      onConnected == null ? void 0 : onConnected(ws);\n      heartbeatResume == null ? void 0 : heartbeatResume();\n      _sendBuffer();\n    };\n    ws.onclose = (ev) => {\n      status.value = \"CLOSED\";\n      wsRef.value = void 0;\n      onDisconnected == null ? void 0 : onDisconnected(ws, ev);\n      if (!explicitlyClosed && options.autoReconnect) {\n        const {\n          retries = -1,\n          delay = 1e3,\n          onFailed\n        } = resolveNestedOptions(options.autoReconnect);\n        retried += 1;\n        if (typeof retries === \"number\" && (retries < 0 || retried < retries))\n          setTimeout(_init, delay);\n        else if (typeof retries === \"function\" && retries())\n          setTimeout(_init, delay);\n        else\n          onFailed == null ? void 0 : onFailed();\n      }\n    };\n    ws.onerror = (e) => {\n      onError == null ? void 0 : onError(ws, e);\n    };\n    ws.onmessage = (e) => {\n      if (options.heartbeat) {\n        resetHeartbeat();\n        const {\n          message = DEFAULT_PING_MESSAGE\n        } = resolveNestedOptions(options.heartbeat);\n        if (e.data === message)\n          return;\n      }\n      data.value = e.data;\n      onMessage == null ? void 0 : onMessage(ws, e);\n    };\n  };\n  if (options.heartbeat) {\n    const {\n      message = DEFAULT_PING_MESSAGE,\n      interval = 1e3,\n      pongTimeout = 1e3\n    } = resolveNestedOptions(options.heartbeat);\n    const { pause, resume } = useIntervalFn(\n      () => {\n        send(message, false);\n        if (pongTimeoutWait != null)\n          return;\n        pongTimeoutWait = setTimeout(() => {\n          close();\n          explicitlyClosed = false;\n        }, pongTimeout);\n      },\n      interval,\n      { immediate: false }\n    );\n    heartbeatPause = pause;\n    heartbeatResume = resume;\n  }\n  if (autoClose) {\n    useEventListener(window, \"beforeunload\", () => close());\n    tryOnScopeDispose(close);\n  }\n  const open = () => {\n    close();\n    explicitlyClosed = false;\n    retried = 0;\n    _init();\n  };\n  if (immediate)\n    watch(urlRef, open, { immediate: true });\n  return {\n    data,\n    status,\n    close,\n    send,\n    open,\n    ws: wsRef\n  };\n}\n\nfunction useWebWorker(arg0, workerOptions, options) {\n  const {\n    window = defaultWindow\n  } = options != null ? options : {};\n  const data = ref(null);\n  const worker = shallowRef();\n  const post = (...args) => {\n    if (!worker.value)\n      return;\n    worker.value.postMessage(...args);\n  };\n  const terminate = function terminate2() {\n    if (!worker.value)\n      return;\n    worker.value.terminate();\n  };\n  if (window) {\n    if (typeof arg0 === \"string\")\n      worker.value = new Worker(arg0, workerOptions);\n    else if (typeof arg0 === \"function\")\n      worker.value = arg0();\n    else\n      worker.value = arg0;\n    worker.value.onmessage = (e) => {\n      data.value = e.data;\n    };\n    tryOnScopeDispose(() => {\n      if (worker.value)\n        worker.value.terminate();\n    });\n  }\n  return {\n    data,\n    post,\n    terminate,\n    worker\n  };\n}\n\nfunction jobRunner(userFunc) {\n  return (e) => {\n    const userFuncArgs = e.data[0];\n    return Promise.resolve(userFunc.apply(void 0, userFuncArgs)).then((result) => {\n      postMessage([\"SUCCESS\", result]);\n    }).catch((error) => {\n      postMessage([\"ERROR\", error]);\n    });\n  };\n}\n\nfunction depsParser(deps) {\n  if (deps.length === 0)\n    return \"\";\n  const depsString = deps.map((dep) => `'${dep}'`).toString();\n  return `importScripts(${depsString})`;\n}\n\nfunction createWorkerBlobUrl(fn, deps) {\n  const blobCode = `${depsParser(deps)}; onmessage=(${jobRunner})(${fn})`;\n  const blob = new Blob([blobCode], { type: \"text/javascript\" });\n  const url = URL.createObjectURL(blob);\n  return url;\n}\n\nfunction useWebWorkerFn(fn, options = {}) {\n  const {\n    dependencies = [],\n    timeout,\n    window = defaultWindow\n  } = options;\n  const worker = ref();\n  const workerStatus = ref(\"PENDING\");\n  const promise = ref({});\n  const timeoutId = ref();\n  const workerTerminate = (status = \"PENDING\") => {\n    if (worker.value && worker.value._url && window) {\n      worker.value.terminate();\n      URL.revokeObjectURL(worker.value._url);\n      promise.value = {};\n      worker.value = void 0;\n      window.clearTimeout(timeoutId.value);\n      workerStatus.value = status;\n    }\n  };\n  workerTerminate();\n  tryOnScopeDispose(workerTerminate);\n  const generateWorker = () => {\n    const blobUrl = createWorkerBlobUrl(fn, dependencies);\n    const newWorker = new Worker(blobUrl);\n    newWorker._url = blobUrl;\n    newWorker.onmessage = (e) => {\n      const { resolve = () => {\n      }, reject = () => {\n      } } = promise.value;\n      const [status, result] = e.data;\n      switch (status) {\n        case \"SUCCESS\":\n          resolve(result);\n          workerTerminate(status);\n          break;\n        default:\n          reject(result);\n          workerTerminate(\"ERROR\");\n          break;\n      }\n    };\n    newWorker.onerror = (e) => {\n      const { reject = () => {\n      } } = promise.value;\n      e.preventDefault();\n      reject(e);\n      workerTerminate(\"ERROR\");\n    };\n    if (timeout) {\n      timeoutId.value = setTimeout(\n        () => workerTerminate(\"TIMEOUT_EXPIRED\"),\n        timeout\n      );\n    }\n    return newWorker;\n  };\n  const callWorker = (...fnArgs) => new Promise((resolve, reject) => {\n    promise.value = {\n      resolve,\n      reject\n    };\n    worker.value && worker.value.postMessage([[...fnArgs]]);\n    workerStatus.value = \"RUNNING\";\n  });\n  const workerFn = (...fnArgs) => {\n    if (workerStatus.value === \"RUNNING\") {\n      console.error(\n        \"[useWebWorkerFn] You can only run one instance of the worker at a time.\"\n      );\n      return Promise.reject();\n    }\n    worker.value = generateWorker();\n    return callWorker(...fnArgs);\n  };\n  return {\n    workerFn,\n    workerStatus,\n    workerTerminate\n  };\n}\n\nfunction useWindowFocus({ window = defaultWindow } = {}) {\n  if (!window)\n    return ref(false);\n  const focused = ref(window.document.hasFocus());\n  useEventListener(window, \"blur\", () => {\n    focused.value = false;\n  });\n  useEventListener(window, \"focus\", () => {\n    focused.value = true;\n  });\n  return focused;\n}\n\nfunction useWindowScroll({ window = defaultWindow } = {}) {\n  if (!window) {\n    return {\n      x: ref(0),\n      y: ref(0)\n    };\n  }\n  const x = ref(window.scrollX);\n  const y = ref(window.scrollY);\n  useEventListener(\n    window,\n    \"scroll\",\n    () => {\n      x.value = window.scrollX;\n      y.value = window.scrollY;\n    },\n    {\n      capture: false,\n      passive: true\n    }\n  );\n  return { x, y };\n}\n\nfunction useWindowSize(options = {}) {\n  const {\n    window = defaultWindow,\n    initialWidth = Number.POSITIVE_INFINITY,\n    initialHeight = Number.POSITIVE_INFINITY,\n    listenOrientation = true,\n    includeScrollbar = true\n  } = options;\n  const width = ref(initialWidth);\n  const height = ref(initialHeight);\n  const update = () => {\n    if (window) {\n      if (includeScrollbar) {\n        width.value = window.innerWidth;\n        height.value = window.innerHeight;\n      } else {\n        width.value = window.document.documentElement.clientWidth;\n        height.value = window.document.documentElement.clientHeight;\n      }\n    }\n  };\n  update();\n  tryOnMounted(update);\n  useEventListener(\"resize\", update, { passive: true });\n  if (listenOrientation) {\n    const matches = useMediaQuery(\"(orientation: portrait)\");\n    watch(matches, () => update());\n  }\n  return { width, height };\n}\n\nexport { DefaultMagicKeysAliasMap, StorageSerializers, TransitionPresets, computedAsync as asyncComputed, breakpointsAntDesign, breakpointsBootstrapV5, breakpointsMasterCss, breakpointsPrimeFlex, breakpointsQuasar, breakpointsSematic, breakpointsTailwind, breakpointsVuetify, cloneFnJSON, computedAsync, computedInject, createFetch, createReusableTemplate, createTemplatePromise, createUnrefFn, customStorageEventName, defaultDocument, defaultLocation, defaultNavigator, defaultWindow, executeTransition, formatTimeAgo, getSSRHandler, mapGamepadToXbox360Controller, onClickOutside, onKeyDown, onKeyPressed, onKeyStroke, onKeyUp, onLongPress, onStartTyping, setSSRHandler, templateRef, unrefElement, useActiveElement, useAnimate, useAsyncQueue, useAsyncState, useBase64, useBattery, useBluetooth, useBreakpoints, useBroadcastChannel, useBrowserLocation, useCached, useClipboard, useCloned, useColorMode, useConfirmDialog, useCssVar, useCurrentElement, useCycleList, useDark, useDebouncedRefHistory, useDeviceMotion, useDeviceOrientation, useDevicePixelRatio, useDevicesList, useDisplayMedia, useDocumentVisibility, useDraggable, useDropZone, useElementBounding, useElementByPoint, useElementHover, useElementSize, useElementVisibility, useEventBus, useEventListener, useEventSource, useEyeDropper, useFavicon, useFetch, useFileDialog, useFileSystemAccess, useFocus, useFocusWithin, useFps, useFullscreen, useGamepad, useGeolocation, useIdle, useImage, useInfiniteScroll, useIntersectionObserver, useKeyModifier, useLocalStorage, useMagicKeys, useManualRefHistory, useMediaControls, useMediaQuery, useMemoize, useMemory, useMounted, useMouse, useMouseInElement, useMousePressed, useMutationObserver, useNavigatorLanguage, useNetwork, useNow, useObjectUrl, useOffsetPagination, useOnline, usePageLeave, useParallax, useParentElement, usePerformanceObserver, usePermission, usePointer, usePointerLock, usePointerSwipe, usePreferredColorScheme, usePreferredContrast, usePreferredDark, usePreferredLanguages, usePreferredReducedMotion, usePrevious, useRafFn, useRefHistory, useResizeObserver, useScreenOrientation, useScreenSafeArea, useScriptTag, useScroll, useScrollLock, useSessionStorage, useShare, useSorted, useSpeechRecognition, useSpeechSynthesis, useStepper, useStorage, useStorageAsync, useStyleTag, useSupported, useSwipe, useTemplateRefsList, useTextDirection, useTextSelection, useTextareaAutosize, useThrottledRefHistory, useTimeAgo, useTimeoutPoll, useTimestamp, useTitle, useTransition, useUrlSearchParams, useUserMedia, useVModel, useVModels, useVibrate, useVirtualList, useWakeLock, useWebNotification, useWebSocket, useWebWorker, useWebWorkerFn, useWindowFocus, useWindowScroll, useWindowSize };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._registerNode = exports.Konva = exports.glob = void 0;\nvar PI_OVER_180 = Math.PI / 180;\nfunction detectBrowser() {\n    return (typeof window !== 'undefined' &&\n        ({}.toString.call(window) === '[object Window]' ||\n            {}.toString.call(window) === '[object global]'));\n}\nexports.glob = typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof WorkerGlobalScope !== 'undefined'\n            ? self\n            : {};\nexports.Konva = {\n    _global: exports.glob,\n    version: '9.2.0',\n    isBrowser: detectBrowser(),\n    isUnminified: /param/.test(function (param) { }.toString()),\n    dblClickWindow: 400,\n    getAngle(angle) {\n        return exports.Konva.angleDeg ? angle * PI_OVER_180 : angle;\n    },\n    enableTrace: false,\n    pointerEventsEnabled: true,\n    autoDrawEnabled: true,\n    hitOnDragEnabled: false,\n    capturePointerEventsEnabled: false,\n    _mouseListenClick: false,\n    _touchListenClick: false,\n    _pointerListenClick: false,\n    _mouseInDblClickWindow: false,\n    _touchInDblClickWindow: false,\n    _pointerInDblClickWindow: false,\n    _mouseDblClickPointerId: null,\n    _touchDblClickPointerId: null,\n    _pointerDblClickPointerId: null,\n    pixelRatio: (typeof window !== 'undefined' && window.devicePixelRatio) || 1,\n    dragDistance: 3,\n    angleDeg: true,\n    showWarnings: true,\n    dragButtons: [0, 1],\n    isDragging() {\n        return exports.Konva['DD'].isDragging;\n    },\n    isDragReady() {\n        return !!exports.Konva['DD'].node;\n    },\n    releaseCanvasOnDestroy: true,\n    document: exports.glob.document,\n    _injectGlobal(Konva) {\n        exports.glob.Konva = Konva;\n    },\n};\nconst _registerNode = (NodeClass) => {\n    exports.Konva[NodeClass.prototype.getClassName()] = NodeClass;\n};\nexports._registerNode = _registerNode;\nexports.Konva._injectGlobal(exports.Konva);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Util = exports.Transform = void 0;\nconst Global_1 = require(\"./Global\");\nclass Transform {\n    constructor(m = [1, 0, 0, 1, 0, 0]) {\n        this.dirty = false;\n        this.m = (m && m.slice()) || [1, 0, 0, 1, 0, 0];\n    }\n    reset() {\n        this.m[0] = 1;\n        this.m[1] = 0;\n        this.m[2] = 0;\n        this.m[3] = 1;\n        this.m[4] = 0;\n        this.m[5] = 0;\n    }\n    copy() {\n        return new Transform(this.m);\n    }\n    copyInto(tr) {\n        tr.m[0] = this.m[0];\n        tr.m[1] = this.m[1];\n        tr.m[2] = this.m[2];\n        tr.m[3] = this.m[3];\n        tr.m[4] = this.m[4];\n        tr.m[5] = this.m[5];\n    }\n    point(point) {\n        var m = this.m;\n        return {\n            x: m[0] * point.x + m[2] * point.y + m[4],\n            y: m[1] * point.x + m[3] * point.y + m[5],\n        };\n    }\n    translate(x, y) {\n        this.m[4] += this.m[0] * x + this.m[2] * y;\n        this.m[5] += this.m[1] * x + this.m[3] * y;\n        return this;\n    }\n    scale(sx, sy) {\n        this.m[0] *= sx;\n        this.m[1] *= sx;\n        this.m[2] *= sy;\n        this.m[3] *= sy;\n        return this;\n    }\n    rotate(rad) {\n        var c = Math.cos(rad);\n        var s = Math.sin(rad);\n        var m11 = this.m[0] * c + this.m[2] * s;\n        var m12 = this.m[1] * c + this.m[3] * s;\n        var m21 = this.m[0] * -s + this.m[2] * c;\n        var m22 = this.m[1] * -s + this.m[3] * c;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    getTranslation() {\n        return {\n            x: this.m[4],\n            y: this.m[5],\n        };\n    }\n    skew(sx, sy) {\n        var m11 = this.m[0] + this.m[2] * sy;\n        var m12 = this.m[1] + this.m[3] * sy;\n        var m21 = this.m[2] + this.m[0] * sx;\n        var m22 = this.m[3] + this.m[1] * sx;\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        return this;\n    }\n    multiply(matrix) {\n        var m11 = this.m[0] * matrix.m[0] + this.m[2] * matrix.m[1];\n        var m12 = this.m[1] * matrix.m[0] + this.m[3] * matrix.m[1];\n        var m21 = this.m[0] * matrix.m[2] + this.m[2] * matrix.m[3];\n        var m22 = this.m[1] * matrix.m[2] + this.m[3] * matrix.m[3];\n        var dx = this.m[0] * matrix.m[4] + this.m[2] * matrix.m[5] + this.m[4];\n        var dy = this.m[1] * matrix.m[4] + this.m[3] * matrix.m[5] + this.m[5];\n        this.m[0] = m11;\n        this.m[1] = m12;\n        this.m[2] = m21;\n        this.m[3] = m22;\n        this.m[4] = dx;\n        this.m[5] = dy;\n        return this;\n    }\n    invert() {\n        var d = 1 / (this.m[0] * this.m[3] - this.m[1] * this.m[2]);\n        var m0 = this.m[3] * d;\n        var m1 = -this.m[1] * d;\n        var m2 = -this.m[2] * d;\n        var m3 = this.m[0] * d;\n        var m4 = d * (this.m[2] * this.m[5] - this.m[3] * this.m[4]);\n        var m5 = d * (this.m[1] * this.m[4] - this.m[0] * this.m[5]);\n        this.m[0] = m0;\n        this.m[1] = m1;\n        this.m[2] = m2;\n        this.m[3] = m3;\n        this.m[4] = m4;\n        this.m[5] = m5;\n        return this;\n    }\n    getMatrix() {\n        return this.m;\n    }\n    decompose() {\n        var a = this.m[0];\n        var b = this.m[1];\n        var c = this.m[2];\n        var d = this.m[3];\n        var e = this.m[4];\n        var f = this.m[5];\n        var delta = a * d - b * c;\n        let result = {\n            x: e,\n            y: f,\n            rotation: 0,\n            scaleX: 0,\n            scaleY: 0,\n            skewX: 0,\n            skewY: 0,\n        };\n        if (a != 0 || b != 0) {\n            var r = Math.sqrt(a * a + b * b);\n            result.rotation = b > 0 ? Math.acos(a / r) : -Math.acos(a / r);\n            result.scaleX = r;\n            result.scaleY = delta / r;\n            result.skewX = (a * c + b * d) / delta;\n            result.skewY = 0;\n        }\n        else if (c != 0 || d != 0) {\n            var s = Math.sqrt(c * c + d * d);\n            result.rotation =\n                Math.PI / 2 - (d > 0 ? Math.acos(-c / s) : -Math.acos(c / s));\n            result.scaleX = delta / s;\n            result.scaleY = s;\n            result.skewX = 0;\n            result.skewY = (a * c + b * d) / delta;\n        }\n        else {\n        }\n        result.rotation = exports.Util._getRotation(result.rotation);\n        return result;\n    }\n}\nexports.Transform = Transform;\nvar OBJECT_ARRAY = '[object Array]', OBJECT_NUMBER = '[object Number]', OBJECT_STRING = '[object String]', OBJECT_BOOLEAN = '[object Boolean]', PI_OVER_DEG180 = Math.PI / 180, DEG180_OVER_PI = 180 / Math.PI, HASH = '#', EMPTY_STRING = '', ZERO = '0', KONVA_WARNING = 'Konva warning: ', KONVA_ERROR = 'Konva error: ', RGB_PAREN = 'rgb(', COLORS = {\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 132, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 255, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    grey: [128, 128, 128],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 203],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    rebeccapurple: [102, 51, 153],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [119, 128, 144],\n    slategrey: [119, 128, 144],\n    snow: [255, 255, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    transparent: [255, 255, 255, 0],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 5],\n}, RGB_REGEX = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/, animQueue = [];\nconst req = (typeof requestAnimationFrame !== 'undefined' && requestAnimationFrame) ||\n    function (f) {\n        setTimeout(f, 60);\n    };\nexports.Util = {\n    _isElement(obj) {\n        return !!(obj && obj.nodeType == 1);\n    },\n    _isFunction(obj) {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    },\n    _isPlainObject(obj) {\n        return !!obj && obj.constructor === Object;\n    },\n    _isArray(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_ARRAY;\n    },\n    _isNumber(obj) {\n        return (Object.prototype.toString.call(obj) === OBJECT_NUMBER &&\n            !isNaN(obj) &&\n            isFinite(obj));\n    },\n    _isString(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_STRING;\n    },\n    _isBoolean(obj) {\n        return Object.prototype.toString.call(obj) === OBJECT_BOOLEAN;\n    },\n    isObject(val) {\n        return val instanceof Object;\n    },\n    isValidSelector(selector) {\n        if (typeof selector !== 'string') {\n            return false;\n        }\n        var firstChar = selector[0];\n        return (firstChar === '#' ||\n            firstChar === '.' ||\n            firstChar === firstChar.toUpperCase());\n    },\n    _sign(number) {\n        if (number === 0) {\n            return 1;\n        }\n        if (number > 0) {\n            return 1;\n        }\n        else {\n            return -1;\n        }\n    },\n    requestAnimFrame(callback) {\n        animQueue.push(callback);\n        if (animQueue.length === 1) {\n            req(function () {\n                const queue = animQueue;\n                animQueue = [];\n                queue.forEach(function (cb) {\n                    cb();\n                });\n            });\n        }\n    },\n    createCanvasElement() {\n        var canvas = document.createElement('canvas');\n        try {\n            canvas.style = canvas.style || {};\n        }\n        catch (e) { }\n        return canvas;\n    },\n    createImageElement() {\n        return document.createElement('img');\n    },\n    _isInDocument(el) {\n        while ((el = el.parentNode)) {\n            if (el == document) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _urlToImage(url, callback) {\n        var imageObj = exports.Util.createImageElement();\n        imageObj.onload = function () {\n            callback(imageObj);\n        };\n        imageObj.src = url;\n    },\n    _rgbToHex(r, g, b) {\n        return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);\n    },\n    _hexToRgb(hex) {\n        hex = hex.replace(HASH, EMPTY_STRING);\n        var bigint = parseInt(hex, 16);\n        return {\n            r: (bigint >> 16) & 255,\n            g: (bigint >> 8) & 255,\n            b: bigint & 255,\n        };\n    },\n    getRandomColor() {\n        var randColor = ((Math.random() * 0xffffff) << 0).toString(16);\n        while (randColor.length < 6) {\n            randColor = ZERO + randColor;\n        }\n        return HASH + randColor;\n    },\n    getRGB(color) {\n        var rgb;\n        if (color in COLORS) {\n            rgb = COLORS[color];\n            return {\n                r: rgb[0],\n                g: rgb[1],\n                b: rgb[2],\n            };\n        }\n        else if (color[0] === HASH) {\n            return this._hexToRgb(color.substring(1));\n        }\n        else if (color.substr(0, 4) === RGB_PAREN) {\n            rgb = RGB_REGEX.exec(color.replace(/ /g, ''));\n            return {\n                r: parseInt(rgb[1], 10),\n                g: parseInt(rgb[2], 10),\n                b: parseInt(rgb[3], 10),\n            };\n        }\n        else {\n            return {\n                r: 0,\n                g: 0,\n                b: 0,\n            };\n        }\n    },\n    colorToRGBA(str) {\n        str = str || 'black';\n        return (exports.Util._namedColorToRBA(str) ||\n            exports.Util._hex3ColorToRGBA(str) ||\n            exports.Util._hex4ColorToRGBA(str) ||\n            exports.Util._hex6ColorToRGBA(str) ||\n            exports.Util._hex8ColorToRGBA(str) ||\n            exports.Util._rgbColorToRGBA(str) ||\n            exports.Util._rgbaColorToRGBA(str) ||\n            exports.Util._hslColorToRGBA(str));\n    },\n    _namedColorToRBA(str) {\n        var c = COLORS[str.toLowerCase()];\n        if (!c) {\n            return null;\n        }\n        return {\n            r: c[0],\n            g: c[1],\n            b: c[2],\n            a: 1,\n        };\n    },\n    _rgbColorToRGBA(str) {\n        if (str.indexOf('rgb(') === 0) {\n            str = str.match(/rgb\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map(Number);\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: 1,\n            };\n        }\n    },\n    _rgbaColorToRGBA(str) {\n        if (str.indexOf('rgba(') === 0) {\n            str = str.match(/rgba\\(([^)]+)\\)/)[1];\n            var parts = str.split(/ *, */).map((n, index) => {\n                if (n.slice(-1) === '%') {\n                    return index === 3 ? parseInt(n) / 100 : (parseInt(n) / 100) * 255;\n                }\n                return Number(n);\n            });\n            return {\n                r: parts[0],\n                g: parts[1],\n                b: parts[2],\n                a: parts[3],\n            };\n        }\n    },\n    _hex8ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 9) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: parseInt(str.slice(7, 9), 16) / 0xff,\n            };\n        }\n    },\n    _hex6ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 7) {\n            return {\n                r: parseInt(str.slice(1, 3), 16),\n                g: parseInt(str.slice(3, 5), 16),\n                b: parseInt(str.slice(5, 7), 16),\n                a: 1,\n            };\n        }\n    },\n    _hex4ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 5) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: parseInt(str[4] + str[4], 16) / 0xff,\n            };\n        }\n    },\n    _hex3ColorToRGBA(str) {\n        if (str[0] === '#' && str.length === 4) {\n            return {\n                r: parseInt(str[1] + str[1], 16),\n                g: parseInt(str[2] + str[2], 16),\n                b: parseInt(str[3] + str[3], 16),\n                a: 1,\n            };\n        }\n    },\n    _hslColorToRGBA(str) {\n        if (/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.test(str)) {\n            const [_, ...hsl] = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(str);\n            const h = Number(hsl[0]) / 360;\n            const s = Number(hsl[1]) / 100;\n            const l = Number(hsl[2]) / 100;\n            let t2;\n            let t3;\n            let val;\n            if (s === 0) {\n                val = l * 255;\n                return {\n                    r: Math.round(val),\n                    g: Math.round(val),\n                    b: Math.round(val),\n                    a: 1,\n                };\n            }\n            if (l < 0.5) {\n                t2 = l * (1 + s);\n            }\n            else {\n                t2 = l + s - l * s;\n            }\n            const t1 = 2 * l - t2;\n            const rgb = [0, 0, 0];\n            for (let i = 0; i < 3; i++) {\n                t3 = h + (1 / 3) * -(i - 1);\n                if (t3 < 0) {\n                    t3++;\n                }\n                if (t3 > 1) {\n                    t3--;\n                }\n                if (6 * t3 < 1) {\n                    val = t1 + (t2 - t1) * 6 * t3;\n                }\n                else if (2 * t3 < 1) {\n                    val = t2;\n                }\n                else if (3 * t3 < 2) {\n                    val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n                }\n                else {\n                    val = t1;\n                }\n                rgb[i] = val * 255;\n            }\n            return {\n                r: Math.round(rgb[0]),\n                g: Math.round(rgb[1]),\n                b: Math.round(rgb[2]),\n                a: 1,\n            };\n        }\n    },\n    haveIntersection(r1, r2) {\n        return !(r2.x > r1.x + r1.width ||\n            r2.x + r2.width < r1.x ||\n            r2.y > r1.y + r1.height ||\n            r2.y + r2.height < r1.y);\n    },\n    cloneObject(obj) {\n        var retObj = {};\n        for (var key in obj) {\n            if (this._isPlainObject(obj[key])) {\n                retObj[key] = this.cloneObject(obj[key]);\n            }\n            else if (this._isArray(obj[key])) {\n                retObj[key] = this.cloneArray(obj[key]);\n            }\n            else {\n                retObj[key] = obj[key];\n            }\n        }\n        return retObj;\n    },\n    cloneArray(arr) {\n        return arr.slice(0);\n    },\n    degToRad(deg) {\n        return deg * PI_OVER_DEG180;\n    },\n    radToDeg(rad) {\n        return rad * DEG180_OVER_PI;\n    },\n    _degToRad(deg) {\n        exports.Util.warn('Util._degToRad is removed. Please use public Util.degToRad instead.');\n        return exports.Util.degToRad(deg);\n    },\n    _radToDeg(rad) {\n        exports.Util.warn('Util._radToDeg is removed. Please use public Util.radToDeg instead.');\n        return exports.Util.radToDeg(rad);\n    },\n    _getRotation(radians) {\n        return Global_1.Konva.angleDeg ? exports.Util.radToDeg(radians) : radians;\n    },\n    _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    },\n    throw(str) {\n        throw new Error(KONVA_ERROR + str);\n    },\n    error(str) {\n        console.error(KONVA_ERROR + str);\n    },\n    warn(str) {\n        if (!Global_1.Konva.showWarnings) {\n            return;\n        }\n        console.warn(KONVA_WARNING + str);\n    },\n    each(obj, func) {\n        for (var key in obj) {\n            func(key, obj[key]);\n        }\n    },\n    _inRange(val, left, right) {\n        return left <= val && val < right;\n    },\n    _getProjectionToSegment(x1, y1, x2, y2, x3, y3) {\n        var x, y, dist;\n        var pd2 = (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\n        if (pd2 == 0) {\n            x = x1;\n            y = y1;\n            dist = (x3 - x2) * (x3 - x2) + (y3 - y2) * (y3 - y2);\n        }\n        else {\n            var u = ((x3 - x1) * (x2 - x1) + (y3 - y1) * (y2 - y1)) / pd2;\n            if (u < 0) {\n                x = x1;\n                y = y1;\n                dist = (x1 - x3) * (x1 - x3) + (y1 - y3) * (y1 - y3);\n            }\n            else if (u > 1.0) {\n                x = x2;\n                y = y2;\n                dist = (x2 - x3) * (x2 - x3) + (y2 - y3) * (y2 - y3);\n            }\n            else {\n                x = x1 + u * (x2 - x1);\n                y = y1 + u * (y2 - y1);\n                dist = (x - x3) * (x - x3) + (y - y3) * (y - y3);\n            }\n        }\n        return [x, y, dist];\n    },\n    _getProjectionToLine(pt, line, isClosed) {\n        var pc = exports.Util.cloneObject(pt);\n        var dist = Number.MAX_VALUE;\n        line.forEach(function (p1, i) {\n            if (!isClosed && i === line.length - 1) {\n                return;\n            }\n            var p2 = line[(i + 1) % line.length];\n            var proj = exports.Util._getProjectionToSegment(p1.x, p1.y, p2.x, p2.y, pt.x, pt.y);\n            var px = proj[0], py = proj[1], pdist = proj[2];\n            if (pdist < dist) {\n                pc.x = px;\n                pc.y = py;\n                dist = pdist;\n            }\n        });\n        return pc;\n    },\n    _prepareArrayForTween(startArray, endArray, isClosed) {\n        var n, start = [], end = [];\n        if (startArray.length > endArray.length) {\n            var temp = endArray;\n            endArray = startArray;\n            startArray = temp;\n        }\n        for (n = 0; n < startArray.length; n += 2) {\n            start.push({\n                x: startArray[n],\n                y: startArray[n + 1],\n            });\n        }\n        for (n = 0; n < endArray.length; n += 2) {\n            end.push({\n                x: endArray[n],\n                y: endArray[n + 1],\n            });\n        }\n        var newStart = [];\n        end.forEach(function (point) {\n            var pr = exports.Util._getProjectionToLine(point, start, isClosed);\n            newStart.push(pr.x);\n            newStart.push(pr.y);\n        });\n        return newStart;\n    },\n    _prepareToStringify(obj) {\n        var desc;\n        obj.visitedByCircularReferenceRemoval = true;\n        for (var key in obj) {\n            if (!(obj.hasOwnProperty(key) && obj[key] && typeof obj[key] == 'object')) {\n                continue;\n            }\n            desc = Object.getOwnPropertyDescriptor(obj, key);\n            if (obj[key].visitedByCircularReferenceRemoval ||\n                exports.Util._isElement(obj[key])) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n            else if (exports.Util._prepareToStringify(obj[key]) === null) {\n                if (desc.configurable) {\n                    delete obj[key];\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        delete obj.visitedByCircularReferenceRemoval;\n        return obj;\n    },\n    _assign(target, source) {\n        for (var key in source) {\n            target[key] = source[key];\n        }\n        return target;\n    },\n    _getFirstPointerId(evt) {\n        if (!evt.touches) {\n            return evt.pointerId || 999;\n        }\n        else {\n            return evt.changedTouches[0].identifier;\n        }\n    },\n    releaseCanvas(...canvases) {\n        if (!Global_1.Konva.releaseCanvasOnDestroy)\n            return;\n        canvases.forEach(c => {\n            c.width = 0;\n            c.height = 0;\n        });\n    },\n    drawRoundedRectPath(context, width, height, cornerRadius) {\n        let topLeft = 0;\n        let topRight = 0;\n        let bottomLeft = 0;\n        let bottomRight = 0;\n        if (typeof cornerRadius === 'number') {\n            topLeft = topRight = bottomLeft = bottomRight = Math.min(cornerRadius, width / 2, height / 2);\n        }\n        else {\n            topLeft = Math.min(cornerRadius[0] || 0, width / 2, height / 2);\n            topRight = Math.min(cornerRadius[1] || 0, width / 2, height / 2);\n            bottomRight = Math.min(cornerRadius[2] || 0, width / 2, height / 2);\n            bottomLeft = Math.min(cornerRadius[3] || 0, width / 2, height / 2);\n        }\n        context.moveTo(topLeft, 0);\n        context.lineTo(width - topRight, 0);\n        context.arc(width - topRight, topRight, topRight, (Math.PI * 3) / 2, 0, false);\n        context.lineTo(width, height - bottomRight);\n        context.arc(width - bottomRight, height - bottomRight, bottomRight, 0, Math.PI / 2, false);\n        context.lineTo(bottomLeft, height);\n        context.arc(bottomLeft, height - bottomLeft, bottomLeft, Math.PI / 2, Math.PI, false);\n        context.lineTo(0, topLeft);\n        context.arc(topLeft, topLeft, topLeft, Math.PI, (Math.PI * 3) / 2, false);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getComponentValidator = exports.getBooleanValidator = exports.getNumberArrayValidator = exports.getFunctionValidator = exports.getStringOrGradientValidator = exports.getStringValidator = exports.getNumberOrAutoValidator = exports.getNumberOrArrayOfNumbersValidator = exports.getNumberValidator = exports.alphaComponent = exports.RGBComponent = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nfunction _formatValue(val) {\n    if (Util_1.Util._isString(val)) {\n        return '\"' + val + '\"';\n    }\n    if (Object.prototype.toString.call(val) === '[object Number]') {\n        return val;\n    }\n    if (Util_1.Util._isBoolean(val)) {\n        return val;\n    }\n    return Object.prototype.toString.call(val);\n}\nfunction RGBComponent(val) {\n    if (val > 255) {\n        return 255;\n    }\n    else if (val < 0) {\n        return 0;\n    }\n    return Math.round(val);\n}\nexports.RGBComponent = RGBComponent;\nfunction alphaComponent(val) {\n    if (val > 1) {\n        return 1;\n    }\n    else if (val < 0.0001) {\n        return 0.0001;\n    }\n    return val;\n}\nexports.alphaComponent = alphaComponent;\nfunction getNumberValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isNumber(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number.');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberValidator = getNumberValidator;\nfunction getNumberOrArrayOfNumbersValidator(noOfElements) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            let isNumber = Util_1.Util._isNumber(val);\n            let isValidArray = Util_1.Util._isArray(val) && val.length == noOfElements;\n            if (!isNumber && !isValidArray) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or Array<number>(' +\n                    noOfElements +\n                    ')');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrArrayOfNumbersValidator = getNumberOrArrayOfNumbersValidator;\nfunction getNumberOrAutoValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isNumber = Util_1.Util._isNumber(val);\n            var isAuto = val === 'auto';\n            if (!(isNumber || isAuto)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a number or \"auto\".');\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberOrAutoValidator = getNumberOrAutoValidator;\nfunction getStringValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isString(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringValidator = getStringValidator;\nfunction getStringOrGradientValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const isString = Util_1.Util._isString(val);\n            const isGradient = Object.prototype.toString.call(val) === '[object CanvasGradient]' ||\n                (val && val.addColorStop);\n            if (!(isString || isGradient)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a string or a native gradient.');\n            }\n            return val;\n        };\n    }\n}\nexports.getStringOrGradientValidator = getStringOrGradientValidator;\nfunction getFunctionValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (!Util_1.Util._isFunction(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a function.');\n            }\n            return val;\n        };\n    }\n}\nexports.getFunctionValidator = getFunctionValidator;\nfunction getNumberArrayValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            const TypedArray = Int8Array ? Object.getPrototypeOf(Int8Array) : null;\n            if (TypedArray && val instanceof TypedArray) {\n                return val;\n            }\n            if (!Util_1.Util._isArray(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a array of numbers.');\n            }\n            else {\n                val.forEach(function (item) {\n                    if (!Util_1.Util._isNumber(item)) {\n                        Util_1.Util.warn('\"' +\n                            attr +\n                            '\" attribute has non numeric element ' +\n                            item +\n                            '. Make sure that all elements are numbers.');\n                    }\n                });\n            }\n            return val;\n        };\n    }\n}\nexports.getNumberArrayValidator = getNumberArrayValidator;\nfunction getBooleanValidator() {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            var isBool = val === true || val === false;\n            if (!isBool) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be a boolean.');\n            }\n            return val;\n        };\n    }\n}\nexports.getBooleanValidator = getBooleanValidator;\nfunction getComponentValidator(components) {\n    if (Global_1.Konva.isUnminified) {\n        return function (val, attr) {\n            if (val === undefined || val === null) {\n                return val;\n            }\n            if (!Util_1.Util.isObject(val)) {\n                Util_1.Util.warn(_formatValue(val) +\n                    ' is a not valid value for \"' +\n                    attr +\n                    '\" attribute. The value should be an object with properties ' +\n                    components);\n            }\n            return val;\n        };\n    }\n}\nexports.getComponentValidator = getComponentValidator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Factory = void 0;\nconst Util_1 = require(\"./Util\");\nconst Validators_1 = require(\"./Validators\");\nvar GET = 'get', SET = 'set';\nexports.Factory = {\n    addGetterSetter(constructor, attr, def, validator, after) {\n        exports.Factory.addGetter(constructor, attr, def);\n        exports.Factory.addSetter(constructor, attr, validator, after);\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addGetter(constructor, attr, def) {\n        var method = GET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] =\n            constructor.prototype[method] ||\n                function () {\n                    var val = this.attrs[attr];\n                    return val === undefined ? def : val;\n                };\n    },\n    addSetter(constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        if (!constructor.prototype[method]) {\n            exports.Factory.overWriteSetter(constructor, attr, validator, after);\n        }\n    },\n    overWriteSetter(constructor, attr, validator, after) {\n        var method = SET + Util_1.Util._capitalize(attr);\n        constructor.prototype[method] = function (val) {\n            if (validator && val !== undefined && val !== null) {\n                val = validator.call(this, val, attr);\n            }\n            this._setAttr(attr, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n    },\n    addComponentsGetterSetter(constructor, attr, components, validator, after) {\n        var len = components.length, capitalize = Util_1.Util._capitalize, getter = GET + capitalize(attr), setter = SET + capitalize(attr), n, component;\n        constructor.prototype[getter] = function () {\n            var ret = {};\n            for (n = 0; n < len; n++) {\n                component = components[n];\n                ret[component] = this.getAttr(attr + capitalize(component));\n            }\n            return ret;\n        };\n        var basicValidator = (0, Validators_1.getComponentValidator)(components);\n        constructor.prototype[setter] = function (val) {\n            var oldVal = this.attrs[attr], key;\n            if (validator) {\n                val = validator.call(this, val);\n            }\n            if (basicValidator) {\n                basicValidator.call(this, val, attr);\n            }\n            for (key in val) {\n                if (!val.hasOwnProperty(key)) {\n                    continue;\n                }\n                this._setAttr(attr + capitalize(key), val[key]);\n            }\n            if (!val) {\n                components.forEach((component) => {\n                    this._setAttr(attr + capitalize(component), undefined);\n                });\n            }\n            this._fireChangeEvent(attr, oldVal, val);\n            if (after) {\n                after.call(this);\n            }\n            return this;\n        };\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    addOverloadedGetterSetter(constructor, attr) {\n        var capitalizedAttr = Util_1.Util._capitalize(attr), setter = SET + capitalizedAttr, getter = GET + capitalizedAttr;\n        constructor.prototype[attr] = function () {\n            if (arguments.length) {\n                this[setter](arguments[0]);\n                return this;\n            }\n            return this[getter]();\n        };\n    },\n    addDeprecatedGetterSetter(constructor, attr, def, validator) {\n        Util_1.Util.error('Adding deprecated ' + attr);\n        var method = GET + Util_1.Util._capitalize(attr);\n        var message = attr +\n            ' property is deprecated and will be removed soon. Look at Konva change log for more information.';\n        constructor.prototype[method] = function () {\n            Util_1.Util.error(message);\n            var val = this.attrs[attr];\n            return val === undefined ? def : val;\n        };\n        exports.Factory.addSetter(constructor, attr, validator, function () {\n            Util_1.Util.error(message);\n        });\n        exports.Factory.addOverloadedGetterSetter(constructor, attr);\n    },\n    backCompat(constructor, methods) {\n        Util_1.Util.each(methods, function (oldMethodName, newMethodName) {\n            var method = constructor.prototype[newMethodName];\n            var oldGetter = GET + Util_1.Util._capitalize(oldMethodName);\n            var oldSetter = SET + Util_1.Util._capitalize(oldMethodName);\n            function deprecated() {\n                method.apply(this, arguments);\n                Util_1.Util.error('\"' +\n                    oldMethodName +\n                    '\" method is deprecated and will be removed soon. Use \"\"' +\n                    newMethodName +\n                    '\" instead.');\n            }\n            constructor.prototype[oldMethodName] = deprecated;\n            constructor.prototype[oldGetter] = deprecated;\n            constructor.prototype[oldSetter] = deprecated;\n        });\n    },\n    afterSetFilter() {\n        this._filterUpToDate = false;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitContext = exports.SceneContext = exports.Context = void 0;\nconst Util_1 = require(\"./Util\");\nconst Global_1 = require(\"./Global\");\nfunction simplifyArray(arr) {\n    var retArr = [], len = arr.length, util = Util_1.Util, n, val;\n    for (n = 0; n < len; n++) {\n        val = arr[n];\n        if (util._isNumber(val)) {\n            val = Math.round(val * 1000) / 1000;\n        }\n        else if (!util._isString(val)) {\n            val = val + '';\n        }\n        retArr.push(val);\n    }\n    return retArr;\n}\nvar COMMA = ',', OPEN_PAREN = '(', CLOSE_PAREN = ')', OPEN_PAREN_BRACKET = '([', CLOSE_BRACKET_PAREN = '])', SEMICOLON = ';', DOUBLE_PAREN = '()', EQUALS = '=', CONTEXT_METHODS = [\n    'arc',\n    'arcTo',\n    'beginPath',\n    'bezierCurveTo',\n    'clearRect',\n    'clip',\n    'closePath',\n    'createLinearGradient',\n    'createPattern',\n    'createRadialGradient',\n    'drawImage',\n    'ellipse',\n    'fill',\n    'fillText',\n    'getImageData',\n    'createImageData',\n    'lineTo',\n    'moveTo',\n    'putImageData',\n    'quadraticCurveTo',\n    'rect',\n    'restore',\n    'rotate',\n    'save',\n    'scale',\n    'setLineDash',\n    'setTransform',\n    'stroke',\n    'strokeText',\n    'transform',\n    'translate',\n];\nvar CONTEXT_PROPERTIES = [\n    'fillStyle',\n    'strokeStyle',\n    'shadowColor',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'lineCap',\n    'lineDashOffset',\n    'lineJoin',\n    'lineWidth',\n    'miterLimit',\n    'font',\n    'textAlign',\n    'textBaseline',\n    'globalAlpha',\n    'globalCompositeOperation',\n    'imageSmoothingEnabled',\n];\nconst traceArrMax = 100;\nclass Context {\n    constructor(canvas) {\n        this.canvas = canvas;\n        if (Global_1.Konva.enableTrace) {\n            this.traceArr = [];\n            this._enableTrace();\n        }\n    }\n    fillShape(shape) {\n        if (shape.fillEnabled()) {\n            this._fill(shape);\n        }\n    }\n    _fill(shape) {\n    }\n    strokeShape(shape) {\n        if (shape.hasStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n    }\n    fillStrokeShape(shape) {\n        if (shape.attrs.fillAfterStrokeEnabled) {\n            this.strokeShape(shape);\n            this.fillShape(shape);\n        }\n        else {\n            this.fillShape(shape);\n            this.strokeShape(shape);\n        }\n    }\n    getTrace(relaxed, rounded) {\n        var traceArr = this.traceArr, len = traceArr.length, str = '', n, trace, method, args;\n        for (n = 0; n < len; n++) {\n            trace = traceArr[n];\n            method = trace.method;\n            if (method) {\n                args = trace.args;\n                str += method;\n                if (relaxed) {\n                    str += DOUBLE_PAREN;\n                }\n                else {\n                    if (Util_1.Util._isArray(args[0])) {\n                        str += OPEN_PAREN_BRACKET + args.join(COMMA) + CLOSE_BRACKET_PAREN;\n                    }\n                    else {\n                        if (rounded) {\n                            args = args.map((a) => typeof a === 'number' ? Math.floor(a) : a);\n                        }\n                        str += OPEN_PAREN + args.join(COMMA) + CLOSE_PAREN;\n                    }\n                }\n            }\n            else {\n                str += trace.property;\n                if (!relaxed) {\n                    str += EQUALS + trace.val;\n                }\n            }\n            str += SEMICOLON;\n        }\n        return str;\n    }\n    clearTrace() {\n        this.traceArr = [];\n    }\n    _trace(str) {\n        var traceArr = this.traceArr, len;\n        traceArr.push(str);\n        len = traceArr.length;\n        if (len >= traceArrMax) {\n            traceArr.shift();\n        }\n    }\n    reset() {\n        var pixelRatio = this.getCanvas().getPixelRatio();\n        this.setTransform(1 * pixelRatio, 0, 0, 1 * pixelRatio, 0, 0);\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    clear(bounds) {\n        var canvas = this.getCanvas();\n        if (bounds) {\n            this.clearRect(bounds.x || 0, bounds.y || 0, bounds.width || 0, bounds.height || 0);\n        }\n        else {\n            this.clearRect(0, 0, canvas.getWidth() / canvas.pixelRatio, canvas.getHeight() / canvas.pixelRatio);\n        }\n    }\n    _applyLineCap(shape) {\n        const lineCap = shape.attrs.lineCap;\n        if (lineCap) {\n            this.setAttr('lineCap', lineCap);\n        }\n    }\n    _applyOpacity(shape) {\n        var absOpacity = shape.getAbsoluteOpacity();\n        if (absOpacity !== 1) {\n            this.setAttr('globalAlpha', absOpacity);\n        }\n    }\n    _applyLineJoin(shape) {\n        const lineJoin = shape.attrs.lineJoin;\n        if (lineJoin) {\n            this.setAttr('lineJoin', lineJoin);\n        }\n    }\n    setAttr(attr, val) {\n        this._context[attr] = val;\n    }\n    arc(a0, a1, a2, a3, a4, a5) {\n        this._context.arc(a0, a1, a2, a3, a4, a5);\n    }\n    arcTo(a0, a1, a2, a3, a4) {\n        this._context.arcTo(a0, a1, a2, a3, a4);\n    }\n    beginPath() {\n        this._context.beginPath();\n    }\n    bezierCurveTo(a0, a1, a2, a3, a4, a5) {\n        this._context.bezierCurveTo(a0, a1, a2, a3, a4, a5);\n    }\n    clearRect(a0, a1, a2, a3) {\n        this._context.clearRect(a0, a1, a2, a3);\n    }\n    clip(...args) {\n        this._context.clip.apply(this._context, args);\n    }\n    closePath() {\n        this._context.closePath();\n    }\n    createImageData(a0, a1) {\n        var a = arguments;\n        if (a.length === 2) {\n            return this._context.createImageData(a0, a1);\n        }\n        else if (a.length === 1) {\n            return this._context.createImageData(a0);\n        }\n    }\n    createLinearGradient(a0, a1, a2, a3) {\n        return this._context.createLinearGradient(a0, a1, a2, a3);\n    }\n    createPattern(a0, a1) {\n        return this._context.createPattern(a0, a1);\n    }\n    createRadialGradient(a0, a1, a2, a3, a4, a5) {\n        return this._context.createRadialGradient(a0, a1, a2, a3, a4, a5);\n    }\n    drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        var a = arguments, _context = this._context;\n        if (a.length === 3) {\n            _context.drawImage(a0, a1, a2);\n        }\n        else if (a.length === 5) {\n            _context.drawImage(a0, a1, a2, a3, a4);\n        }\n        else if (a.length === 9) {\n            _context.drawImage(a0, a1, a2, a3, a4, a5, a6, a7, a8);\n        }\n    }\n    ellipse(a0, a1, a2, a3, a4, a5, a6, a7) {\n        this._context.ellipse(a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    isPointInPath(x, y, path, fillRule) {\n        if (path) {\n            return this._context.isPointInPath(path, x, y, fillRule);\n        }\n        return this._context.isPointInPath(x, y, fillRule);\n    }\n    fill(...args) {\n        this._context.fill.apply(this._context, args);\n    }\n    fillRect(x, y, width, height) {\n        this._context.fillRect(x, y, width, height);\n    }\n    strokeRect(x, y, width, height) {\n        this._context.strokeRect(x, y, width, height);\n    }\n    fillText(text, x, y, maxWidth) {\n        if (maxWidth) {\n            this._context.fillText(text, x, y, maxWidth);\n        }\n        else {\n            this._context.fillText(text, x, y);\n        }\n    }\n    measureText(text) {\n        return this._context.measureText(text);\n    }\n    getImageData(a0, a1, a2, a3) {\n        return this._context.getImageData(a0, a1, a2, a3);\n    }\n    lineTo(a0, a1) {\n        this._context.lineTo(a0, a1);\n    }\n    moveTo(a0, a1) {\n        this._context.moveTo(a0, a1);\n    }\n    rect(a0, a1, a2, a3) {\n        this._context.rect(a0, a1, a2, a3);\n    }\n    putImageData(a0, a1, a2) {\n        this._context.putImageData(a0, a1, a2);\n    }\n    quadraticCurveTo(a0, a1, a2, a3) {\n        this._context.quadraticCurveTo(a0, a1, a2, a3);\n    }\n    restore() {\n        this._context.restore();\n    }\n    rotate(a0) {\n        this._context.rotate(a0);\n    }\n    save() {\n        this._context.save();\n    }\n    scale(a0, a1) {\n        this._context.scale(a0, a1);\n    }\n    setLineDash(a0) {\n        if (this._context.setLineDash) {\n            this._context.setLineDash(a0);\n        }\n        else if ('mozDash' in this._context) {\n            this._context['mozDash'] = a0;\n        }\n        else if ('webkitLineDash' in this._context) {\n            this._context['webkitLineDash'] = a0;\n        }\n    }\n    getLineDash() {\n        return this._context.getLineDash();\n    }\n    setTransform(a0, a1, a2, a3, a4, a5) {\n        this._context.setTransform(a0, a1, a2, a3, a4, a5);\n    }\n    stroke(path2d) {\n        if (path2d) {\n            this._context.stroke(path2d);\n        }\n        else {\n            this._context.stroke();\n        }\n    }\n    strokeText(a0, a1, a2, a3) {\n        this._context.strokeText(a0, a1, a2, a3);\n    }\n    transform(a0, a1, a2, a3, a4, a5) {\n        this._context.transform(a0, a1, a2, a3, a4, a5);\n    }\n    translate(a0, a1) {\n        this._context.translate(a0, a1);\n    }\n    _enableTrace() {\n        var that = this, len = CONTEXT_METHODS.length, origSetter = this.setAttr, n, args;\n        var func = function (methodName) {\n            var origMethod = that[methodName], ret;\n            that[methodName] = function () {\n                args = simplifyArray(Array.prototype.slice.call(arguments, 0));\n                ret = origMethod.apply(that, arguments);\n                that._trace({\n                    method: methodName,\n                    args: args,\n                });\n                return ret;\n            };\n        };\n        for (n = 0; n < len; n++) {\n            func(CONTEXT_METHODS[n]);\n        }\n        that.setAttr = function () {\n            origSetter.apply(that, arguments);\n            var prop = arguments[0];\n            var val = arguments[1];\n            if (prop === 'shadowOffsetX' ||\n                prop === 'shadowOffsetY' ||\n                prop === 'shadowBlur') {\n                val = val / this.canvas.getPixelRatio();\n            }\n            that._trace({\n                property: prop,\n                val: val,\n            });\n        };\n    }\n    _applyGlobalCompositeOperation(node) {\n        const op = node.attrs.globalCompositeOperation;\n        var def = !op || op === 'source-over';\n        if (!def) {\n            this.setAttr('globalCompositeOperation', op);\n        }\n    }\n}\nexports.Context = Context;\nCONTEXT_PROPERTIES.forEach(function (prop) {\n    Object.defineProperty(Context.prototype, prop, {\n        get() {\n            return this._context[prop];\n        },\n        set(val) {\n            this._context[prop] = val;\n        },\n    });\n});\nclass SceneContext extends Context {\n    constructor(canvas, { willReadFrequently = false } = {}) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently,\n        });\n    }\n    _fillColor(shape) {\n        var fill = shape.fill();\n        this.setAttr('fillStyle', fill);\n        shape._fillFunc(this);\n    }\n    _fillPattern(shape) {\n        this.setAttr('fillStyle', shape._getFillPattern());\n        shape._fillFunc(this);\n    }\n    _fillLinearGradient(shape) {\n        var grd = shape._getLinearGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fillRadialGradient(shape) {\n        const grd = shape._getRadialGradient();\n        if (grd) {\n            this.setAttr('fillStyle', grd);\n            shape._fillFunc(this);\n        }\n    }\n    _fill(shape) {\n        const hasColor = shape.fill(), fillPriority = shape.getFillPriority();\n        if (hasColor && fillPriority === 'color') {\n            this._fillColor(shape);\n            return;\n        }\n        const hasPattern = shape.getFillPatternImage();\n        if (hasPattern && fillPriority === 'pattern') {\n            this._fillPattern(shape);\n            return;\n        }\n        const hasLinearGradient = shape.getFillLinearGradientColorStops();\n        if (hasLinearGradient && fillPriority === 'linear-gradient') {\n            this._fillLinearGradient(shape);\n            return;\n        }\n        const hasRadialGradient = shape.getFillRadialGradientColorStops();\n        if (hasRadialGradient && fillPriority === 'radial-gradient') {\n            this._fillRadialGradient(shape);\n            return;\n        }\n        if (hasColor) {\n            this._fillColor(shape);\n        }\n        else if (hasPattern) {\n            this._fillPattern(shape);\n        }\n        else if (hasLinearGradient) {\n            this._fillLinearGradient(shape);\n        }\n        else if (hasRadialGradient) {\n            this._fillRadialGradient(shape);\n        }\n    }\n    _strokeLinearGradient(shape) {\n        const start = shape.getStrokeLinearGradientStartPoint(), end = shape.getStrokeLinearGradientEndPoint(), colorStops = shape.getStrokeLinearGradientColorStops(), grd = this.createLinearGradient(start.x, start.y, end.x, end.y);\n        if (colorStops) {\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            this.setAttr('strokeStyle', grd);\n        }\n    }\n    _stroke(shape) {\n        var dash = shape.dash(), strokeScaleEnabled = shape.getStrokeScaleEnabled();\n        if (shape.hasStroke()) {\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            if (dash && shape.dashEnabled()) {\n                this.setLineDash(dash);\n                this.setAttr('lineDashOffset', shape.dashOffset());\n            }\n            this.setAttr('lineWidth', shape.strokeWidth());\n            if (!shape.getShadowForStrokeEnabled()) {\n                this.setAttr('shadowColor', 'rgba(0,0,0,0)');\n            }\n            var hasLinearGradient = shape.getStrokeLinearGradientColorStops();\n            if (hasLinearGradient) {\n                this._strokeLinearGradient(shape);\n            }\n            else {\n                this.setAttr('strokeStyle', shape.stroke());\n            }\n            shape._strokeFunc(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n    _applyShadow(shape) {\n        var _a, _b, _c;\n        var color = (_a = shape.getShadowRGBA()) !== null && _a !== void 0 ? _a : 'black', blur = (_b = shape.getShadowBlur()) !== null && _b !== void 0 ? _b : 5, offset = (_c = shape.getShadowOffset()) !== null && _c !== void 0 ? _c : {\n            x: 0,\n            y: 0,\n        }, scale = shape.getAbsoluteScale(), ratio = this.canvas.getPixelRatio(), scaleX = scale.x * ratio, scaleY = scale.y * ratio;\n        this.setAttr('shadowColor', color);\n        this.setAttr('shadowBlur', blur * Math.min(Math.abs(scaleX), Math.abs(scaleY)));\n        this.setAttr('shadowOffsetX', offset.x * scaleX);\n        this.setAttr('shadowOffsetY', offset.y * scaleY);\n    }\n}\nexports.SceneContext = SceneContext;\nclass HitContext extends Context {\n    constructor(canvas) {\n        super(canvas);\n        this._context = canvas._canvas.getContext('2d', {\n            willReadFrequently: true,\n        });\n    }\n    _fill(shape) {\n        this.save();\n        this.setAttr('fillStyle', shape.colorKey);\n        shape._fillFuncHit(this);\n        this.restore();\n    }\n    strokeShape(shape) {\n        if (shape.hasHitStroke()) {\n            this._stroke(shape);\n        }\n    }\n    _stroke(shape) {\n        if (shape.hasHitStroke()) {\n            const strokeScaleEnabled = shape.getStrokeScaleEnabled();\n            if (!strokeScaleEnabled) {\n                this.save();\n                var pixelRatio = this.getCanvas().getPixelRatio();\n                this.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n            }\n            this._applyLineCap(shape);\n            var hitStrokeWidth = shape.hitStrokeWidth();\n            var strokeWidth = hitStrokeWidth === 'auto' ? shape.strokeWidth() : hitStrokeWidth;\n            this.setAttr('lineWidth', strokeWidth);\n            this.setAttr('strokeStyle', shape.colorKey);\n            shape._strokeFuncHit(this);\n            if (!strokeScaleEnabled) {\n                this.restore();\n            }\n        }\n    }\n}\nexports.HitContext = HitContext;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nconst Factory_1 = require(\"./Factory\");\nconst Validators_1 = require(\"./Validators\");\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n    if (_pixelRatio) {\n        return _pixelRatio;\n    }\n    var canvas = Util_1.Util.createCanvasElement();\n    var context = canvas.getContext('2d');\n    _pixelRatio = (function () {\n        var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\n            context.mozBackingStorePixelRatio ||\n            context.msBackingStorePixelRatio ||\n            context.oBackingStorePixelRatio ||\n            context.backingStorePixelRatio ||\n            1;\n        return devicePixelRatio / backingStoreRatio;\n    })();\n    Util_1.Util.releaseCanvas(canvas);\n    return _pixelRatio;\n}\nclass Canvas {\n    constructor(config) {\n        this.pixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.isCache = false;\n        var conf = config || {};\n        var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n        this.pixelRatio = pixelRatio;\n        this._canvas = Util_1.Util.createCanvasElement();\n        this._canvas.style.padding = '0';\n        this._canvas.style.margin = '0';\n        this._canvas.style.border = '0';\n        this._canvas.style.background = 'transparent';\n        this._canvas.style.position = 'absolute';\n        this._canvas.style.top = '0';\n        this._canvas.style.left = '0';\n    }\n    getContext() {\n        return this.context;\n    }\n    getPixelRatio() {\n        return this.pixelRatio;\n    }\n    setPixelRatio(pixelRatio) {\n        var previousRatio = this.pixelRatio;\n        this.pixelRatio = pixelRatio;\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n    }\n    setWidth(width) {\n        this.width = this._canvas.width = width * this.pixelRatio;\n        this._canvas.style.width = width + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    setHeight(height) {\n        this.height = this._canvas.height = height * this.pixelRatio;\n        this._canvas.style.height = height + 'px';\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\n        _context.scale(pixelRatio, pixelRatio);\n    }\n    getWidth() {\n        return this.width;\n    }\n    getHeight() {\n        return this.height;\n    }\n    setSize(width, height) {\n        this.setWidth(width || 0);\n        this.setHeight(height || 0);\n    }\n    toDataURL(mimeType, quality) {\n        try {\n            return this._canvas.toDataURL(mimeType, quality);\n        }\n        catch (e) {\n            try {\n                return this._canvas.toDataURL();\n            }\n            catch (err) {\n                Util_1.Util.error('Unable to get data URL. ' +\n                    err.message +\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                return '';\n            }\n        }\n    }\n}\nexports.Canvas = Canvas;\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, (0, Validators_1.getNumberValidator)());\nclass SceneCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0, willReadFrequently: false }) {\n        super(config);\n        this.context = new Context_1.SceneContext(this, {\n            willReadFrequently: config.willReadFrequently,\n        });\n        this.setSize(config.width, config.height);\n    }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n    constructor(config = { width: 0, height: 0 }) {\n        super(config);\n        this.hitCanvas = true;\n        this.context = new Context_1.HitContext(this);\n        this.setSize(config.width, config.height);\n    }\n}\nexports.HitCanvas = HitCanvas;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DD = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nexports.DD = {\n    get isDragging() {\n        var flag = false;\n        exports.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus === 'dragging') {\n                flag = true;\n            }\n        });\n        return flag;\n    },\n    justDragged: false,\n    get node() {\n        var node;\n        exports.DD._dragElements.forEach((elem) => {\n            node = elem.node;\n        });\n        return node;\n    },\n    _dragElements: new Map(),\n    _drag(evt) {\n        const nodesToFireEvents = [];\n        exports.DD._dragElements.forEach((elem, key) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            stage.setPointersPositions(evt);\n            if (elem.pointerId === undefined) {\n                elem.pointerId = Util_1.Util._getFirstPointerId(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus !== 'dragging') {\n                var dragDistance = node.dragDistance();\n                var distance = Math.max(Math.abs(pos.x - elem.startPointerPos.x), Math.abs(pos.y - elem.startPointerPos.y));\n                if (distance < dragDistance) {\n                    return;\n                }\n                node.startDrag({ evt });\n                if (!node.isDragging()) {\n                    return;\n                }\n            }\n            node._setDragPosition(evt, elem);\n            nodesToFireEvents.push(node);\n        });\n        nodesToFireEvents.forEach((node) => {\n            node.fire('dragmove', {\n                type: 'dragmove',\n                target: node,\n                evt: evt,\n            }, true);\n        });\n    },\n    _endDragBefore(evt) {\n        const drawNodes = [];\n        exports.DD._dragElements.forEach((elem) => {\n            const { node } = elem;\n            const stage = node.getStage();\n            if (evt) {\n                stage.setPointersPositions(evt);\n            }\n            const pos = stage._changedPointerPositions.find((pos) => pos.id === elem.pointerId);\n            if (!pos) {\n                return;\n            }\n            if (elem.dragStatus === 'dragging' || elem.dragStatus === 'stopped') {\n                exports.DD.justDragged = true;\n                Global_1.Konva._mouseListenClick = false;\n                Global_1.Konva._touchListenClick = false;\n                Global_1.Konva._pointerListenClick = false;\n                elem.dragStatus = 'stopped';\n            }\n            const drawNode = elem.node.getLayer() ||\n                (elem.node instanceof Global_1.Konva['Stage'] && elem.node);\n            if (drawNode && drawNodes.indexOf(drawNode) === -1) {\n                drawNodes.push(drawNode);\n            }\n        });\n        drawNodes.forEach((drawNode) => {\n            drawNode.draw();\n        });\n    },\n    _endDragAfter(evt) {\n        exports.DD._dragElements.forEach((elem, key) => {\n            if (elem.dragStatus === 'stopped') {\n                elem.node.fire('dragend', {\n                    type: 'dragend',\n                    target: elem.node,\n                    evt: evt,\n                }, true);\n            }\n            if (elem.dragStatus !== 'dragging') {\n                exports.DD._dragElements.delete(key);\n            }\n        });\n    },\n};\nif (Global_1.Konva.isBrowser) {\n    window.addEventListener('mouseup', exports.DD._endDragBefore, true);\n    window.addEventListener('touchend', exports.DD._endDragBefore, true);\n    window.addEventListener('mousemove', exports.DD._drag);\n    window.addEventListener('touchmove', exports.DD._drag);\n    window.addEventListener('mouseup', exports.DD._endDragAfter, false);\n    window.addEventListener('touchend', exports.DD._endDragAfter, false);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Node = void 0;\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Global_1 = require(\"./Global\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Validators_1 = require(\"./Validators\");\nvar ABSOLUTE_OPACITY = 'absoluteOpacity', ALL_LISTENERS = 'allEventListeners', ABSOLUTE_TRANSFORM = 'absoluteTransform', ABSOLUTE_SCALE = 'absoluteScale', CANVAS = 'canvas', CHANGE = 'Change', CHILDREN = 'children', KONVA = 'konva', LISTENING = 'listening', MOUSEENTER = 'mouseenter', MOUSELEAVE = 'mouseleave', NAME = 'name', SET = 'set', SHAPE = 'Shape', SPACE = ' ', STAGE = 'stage', TRANSFORM = 'transform', UPPER_STAGE = 'Stage', VISIBLE = 'visible', TRANSFORM_CHANGE_STR = [\n    'xChange.konva',\n    'yChange.konva',\n    'scaleXChange.konva',\n    'scaleYChange.konva',\n    'skewXChange.konva',\n    'skewYChange.konva',\n    'rotationChange.konva',\n    'offsetXChange.konva',\n    'offsetYChange.konva',\n    'transformsEnabledChange.konva',\n].join(SPACE);\nlet idCounter = 1;\nclass Node {\n    constructor(config) {\n        this._id = idCounter++;\n        this.eventListeners = {};\n        this.attrs = {};\n        this.index = 0;\n        this._allEventListeners = null;\n        this.parent = null;\n        this._cache = new Map();\n        this._attachedDepsListeners = new Map();\n        this._lastPos = null;\n        this._batchingTransformChange = false;\n        this._needClearTransformCache = false;\n        this._filterUpToDate = false;\n        this._isUnderCache = false;\n        this._dragEventId = null;\n        this._shouldFireChangeEvents = false;\n        this.setAttrs(config);\n        this._shouldFireChangeEvents = true;\n    }\n    hasChildren() {\n        return false;\n    }\n    _clearCache(attr) {\n        if ((attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM) &&\n            this._cache.get(attr)) {\n            this._cache.get(attr).dirty = true;\n        }\n        else if (attr) {\n            this._cache.delete(attr);\n        }\n        else {\n            this._cache.clear();\n        }\n    }\n    _getCache(attr, privateGetter) {\n        var cache = this._cache.get(attr);\n        var isTransform = attr === TRANSFORM || attr === ABSOLUTE_TRANSFORM;\n        var invalid = cache === undefined || (isTransform && cache.dirty === true);\n        if (invalid) {\n            cache = privateGetter.call(this);\n            this._cache.set(attr, cache);\n        }\n        return cache;\n    }\n    _calculate(name, deps, getter) {\n        if (!this._attachedDepsListeners.get(name)) {\n            const depsString = deps.map((dep) => dep + 'Change.konva').join(SPACE);\n            this.on(depsString, () => {\n                this._clearCache(name);\n            });\n            this._attachedDepsListeners.set(name, true);\n        }\n        return this._getCache(name, getter);\n    }\n    _getCanvasCache() {\n        return this._cache.get(CANVAS);\n    }\n    _clearSelfAndDescendantCache(attr) {\n        this._clearCache(attr);\n        if (attr === ABSOLUTE_TRANSFORM) {\n            this.fire('absoluteTransformChange');\n        }\n    }\n    clearCache() {\n        if (this._cache.has(CANVAS)) {\n            const { scene, filter, hit } = this._cache.get(CANVAS);\n            Util_1.Util.releaseCanvas(scene, filter, hit);\n            this._cache.delete(CANVAS);\n        }\n        this._clearSelfAndDescendantCache();\n        this._requestDraw();\n        return this;\n    }\n    cache(config) {\n        var conf = config || {};\n        var rect = {};\n        if (conf.x === undefined ||\n            conf.y === undefined ||\n            conf.width === undefined ||\n            conf.height === undefined) {\n            rect = this.getClientRect({\n                skipTransform: true,\n                relativeTo: this.getParent(),\n            });\n        }\n        var width = Math.ceil(conf.width || rect.width), height = Math.ceil(conf.height || rect.height), pixelRatio = conf.pixelRatio, x = conf.x === undefined ? Math.floor(rect.x) : conf.x, y = conf.y === undefined ? Math.floor(rect.y) : conf.y, offset = conf.offset || 0, drawBorder = conf.drawBorder || false, hitCanvasPixelRatio = conf.hitCanvasPixelRatio || 1;\n        if (!width || !height) {\n            Util_1.Util.error('Can not cache the node. Width or height of the node equals 0. Caching is skipped.');\n            return;\n        }\n        width += offset * 2 + 1;\n        height += offset * 2 + 1;\n        x -= offset;\n        y -= offset;\n        var cachedSceneCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: width,\n            height: height,\n        }), cachedFilterCanvas = new Canvas_1.SceneCanvas({\n            pixelRatio: pixelRatio,\n            width: 0,\n            height: 0,\n            willReadFrequently: true,\n        }), cachedHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: hitCanvasPixelRatio,\n            width: width,\n            height: height,\n        }), sceneContext = cachedSceneCanvas.getContext(), hitContext = cachedHitCanvas.getContext();\n        cachedHitCanvas.isCache = true;\n        cachedSceneCanvas.isCache = true;\n        this._cache.delete(CANVAS);\n        this._filterUpToDate = false;\n        if (conf.imageSmoothingEnabled === false) {\n            cachedSceneCanvas.getContext()._context.imageSmoothingEnabled = false;\n            cachedFilterCanvas.getContext()._context.imageSmoothingEnabled = false;\n        }\n        sceneContext.save();\n        hitContext.save();\n        sceneContext.translate(-x, -y);\n        hitContext.translate(-x, -y);\n        this._isUnderCache = true;\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this.drawScene(cachedSceneCanvas, this);\n        this.drawHit(cachedHitCanvas, this);\n        this._isUnderCache = false;\n        sceneContext.restore();\n        hitContext.restore();\n        if (drawBorder) {\n            sceneContext.save();\n            sceneContext.beginPath();\n            sceneContext.rect(0, 0, width, height);\n            sceneContext.closePath();\n            sceneContext.setAttr('strokeStyle', 'red');\n            sceneContext.setAttr('lineWidth', 5);\n            sceneContext.stroke();\n            sceneContext.restore();\n        }\n        this._cache.set(CANVAS, {\n            scene: cachedSceneCanvas,\n            filter: cachedFilterCanvas,\n            hit: cachedHitCanvas,\n            x: x,\n            y: y,\n        });\n        this._requestDraw();\n        return this;\n    }\n    isCached() {\n        return this._cache.has(CANVAS);\n    }\n    getClientRect(config) {\n        throw new Error('abstract \"getClientRect\" method call');\n    }\n    _transformedRect(rect, top) {\n        var points = [\n            { x: rect.x, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y },\n            { x: rect.x + rect.width, y: rect.y + rect.height },\n            { x: rect.x, y: rect.y + rect.height },\n        ];\n        var minX, minY, maxX, maxY;\n        var trans = this.getAbsoluteTransform(top);\n        points.forEach(function (point) {\n            var transformed = trans.point(point);\n            if (minX === undefined) {\n                minX = maxX = transformed.x;\n                minY = maxY = transformed.y;\n            }\n            minX = Math.min(minX, transformed.x);\n            minY = Math.min(minY, transformed.y);\n            maxX = Math.max(maxX, transformed.x);\n            maxY = Math.max(maxY, transformed.y);\n        });\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n    _drawCachedSceneCanvas(context) {\n        context.save();\n        context._applyOpacity(this);\n        context._applyGlobalCompositeOperation(this);\n        const canvasCache = this._getCanvasCache();\n        context.translate(canvasCache.x, canvasCache.y);\n        var cacheCanvas = this._getCachedSceneCanvas();\n        var ratio = cacheCanvas.pixelRatio;\n        context.drawImage(cacheCanvas._canvas, 0, 0, cacheCanvas.width / ratio, cacheCanvas.height / ratio);\n        context.restore();\n    }\n    _drawCachedHitCanvas(context) {\n        var canvasCache = this._getCanvasCache(), hitCanvas = canvasCache.hit;\n        context.save();\n        context.translate(canvasCache.x, canvasCache.y);\n        context.drawImage(hitCanvas._canvas, 0, 0, hitCanvas.width / hitCanvas.pixelRatio, hitCanvas.height / hitCanvas.pixelRatio);\n        context.restore();\n    }\n    _getCachedSceneCanvas() {\n        var filters = this.filters(), cachedCanvas = this._getCanvasCache(), sceneCanvas = cachedCanvas.scene, filterCanvas = cachedCanvas.filter, filterContext = filterCanvas.getContext(), len, imageData, n, filter;\n        if (filters) {\n            if (!this._filterUpToDate) {\n                var ratio = sceneCanvas.pixelRatio;\n                filterCanvas.setSize(sceneCanvas.width / sceneCanvas.pixelRatio, sceneCanvas.height / sceneCanvas.pixelRatio);\n                try {\n                    len = filters.length;\n                    filterContext.clear();\n                    filterContext.drawImage(sceneCanvas._canvas, 0, 0, sceneCanvas.getWidth() / ratio, sceneCanvas.getHeight() / ratio);\n                    imageData = filterContext.getImageData(0, 0, filterCanvas.getWidth(), filterCanvas.getHeight());\n                    for (n = 0; n < len; n++) {\n                        filter = filters[n];\n                        if (typeof filter !== 'function') {\n                            Util_1.Util.error('Filter should be type of function, but got ' +\n                                typeof filter +\n                                ' instead. Please check correct filters');\n                            continue;\n                        }\n                        filter.call(this, imageData);\n                        filterContext.putImageData(imageData, 0, 0);\n                    }\n                }\n                catch (e) {\n                    Util_1.Util.error('Unable to apply filter. ' +\n                        e.message +\n                        ' This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n                }\n                this._filterUpToDate = true;\n            }\n            return filterCanvas;\n        }\n        return sceneCanvas;\n    }\n    on(evtStr, handler) {\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (arguments.length === 3) {\n            return this._delegate.apply(this, arguments);\n        }\n        var events = evtStr.split(SPACE), len = events.length, n, event, parts, baseEvent, name;\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1] || '';\n            if (!this.eventListeners[baseEvent]) {\n                this.eventListeners[baseEvent] = [];\n            }\n            this.eventListeners[baseEvent].push({\n                name: name,\n                handler: handler,\n            });\n        }\n        return this;\n    }\n    off(evtStr, callback) {\n        var events = (evtStr || '').split(SPACE), len = events.length, n, t, event, parts, baseEvent, name;\n        this._cache && this._cache.delete(ALL_LISTENERS);\n        if (!evtStr) {\n            for (t in this.eventListeners) {\n                this._off(t);\n            }\n        }\n        for (n = 0; n < len; n++) {\n            event = events[n];\n            parts = event.split('.');\n            baseEvent = parts[0];\n            name = parts[1];\n            if (baseEvent) {\n                if (this.eventListeners[baseEvent]) {\n                    this._off(baseEvent, name, callback);\n                }\n            }\n            else {\n                for (t in this.eventListeners) {\n                    this._off(t, name, callback);\n                }\n            }\n        }\n        return this;\n    }\n    dispatchEvent(evt) {\n        var e = {\n            target: this,\n            type: evt.type,\n            evt: evt,\n        };\n        this.fire(evt.type, e);\n        return this;\n    }\n    addEventListener(type, handler) {\n        this.on(type, function (evt) {\n            handler.call(this, evt.evt);\n        });\n        return this;\n    }\n    removeEventListener(type) {\n        this.off(type);\n        return this;\n    }\n    _delegate(event, selector, handler) {\n        var stopNode = this;\n        this.on(event, function (evt) {\n            var targets = evt.target.findAncestors(selector, true, stopNode);\n            for (var i = 0; i < targets.length; i++) {\n                evt = Util_1.Util.cloneObject(evt);\n                evt.currentTarget = targets[i];\n                handler.call(targets[i], evt);\n            }\n        });\n    }\n    remove() {\n        if (this.isDragging()) {\n            this.stopDrag();\n        }\n        DragAndDrop_1.DD._dragElements.delete(this._id);\n        this._remove();\n        return this;\n    }\n    _clearCaches() {\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n        this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n        this._clearSelfAndDescendantCache(STAGE);\n        this._clearSelfAndDescendantCache(VISIBLE);\n        this._clearSelfAndDescendantCache(LISTENING);\n    }\n    _remove() {\n        this._clearCaches();\n        var parent = this.getParent();\n        if (parent && parent.children) {\n            parent.children.splice(this.index, 1);\n            parent._setChildrenIndices();\n            this.parent = null;\n        }\n    }\n    destroy() {\n        this.remove();\n        this.clearCache();\n        return this;\n    }\n    getAttr(attr) {\n        var method = 'get' + Util_1.Util._capitalize(attr);\n        if (Util_1.Util._isFunction(this[method])) {\n            return this[method]();\n        }\n        return this.attrs[attr];\n    }\n    getAncestors() {\n        var parent = this.getParent(), ancestors = [];\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.getParent();\n        }\n        return ancestors;\n    }\n    getAttrs() {\n        return this.attrs || {};\n    }\n    setAttrs(config) {\n        this._batchTransformChanges(() => {\n            var key, method;\n            if (!config) {\n                return this;\n            }\n            for (key in config) {\n                if (key === CHILDREN) {\n                    continue;\n                }\n                method = SET + Util_1.Util._capitalize(key);\n                if (Util_1.Util._isFunction(this[method])) {\n                    this[method](config[key]);\n                }\n                else {\n                    this._setAttr(key, config[key]);\n                }\n            }\n        });\n        return this;\n    }\n    isListening() {\n        return this._getCache(LISTENING, this._isListening);\n    }\n    _isListening(relativeTo) {\n        const listening = this.listening();\n        if (!listening) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isListening(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    isVisible() {\n        return this._getCache(VISIBLE, this._isVisible);\n    }\n    _isVisible(relativeTo) {\n        const visible = this.visible();\n        if (!visible) {\n            return false;\n        }\n        const parent = this.getParent();\n        if (parent && parent !== relativeTo && this !== relativeTo) {\n            return parent._isVisible(relativeTo);\n        }\n        else {\n            return true;\n        }\n    }\n    shouldDrawHit(top, skipDragCheck = false) {\n        if (top) {\n            return this._isVisible(top) && this._isListening(top);\n        }\n        var layer = this.getLayer();\n        var layerUnderDrag = false;\n        DragAndDrop_1.DD._dragElements.forEach((elem) => {\n            if (elem.dragStatus !== 'dragging') {\n                return;\n            }\n            else if (elem.node.nodeType === 'Stage') {\n                layerUnderDrag = true;\n            }\n            else if (elem.node.getLayer() === layer) {\n                layerUnderDrag = true;\n            }\n        });\n        var dragSkip = !skipDragCheck && !Global_1.Konva.hitOnDragEnabled && layerUnderDrag;\n        return this.isListening() && this.isVisible() && !dragSkip;\n    }\n    show() {\n        this.visible(true);\n        return this;\n    }\n    hide() {\n        this.visible(false);\n        return this;\n    }\n    getZIndex() {\n        return this.index || 0;\n    }\n    getAbsoluteZIndex() {\n        var depth = this.getDepth(), that = this, index = 0, nodes, len, n, child;\n        function addChildren(children) {\n            nodes = [];\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                child = children[n];\n                index++;\n                if (child.nodeType !== SHAPE) {\n                    nodes = nodes.concat(child.getChildren().slice());\n                }\n                if (child._id === that._id) {\n                    n = len;\n                }\n            }\n            if (nodes.length > 0 && nodes[0].getDepth() <= depth) {\n                addChildren(nodes);\n            }\n        }\n        if (that.nodeType !== UPPER_STAGE) {\n            addChildren(that.getStage().getChildren());\n        }\n        return index;\n    }\n    getDepth() {\n        var depth = 0, parent = this.parent;\n        while (parent) {\n            depth++;\n            parent = parent.parent;\n        }\n        return depth;\n    }\n    _batchTransformChanges(func) {\n        this._batchingTransformChange = true;\n        func();\n        this._batchingTransformChange = false;\n        if (this._needClearTransformCache) {\n            this._clearCache(TRANSFORM);\n            this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        }\n        this._needClearTransformCache = false;\n    }\n    setPosition(pos) {\n        this._batchTransformChanges(() => {\n            this.x(pos.x);\n            this.y(pos.y);\n        });\n        return this;\n    }\n    getPosition() {\n        return {\n            x: this.x(),\n            y: this.y(),\n        };\n    }\n    getRelativePointerPosition() {\n        if (!this.getStage()) {\n            return null;\n        }\n        var pos = this.getStage().getPointerPosition();\n        if (!pos) {\n            return null;\n        }\n        var transform = this.getAbsoluteTransform().copy();\n        transform.invert();\n        return transform.point(pos);\n    }\n    getAbsolutePosition(top) {\n        let haveCachedParent = false;\n        let parent = this.parent;\n        while (parent) {\n            if (parent.isCached()) {\n                haveCachedParent = true;\n                break;\n            }\n            parent = parent.parent;\n        }\n        if (haveCachedParent && !top) {\n            top = true;\n        }\n        var absoluteMatrix = this.getAbsoluteTransform(top).getMatrix(), absoluteTransform = new Util_1.Transform(), offset = this.offset();\n        absoluteTransform.m = absoluteMatrix.slice();\n        absoluteTransform.translate(offset.x, offset.y);\n        return absoluteTransform.getTranslation();\n    }\n    setAbsolutePosition(pos) {\n        var origTrans = this._clearTransform();\n        this.attrs.x = origTrans.x;\n        this.attrs.y = origTrans.y;\n        delete origTrans.x;\n        delete origTrans.y;\n        this._clearCache(TRANSFORM);\n        var it = this._getAbsoluteTransform().copy();\n        it.invert();\n        it.translate(pos.x, pos.y);\n        pos = {\n            x: this.attrs.x + it.getTranslation().x,\n            y: this.attrs.y + it.getTranslation().y,\n        };\n        this._setTransform(origTrans);\n        this.setPosition({ x: pos.x, y: pos.y });\n        this._clearCache(TRANSFORM);\n        this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n        return this;\n    }\n    _setTransform(trans) {\n        var key;\n        for (key in trans) {\n            this.attrs[key] = trans[key];\n        }\n    }\n    _clearTransform() {\n        var trans = {\n            x: this.x(),\n            y: this.y(),\n            rotation: this.rotation(),\n            scaleX: this.scaleX(),\n            scaleY: this.scaleY(),\n            offsetX: this.offsetX(),\n            offsetY: this.offsetY(),\n            skewX: this.skewX(),\n            skewY: this.skewY(),\n        };\n        this.attrs.x = 0;\n        this.attrs.y = 0;\n        this.attrs.rotation = 0;\n        this.attrs.scaleX = 1;\n        this.attrs.scaleY = 1;\n        this.attrs.offsetX = 0;\n        this.attrs.offsetY = 0;\n        this.attrs.skewX = 0;\n        this.attrs.skewY = 0;\n        return trans;\n    }\n    move(change) {\n        var changeX = change.x, changeY = change.y, x = this.x(), y = this.y();\n        if (changeX !== undefined) {\n            x += changeX;\n        }\n        if (changeY !== undefined) {\n            y += changeY;\n        }\n        this.setPosition({ x: x, y: y });\n        return this;\n    }\n    _eachAncestorReverse(func, top) {\n        var family = [], parent = this.getParent(), len, n;\n        if (top && top._id === this._id) {\n            return;\n        }\n        family.unshift(this);\n        while (parent && (!top || parent._id !== top._id)) {\n            family.unshift(parent);\n            parent = parent.parent;\n        }\n        len = family.length;\n        for (n = 0; n < len; n++) {\n            func(family[n]);\n        }\n    }\n    rotate(theta) {\n        this.rotation(this.rotation() + theta);\n        return this;\n    }\n    moveToTop() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToTop function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.push(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveUp() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveUp function is ignored.');\n            return false;\n        }\n        var index = this.index, len = this.parent.getChildren().length;\n        if (index < len - 1) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index + 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveDown() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveDown function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.splice(index - 1, 0, this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. moveToBottom function is ignored.');\n            return false;\n        }\n        var index = this.index;\n        if (index > 0) {\n            this.parent.children.splice(index, 1);\n            this.parent.children.unshift(this);\n            this.parent._setChildrenIndices();\n            return true;\n        }\n        return false;\n    }\n    setZIndex(zIndex) {\n        if (!this.parent) {\n            Util_1.Util.warn('Node has no parent. zIndex parameter is ignored.');\n            return this;\n        }\n        if (zIndex < 0 || zIndex >= this.parent.children.length) {\n            Util_1.Util.warn('Unexpected value ' +\n                zIndex +\n                ' for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to ' +\n                (this.parent.children.length - 1) +\n                '.');\n        }\n        var index = this.index;\n        this.parent.children.splice(index, 1);\n        this.parent.children.splice(zIndex, 0, this);\n        this.parent._setChildrenIndices();\n        return this;\n    }\n    getAbsoluteOpacity() {\n        return this._getCache(ABSOLUTE_OPACITY, this._getAbsoluteOpacity);\n    }\n    _getAbsoluteOpacity() {\n        var absOpacity = this.opacity();\n        var parent = this.getParent();\n        if (parent && !parent._isUnderCache) {\n            absOpacity *= parent.getAbsoluteOpacity();\n        }\n        return absOpacity;\n    }\n    moveTo(newContainer) {\n        if (this.getParent() !== newContainer) {\n            this._remove();\n            newContainer.add(this);\n        }\n        return this;\n    }\n    toObject() {\n        var obj = {}, attrs = this.getAttrs(), key, val, getter, defaultValue, nonPlainObject;\n        obj.attrs = {};\n        for (key in attrs) {\n            val = attrs[key];\n            nonPlainObject =\n                Util_1.Util.isObject(val) && !Util_1.Util._isPlainObject(val) && !Util_1.Util._isArray(val);\n            if (nonPlainObject) {\n                continue;\n            }\n            getter = typeof this[key] === 'function' && this[key];\n            delete attrs[key];\n            defaultValue = getter ? getter.call(this) : null;\n            attrs[key] = val;\n            if (defaultValue !== val) {\n                obj.attrs[key] = val;\n            }\n        }\n        obj.className = this.getClassName();\n        return Util_1.Util._prepareToStringify(obj);\n    }\n    toJSON() {\n        return JSON.stringify(this.toObject());\n    }\n    getParent() {\n        return this.parent;\n    }\n    findAncestors(selector, includeSelf, stopNode) {\n        var res = [];\n        if (includeSelf && this._isMatch(selector)) {\n            res.push(this);\n        }\n        var ancestor = this.parent;\n        while (ancestor) {\n            if (ancestor === stopNode) {\n                return res;\n            }\n            if (ancestor._isMatch(selector)) {\n                res.push(ancestor);\n            }\n            ancestor = ancestor.parent;\n        }\n        return res;\n    }\n    isAncestorOf(node) {\n        return false;\n    }\n    findAncestor(selector, includeSelf, stopNode) {\n        return this.findAncestors(selector, includeSelf, stopNode)[0];\n    }\n    _isMatch(selector) {\n        if (!selector) {\n            return false;\n        }\n        if (typeof selector === 'function') {\n            return selector(this);\n        }\n        var selectorArr = selector.replace(/ /g, '').split(','), len = selectorArr.length, n, sel;\n        for (n = 0; n < len; n++) {\n            sel = selectorArr[n];\n            if (!Util_1.Util.isValidSelector(sel)) {\n                Util_1.Util.warn('Selector \"' +\n                    sel +\n                    '\" is invalid. Allowed selectors examples are \"#foo\", \".bar\" or \"Group\".');\n                Util_1.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like \"Triangle\".');\n                Util_1.Util.warn('Konva is awesome, right?');\n            }\n            if (sel.charAt(0) === '#') {\n                if (this.id() === sel.slice(1)) {\n                    return true;\n                }\n            }\n            else if (sel.charAt(0) === '.') {\n                if (this.hasName(sel.slice(1))) {\n                    return true;\n                }\n            }\n            else if (this.className === sel || this.nodeType === sel) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getLayer() {\n        var parent = this.getParent();\n        return parent ? parent.getLayer() : null;\n    }\n    getStage() {\n        return this._getCache(STAGE, this._getStage);\n    }\n    _getStage() {\n        var parent = this.getParent();\n        if (parent) {\n            return parent.getStage();\n        }\n        else {\n            return undefined;\n        }\n    }\n    fire(eventType, evt = {}, bubble) {\n        evt.target = evt.target || this;\n        if (bubble) {\n            this._fireAndBubble(eventType, evt);\n        }\n        else {\n            this._fire(eventType, evt);\n        }\n        return this;\n    }\n    getAbsoluteTransform(top) {\n        if (top) {\n            return this._getAbsoluteTransform(top);\n        }\n        else {\n            return this._getCache(ABSOLUTE_TRANSFORM, this._getAbsoluteTransform);\n        }\n    }\n    _getAbsoluteTransform(top) {\n        var at;\n        if (top) {\n            at = new Util_1.Transform();\n            this._eachAncestorReverse(function (node) {\n                var transformsEnabled = node.transformsEnabled();\n                if (transformsEnabled === 'all') {\n                    at.multiply(node.getTransform());\n                }\n                else if (transformsEnabled === 'position') {\n                    at.translate(node.x() - node.offsetX(), node.y() - node.offsetY());\n                }\n            }, top);\n            return at;\n        }\n        else {\n            at = this._cache.get(ABSOLUTE_TRANSFORM) || new Util_1.Transform();\n            if (this.parent) {\n                this.parent.getAbsoluteTransform().copyInto(at);\n            }\n            else {\n                at.reset();\n            }\n            var transformsEnabled = this.transformsEnabled();\n            if (transformsEnabled === 'all') {\n                at.multiply(this.getTransform());\n            }\n            else if (transformsEnabled === 'position') {\n                const x = this.attrs.x || 0;\n                const y = this.attrs.y || 0;\n                const offsetX = this.attrs.offsetX || 0;\n                const offsetY = this.attrs.offsetY || 0;\n                at.translate(x - offsetX, y - offsetY);\n            }\n            at.dirty = false;\n            return at;\n        }\n    }\n    getAbsoluteScale(top) {\n        var parent = this;\n        while (parent) {\n            if (parent._isUnderCache) {\n                top = parent;\n            }\n            parent = parent.getParent();\n        }\n        const transform = this.getAbsoluteTransform(top);\n        const attrs = transform.decompose();\n        return {\n            x: attrs.scaleX,\n            y: attrs.scaleY,\n        };\n    }\n    getAbsoluteRotation() {\n        return this.getAbsoluteTransform().decompose().rotation;\n    }\n    getTransform() {\n        return this._getCache(TRANSFORM, this._getTransform);\n    }\n    _getTransform() {\n        var _a, _b;\n        var m = this._cache.get(TRANSFORM) || new Util_1.Transform();\n        m.reset();\n        var x = this.x(), y = this.y(), rotation = Global_1.Konva.getAngle(this.rotation()), scaleX = (_a = this.attrs.scaleX) !== null && _a !== void 0 ? _a : 1, scaleY = (_b = this.attrs.scaleY) !== null && _b !== void 0 ? _b : 1, skewX = this.attrs.skewX || 0, skewY = this.attrs.skewY || 0, offsetX = this.attrs.offsetX || 0, offsetY = this.attrs.offsetY || 0;\n        if (x !== 0 || y !== 0) {\n            m.translate(x, y);\n        }\n        if (rotation !== 0) {\n            m.rotate(rotation);\n        }\n        if (skewX !== 0 || skewY !== 0) {\n            m.skew(skewX, skewY);\n        }\n        if (scaleX !== 1 || scaleY !== 1) {\n            m.scale(scaleX, scaleY);\n        }\n        if (offsetX !== 0 || offsetY !== 0) {\n            m.translate(-1 * offsetX, -1 * offsetY);\n        }\n        m.dirty = false;\n        return m;\n    }\n    clone(obj) {\n        var attrs = Util_1.Util.cloneObject(this.attrs), key, allListeners, len, n, listener;\n        for (key in obj) {\n            attrs[key] = obj[key];\n        }\n        var node = new this.constructor(attrs);\n        for (key in this.eventListeners) {\n            allListeners = this.eventListeners[key];\n            len = allListeners.length;\n            for (n = 0; n < len; n++) {\n                listener = allListeners[n];\n                if (listener.name.indexOf(KONVA) < 0) {\n                    if (!node.eventListeners[key]) {\n                        node.eventListeners[key] = [];\n                    }\n                    node.eventListeners[key].push(listener);\n                }\n            }\n        }\n        return node;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        var box = this.getClientRect();\n        var stage = this.getStage(), x = config.x !== undefined ? config.x : Math.floor(box.x), y = config.y !== undefined ? config.y : Math.floor(box.y), pixelRatio = config.pixelRatio || 1, canvas = new Canvas_1.SceneCanvas({\n            width: config.width || Math.ceil(box.width) || (stage ? stage.width() : 0),\n            height: config.height ||\n                Math.ceil(box.height) ||\n                (stage ? stage.height() : 0),\n            pixelRatio: pixelRatio,\n        }), context = canvas.getContext();\n        if (config.imageSmoothingEnabled === false) {\n            context._context.imageSmoothingEnabled = false;\n        }\n        context.save();\n        if (x || y) {\n            context.translate(-1 * x, -1 * y);\n        }\n        this.drawScene(canvas);\n        context.restore();\n        return canvas;\n    }\n    toCanvas(config) {\n        return this._toKonvaCanvas(config)._canvas;\n    }\n    toDataURL(config) {\n        config = config || {};\n        var mimeType = config.mimeType || null, quality = config.quality || null;\n        var url = this._toKonvaCanvas(config).toDataURL(mimeType, quality);\n        if (config.callback) {\n            config.callback(url);\n        }\n        return url;\n    }\n    toImage(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                Util_1.Util._urlToImage(this.toDataURL(config), function (img) {\n                    resolve(img);\n                    callback === null || callback === void 0 ? void 0 : callback(img);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    toBlob(config) {\n        return new Promise((resolve, reject) => {\n            try {\n                const callback = config === null || config === void 0 ? void 0 : config.callback;\n                if (callback)\n                    delete config.callback;\n                this.toCanvas(config).toBlob((blob) => {\n                    resolve(blob);\n                    callback === null || callback === void 0 ? void 0 : callback(blob);\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    setSize(size) {\n        this.width(size.width);\n        this.height(size.height);\n        return this;\n    }\n    getSize() {\n        return {\n            width: this.width(),\n            height: this.height(),\n        };\n    }\n    getClassName() {\n        return this.className || this.nodeType;\n    }\n    getType() {\n        return this.nodeType;\n    }\n    getDragDistance() {\n        if (this.attrs.dragDistance !== undefined) {\n            return this.attrs.dragDistance;\n        }\n        else if (this.parent) {\n            return this.parent.getDragDistance();\n        }\n        else {\n            return Global_1.Konva.dragDistance;\n        }\n    }\n    _off(type, name, callback) {\n        var evtListeners = this.eventListeners[type], i, evtName, handler;\n        for (i = 0; i < evtListeners.length; i++) {\n            evtName = evtListeners[i].name;\n            handler = evtListeners[i].handler;\n            if ((evtName !== 'konva' || name === 'konva') &&\n                (!name || evtName === name) &&\n                (!callback || callback === handler)) {\n                evtListeners.splice(i, 1);\n                if (evtListeners.length === 0) {\n                    delete this.eventListeners[type];\n                    break;\n                }\n                i--;\n            }\n        }\n    }\n    _fireChangeEvent(attr, oldVal, newVal) {\n        this._fire(attr + CHANGE, {\n            oldVal: oldVal,\n            newVal: newVal,\n        });\n    }\n    addName(name) {\n        if (!this.hasName(name)) {\n            var oldName = this.name();\n            var newName = oldName ? oldName + ' ' + name : name;\n            this.name(newName);\n        }\n        return this;\n    }\n    hasName(name) {\n        if (!name) {\n            return false;\n        }\n        const fullName = this.name();\n        if (!fullName) {\n            return false;\n        }\n        var names = (fullName || '').split(/\\s/g);\n        return names.indexOf(name) !== -1;\n    }\n    removeName(name) {\n        var names = (this.name() || '').split(/\\s/g);\n        var index = names.indexOf(name);\n        if (index !== -1) {\n            names.splice(index, 1);\n            this.name(names.join(' '));\n        }\n        return this;\n    }\n    setAttr(attr, val) {\n        var func = this[SET + Util_1.Util._capitalize(attr)];\n        if (Util_1.Util._isFunction(func)) {\n            func.call(this, val);\n        }\n        else {\n            this._setAttr(attr, val);\n        }\n        return this;\n    }\n    _requestDraw() {\n        if (Global_1.Konva.autoDrawEnabled) {\n            const drawNode = this.getLayer() || this.getStage();\n            drawNode === null || drawNode === void 0 ? void 0 : drawNode.batchDraw();\n        }\n    }\n    _setAttr(key, val) {\n        var oldVal = this.attrs[key];\n        if (oldVal === val && !Util_1.Util.isObject(val)) {\n            return;\n        }\n        if (val === undefined || val === null) {\n            delete this.attrs[key];\n        }\n        else {\n            this.attrs[key] = val;\n        }\n        if (this._shouldFireChangeEvents) {\n            this._fireChangeEvent(key, oldVal, val);\n        }\n        this._requestDraw();\n    }\n    _setComponentAttr(key, component, val) {\n        var oldVal;\n        if (val !== undefined) {\n            oldVal = this.attrs[key];\n            if (!oldVal) {\n                this.attrs[key] = this.getAttr(key);\n            }\n            this.attrs[key][component] = val;\n            this._fireChangeEvent(key, oldVal, val);\n        }\n    }\n    _fireAndBubble(eventType, evt, compareShape) {\n        if (evt && this.nodeType === SHAPE) {\n            evt.target = this;\n        }\n        var shouldStop = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n            ((compareShape &&\n                (this === compareShape ||\n                    (this.isAncestorOf && this.isAncestorOf(compareShape)))) ||\n                (this.nodeType === 'Stage' && !compareShape));\n        if (!shouldStop) {\n            this._fire(eventType, evt);\n            var stopBubble = (eventType === MOUSEENTER || eventType === MOUSELEAVE) &&\n                compareShape &&\n                compareShape.isAncestorOf &&\n                compareShape.isAncestorOf(this) &&\n                !compareShape.isAncestorOf(this.parent);\n            if (((evt && !evt.cancelBubble) || !evt) &&\n                this.parent &&\n                this.parent.isListening() &&\n                !stopBubble) {\n                if (compareShape && compareShape.parent) {\n                    this._fireAndBubble.call(this.parent, eventType, evt, compareShape);\n                }\n                else {\n                    this._fireAndBubble.call(this.parent, eventType, evt);\n                }\n            }\n        }\n    }\n    _getProtoListeners(eventType) {\n        var _a, _b, _c;\n        const allListeners = (_a = this._cache.get(ALL_LISTENERS)) !== null && _a !== void 0 ? _a : {};\n        let events = allListeners === null || allListeners === void 0 ? void 0 : allListeners[eventType];\n        if (events === undefined) {\n            events = [];\n            let obj = Object.getPrototypeOf(this);\n            while (obj) {\n                const hierarchyEvents = (_c = (_b = obj.eventListeners) === null || _b === void 0 ? void 0 : _b[eventType]) !== null && _c !== void 0 ? _c : [];\n                events.push(...hierarchyEvents);\n                obj = Object.getPrototypeOf(obj);\n            }\n            allListeners[eventType] = events;\n            this._cache.set(ALL_LISTENERS, allListeners);\n        }\n        return events;\n    }\n    _fire(eventType, evt) {\n        evt = evt || {};\n        evt.currentTarget = this;\n        evt.type = eventType;\n        const topListeners = this._getProtoListeners(eventType);\n        if (topListeners) {\n            for (var i = 0; i < topListeners.length; i++) {\n                topListeners[i].handler.call(this, evt);\n            }\n        }\n        const selfListeners = this.eventListeners[eventType];\n        if (selfListeners) {\n            for (var i = 0; i < selfListeners.length; i++) {\n                selfListeners[i].handler.call(this, evt);\n            }\n        }\n    }\n    draw() {\n        this.drawScene();\n        this.drawHit();\n        return this;\n    }\n    _createDragElement(evt) {\n        var pointerId = evt ? evt.pointerId : undefined;\n        var stage = this.getStage();\n        var ap = this.getAbsolutePosition();\n        var pos = stage._getPointerById(pointerId) ||\n            stage._changedPointerPositions[0] ||\n            ap;\n        DragAndDrop_1.DD._dragElements.set(this._id, {\n            node: this,\n            startPointerPos: pos,\n            offset: {\n                x: pos.x - ap.x,\n                y: pos.y - ap.y,\n            },\n            dragStatus: 'ready',\n            pointerId,\n        });\n    }\n    startDrag(evt, bubbleEvent = true) {\n        if (!DragAndDrop_1.DD._dragElements.has(this._id)) {\n            this._createDragElement(evt);\n        }\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        elem.dragStatus = 'dragging';\n        this.fire('dragstart', {\n            type: 'dragstart',\n            target: this,\n            evt: evt && evt.evt,\n        }, bubbleEvent);\n    }\n    _setDragPosition(evt, elem) {\n        const pos = this.getStage()._getPointerById(elem.pointerId);\n        if (!pos) {\n            return;\n        }\n        var newNodePos = {\n            x: pos.x - elem.offset.x,\n            y: pos.y - elem.offset.y,\n        };\n        var dbf = this.dragBoundFunc();\n        if (dbf !== undefined) {\n            const bounded = dbf.call(this, newNodePos, evt);\n            if (!bounded) {\n                Util_1.Util.warn('dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.');\n            }\n            else {\n                newNodePos = bounded;\n            }\n        }\n        if (!this._lastPos ||\n            this._lastPos.x !== newNodePos.x ||\n            this._lastPos.y !== newNodePos.y) {\n            this.setAbsolutePosition(newNodePos);\n            this._requestDraw();\n        }\n        this._lastPos = newNodePos;\n    }\n    stopDrag(evt) {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        if (elem) {\n            elem.dragStatus = 'stopped';\n        }\n        DragAndDrop_1.DD._endDragBefore(evt);\n        DragAndDrop_1.DD._endDragAfter(evt);\n    }\n    setDraggable(draggable) {\n        this._setAttr('draggable', draggable);\n        this._dragChange();\n    }\n    isDragging() {\n        const elem = DragAndDrop_1.DD._dragElements.get(this._id);\n        return elem ? elem.dragStatus === 'dragging' : false;\n    }\n    _listenDrag() {\n        this._dragCleanup();\n        this.on('mousedown.konva touchstart.konva', function (evt) {\n            var shouldCheckButton = evt.evt['button'] !== undefined;\n            var canDrag = !shouldCheckButton || Global_1.Konva.dragButtons.indexOf(evt.evt['button']) >= 0;\n            if (!canDrag) {\n                return;\n            }\n            if (this.isDragging()) {\n                return;\n            }\n            var hasDraggingChild = false;\n            DragAndDrop_1.DD._dragElements.forEach((elem) => {\n                if (this.isAncestorOf(elem.node)) {\n                    hasDraggingChild = true;\n                }\n            });\n            if (!hasDraggingChild) {\n                this._createDragElement(evt);\n            }\n        });\n    }\n    _dragChange() {\n        if (this.attrs.draggable) {\n            this._listenDrag();\n        }\n        else {\n            this._dragCleanup();\n            var stage = this.getStage();\n            if (!stage) {\n                return;\n            }\n            const dragElement = DragAndDrop_1.DD._dragElements.get(this._id);\n            const isDragging = dragElement && dragElement.dragStatus === 'dragging';\n            const isReady = dragElement && dragElement.dragStatus === 'ready';\n            if (isDragging) {\n                this.stopDrag();\n            }\n            else if (isReady) {\n                DragAndDrop_1.DD._dragElements.delete(this._id);\n            }\n        }\n    }\n    _dragCleanup() {\n        this.off('mousedown.konva');\n        this.off('touchstart.konva');\n    }\n    isClientRectOnScreen(margin = { x: 0, y: 0 }) {\n        const stage = this.getStage();\n        if (!stage) {\n            return false;\n        }\n        const screenRect = {\n            x: -margin.x,\n            y: -margin.y,\n            width: stage.width() + 2 * margin.x,\n            height: stage.height() + 2 * margin.y,\n        };\n        return Util_1.Util.haveIntersection(screenRect, this.getClientRect());\n    }\n    static create(data, container) {\n        if (Util_1.Util._isString(data)) {\n            data = JSON.parse(data);\n        }\n        return this._createNode(data, container);\n    }\n    static _createNode(obj, container) {\n        var className = Node.prototype.getClassName.call(obj), children = obj.children, no, len, n;\n        if (container) {\n            obj.attrs.container = container;\n        }\n        if (!Global_1.Konva[className]) {\n            Util_1.Util.warn('Can not find a node with class name \"' +\n                className +\n                '\". Fallback to \"Shape\".');\n            className = 'Shape';\n        }\n        const Class = Global_1.Konva[className];\n        no = new Class(obj.attrs);\n        if (children) {\n            len = children.length;\n            for (n = 0; n < len; n++) {\n                no.add(Node._createNode(children[n]));\n            }\n        }\n        return no;\n    }\n}\nexports.Node = Node;\nNode.prototype.nodeType = 'Node';\nNode.prototype._attrsAffectingSize = [];\nNode.prototype.eventListeners = {};\nNode.prototype.on.call(Node.prototype, TRANSFORM_CHANGE_STR, function () {\n    if (this._batchingTransformChange) {\n        this._needClearTransformCache = true;\n        return;\n    }\n    this._clearCache(TRANSFORM);\n    this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype, 'visibleChange.konva', function () {\n    this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype, 'listeningChange.konva', function () {\n    this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype, 'opacityChange.konva', function () {\n    this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst addGetterSetter = Factory_1.Factory.addGetterSetter;\naddGetterSetter(Node, 'zIndex');\naddGetterSetter(Node, 'absolutePosition');\naddGetterSetter(Node, 'position');\naddGetterSetter(Node, 'x', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'y', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'globalCompositeOperation', 'source-over', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'opacity', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'name', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'id', '', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'rotation', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'scale', ['x', 'y']);\naddGetterSetter(Node, 'scaleX', 1, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'scaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'skew', ['x', 'y']);\naddGetterSetter(Node, 'skewX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'skewY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Node, 'offset', ['x', 'y']);\naddGetterSetter(Node, 'offsetX', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'offsetY', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'dragDistance', null, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'width', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'height', 0, (0, Validators_1.getNumberValidator)());\naddGetterSetter(Node, 'listening', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'preventDefault', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'filters', null, function (val) {\n    this._filterUpToDate = false;\n    return val;\n});\naddGetterSetter(Node, 'visible', true, (0, Validators_1.getBooleanValidator)());\naddGetterSetter(Node, 'transformsEnabled', 'all', (0, Validators_1.getStringValidator)());\naddGetterSetter(Node, 'size');\naddGetterSetter(Node, 'dragBoundFunc');\naddGetterSetter(Node, 'draggable', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.backCompat(Node, {\n    rotateDeg: 'rotate',\n    setRotationDeg: 'setRotation',\n    getRotationDeg: 'getRotation',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nclass Container extends Node_1.Node {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n    }\n    getChildren(filterFunc) {\n        if (!filterFunc) {\n            return this.children || [];\n        }\n        const children = this.children || [];\n        var results = [];\n        children.forEach(function (child) {\n            if (filterFunc(child)) {\n                results.push(child);\n            }\n        });\n        return results;\n    }\n    hasChildren() {\n        return this.getChildren().length > 0;\n    }\n    removeChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.remove();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    destroyChildren() {\n        this.getChildren().forEach((child) => {\n            child.parent = null;\n            child.index = 0;\n            child.destroy();\n        });\n        this.children = [];\n        this._requestDraw();\n        return this;\n    }\n    add(...children) {\n        if (children.length === 0) {\n            return this;\n        }\n        if (children.length > 1) {\n            for (var i = 0; i < children.length; i++) {\n                this.add(children[i]);\n            }\n            return this;\n        }\n        const child = children[0];\n        if (child.getParent()) {\n            child.moveTo(this);\n            return this;\n        }\n        this._validateAdd(child);\n        child.index = this.getChildren().length;\n        child.parent = this;\n        child._clearCaches();\n        this.getChildren().push(child);\n        this._fire('add', {\n            child: child,\n        });\n        this._requestDraw();\n        return this;\n    }\n    destroy() {\n        if (this.hasChildren()) {\n            this.destroyChildren();\n        }\n        super.destroy();\n        return this;\n    }\n    find(selector) {\n        return this._generalFind(selector, false);\n    }\n    findOne(selector) {\n        var result = this._generalFind(selector, true);\n        return result.length > 0 ? result[0] : undefined;\n    }\n    _generalFind(selector, findOne) {\n        var retArr = [];\n        this._descendants((node) => {\n            const valid = node._isMatch(selector);\n            if (valid) {\n                retArr.push(node);\n            }\n            if (valid && findOne) {\n                return true;\n            }\n            return false;\n        });\n        return retArr;\n    }\n    _descendants(fn) {\n        let shouldStop = false;\n        const children = this.getChildren();\n        for (const child of children) {\n            shouldStop = fn(child);\n            if (shouldStop) {\n                return true;\n            }\n            if (!child.hasChildren()) {\n                continue;\n            }\n            shouldStop = child._descendants(fn);\n            if (shouldStop) {\n                return true;\n            }\n        }\n        return false;\n    }\n    toObject() {\n        var obj = Node_1.Node.prototype.toObject.call(this);\n        obj.children = [];\n        this.getChildren().forEach((child) => {\n            obj.children.push(child.toObject());\n        });\n        return obj;\n    }\n    isAncestorOf(node) {\n        var parent = node.getParent();\n        while (parent) {\n            if (parent._id === this._id) {\n                return true;\n            }\n            parent = parent.getParent();\n        }\n        return false;\n    }\n    clone(obj) {\n        var node = Node_1.Node.prototype.clone.call(this, obj);\n        this.getChildren().forEach(function (no) {\n            node.add(no.clone());\n        });\n        return node;\n    }\n    getAllIntersections(pos) {\n        var arr = [];\n        this.find('Shape').forEach(function (shape) {\n            if (shape.isVisible() && shape.intersects(pos)) {\n                arr.push(shape);\n            }\n        });\n        return arr;\n    }\n    _clearSelfAndDescendantCache(attr) {\n        var _a;\n        super._clearSelfAndDescendantCache(attr);\n        if (this.isCached()) {\n            return;\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (node) {\n            node._clearSelfAndDescendantCache(attr);\n        });\n    }\n    _setChildrenIndices() {\n        var _a;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child, n) {\n            child.index = n;\n        });\n        this._requestDraw();\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas()), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedSceneCanvas = cachedCanvas && cachedCanvas.scene;\n        var caching = canvas && canvas.isCache;\n        if (!this.isVisible() && !caching) {\n            return this;\n        }\n        if (cachedSceneCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawScene', canvas, top);\n        }\n        return this;\n    }\n    drawHit(can, top) {\n        if (!this.shouldDrawHit(top)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas), context = canvas && canvas.getContext(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n        }\n        else {\n            this._drawChildren('drawHit', canvas, top);\n        }\n        return this;\n    }\n    _drawChildren(drawMethod, canvas, top) {\n        var _a;\n        var context = canvas && canvas.getContext(), clipWidth = this.clipWidth(), clipHeight = this.clipHeight(), clipFunc = this.clipFunc(), hasClip = (clipWidth && clipHeight) || clipFunc;\n        const selfCache = top === this;\n        if (hasClip) {\n            context.save();\n            var transform = this.getAbsoluteTransform(top);\n            var m = transform.getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            context.beginPath();\n            let clipArgs;\n            if (clipFunc) {\n                clipArgs = clipFunc.call(this, context, this);\n            }\n            else {\n                var clipX = this.clipX();\n                var clipY = this.clipY();\n                context.rect(clipX, clipY, clipWidth, clipHeight);\n            }\n            context.clip.apply(context, clipArgs);\n            m = transform.copy().invert().getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        }\n        var hasComposition = !selfCache &&\n            this.globalCompositeOperation() !== 'source-over' &&\n            drawMethod === 'drawScene';\n        if (hasComposition) {\n            context.save();\n            context._applyGlobalCompositeOperation(this);\n        }\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            child[drawMethod](canvas, top);\n        });\n        if (hasComposition) {\n            context.restore();\n        }\n        if (hasClip) {\n            context.restore();\n        }\n    }\n    getClientRect(config) {\n        var _a;\n        config = config || {};\n        var skipTransform = config.skipTransform;\n        var relativeTo = config.relativeTo;\n        var minX, minY, maxX, maxY;\n        var selfRect = {\n            x: Infinity,\n            y: Infinity,\n            width: 0,\n            height: 0,\n        };\n        var that = this;\n        (_a = this.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {\n            if (!child.visible()) {\n                return;\n            }\n            var rect = child.getClientRect({\n                relativeTo: that,\n                skipShadow: config.skipShadow,\n                skipStroke: config.skipStroke,\n            });\n            if (rect.width === 0 && rect.height === 0) {\n                return;\n            }\n            if (minX === undefined) {\n                minX = rect.x;\n                minY = rect.y;\n                maxX = rect.x + rect.width;\n                maxY = rect.y + rect.height;\n            }\n            else {\n                minX = Math.min(minX, rect.x);\n                minY = Math.min(minY, rect.y);\n                maxX = Math.max(maxX, rect.x + rect.width);\n                maxY = Math.max(maxY, rect.y + rect.height);\n            }\n        });\n        var shapes = this.find('Shape');\n        var hasVisible = false;\n        for (var i = 0; i < shapes.length; i++) {\n            var shape = shapes[i];\n            if (shape._isVisible(this)) {\n                hasVisible = true;\n                break;\n            }\n        }\n        if (hasVisible && minX !== undefined) {\n            selfRect = {\n                x: minX,\n                y: minY,\n                width: maxX - minX,\n                height: maxY - minY,\n            };\n        }\n        else {\n            selfRect = {\n                x: 0,\n                y: 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (!skipTransform) {\n            return this._transformedRect(selfRect, relativeTo);\n        }\n        return selfRect;\n    }\n}\nexports.Container = Container;\nFactory_1.Factory.addComponentsGetterSetter(Container, 'clip', [\n    'x',\n    'y',\n    'width',\n    'height',\n]);\nFactory_1.Factory.addGetterSetter(Container, 'clipX', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipY', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipWidth', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipHeight', undefined, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Container, 'clipFunc');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.releaseCapture = exports.setPointerCapture = exports.hasPointerCapture = exports.createEvent = exports.getCapturedShape = void 0;\nconst Global_1 = require(\"./Global\");\nconst Captures = new Map();\nconst SUPPORT_POINTER_EVENTS = Global_1.Konva._global['PointerEvent'] !== undefined;\nfunction getCapturedShape(pointerId) {\n    return Captures.get(pointerId);\n}\nexports.getCapturedShape = getCapturedShape;\nfunction createEvent(evt) {\n    return {\n        evt,\n        pointerId: evt.pointerId,\n    };\n}\nexports.createEvent = createEvent;\nfunction hasPointerCapture(pointerId, shape) {\n    return Captures.get(pointerId) === shape;\n}\nexports.hasPointerCapture = hasPointerCapture;\nfunction setPointerCapture(pointerId, shape) {\n    releaseCapture(pointerId);\n    const stage = shape.getStage();\n    if (!stage)\n        return;\n    Captures.set(pointerId, shape);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('gotpointercapture', createEvent(new PointerEvent('gotpointercapture')));\n    }\n}\nexports.setPointerCapture = setPointerCapture;\nfunction releaseCapture(pointerId, target) {\n    const shape = Captures.get(pointerId);\n    if (!shape)\n        return;\n    const stage = shape.getStage();\n    if (stage && stage.content) {\n    }\n    Captures.delete(pointerId);\n    if (SUPPORT_POINTER_EVENTS) {\n        shape._fire('lostpointercapture', createEvent(new PointerEvent('lostpointercapture')));\n    }\n}\nexports.releaseCapture = releaseCapture;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stage = exports.stages = void 0;\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nconst Canvas_1 = require(\"./Canvas\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nvar STAGE = 'Stage', STRING = 'string', PX = 'px', MOUSEOUT = 'mouseout', MOUSELEAVE = 'mouseleave', MOUSEOVER = 'mouseover', MOUSEENTER = 'mouseenter', MOUSEMOVE = 'mousemove', MOUSEDOWN = 'mousedown', MOUSEUP = 'mouseup', POINTERMOVE = 'pointermove', POINTERDOWN = 'pointerdown', POINTERUP = 'pointerup', POINTERCANCEL = 'pointercancel', LOSTPOINTERCAPTURE = 'lostpointercapture', POINTEROUT = 'pointerout', POINTERLEAVE = 'pointerleave', POINTEROVER = 'pointerover', POINTERENTER = 'pointerenter', CONTEXTMENU = 'contextmenu', TOUCHSTART = 'touchstart', TOUCHEND = 'touchend', TOUCHMOVE = 'touchmove', TOUCHCANCEL = 'touchcancel', WHEEL = 'wheel', MAX_LAYERS_NUMBER = 5, EVENTS = [\n    [MOUSEENTER, '_pointerenter'],\n    [MOUSEDOWN, '_pointerdown'],\n    [MOUSEMOVE, '_pointermove'],\n    [MOUSEUP, '_pointerup'],\n    [MOUSELEAVE, '_pointerleave'],\n    [TOUCHSTART, '_pointerdown'],\n    [TOUCHMOVE, '_pointermove'],\n    [TOUCHEND, '_pointerup'],\n    [TOUCHCANCEL, '_pointercancel'],\n    [MOUSEOVER, '_pointerover'],\n    [WHEEL, '_wheel'],\n    [CONTEXTMENU, '_contextmenu'],\n    [POINTERDOWN, '_pointerdown'],\n    [POINTERMOVE, '_pointermove'],\n    [POINTERUP, '_pointerup'],\n    [POINTERCANCEL, '_pointercancel'],\n    [LOSTPOINTERCAPTURE, '_lostpointercapture'],\n];\nconst EVENTS_MAP = {\n    mouse: {\n        [POINTEROUT]: MOUSEOUT,\n        [POINTERLEAVE]: MOUSELEAVE,\n        [POINTEROVER]: MOUSEOVER,\n        [POINTERENTER]: MOUSEENTER,\n        [POINTERMOVE]: MOUSEMOVE,\n        [POINTERDOWN]: MOUSEDOWN,\n        [POINTERUP]: MOUSEUP,\n        [POINTERCANCEL]: 'mousecancel',\n        pointerclick: 'click',\n        pointerdblclick: 'dblclick',\n    },\n    touch: {\n        [POINTEROUT]: 'touchout',\n        [POINTERLEAVE]: 'touchleave',\n        [POINTEROVER]: 'touchover',\n        [POINTERENTER]: 'touchenter',\n        [POINTERMOVE]: TOUCHMOVE,\n        [POINTERDOWN]: TOUCHSTART,\n        [POINTERUP]: TOUCHEND,\n        [POINTERCANCEL]: TOUCHCANCEL,\n        pointerclick: 'tap',\n        pointerdblclick: 'dbltap',\n    },\n    pointer: {\n        [POINTEROUT]: POINTEROUT,\n        [POINTERLEAVE]: POINTERLEAVE,\n        [POINTEROVER]: POINTEROVER,\n        [POINTERENTER]: POINTERENTER,\n        [POINTERMOVE]: POINTERMOVE,\n        [POINTERDOWN]: POINTERDOWN,\n        [POINTERUP]: POINTERUP,\n        [POINTERCANCEL]: POINTERCANCEL,\n        pointerclick: 'pointerclick',\n        pointerdblclick: 'pointerdblclick',\n    },\n};\nconst getEventType = (type) => {\n    if (type.indexOf('pointer') >= 0) {\n        return 'pointer';\n    }\n    if (type.indexOf('touch') >= 0) {\n        return 'touch';\n    }\n    return 'mouse';\n};\nconst getEventsMap = (eventType) => {\n    const type = getEventType(eventType);\n    if (type === 'pointer') {\n        return Global_1.Konva.pointerEventsEnabled && EVENTS_MAP.pointer;\n    }\n    if (type === 'touch') {\n        return EVENTS_MAP.touch;\n    }\n    if (type === 'mouse') {\n        return EVENTS_MAP.mouse;\n    }\n};\nfunction checkNoClip(attrs = {}) {\n    if (attrs.clipFunc || attrs.clipWidth || attrs.clipHeight) {\n        Util_1.Util.warn('Stage does not support clipping. Please use clip for Layers or Groups.');\n    }\n    return attrs;\n}\nconst NO_POINTERS_MESSAGE = `Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);`;\nexports.stages = [];\nclass Stage extends Container_1.Container {\n    constructor(config) {\n        super(checkNoClip(config));\n        this._pointerPositions = [];\n        this._changedPointerPositions = [];\n        this._buildDOM();\n        this._bindContentEvents();\n        exports.stages.push(this);\n        this.on('widthChange.konva heightChange.konva', this._resizeDOM);\n        this.on('visibleChange.konva', this._checkVisibility);\n        this.on('clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva', () => {\n            checkNoClip(this.attrs);\n        });\n        this._checkVisibility();\n    }\n    _validateAdd(child) {\n        const isLayer = child.getType() === 'Layer';\n        const isFastLayer = child.getType() === 'FastLayer';\n        const valid = isLayer || isFastLayer;\n        if (!valid) {\n            Util_1.Util.throw('You may only add layers to the stage.');\n        }\n    }\n    _checkVisibility() {\n        if (!this.content) {\n            return;\n        }\n        const style = this.visible() ? '' : 'none';\n        this.content.style.display = style;\n    }\n    setContainer(container) {\n        if (typeof container === STRING) {\n            if (container.charAt(0) === '.') {\n                var className = container.slice(1);\n                container = document.getElementsByClassName(className)[0];\n            }\n            else {\n                var id;\n                if (container.charAt(0) !== '#') {\n                    id = container;\n                }\n                else {\n                    id = container.slice(1);\n                }\n                container = document.getElementById(id);\n            }\n            if (!container) {\n                throw 'Can not find container in document with id ' + id;\n            }\n        }\n        this._setAttr('container', container);\n        if (this.content) {\n            if (this.content.parentElement) {\n                this.content.parentElement.removeChild(this.content);\n            }\n            container.appendChild(this.content);\n        }\n        return this;\n    }\n    shouldDrawHit() {\n        return true;\n    }\n    clear() {\n        var layers = this.children, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            layers[n].clear();\n        }\n        return this;\n    }\n    clone(obj) {\n        if (!obj) {\n            obj = {};\n        }\n        obj.container =\n            typeof document !== 'undefined' && document.createElement('div');\n        return Container_1.Container.prototype.clone.call(this, obj);\n    }\n    destroy() {\n        super.destroy();\n        var content = this.content;\n        if (content && Util_1.Util._isInDocument(content)) {\n            this.container().removeChild(content);\n        }\n        var index = exports.stages.indexOf(this);\n        if (index > -1) {\n            exports.stages.splice(index, 1);\n        }\n        Util_1.Util.releaseCanvas(this.bufferCanvas._canvas, this.bufferHitCanvas._canvas);\n        return this;\n    }\n    getPointerPosition() {\n        const pos = this._pointerPositions[0] || this._changedPointerPositions[0];\n        if (!pos) {\n            Util_1.Util.warn(NO_POINTERS_MESSAGE);\n            return null;\n        }\n        return {\n            x: pos.x,\n            y: pos.y,\n        };\n    }\n    _getPointerById(id) {\n        return this._pointerPositions.find((p) => p.id === id);\n    }\n    getPointersPositions() {\n        return this._pointerPositions;\n    }\n    getStage() {\n        return this;\n    }\n    getContent() {\n        return this.content;\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.x = config.x || 0;\n        config.y = config.y || 0;\n        config.width = config.width || this.width();\n        config.height = config.height || this.height();\n        var canvas = new Canvas_1.SceneCanvas({\n            width: config.width,\n            height: config.height,\n            pixelRatio: config.pixelRatio || 1,\n        });\n        var _context = canvas.getContext()._context;\n        var layers = this.children;\n        if (config.x || config.y) {\n            _context.translate(-1 * config.x, -1 * config.y);\n        }\n        layers.forEach(function (layer) {\n            if (!layer.isVisible()) {\n                return;\n            }\n            var layerCanvas = layer._toKonvaCanvas(config);\n            _context.drawImage(layerCanvas._canvas, config.x, config.y, layerCanvas.getWidth() / layerCanvas.getPixelRatio(), layerCanvas.getHeight() / layerCanvas.getPixelRatio());\n        });\n        return canvas;\n    }\n    getIntersection(pos) {\n        if (!pos) {\n            return null;\n        }\n        var layers = this.children, len = layers.length, end = len - 1, n;\n        for (n = end; n >= 0; n--) {\n            const shape = layers[n].getIntersection(pos);\n            if (shape) {\n                return shape;\n            }\n        }\n        return null;\n    }\n    _resizeDOM() {\n        var width = this.width();\n        var height = this.height();\n        if (this.content) {\n            this.content.style.width = width + PX;\n            this.content.style.height = height + PX;\n        }\n        this.bufferCanvas.setSize(width, height);\n        this.bufferHitCanvas.setSize(width, height);\n        this.children.forEach((layer) => {\n            layer.setSize({ width, height });\n            layer.draw();\n        });\n    }\n    add(layer, ...rest) {\n        if (arguments.length > 1) {\n            for (var i = 0; i < arguments.length; i++) {\n                this.add(arguments[i]);\n            }\n            return this;\n        }\n        super.add(layer);\n        var length = this.children.length;\n        if (length > MAX_LAYERS_NUMBER) {\n            Util_1.Util.warn('The stage has ' +\n                length +\n                ' layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group.');\n        }\n        layer.setSize({ width: this.width(), height: this.height() });\n        layer.draw();\n        if (Global_1.Konva.isBrowser) {\n            this.content.appendChild(layer.canvas._canvas);\n        }\n        return this;\n    }\n    getParent() {\n        return null;\n    }\n    getLayer() {\n        return null;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n    getLayers() {\n        return this.children;\n    }\n    _bindContentEvents() {\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        EVENTS.forEach(([event, methodName]) => {\n            this.content.addEventListener(event, (evt) => {\n                this[methodName](evt);\n            }, { passive: false });\n        });\n    }\n    _pointerenter(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerenter, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _pointerover(evt) {\n        this.setPointersPositions(evt);\n        const events = getEventsMap(evt.type);\n        this._fire(events.pointerover, {\n            evt: evt,\n            target: this,\n            currentTarget: this,\n        });\n    }\n    _getTargetShape(evenType) {\n        let shape = this[evenType + 'targetShape'];\n        if (shape && !shape.getStage()) {\n            shape = null;\n        }\n        return shape;\n    }\n    _pointerleave(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var targetShape = this._getTargetShape(eventType);\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (targetShape && eventsEnabled) {\n            targetShape._fireAndBubble(events.pointerout, { evt: evt });\n            targetShape._fireAndBubble(events.pointerleave, { evt: evt });\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this[eventType + 'targetShape'] = null;\n        }\n        else if (eventsEnabled) {\n            this._fire(events.pointerleave, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n            this._fire(events.pointerout, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n        this.pointerPos = undefined;\n        this._pointerPositions = [];\n    }\n    _pointerdown(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        var triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            var shape = this.getIntersection(pos);\n            DragAndDrop_1.DD.justDragged = false;\n            Global_1.Konva['_' + eventType + 'ListenClick'] = true;\n            const hasShape = shape && shape.isListening();\n            if (!hasShape) {\n                return;\n            }\n            if (Global_1.Konva.capturePointerEventsEnabled) {\n                shape.setPointerCapture(pos.id);\n            }\n            this[eventType + 'ClickStartShape'] = shape;\n            shape._fireAndBubble(events.pointerdown, {\n                evt: evt,\n                pointerId: pos.id,\n            });\n            triggeredOnShape = true;\n            const isTouch = evt.type.indexOf('touch') >= 0;\n            if (shape.preventDefault() && evt.cancelable && isTouch) {\n                evt.preventDefault();\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerdown, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._pointerPositions[0].id,\n            });\n        }\n    }\n    _pointermove(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        if (DragAndDrop_1.DD.isDragging && DragAndDrop_1.DD.node.preventDefault() && evt.cancelable) {\n            evt.preventDefault();\n        }\n        this.setPointersPositions(evt);\n        var eventsEnabled = !DragAndDrop_1.DD.isDragging || Global_1.Konva.hitOnDragEnabled;\n        if (!eventsEnabled) {\n            return;\n        }\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        var targetShape = this._getTargetShape(eventType);\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            var differentTarget = targetShape !== shape;\n            if (differentTarget && targetShape) {\n                targetShape._fireAndBubble(events.pointerout, Object.assign({}, event), shape);\n                targetShape._fireAndBubble(events.pointerleave, Object.assign({}, event), shape);\n            }\n            if (shape) {\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                if (differentTarget) {\n                    shape._fireAndBubble(events.pointerover, Object.assign({}, event), targetShape);\n                    shape._fireAndBubble(events.pointerenter, Object.assign({}, event), targetShape);\n                    this[eventType + 'targetShape'] = shape;\n                }\n                shape._fireAndBubble(events.pointermove, Object.assign({}, event));\n            }\n            else {\n                if (targetShape) {\n                    this._fire(events.pointerover, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                    this[eventType + 'targetShape'] = null;\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointermove, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n    }\n    _pointerup(evt) {\n        const events = getEventsMap(evt.type);\n        const eventType = getEventType(evt.type);\n        if (!events) {\n            return;\n        }\n        this.setPointersPositions(evt);\n        const clickStartShape = this[eventType + 'ClickStartShape'];\n        const clickEndShape = this[eventType + 'ClickEndShape'];\n        var processedShapesIds = {};\n        let triggeredOnShape = false;\n        this._changedPointerPositions.forEach((pos) => {\n            const shape = (PointerEvents.getCapturedShape(pos.id) ||\n                this.getIntersection(pos));\n            if (shape) {\n                shape.releaseCapture(pos.id);\n                if (processedShapesIds[shape._id]) {\n                    return;\n                }\n                processedShapesIds[shape._id] = true;\n            }\n            const pointerId = pos.id;\n            const event = { evt: evt, pointerId };\n            let fireDblClick = false;\n            if (Global_1.Konva['_' + eventType + 'InDblClickWindow']) {\n                fireDblClick = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            else if (!DragAndDrop_1.DD.justDragged) {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = true;\n                clearTimeout(this[eventType + 'DblTimeout']);\n            }\n            this[eventType + 'DblTimeout'] = setTimeout(function () {\n                Global_1.Konva['_' + eventType + 'InDblClickWindow'] = false;\n            }, Global_1.Konva.dblClickWindow);\n            if (shape && shape.isListening()) {\n                triggeredOnShape = true;\n                this[eventType + 'ClickEndShape'] = shape;\n                shape._fireAndBubble(events.pointerup, Object.assign({}, event));\n                if (Global_1.Konva['_' + eventType + 'ListenClick'] &&\n                    clickStartShape &&\n                    clickStartShape === shape) {\n                    shape._fireAndBubble(events.pointerclick, Object.assign({}, event));\n                    if (fireDblClick && clickEndShape && clickEndShape === shape) {\n                        shape._fireAndBubble(events.pointerdblclick, Object.assign({}, event));\n                    }\n                }\n            }\n            else {\n                this[eventType + 'ClickEndShape'] = null;\n                if (Global_1.Konva['_' + eventType + 'ListenClick']) {\n                    this._fire(events.pointerclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n                if (fireDblClick) {\n                    this._fire(events.pointerdblclick, {\n                        evt: evt,\n                        target: this,\n                        currentTarget: this,\n                        pointerId,\n                    });\n                }\n            }\n        });\n        if (!triggeredOnShape) {\n            this._fire(events.pointerup, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n                pointerId: this._changedPointerPositions[0].id,\n            });\n        }\n        Global_1.Konva['_' + eventType + 'ListenClick'] = false;\n        if (evt.cancelable && eventType !== 'touch') {\n            evt.preventDefault();\n        }\n    }\n    _contextmenu(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(CONTEXTMENU, { evt: evt });\n        }\n        else {\n            this._fire(CONTEXTMENU, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _wheel(evt) {\n        this.setPointersPositions(evt);\n        var shape = this.getIntersection(this.getPointerPosition());\n        if (shape && shape.isListening()) {\n            shape._fireAndBubble(WHEEL, { evt: evt });\n        }\n        else {\n            this._fire(WHEEL, {\n                evt: evt,\n                target: this,\n                currentTarget: this,\n            });\n        }\n    }\n    _pointercancel(evt) {\n        this.setPointersPositions(evt);\n        const shape = PointerEvents.getCapturedShape(evt.pointerId) ||\n            this.getIntersection(this.getPointerPosition());\n        if (shape) {\n            shape._fireAndBubble(POINTERUP, PointerEvents.createEvent(evt));\n        }\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    _lostpointercapture(evt) {\n        PointerEvents.releaseCapture(evt.pointerId);\n    }\n    setPointersPositions(evt) {\n        var contentPosition = this._getContentPosition(), x = null, y = null;\n        evt = evt ? evt : window.event;\n        if (evt.touches !== undefined) {\n            this._pointerPositions = [];\n            this._changedPointerPositions = [];\n            Array.prototype.forEach.call(evt.touches, (touch) => {\n                this._pointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n            Array.prototype.forEach.call(evt.changedTouches || evt.touches, (touch) => {\n                this._changedPointerPositions.push({\n                    id: touch.identifier,\n                    x: (touch.clientX - contentPosition.left) / contentPosition.scaleX,\n                    y: (touch.clientY - contentPosition.top) / contentPosition.scaleY,\n                });\n            });\n        }\n        else {\n            x = (evt.clientX - contentPosition.left) / contentPosition.scaleX;\n            y = (evt.clientY - contentPosition.top) / contentPosition.scaleY;\n            this.pointerPos = {\n                x: x,\n                y: y,\n            };\n            this._pointerPositions = [{ x, y, id: Util_1.Util._getFirstPointerId(evt) }];\n            this._changedPointerPositions = [\n                { x, y, id: Util_1.Util._getFirstPointerId(evt) },\n            ];\n        }\n    }\n    _setPointerPosition(evt) {\n        Util_1.Util.warn('Method _setPointerPosition is deprecated. Use \"stage.setPointersPositions(event)\" instead.');\n        this.setPointersPositions(evt);\n    }\n    _getContentPosition() {\n        if (!this.content || !this.content.getBoundingClientRect) {\n            return {\n                top: 0,\n                left: 0,\n                scaleX: 1,\n                scaleY: 1,\n            };\n        }\n        var rect = this.content.getBoundingClientRect();\n        return {\n            top: rect.top,\n            left: rect.left,\n            scaleX: rect.width / this.content.clientWidth || 1,\n            scaleY: rect.height / this.content.clientHeight || 1,\n        };\n    }\n    _buildDOM() {\n        this.bufferCanvas = new Canvas_1.SceneCanvas({\n            width: this.width(),\n            height: this.height(),\n        });\n        this.bufferHitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n            width: this.width(),\n            height: this.height(),\n        });\n        if (!Global_1.Konva.isBrowser) {\n            return;\n        }\n        var container = this.container();\n        if (!container) {\n            throw 'Stage has no container. A container is required.';\n        }\n        container.innerHTML = '';\n        this.content = document.createElement('div');\n        this.content.style.position = 'relative';\n        this.content.style.userSelect = 'none';\n        this.content.className = 'konvajs-content';\n        this.content.setAttribute('role', 'presentation');\n        container.appendChild(this.content);\n        this._resizeDOM();\n    }\n    cache() {\n        Util_1.Util.warn('Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.');\n        return this;\n    }\n    clearCache() {\n        return this;\n    }\n    batchDraw() {\n        this.getChildren().forEach(function (layer) {\n            layer.batchDraw();\n        });\n        return this;\n    }\n}\nexports.Stage = Stage;\nStage.prototype.nodeType = STAGE;\n(0, Global_2._registerNode)(Stage);\nFactory_1.Factory.addGetterSetter(Stage, 'container');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Shape = exports.shapes = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Factory_1 = require(\"./Factory\");\nconst Node_1 = require(\"./Node\");\nconst Validators_1 = require(\"./Validators\");\nconst Global_2 = require(\"./Global\");\nconst PointerEvents = require(\"./PointerEvents\");\nvar HAS_SHADOW = 'hasShadow';\nvar SHADOW_RGBA = 'shadowRGBA';\nvar patternImage = 'patternImage';\nvar linearGradient = 'linearGradient';\nvar radialGradient = 'radialGradient';\nlet dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext('2d');\n    return dummyContext;\n}\nexports.shapes = {};\nfunction _fillFunc(context) {\n    const fillRule = this.attrs.fillRule;\n    if (fillRule) {\n        context.fill(fillRule);\n    }\n    else {\n        context.fill();\n    }\n}\nfunction _strokeFunc(context) {\n    context.stroke();\n}\nfunction _fillFuncHit(context) {\n    context.fill();\n}\nfunction _strokeFuncHit(context) {\n    context.stroke();\n}\nfunction _clearHasShadowCache() {\n    this._clearCache(HAS_SHADOW);\n}\nfunction _clearGetShadowRGBACache() {\n    this._clearCache(SHADOW_RGBA);\n}\nfunction _clearFillPatternCache() {\n    this._clearCache(patternImage);\n}\nfunction _clearLinearGradientCache() {\n    this._clearCache(linearGradient);\n}\nfunction _clearRadialGradientCache() {\n    this._clearCache(radialGradient);\n}\nclass Shape extends Node_1.Node {\n    constructor(config) {\n        super(config);\n        let key;\n        while (true) {\n            key = Util_1.Util.getRandomColor();\n            if (key && !(key in exports.shapes)) {\n                break;\n            }\n        }\n        this.colorKey = key;\n        exports.shapes[key] = this;\n    }\n    getContext() {\n        Util_1.Util.warn('shape.getContext() method is deprecated. Please do not use it.');\n        return this.getLayer().getContext();\n    }\n    getCanvas() {\n        Util_1.Util.warn('shape.getCanvas() method is deprecated. Please do not use it.');\n        return this.getLayer().getCanvas();\n    }\n    getSceneFunc() {\n        return this.attrs.sceneFunc || this['_sceneFunc'];\n    }\n    getHitFunc() {\n        return this.attrs.hitFunc || this['_hitFunc'];\n    }\n    hasShadow() {\n        return this._getCache(HAS_SHADOW, this._hasShadow);\n    }\n    _hasShadow() {\n        return (this.shadowEnabled() &&\n            this.shadowOpacity() !== 0 &&\n            !!(this.shadowColor() ||\n                this.shadowBlur() ||\n                this.shadowOffsetX() ||\n                this.shadowOffsetY()));\n    }\n    _getFillPattern() {\n        return this._getCache(patternImage, this.__getFillPattern);\n    }\n    __getFillPattern() {\n        if (this.fillPatternImage()) {\n            var ctx = getDummyContext();\n            const pattern = ctx.createPattern(this.fillPatternImage(), this.fillPatternRepeat() || 'repeat');\n            if (pattern && pattern.setTransform) {\n                const tr = new Util_1.Transform();\n                tr.translate(this.fillPatternX(), this.fillPatternY());\n                tr.rotate(Global_1.Konva.getAngle(this.fillPatternRotation()));\n                tr.scale(this.fillPatternScaleX(), this.fillPatternScaleY());\n                tr.translate(-1 * this.fillPatternOffsetX(), -1 * this.fillPatternOffsetY());\n                const m = tr.getMatrix();\n                const matrix = typeof DOMMatrix === 'undefined'\n                    ? {\n                        a: m[0],\n                        b: m[1],\n                        c: m[2],\n                        d: m[3],\n                        e: m[4],\n                        f: m[5],\n                    }\n                    : new DOMMatrix(m);\n                pattern.setTransform(matrix);\n            }\n            return pattern;\n        }\n    }\n    _getLinearGradient() {\n        return this._getCache(linearGradient, this.__getLinearGradient);\n    }\n    __getLinearGradient() {\n        var colorStops = this.fillLinearGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillLinearGradientStartPoint();\n            var end = this.fillLinearGradientEndPoint();\n            var grd = ctx.createLinearGradient(start.x, start.y, end.x, end.y);\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    _getRadialGradient() {\n        return this._getCache(radialGradient, this.__getRadialGradient);\n    }\n    __getRadialGradient() {\n        var colorStops = this.fillRadialGradientColorStops();\n        if (colorStops) {\n            var ctx = getDummyContext();\n            var start = this.fillRadialGradientStartPoint();\n            var end = this.fillRadialGradientEndPoint();\n            var grd = ctx.createRadialGradient(start.x, start.y, this.fillRadialGradientStartRadius(), end.x, end.y, this.fillRadialGradientEndRadius());\n            for (var n = 0; n < colorStops.length; n += 2) {\n                grd.addColorStop(colorStops[n], colorStops[n + 1]);\n            }\n            return grd;\n        }\n    }\n    getShadowRGBA() {\n        return this._getCache(SHADOW_RGBA, this._getShadowRGBA);\n    }\n    _getShadowRGBA() {\n        if (!this.hasShadow()) {\n            return;\n        }\n        var rgba = Util_1.Util.colorToRGBA(this.shadowColor());\n        if (rgba) {\n            return ('rgba(' +\n                rgba.r +\n                ',' +\n                rgba.g +\n                ',' +\n                rgba.b +\n                ',' +\n                rgba.a * (this.shadowOpacity() || 1) +\n                ')');\n        }\n    }\n    hasFill() {\n        return this._calculate('hasFill', [\n            'fillEnabled',\n            'fill',\n            'fillPatternImage',\n            'fillLinearGradientColorStops',\n            'fillRadialGradientColorStops',\n        ], () => {\n            return (this.fillEnabled() &&\n                !!(this.fill() ||\n                    this.fillPatternImage() ||\n                    this.fillLinearGradientColorStops() ||\n                    this.fillRadialGradientColorStops()));\n        });\n    }\n    hasStroke() {\n        return this._calculate('hasStroke', [\n            'strokeEnabled',\n            'strokeWidth',\n            'stroke',\n            'strokeLinearGradientColorStops',\n        ], () => {\n            return (this.strokeEnabled() &&\n                this.strokeWidth() &&\n                !!(this.stroke() || this.strokeLinearGradientColorStops()));\n        });\n    }\n    hasHitStroke() {\n        const width = this.hitStrokeWidth();\n        if (width === 'auto') {\n            return this.hasStroke();\n        }\n        return this.strokeEnabled() && !!width;\n    }\n    intersects(point) {\n        var stage = this.getStage(), bufferHitCanvas = stage.bufferHitCanvas, p;\n        bufferHitCanvas.getContext().clear();\n        this.drawHit(bufferHitCanvas, null, true);\n        p = bufferHitCanvas.context.getImageData(Math.round(point.x), Math.round(point.y), 1, 1).data;\n        return p[3] > 0;\n    }\n    destroy() {\n        Node_1.Node.prototype.destroy.call(this);\n        delete exports.shapes[this.colorKey];\n        delete this.colorKey;\n        return this;\n    }\n    _useBufferCanvas(forceFill) {\n        var _a;\n        if (!this.getStage()) {\n            return false;\n        }\n        const perfectDrawEnabled = (_a = this.attrs.perfectDrawEnabled) !== null && _a !== void 0 ? _a : true;\n        if (!perfectDrawEnabled) {\n            return false;\n        }\n        const hasFill = forceFill || this.hasFill();\n        const hasStroke = this.hasStroke();\n        const isTransparent = this.getAbsoluteOpacity() !== 1;\n        if (hasFill && hasStroke && isTransparent) {\n            return true;\n        }\n        const hasShadow = this.hasShadow();\n        const strokeForShadow = this.shadowForStrokeEnabled();\n        if (hasFill && hasStroke && hasShadow && strokeForShadow) {\n            return true;\n        }\n        return false;\n    }\n    setStrokeHitEnabled(val) {\n        Util_1.Util.warn('strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead.');\n        if (val) {\n            this.hitStrokeWidth('auto');\n        }\n        else {\n            this.hitStrokeWidth(0);\n        }\n    }\n    getStrokeHitEnabled() {\n        if (this.hitStrokeWidth() === 0) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    getSelfRect() {\n        var size = this.size();\n        return {\n            x: this._centroid ? -size.width / 2 : 0,\n            y: this._centroid ? -size.height / 2 : 0,\n            width: size.width,\n            height: size.height,\n        };\n    }\n    getClientRect(config = {}) {\n        const skipTransform = config.skipTransform;\n        const relativeTo = config.relativeTo;\n        const fillRect = this.getSelfRect();\n        const applyStroke = !config.skipStroke && this.hasStroke();\n        const strokeWidth = (applyStroke && this.strokeWidth()) || 0;\n        const fillAndStrokeWidth = fillRect.width + strokeWidth;\n        const fillAndStrokeHeight = fillRect.height + strokeWidth;\n        const applyShadow = !config.skipShadow && this.hasShadow();\n        const shadowOffsetX = applyShadow ? this.shadowOffsetX() : 0;\n        const shadowOffsetY = applyShadow ? this.shadowOffsetY() : 0;\n        const preWidth = fillAndStrokeWidth + Math.abs(shadowOffsetX);\n        const preHeight = fillAndStrokeHeight + Math.abs(shadowOffsetY);\n        const blurRadius = (applyShadow && this.shadowBlur()) || 0;\n        const width = preWidth + blurRadius * 2;\n        const height = preHeight + blurRadius * 2;\n        const rect = {\n            width: width,\n            height: height,\n            x: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetX, 0) +\n                fillRect.x,\n            y: -(strokeWidth / 2 + blurRadius) +\n                Math.min(shadowOffsetY, 0) +\n                fillRect.y,\n        };\n        if (!skipTransform) {\n            return this._transformedRect(rect, relativeTo);\n        }\n        return rect;\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || layer.getCanvas(), context = canvas.getContext(), cachedCanvas = this._getCanvasCache(), drawFunc = this.getSceneFunc(), hasShadow = this.hasShadow(), stage, bufferCanvas, bufferContext;\n        var skipBuffer = canvas.isCache;\n        var cachingSelf = top === this;\n        if (!this.isVisible() && !cachingSelf) {\n            return this;\n        }\n        if (cachedCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedSceneCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        if (this._useBufferCanvas() && !skipBuffer) {\n            stage = this.getStage();\n            bufferCanvas = stage.bufferCanvas;\n            bufferContext = bufferCanvas.getContext();\n            bufferContext.clear();\n            bufferContext.save();\n            bufferContext._applyLineJoin(this);\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            bufferContext.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n            drawFunc.call(this, bufferContext, this);\n            bufferContext.restore();\n            var ratio = bufferCanvas.pixelRatio;\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            context._applyOpacity(this);\n            context._applyGlobalCompositeOperation(this);\n            context.drawImage(bufferCanvas._canvas, 0, 0, bufferCanvas.width / ratio, bufferCanvas.height / ratio);\n        }\n        else {\n            context._applyLineJoin(this);\n            if (!cachingSelf) {\n                var o = this.getAbsoluteTransform(top).getMatrix();\n                context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n                context._applyOpacity(this);\n                context._applyGlobalCompositeOperation(this);\n            }\n            if (hasShadow) {\n                context._applyShadow(this);\n            }\n            drawFunc.call(this, context, this);\n        }\n        context.restore();\n        return this;\n    }\n    drawHit(can, top, skipDragCheck = false) {\n        if (!this.shouldDrawHit(top, skipDragCheck)) {\n            return this;\n        }\n        var layer = this.getLayer(), canvas = can || layer.hitCanvas, context = canvas && canvas.getContext(), drawFunc = this.hitFunc() || this.sceneFunc(), cachedCanvas = this._getCanvasCache(), cachedHitCanvas = cachedCanvas && cachedCanvas.hit;\n        if (!this.colorKey) {\n            Util_1.Util.warn('Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()');\n        }\n        if (cachedHitCanvas) {\n            context.save();\n            var m = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n            this._drawCachedHitCanvas(context);\n            context.restore();\n            return this;\n        }\n        if (!drawFunc) {\n            return this;\n        }\n        context.save();\n        context._applyLineJoin(this);\n        const selfCache = this === top;\n        if (!selfCache) {\n            var o = this.getAbsoluteTransform(top).getMatrix();\n            context.transform(o[0], o[1], o[2], o[3], o[4], o[5]);\n        }\n        drawFunc.call(this, context, this);\n        context.restore();\n        return this;\n    }\n    drawHitFromCache(alphaThreshold = 0) {\n        var cachedCanvas = this._getCanvasCache(), sceneCanvas = this._getCachedSceneCanvas(), hitCanvas = cachedCanvas.hit, hitContext = hitCanvas.getContext(), hitWidth = hitCanvas.getWidth(), hitHeight = hitCanvas.getHeight(), hitImageData, hitData, len, rgbColorKey, i, alpha;\n        hitContext.clear();\n        hitContext.drawImage(sceneCanvas._canvas, 0, 0, hitWidth, hitHeight);\n        try {\n            hitImageData = hitContext.getImageData(0, 0, hitWidth, hitHeight);\n            hitData = hitImageData.data;\n            len = hitData.length;\n            rgbColorKey = Util_1.Util._hexToRgb(this.colorKey);\n            for (i = 0; i < len; i += 4) {\n                alpha = hitData[i + 3];\n                if (alpha > alphaThreshold) {\n                    hitData[i] = rgbColorKey.r;\n                    hitData[i + 1] = rgbColorKey.g;\n                    hitData[i + 2] = rgbColorKey.b;\n                    hitData[i + 3] = 255;\n                }\n                else {\n                    hitData[i + 3] = 0;\n                }\n            }\n            hitContext.putImageData(hitImageData, 0, 0);\n        }\n        catch (e) {\n            Util_1.Util.error('Unable to draw hit graph from cached scene canvas. ' + e.message);\n        }\n        return this;\n    }\n    hasPointerCapture(pointerId) {\n        return PointerEvents.hasPointerCapture(pointerId, this);\n    }\n    setPointerCapture(pointerId) {\n        PointerEvents.setPointerCapture(pointerId, this);\n    }\n    releaseCapture(pointerId) {\n        PointerEvents.releaseCapture(pointerId, this);\n    }\n}\nexports.Shape = Shape;\nShape.prototype._fillFunc = _fillFunc;\nShape.prototype._strokeFunc = _strokeFunc;\nShape.prototype._fillFuncHit = _fillFuncHit;\nShape.prototype._strokeFuncHit = _strokeFuncHit;\nShape.prototype._centroid = false;\nShape.prototype.nodeType = 'Shape';\n(0, Global_2._registerNode)(Shape);\nShape.prototype.eventListeners = {};\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype, 'shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva', _clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva', _clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva', _clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype, 'fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva', _clearRadialGradientCache);\nFactory_1.Factory.addGetterSetter(Shape, 'stroke', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeWidth', 2, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillAfterStrokeEnabled', false);\nFactory_1.Factory.addGetterSetter(Shape, 'hitStrokeWidth', 'auto', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'strokeHitEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'perfectDrawEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowForStrokeEnabled', true, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'lineJoin');\nFactory_1.Factory.addGetterSetter(Shape, 'lineCap');\nFactory_1.Factory.addGetterSetter(Shape, 'sceneFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'hitFunc');\nFactory_1.Factory.addGetterSetter(Shape, 'dash');\nFactory_1.Factory.addGetterSetter(Shape, 'dashOffset', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowColor', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowBlur', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOpacity', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'shadowOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'shadowOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternImage');\nFactory_1.Factory.addGetterSetter(Shape, 'fill', undefined, (0, Validators_1.getStringOrGradientValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndRadius', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientColorStops');\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRepeat', 'repeat');\nFactory_1.Factory.addGetterSetter(Shape, 'fillEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'shadowEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'dashEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeScaleEnabled', true);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPriority', 'color');\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternOffset', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetX', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternOffsetY', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillPatternScale', ['x', 'y']);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleX', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternScaleY', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientStartPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'strokeLinearGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillLinearGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'strokeLinearGradientEndPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientStartPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientStartPointY', 0);\nFactory_1.Factory.addComponentsGetterSetter(Shape, 'fillRadialGradientEndPoint', [\n    'x',\n    'y',\n]);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointX', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRadialGradientEndPointY', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillPatternRotation', 0);\nFactory_1.Factory.addGetterSetter(Shape, 'fillRule', undefined, (0, Validators_1.getStringValidator)());\nFactory_1.Factory.backCompat(Shape, {\n    dashArray: 'dash',\n    getDashArray: 'getDash',\n    setDashArray: 'getDash',\n    drawFunc: 'sceneFunc',\n    getDrawFunc: 'getSceneFunc',\n    setDrawFunc: 'setSceneFunc',\n    drawHitFunc: 'hitFunc',\n    getDrawHitFunc: 'getHitFunc',\n    setDrawHitFunc: 'setHitFunc',\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Layer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Node_1 = require(\"./Node\");\nconst Factory_1 = require(\"./Factory\");\nconst Canvas_1 = require(\"./Canvas\");\nconst Validators_1 = require(\"./Validators\");\nconst Shape_1 = require(\"./Shape\");\nconst Global_1 = require(\"./Global\");\nvar HASH = '#', BEFORE_DRAW = 'beforeDraw', DRAW = 'draw', INTERSECTION_OFFSETS = [\n    { x: 0, y: 0 },\n    { x: -1, y: -1 },\n    { x: 1, y: -1 },\n    { x: 1, y: 1 },\n    { x: -1, y: 1 },\n], INTERSECTION_OFFSETS_LEN = INTERSECTION_OFFSETS.length;\nclass Layer extends Container_1.Container {\n    constructor(config) {\n        super(config);\n        this.canvas = new Canvas_1.SceneCanvas();\n        this.hitCanvas = new Canvas_1.HitCanvas({\n            pixelRatio: 1,\n        });\n        this._waitingForDraw = false;\n        this.on('visibleChange.konva', this._checkVisibility);\n        this._checkVisibility();\n        this.on('imageSmoothingEnabledChange.konva', this._setSmoothEnabled);\n        this._setSmoothEnabled();\n    }\n    createPNGStream() {\n        const c = this.canvas._canvas;\n        return c.createPNGStream();\n    }\n    getCanvas() {\n        return this.canvas;\n    }\n    getNativeCanvasElement() {\n        return this.canvas._canvas;\n    }\n    getHitCanvas() {\n        return this.hitCanvas;\n    }\n    getContext() {\n        return this.getCanvas().getContext();\n    }\n    clear(bounds) {\n        this.getContext().clear(bounds);\n        this.getHitCanvas().getContext().clear(bounds);\n        return this;\n    }\n    setZIndex(index) {\n        super.setZIndex(index);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            if (index < stage.children.length - 1) {\n                stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[index + 1].getCanvas()._canvas);\n            }\n            else {\n                stage.content.appendChild(this.getNativeCanvasElement());\n            }\n        }\n        return this;\n    }\n    moveToTop() {\n        Node_1.Node.prototype.moveToTop.call(this);\n        var stage = this.getStage();\n        if (stage && stage.content) {\n            stage.content.removeChild(this.getNativeCanvasElement());\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveUp() {\n        var moved = Node_1.Node.prototype.moveUp.call(this);\n        if (!moved) {\n            return false;\n        }\n        var stage = this.getStage();\n        if (!stage || !stage.content) {\n            return false;\n        }\n        stage.content.removeChild(this.getNativeCanvasElement());\n        if (this.index < stage.children.length - 1) {\n            stage.content.insertBefore(this.getNativeCanvasElement(), stage.children[this.index + 1].getCanvas()._canvas);\n        }\n        else {\n            stage.content.appendChild(this.getNativeCanvasElement());\n        }\n        return true;\n    }\n    moveDown() {\n        if (Node_1.Node.prototype.moveDown.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[this.index + 1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    moveToBottom() {\n        if (Node_1.Node.prototype.moveToBottom.call(this)) {\n            var stage = this.getStage();\n            if (stage) {\n                var children = stage.children;\n                if (stage.content) {\n                    stage.content.removeChild(this.getNativeCanvasElement());\n                    stage.content.insertBefore(this.getNativeCanvasElement(), children[1].getCanvas()._canvas);\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    getLayer() {\n        return this;\n    }\n    remove() {\n        var _canvas = this.getNativeCanvasElement();\n        Node_1.Node.prototype.remove.call(this);\n        if (_canvas && _canvas.parentNode && Util_1.Util._isInDocument(_canvas)) {\n            _canvas.parentNode.removeChild(_canvas);\n        }\n        return this;\n    }\n    getStage() {\n        return this.parent;\n    }\n    setSize({ width, height }) {\n        this.canvas.setSize(width, height);\n        this.hitCanvas.setSize(width, height);\n        this._setSmoothEnabled();\n        return this;\n    }\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to a layer.');\n        }\n    }\n    _toKonvaCanvas(config) {\n        config = config || {};\n        config.width = config.width || this.getWidth();\n        config.height = config.height || this.getHeight();\n        config.x = config.x !== undefined ? config.x : this.x();\n        config.y = config.y !== undefined ? config.y : this.y();\n        return Node_1.Node.prototype._toKonvaCanvas.call(this, config);\n    }\n    _checkVisibility() {\n        const visible = this.visible();\n        if (visible) {\n            this.canvas._canvas.style.display = 'block';\n        }\n        else {\n            this.canvas._canvas.style.display = 'none';\n        }\n    }\n    _setSmoothEnabled() {\n        this.getContext()._context.imageSmoothingEnabled =\n            this.imageSmoothingEnabled();\n    }\n    getWidth() {\n        if (this.parent) {\n            return this.parent.width();\n        }\n    }\n    setWidth() {\n        Util_1.Util.warn('Can not change width of layer. Use \"stage.width(value)\" function instead.');\n    }\n    getHeight() {\n        if (this.parent) {\n            return this.parent.height();\n        }\n    }\n    setHeight() {\n        Util_1.Util.warn('Can not change height of layer. Use \"stage.height(value)\" function instead.');\n    }\n    batchDraw() {\n        if (!this._waitingForDraw) {\n            this._waitingForDraw = true;\n            Util_1.Util.requestAnimFrame(() => {\n                this.draw();\n                this._waitingForDraw = false;\n            });\n        }\n        return this;\n    }\n    getIntersection(pos) {\n        if (!this.isListening() || !this.isVisible()) {\n            return null;\n        }\n        var spiralSearchDistance = 1;\n        var continueSearch = false;\n        while (true) {\n            for (let i = 0; i < INTERSECTION_OFFSETS_LEN; i++) {\n                const intersectionOffset = INTERSECTION_OFFSETS[i];\n                const obj = this._getIntersection({\n                    x: pos.x + intersectionOffset.x * spiralSearchDistance,\n                    y: pos.y + intersectionOffset.y * spiralSearchDistance,\n                });\n                const shape = obj.shape;\n                if (shape) {\n                    return shape;\n                }\n                continueSearch = !!obj.antialiased;\n                if (!obj.antialiased) {\n                    break;\n                }\n            }\n            if (continueSearch) {\n                spiralSearchDistance += 1;\n            }\n            else {\n                return null;\n            }\n        }\n    }\n    _getIntersection(pos) {\n        const ratio = this.hitCanvas.pixelRatio;\n        const p = this.hitCanvas.context.getImageData(Math.round(pos.x * ratio), Math.round(pos.y * ratio), 1, 1).data;\n        const p3 = p[3];\n        if (p3 === 255) {\n            const colorKey = Util_1.Util._rgbToHex(p[0], p[1], p[2]);\n            const shape = Shape_1.shapes[HASH + colorKey];\n            if (shape) {\n                return {\n                    shape: shape,\n                };\n            }\n            return {\n                antialiased: true,\n            };\n        }\n        else if (p3 > 0) {\n            return {\n                antialiased: true,\n            };\n        }\n        return {};\n    }\n    drawScene(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.getCanvas());\n        this._fire(BEFORE_DRAW, {\n            node: this,\n        });\n        if (this.clearBeforeDraw()) {\n            canvas.getContext().clear();\n        }\n        Container_1.Container.prototype.drawScene.call(this, canvas, top);\n        this._fire(DRAW, {\n            node: this,\n        });\n        return this;\n    }\n    drawHit(can, top) {\n        var layer = this.getLayer(), canvas = can || (layer && layer.hitCanvas);\n        if (layer && layer.clearBeforeDraw()) {\n            layer.getHitCanvas().getContext().clear();\n        }\n        Container_1.Container.prototype.drawHit.call(this, canvas, top);\n        return this;\n    }\n    enableHitGraph() {\n        this.hitGraphEnabled(true);\n        return this;\n    }\n    disableHitGraph() {\n        this.hitGraphEnabled(false);\n        return this;\n    }\n    setHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        this.listening(val);\n    }\n    getHitGraphEnabled(val) {\n        Util_1.Util.warn('hitGraphEnabled method is deprecated. Please use layer.listening() instead.');\n        return this.listening();\n    }\n    toggleHitCanvas() {\n        if (!this.parent || !this.parent['content']) {\n            return;\n        }\n        var parent = this.parent;\n        var added = !!this.hitCanvas._canvas.parentNode;\n        if (added) {\n            parent.content.removeChild(this.hitCanvas._canvas);\n        }\n        else {\n            parent.content.appendChild(this.hitCanvas._canvas);\n        }\n    }\n    destroy() {\n        Util_1.Util.releaseCanvas(this.getNativeCanvasElement(), this.getHitCanvas()._canvas);\n        return super.destroy();\n    }\n}\nexports.Layer = Layer;\nLayer.prototype.nodeType = 'Layer';\n(0, Global_1._registerNode)(Layer);\nFactory_1.Factory.addGetterSetter(Layer, 'imageSmoothingEnabled', true);\nFactory_1.Factory.addGetterSetter(Layer, 'clearBeforeDraw', true);\nFactory_1.Factory.addGetterSetter(Layer, 'hitGraphEnabled', true, (0, Validators_1.getBooleanValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FastLayer = void 0;\nconst Util_1 = require(\"./Util\");\nconst Layer_1 = require(\"./Layer\");\nconst Global_1 = require(\"./Global\");\nclass FastLayer extends Layer_1.Layer {\n    constructor(attrs) {\n        super(attrs);\n        this.listening(false);\n        Util_1.Util.warn('Konva.Fast layer is deprecated. Please use \"new Konva.Layer({ listening: false })\" instead.');\n    }\n}\nexports.FastLayer = FastLayer;\nFastLayer.prototype.nodeType = 'FastLayer';\n(0, Global_1._registerNode)(FastLayer);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Group = void 0;\nconst Util_1 = require(\"./Util\");\nconst Container_1 = require(\"./Container\");\nconst Global_1 = require(\"./Global\");\nclass Group extends Container_1.Container {\n    _validateAdd(child) {\n        var type = child.getType();\n        if (type !== 'Group' && type !== 'Shape') {\n            Util_1.Util.throw('You may only add groups and shapes to groups.');\n        }\n    }\n}\nexports.Group = Group;\nGroup.prototype.nodeType = 'Group';\n(0, Global_1._registerNode)(Group);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Animation = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nvar now = (function () {\n    if (Global_1.glob.performance && Global_1.glob.performance.now) {\n        return function () {\n            return Global_1.glob.performance.now();\n        };\n    }\n    return function () {\n        return new Date().getTime();\n    };\n})();\nclass Animation {\n    constructor(func, layers) {\n        this.id = Animation.animIdCounter++;\n        this.frame = {\n            time: 0,\n            timeDiff: 0,\n            lastTime: now(),\n            frameRate: 0,\n        };\n        this.func = func;\n        this.setLayers(layers);\n    }\n    setLayers(layers) {\n        var lays = [];\n        if (!layers) {\n            lays = [];\n        }\n        else if (layers.length > 0) {\n            lays = layers;\n        }\n        else {\n            lays = [layers];\n        }\n        this.layers = lays;\n        return this;\n    }\n    getLayers() {\n        return this.layers;\n    }\n    addLayer(layer) {\n        var layers = this.layers, len = layers.length, n;\n        for (n = 0; n < len; n++) {\n            if (layers[n]._id === layer._id) {\n                return false;\n            }\n        }\n        this.layers.push(layer);\n        return true;\n    }\n    isRunning() {\n        var a = Animation, animations = a.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === this.id) {\n                return true;\n            }\n        }\n        return false;\n    }\n    start() {\n        this.stop();\n        this.frame.timeDiff = 0;\n        this.frame.lastTime = now();\n        Animation._addAnimation(this);\n        return this;\n    }\n    stop() {\n        Animation._removeAnimation(this);\n        return this;\n    }\n    _updateFrameObject(time) {\n        this.frame.timeDiff = time - this.frame.lastTime;\n        this.frame.lastTime = time;\n        this.frame.time += this.frame.timeDiff;\n        this.frame.frameRate = 1000 / this.frame.timeDiff;\n    }\n    static _addAnimation(anim) {\n        this.animations.push(anim);\n        this._handleAnimation();\n    }\n    static _removeAnimation(anim) {\n        var id = anim.id, animations = this.animations, len = animations.length, n;\n        for (n = 0; n < len; n++) {\n            if (animations[n].id === id) {\n                this.animations.splice(n, 1);\n                break;\n            }\n        }\n    }\n    static _runFrames() {\n        var layerHash = {}, animations = this.animations, anim, layers, func, n, i, layersLen, layer, key, needRedraw;\n        for (n = 0; n < animations.length; n++) {\n            anim = animations[n];\n            layers = anim.layers;\n            func = anim.func;\n            anim._updateFrameObject(now());\n            layersLen = layers.length;\n            if (func) {\n                needRedraw = func.call(anim, anim.frame) !== false;\n            }\n            else {\n                needRedraw = true;\n            }\n            if (!needRedraw) {\n                continue;\n            }\n            for (i = 0; i < layersLen; i++) {\n                layer = layers[i];\n                if (layer._id !== undefined) {\n                    layerHash[layer._id] = layer;\n                }\n            }\n        }\n        for (key in layerHash) {\n            if (!layerHash.hasOwnProperty(key)) {\n                continue;\n            }\n            layerHash[key].batchDraw();\n        }\n    }\n    static _animationLoop() {\n        var Anim = Animation;\n        if (Anim.animations.length) {\n            Anim._runFrames();\n            Util_1.Util.requestAnimFrame(Anim._animationLoop);\n        }\n        else {\n            Anim.animRunning = false;\n        }\n    }\n    static _handleAnimation() {\n        if (!this.animRunning) {\n            this.animRunning = true;\n            Util_1.Util.requestAnimFrame(this._animationLoop);\n        }\n    }\n}\nexports.Animation = Animation;\nAnimation.animations = [];\nAnimation.animIdCounter = 0;\nAnimation.animRunning = false;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Easings = exports.Tween = void 0;\nconst Util_1 = require(\"./Util\");\nconst Animation_1 = require(\"./Animation\");\nconst Node_1 = require(\"./Node\");\nconst Global_1 = require(\"./Global\");\nvar blacklist = {\n    node: 1,\n    duration: 1,\n    easing: 1,\n    onFinish: 1,\n    yoyo: 1,\n}, PAUSED = 1, PLAYING = 2, REVERSING = 3, idCounter = 0, colorAttrs = ['fill', 'stroke', 'shadowColor'];\nclass TweenEngine {\n    constructor(prop, propFunc, func, begin, finish, duration, yoyo) {\n        this.prop = prop;\n        this.propFunc = propFunc;\n        this.begin = begin;\n        this._pos = begin;\n        this.duration = duration;\n        this._change = 0;\n        this.prevPos = 0;\n        this.yoyo = yoyo;\n        this._time = 0;\n        this._position = 0;\n        this._startTime = 0;\n        this._finish = 0;\n        this.func = func;\n        this._change = finish - this.begin;\n        this.pause();\n    }\n    fire(str) {\n        var handler = this[str];\n        if (handler) {\n            handler();\n        }\n    }\n    setTime(t) {\n        if (t > this.duration) {\n            if (this.yoyo) {\n                this._time = this.duration;\n                this.reverse();\n            }\n            else {\n                this.finish();\n            }\n        }\n        else if (t < 0) {\n            if (this.yoyo) {\n                this._time = 0;\n                this.play();\n            }\n            else {\n                this.reset();\n            }\n        }\n        else {\n            this._time = t;\n            this.update();\n        }\n    }\n    getTime() {\n        return this._time;\n    }\n    setPosition(p) {\n        this.prevPos = this._pos;\n        this.propFunc(p);\n        this._pos = p;\n    }\n    getPosition(t) {\n        if (t === undefined) {\n            t = this._time;\n        }\n        return this.func(t, this.begin, this._change, this.duration);\n    }\n    play() {\n        this.state = PLAYING;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onPlay');\n    }\n    reverse() {\n        this.state = REVERSING;\n        this._time = this.duration - this._time;\n        this._startTime = this.getTimer() - this._time;\n        this.onEnterFrame();\n        this.fire('onReverse');\n    }\n    seek(t) {\n        this.pause();\n        this._time = t;\n        this.update();\n        this.fire('onSeek');\n    }\n    reset() {\n        this.pause();\n        this._time = 0;\n        this.update();\n        this.fire('onReset');\n    }\n    finish() {\n        this.pause();\n        this._time = this.duration;\n        this.update();\n        this.fire('onFinish');\n    }\n    update() {\n        this.setPosition(this.getPosition(this._time));\n        this.fire('onUpdate');\n    }\n    onEnterFrame() {\n        var t = this.getTimer() - this._startTime;\n        if (this.state === PLAYING) {\n            this.setTime(t);\n        }\n        else if (this.state === REVERSING) {\n            this.setTime(this.duration - t);\n        }\n    }\n    pause() {\n        this.state = PAUSED;\n        this.fire('onPause');\n    }\n    getTimer() {\n        return new Date().getTime();\n    }\n}\nclass Tween {\n    constructor(config) {\n        var that = this, node = config.node, nodeId = node._id, duration, easing = config.easing || exports.Easings.Linear, yoyo = !!config.yoyo, key;\n        if (typeof config.duration === 'undefined') {\n            duration = 0.3;\n        }\n        else if (config.duration === 0) {\n            duration = 0.001;\n        }\n        else {\n            duration = config.duration;\n        }\n        this.node = node;\n        this._id = idCounter++;\n        var layers = node.getLayer() ||\n            (node instanceof Global_1.Konva['Stage'] ? node.getLayers() : null);\n        if (!layers) {\n            Util_1.Util.error('Tween constructor have `node` that is not in a layer. Please add node into layer first.');\n        }\n        this.anim = new Animation_1.Animation(function () {\n            that.tween.onEnterFrame();\n        }, layers);\n        this.tween = new TweenEngine(key, function (i) {\n            that._tweenFunc(i);\n        }, easing, 0, 1, duration * 1000, yoyo);\n        this._addListeners();\n        if (!Tween.attrs[nodeId]) {\n            Tween.attrs[nodeId] = {};\n        }\n        if (!Tween.attrs[nodeId][this._id]) {\n            Tween.attrs[nodeId][this._id] = {};\n        }\n        if (!Tween.tweens[nodeId]) {\n            Tween.tweens[nodeId] = {};\n        }\n        for (key in config) {\n            if (blacklist[key] === undefined) {\n                this._addAttr(key, config[key]);\n            }\n        }\n        this.reset();\n        this.onFinish = config.onFinish;\n        this.onReset = config.onReset;\n        this.onUpdate = config.onUpdate;\n    }\n    _addAttr(key, end) {\n        var node = this.node, nodeId = node._id, start, diff, tweenId, n, len, trueEnd, trueStart, endRGBA;\n        tweenId = Tween.tweens[nodeId][key];\n        if (tweenId) {\n            delete Tween.attrs[nodeId][tweenId][key];\n        }\n        start = node.getAttr(key);\n        if (Util_1.Util._isArray(end)) {\n            diff = [];\n            len = Math.max(end.length, start.length);\n            if (key === 'points' && end.length !== start.length) {\n                if (end.length > start.length) {\n                    trueStart = start;\n                    start = Util_1.Util._prepareArrayForTween(start, end, node.closed());\n                }\n                else {\n                    trueEnd = end;\n                    end = Util_1.Util._prepareArrayForTween(end, start, node.closed());\n                }\n            }\n            if (key.indexOf('fill') === 0) {\n                for (n = 0; n < len; n++) {\n                    if (n % 2 === 0) {\n                        diff.push(end[n] - start[n]);\n                    }\n                    else {\n                        var startRGBA = Util_1.Util.colorToRGBA(start[n]);\n                        endRGBA = Util_1.Util.colorToRGBA(end[n]);\n                        start[n] = startRGBA;\n                        diff.push({\n                            r: endRGBA.r - startRGBA.r,\n                            g: endRGBA.g - startRGBA.g,\n                            b: endRGBA.b - startRGBA.b,\n                            a: endRGBA.a - startRGBA.a,\n                        });\n                    }\n                }\n            }\n            else {\n                for (n = 0; n < len; n++) {\n                    diff.push(end[n] - start[n]);\n                }\n            }\n        }\n        else if (colorAttrs.indexOf(key) !== -1) {\n            start = Util_1.Util.colorToRGBA(start);\n            endRGBA = Util_1.Util.colorToRGBA(end);\n            diff = {\n                r: endRGBA.r - start.r,\n                g: endRGBA.g - start.g,\n                b: endRGBA.b - start.b,\n                a: endRGBA.a - start.a,\n            };\n        }\n        else {\n            diff = end - start;\n        }\n        Tween.attrs[nodeId][this._id][key] = {\n            start: start,\n            diff: diff,\n            end: end,\n            trueEnd: trueEnd,\n            trueStart: trueStart,\n        };\n        Tween.tweens[nodeId][key] = this._id;\n    }\n    _tweenFunc(i) {\n        var node = this.node, attrs = Tween.attrs[node._id][this._id], key, attr, start, diff, newVal, n, len, end;\n        for (key in attrs) {\n            attr = attrs[key];\n            start = attr.start;\n            diff = attr.diff;\n            end = attr.end;\n            if (Util_1.Util._isArray(start)) {\n                newVal = [];\n                len = Math.max(start.length, end.length);\n                if (key.indexOf('fill') === 0) {\n                    for (n = 0; n < len; n++) {\n                        if (n % 2 === 0) {\n                            newVal.push((start[n] || 0) + diff[n] * i);\n                        }\n                        else {\n                            newVal.push('rgba(' +\n                                Math.round(start[n].r + diff[n].r * i) +\n                                ',' +\n                                Math.round(start[n].g + diff[n].g * i) +\n                                ',' +\n                                Math.round(start[n].b + diff[n].b * i) +\n                                ',' +\n                                (start[n].a + diff[n].a * i) +\n                                ')');\n                        }\n                    }\n                }\n                else {\n                    for (n = 0; n < len; n++) {\n                        newVal.push((start[n] || 0) + diff[n] * i);\n                    }\n                }\n            }\n            else if (colorAttrs.indexOf(key) !== -1) {\n                newVal =\n                    'rgba(' +\n                        Math.round(start.r + diff.r * i) +\n                        ',' +\n                        Math.round(start.g + diff.g * i) +\n                        ',' +\n                        Math.round(start.b + diff.b * i) +\n                        ',' +\n                        (start.a + diff.a * i) +\n                        ')';\n            }\n            else {\n                newVal = start + diff * i;\n            }\n            node.setAttr(key, newVal);\n        }\n    }\n    _addListeners() {\n        this.tween.onPlay = () => {\n            this.anim.start();\n        };\n        this.tween.onReverse = () => {\n            this.anim.start();\n        };\n        this.tween.onPause = () => {\n            this.anim.stop();\n        };\n        this.tween.onFinish = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueEnd) {\n                node.setAttr('points', attrs.points.trueEnd);\n            }\n            if (this.onFinish) {\n                this.onFinish.call(this);\n            }\n        };\n        this.tween.onReset = () => {\n            var node = this.node;\n            var attrs = Tween.attrs[node._id][this._id];\n            if (attrs.points && attrs.points.trueStart) {\n                node.points(attrs.points.trueStart);\n            }\n            if (this.onReset) {\n                this.onReset();\n            }\n        };\n        this.tween.onUpdate = () => {\n            if (this.onUpdate) {\n                this.onUpdate.call(this);\n            }\n        };\n    }\n    play() {\n        this.tween.play();\n        return this;\n    }\n    reverse() {\n        this.tween.reverse();\n        return this;\n    }\n    reset() {\n        this.tween.reset();\n        return this;\n    }\n    seek(t) {\n        this.tween.seek(t * 1000);\n        return this;\n    }\n    pause() {\n        this.tween.pause();\n        return this;\n    }\n    finish() {\n        this.tween.finish();\n        return this;\n    }\n    destroy() {\n        var nodeId = this.node._id, thisId = this._id, attrs = Tween.tweens[nodeId], key;\n        this.pause();\n        for (key in attrs) {\n            delete Tween.tweens[nodeId][key];\n        }\n        delete Tween.attrs[nodeId][thisId];\n    }\n}\nexports.Tween = Tween;\nTween.attrs = {};\nTween.tweens = {};\nNode_1.Node.prototype.to = function (params) {\n    var onFinish = params.onFinish;\n    params.node = this;\n    params.onFinish = function () {\n        this.destroy();\n        if (onFinish) {\n            onFinish();\n        }\n    };\n    var tween = new Tween(params);\n    tween.play();\n};\nexports.Easings = {\n    BackEaseIn(t, b, c, d) {\n        var s = 1.70158;\n        return c * (t /= d) * t * ((s + 1) * t - s) + b;\n    },\n    BackEaseOut(t, b, c, d) {\n        var s = 1.70158;\n        return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n    },\n    BackEaseInOut(t, b, c, d) {\n        var s = 1.70158;\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n        }\n        return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    },\n    ElasticEaseIn(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (-(a *\n            Math.pow(2, 10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b);\n    },\n    ElasticEaseOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d) === 1) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * 0.3;\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        return (a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) +\n            c +\n            b);\n    },\n    ElasticEaseInOut(t, b, c, d, a, p) {\n        var s = 0;\n        if (t === 0) {\n            return b;\n        }\n        if ((t /= d / 2) === 2) {\n            return b + c;\n        }\n        if (!p) {\n            p = d * (0.3 * 1.5);\n        }\n        if (!a || a < Math.abs(c)) {\n            a = c;\n            s = p / 4;\n        }\n        else {\n            s = (p / (2 * Math.PI)) * Math.asin(c / a);\n        }\n        if (t < 1) {\n            return (-0.5 *\n                (a *\n                    Math.pow(2, 10 * (t -= 1)) *\n                    Math.sin(((t * d - s) * (2 * Math.PI)) / p)) +\n                b);\n        }\n        return (a *\n            Math.pow(2, -10 * (t -= 1)) *\n            Math.sin(((t * d - s) * (2 * Math.PI)) / p) *\n            0.5 +\n            c +\n            b);\n    },\n    BounceEaseOut(t, b, c, d) {\n        if ((t /= d) < 1 / 2.75) {\n            return c * (7.5625 * t * t) + b;\n        }\n        else if (t < 2 / 2.75) {\n            return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n        }\n        else if (t < 2.5 / 2.75) {\n            return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n        }\n        else {\n            return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n        }\n    },\n    BounceEaseIn(t, b, c, d) {\n        return c - exports.Easings.BounceEaseOut(d - t, 0, c, d) + b;\n    },\n    BounceEaseInOut(t, b, c, d) {\n        if (t < d / 2) {\n            return exports.Easings.BounceEaseIn(t * 2, 0, c, d) * 0.5 + b;\n        }\n        else {\n            return exports.Easings.BounceEaseOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n        }\n    },\n    EaseIn(t, b, c, d) {\n        return c * (t /= d) * t + b;\n    },\n    EaseOut(t, b, c, d) {\n        return -c * (t /= d) * (t - 2) + b;\n    },\n    EaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t + b;\n        }\n        return (-c / 2) * (--t * (t - 2) - 1) + b;\n    },\n    StrongEaseIn(t, b, c, d) {\n        return c * (t /= d) * t * t * t * t + b;\n    },\n    StrongEaseOut(t, b, c, d) {\n        return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n    },\n    StrongEaseInOut(t, b, c, d) {\n        if ((t /= d / 2) < 1) {\n            return (c / 2) * t * t * t * t * t + b;\n        }\n        return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    },\n    Linear(t, b, c, d) {\n        return (c * t) / d + b;\n    },\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nconst Global_1 = require(\"./Global\");\nconst Util_1 = require(\"./Util\");\nconst Node_1 = require(\"./Node\");\nconst Container_1 = require(\"./Container\");\nconst Stage_1 = require(\"./Stage\");\nconst Layer_1 = require(\"./Layer\");\nconst FastLayer_1 = require(\"./FastLayer\");\nconst Group_1 = require(\"./Group\");\nconst DragAndDrop_1 = require(\"./DragAndDrop\");\nconst Shape_1 = require(\"./Shape\");\nconst Animation_1 = require(\"./Animation\");\nconst Tween_1 = require(\"./Tween\");\nconst Context_1 = require(\"./Context\");\nconst Canvas_1 = require(\"./Canvas\");\nexports.Konva = Util_1.Util._assign(Global_1.Konva, {\n    Util: Util_1.Util,\n    Transform: Util_1.Transform,\n    Node: Node_1.Node,\n    Container: Container_1.Container,\n    Stage: Stage_1.Stage,\n    stages: Stage_1.stages,\n    Layer: Layer_1.Layer,\n    FastLayer: FastLayer_1.FastLayer,\n    Group: Group_1.Group,\n    DD: DragAndDrop_1.DD,\n    Shape: Shape_1.Shape,\n    shapes: Shape_1.shapes,\n    Animation: Animation_1.Animation,\n    Tween: Tween_1.Tween,\n    Easings: Tween_1.Easings,\n    Context: Context_1.Context,\n    Canvas: Canvas_1.Canvas,\n});\nexports.default = exports.Konva;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Konva = void 0;\nvar _CoreInternals_1 = require(\"./_CoreInternals\");\nObject.defineProperty(exports, \"Konva\", { enumerable: true, get: function () { return _CoreInternals_1.Konva; } });\nconst _CoreInternals_2 = require(\"./_CoreInternals\");\nmodule.exports = _CoreInternals_2.Konva;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Line = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nfunction getControlPoints(x0, y0, x1, y1, x2, y2, t) {\n    var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2)), d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)), fa = (t * d01) / (d01 + d12), fb = (t * d12) / (d01 + d12), p1x = x1 - fa * (x2 - x0), p1y = y1 - fa * (y2 - y0), p2x = x1 + fb * (x2 - x0), p2y = y1 + fb * (y2 - y0);\n    return [p1x, p1y, p2x, p2y];\n}\nfunction expandPoints(p, tension) {\n    var len = p.length, allPoints = [], n, cp;\n    for (n = 2; n < len - 2; n += 2) {\n        cp = getControlPoints(p[n - 2], p[n - 1], p[n], p[n + 1], p[n + 2], p[n + 3], tension);\n        if (isNaN(cp[0])) {\n            continue;\n        }\n        allPoints.push(cp[0]);\n        allPoints.push(cp[1]);\n        allPoints.push(p[n]);\n        allPoints.push(p[n + 1]);\n        allPoints.push(cp[2]);\n        allPoints.push(cp[3]);\n    }\n    return allPoints;\n}\nclass Line extends Shape_1.Shape {\n    constructor(config) {\n        super(config);\n        this.on('pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva', function () {\n            this._clearCache('tensionPoints');\n        });\n    }\n    _sceneFunc(context) {\n        var points = this.points(), length = points.length, tension = this.tension(), closed = this.closed(), bezier = this.bezier(), tp, len, n;\n        if (!length) {\n            return;\n        }\n        context.beginPath();\n        context.moveTo(points[0], points[1]);\n        if (tension !== 0 && length > 4) {\n            tp = this.getTensionPoints();\n            len = tp.length;\n            n = closed ? 0 : 4;\n            if (!closed) {\n                context.quadraticCurveTo(tp[0], tp[1], tp[2], tp[3]);\n            }\n            while (n < len - 2) {\n                context.bezierCurveTo(tp[n++], tp[n++], tp[n++], tp[n++], tp[n++], tp[n++]);\n            }\n            if (!closed) {\n                context.quadraticCurveTo(tp[len - 2], tp[len - 1], points[length - 2], points[length - 1]);\n            }\n        }\n        else if (bezier) {\n            n = 2;\n            while (n < length) {\n                context.bezierCurveTo(points[n++], points[n++], points[n++], points[n++], points[n++], points[n++]);\n            }\n        }\n        else {\n            for (n = 2; n < length; n += 2) {\n                context.lineTo(points[n], points[n + 1]);\n            }\n        }\n        if (closed) {\n            context.closePath();\n            context.fillStrokeShape(this);\n        }\n        else {\n            context.strokeShape(this);\n        }\n    }\n    getTensionPoints() {\n        return this._getCache('tensionPoints', this._getTensionPoints);\n    }\n    _getTensionPoints() {\n        if (this.closed()) {\n            return this._getTensionPointsClosed();\n        }\n        else {\n            return expandPoints(this.points(), this.tension());\n        }\n    }\n    _getTensionPointsClosed() {\n        var p = this.points(), len = p.length, tension = this.tension(), firstControlPoints = getControlPoints(p[len - 2], p[len - 1], p[0], p[1], p[2], p[3], tension), lastControlPoints = getControlPoints(p[len - 4], p[len - 3], p[len - 2], p[len - 1], p[0], p[1], tension), middle = expandPoints(p, tension), tp = [firstControlPoints[2], firstControlPoints[3]]\n            .concat(middle)\n            .concat([\n            lastControlPoints[0],\n            lastControlPoints[1],\n            p[len - 2],\n            p[len - 1],\n            lastControlPoints[2],\n            lastControlPoints[3],\n            firstControlPoints[0],\n            firstControlPoints[1],\n            p[0],\n            p[1],\n        ]);\n        return tp;\n    }\n    getWidth() {\n        return this.getSelfRect().width;\n    }\n    getHeight() {\n        return this.getSelfRect().height;\n    }\n    getSelfRect() {\n        var points = this.points();\n        if (points.length < 4) {\n            return {\n                x: points[0] || 0,\n                y: points[1] || 0,\n                width: 0,\n                height: 0,\n            };\n        }\n        if (this.tension() !== 0) {\n            points = [\n                points[0],\n                points[1],\n                ...this._getTensionPoints(),\n                points[points.length - 2],\n                points[points.length - 1],\n            ];\n        }\n        else {\n            points = this.points();\n        }\n        var minX = points[0];\n        var maxX = points[0];\n        var minY = points[1];\n        var maxY = points[1];\n        var x, y;\n        for (var i = 0; i < points.length / 2; i++) {\n            x = points[i * 2];\n            y = points[i * 2 + 1];\n            minX = Math.min(minX, x);\n            maxX = Math.max(maxX, x);\n            minY = Math.min(minY, y);\n            maxY = Math.max(maxY, y);\n        }\n        return {\n            x: minX,\n            y: minY,\n            width: maxX - minX,\n            height: maxY - minY,\n        };\n    }\n}\nexports.Line = Line;\nLine.prototype.className = 'Line';\nLine.prototype._attrsAffectingSize = ['points', 'bezier', 'tension'];\n(0, Global_1._registerNode)(Line);\nFactory_1.Factory.addGetterSetter(Line, 'closed', false);\nFactory_1.Factory.addGetterSetter(Line, 'bezier', false);\nFactory_1.Factory.addGetterSetter(Line, 'tension', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Line, 'points', [], (0, Validators_1.getNumberArrayValidator)());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Global_1 = require(\"../Global\");\nconst Util_1 = require(\"../Util\");\nconst Validators_1 = require(\"../Validators\");\nclass Rect extends Shape_1.Shape {\n    _sceneFunc(context) {\n        var cornerRadius = this.cornerRadius(), width = this.width(), height = this.height();\n        context.beginPath();\n        if (!cornerRadius) {\n            context.rect(0, 0, width, height);\n        }\n        else {\n            Util_1.Util.drawRoundedRectPath(context, width, height, cornerRadius);\n        }\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n}\nexports.Rect = Rect;\nRect.prototype.className = 'Rect';\n(0, Global_1._registerNode)(Rect);\nFactory_1.Factory.addGetterSetter(Rect, 'cornerRadius', 0, (0, Validators_1.getNumberOrArrayOfNumbersValidator)(4));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Text = exports.stringToArray = void 0;\nconst Util_1 = require(\"../Util\");\nconst Factory_1 = require(\"../Factory\");\nconst Shape_1 = require(\"../Shape\");\nconst Validators_1 = require(\"../Validators\");\nconst Global_1 = require(\"../Global\");\nfunction stringToArray(string) {\n    return Array.from(string);\n}\nexports.stringToArray = stringToArray;\nvar AUTO = 'auto', CENTER = 'center', JUSTIFY = 'justify', CHANGE_KONVA = 'Change.konva', CONTEXT_2D = '2d', DASH = '-', LEFT = 'left', TEXT = 'text', TEXT_UPPER = 'Text', TOP = 'top', BOTTOM = 'bottom', MIDDLE = 'middle', NORMAL = 'normal', PX_SPACE = 'px ', SPACE = ' ', RIGHT = 'right', WORD = 'word', CHAR = 'char', NONE = 'none', ELLIPSIS = '', ATTR_CHANGE_LIST = [\n    'fontFamily',\n    'fontSize',\n    'fontStyle',\n    'fontVariant',\n    'padding',\n    'align',\n    'verticalAlign',\n    'lineHeight',\n    'text',\n    'width',\n    'height',\n    'wrap',\n    'ellipsis',\n    'letterSpacing',\n], attrChangeListLen = ATTR_CHANGE_LIST.length;\nfunction normalizeFontFamily(fontFamily) {\n    return fontFamily\n        .split(',')\n        .map((family) => {\n        family = family.trim();\n        const hasSpace = family.indexOf(' ') >= 0;\n        const hasQuotes = family.indexOf('\"') >= 0 || family.indexOf(\"'\") >= 0;\n        if (hasSpace && !hasQuotes) {\n            family = `\"${family}\"`;\n        }\n        return family;\n    })\n        .join(', ');\n}\nvar dummyContext;\nfunction getDummyContext() {\n    if (dummyContext) {\n        return dummyContext;\n    }\n    dummyContext = Util_1.Util.createCanvasElement().getContext(CONTEXT_2D);\n    return dummyContext;\n}\nfunction _fillFunc(context) {\n    context.fillText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction _strokeFunc(context) {\n    context.setAttr('miterLimit', 2);\n    context.strokeText(this._partialText, this._partialTextX, this._partialTextY);\n}\nfunction checkDefaultFill(config) {\n    config = config || {};\n    if (!config.fillLinearGradientColorStops &&\n        !config.fillRadialGradientColorStops &&\n        !config.fillPatternImage) {\n        config.fill = config.fill || 'black';\n    }\n    return config;\n}\nclass Text extends Shape_1.Shape {\n    constructor(config) {\n        super(checkDefaultFill(config));\n        this._partialTextX = 0;\n        this._partialTextY = 0;\n        for (var n = 0; n < attrChangeListLen; n++) {\n            this.on(ATTR_CHANGE_LIST[n] + CHANGE_KONVA, this._setTextData);\n        }\n        this._setTextData();\n    }\n    _sceneFunc(context) {\n        var textArr = this.textArr, textArrLen = textArr.length;\n        if (!this.text()) {\n            return;\n        }\n        var padding = this.padding(), fontSize = this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, verticalAlign = this.verticalAlign(), alignY = 0, align = this.align(), totalWidth = this.getWidth(), letterSpacing = this.letterSpacing(), fill = this.fill(), textDecoration = this.textDecoration(), shouldUnderline = textDecoration.indexOf('underline') !== -1, shouldLineThrough = textDecoration.indexOf('line-through') !== -1, n;\n        var translateY = 0;\n        var translateY = lineHeightPx / 2;\n        var lineTranslateX = 0;\n        var lineTranslateY = 0;\n        context.setAttr('font', this._getContextFont());\n        context.setAttr('textBaseline', MIDDLE);\n        context.setAttr('textAlign', LEFT);\n        if (verticalAlign === MIDDLE) {\n            alignY = (this.getHeight() - textArrLen * lineHeightPx - padding * 2) / 2;\n        }\n        else if (verticalAlign === BOTTOM) {\n            alignY = this.getHeight() - textArrLen * lineHeightPx - padding * 2;\n        }\n        context.translate(padding, alignY + padding);\n        for (n = 0; n < textArrLen; n++) {\n            var lineTranslateX = 0;\n            var lineTranslateY = 0;\n            var obj = textArr[n], text = obj.text, width = obj.width, lastLine = obj.lastInParagraph, spacesNumber, oneWord, lineWidth;\n            context.save();\n            if (align === RIGHT) {\n                lineTranslateX += totalWidth - width - padding * 2;\n            }\n            else if (align === CENTER) {\n                lineTranslateX += (totalWidth - width - padding * 2) / 2;\n            }\n            if (shouldUnderline) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY + Math.round(fontSize / 2));\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && !lastLine ? totalWidth - padding * 2 : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY + Math.round(fontSize / 2));\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (shouldLineThrough) {\n                context.save();\n                context.beginPath();\n                context.moveTo(lineTranslateX, translateY + lineTranslateY);\n                spacesNumber = text.split(' ').length - 1;\n                oneWord = spacesNumber === 0;\n                lineWidth =\n                    align === JUSTIFY && lastLine && !oneWord\n                        ? totalWidth - padding * 2\n                        : width;\n                context.lineTo(lineTranslateX + Math.round(lineWidth), translateY + lineTranslateY);\n                context.lineWidth = fontSize / 15;\n                const gradient = this._getLinearGradient();\n                context.strokeStyle = gradient || fill;\n                context.stroke();\n                context.restore();\n            }\n            if (letterSpacing !== 0 || align === JUSTIFY) {\n                spacesNumber = text.split(' ').length - 1;\n                var array = stringToArray(text);\n                for (var li = 0; li < array.length; li++) {\n                    var letter = array[li];\n                    if (letter === ' ' && !lastLine && align === JUSTIFY) {\n                        lineTranslateX += (totalWidth - padding * 2 - width) / spacesNumber;\n                    }\n                    this._partialTextX = lineTranslateX;\n                    this._partialTextY = translateY + lineTranslateY;\n                    this._partialText = letter;\n                    context.fillStrokeShape(this);\n                    lineTranslateX += this.measureSize(letter).width + letterSpacing;\n                }\n            }\n            else {\n                this._partialTextX = lineTranslateX;\n                this._partialTextY = translateY + lineTranslateY;\n                this._partialText = text;\n                context.fillStrokeShape(this);\n            }\n            context.restore();\n            if (textArrLen > 1) {\n                translateY += lineHeightPx;\n            }\n        }\n    }\n    _hitFunc(context) {\n        var width = this.getWidth(), height = this.getHeight();\n        context.beginPath();\n        context.rect(0, 0, width, height);\n        context.closePath();\n        context.fillStrokeShape(this);\n    }\n    setText(text) {\n        var str = Util_1.Util._isString(text)\n            ? text\n            : text === null || text === undefined\n                ? ''\n                : text + '';\n        this._setAttr(TEXT, str);\n        return this;\n    }\n    getWidth() {\n        var isAuto = this.attrs.width === AUTO || this.attrs.width === undefined;\n        return isAuto ? this.getTextWidth() + this.padding() * 2 : this.attrs.width;\n    }\n    getHeight() {\n        var isAuto = this.attrs.height === AUTO || this.attrs.height === undefined;\n        return isAuto\n            ? this.fontSize() * this.textArr.length * this.lineHeight() +\n                this.padding() * 2\n            : this.attrs.height;\n    }\n    getTextWidth() {\n        return this.textWidth;\n    }\n    getTextHeight() {\n        Util_1.Util.warn('text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height.');\n        return this.textHeight;\n    }\n    measureSize(text) {\n        var _context = getDummyContext(), fontSize = this.fontSize(), metrics;\n        _context.save();\n        _context.font = this._getContextFont();\n        metrics = _context.measureText(text);\n        _context.restore();\n        return {\n            width: metrics.width,\n            height: fontSize,\n        };\n    }\n    _getContextFont() {\n        return (this.fontStyle() +\n            SPACE +\n            this.fontVariant() +\n            SPACE +\n            (this.fontSize() + PX_SPACE) +\n            normalizeFontFamily(this.fontFamily()));\n    }\n    _addTextLine(line) {\n        const align = this.align();\n        if (align === JUSTIFY) {\n            line = line.trim();\n        }\n        var width = this._getTextWidth(line);\n        return this.textArr.push({\n            text: line,\n            width: width,\n            lastInParagraph: false,\n        });\n    }\n    _getTextWidth(text) {\n        var letterSpacing = this.letterSpacing();\n        var length = text.length;\n        return (getDummyContext().measureText(text).width +\n            (length ? letterSpacing * (length - 1) : 0));\n    }\n    _setTextData() {\n        var lines = this.text().split('\\n'), fontSize = +this.fontSize(), textWidth = 0, lineHeightPx = this.lineHeight() * fontSize, width = this.attrs.width, height = this.attrs.height, fixedWidth = width !== AUTO && width !== undefined, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxWidth = width - padding * 2, maxHeightPx = height - padding * 2, currentHeightPx = 0, wrap = this.wrap(), shouldWrap = wrap !== NONE, wrapAtWord = wrap !== CHAR && shouldWrap, shouldAddEllipsis = this.ellipsis();\n        this.textArr = [];\n        getDummyContext().font = this._getContextFont();\n        var additionalWidth = shouldAddEllipsis ? this._getTextWidth(ELLIPSIS) : 0;\n        for (var i = 0, max = lines.length; i < max; ++i) {\n            var line = lines[i];\n            var lineWidth = this._getTextWidth(line);\n            if (fixedWidth && lineWidth > maxWidth) {\n                while (line.length > 0) {\n                    var low = 0, high = line.length, match = '', matchWidth = 0;\n                    while (low < high) {\n                        var mid = (low + high) >>> 1, substr = line.slice(0, mid + 1), substrWidth = this._getTextWidth(substr) + additionalWidth;\n                        if (substrWidth <= maxWidth) {\n                            low = mid + 1;\n                            match = substr;\n                            matchWidth = substrWidth;\n                        }\n                        else {\n                            high = mid;\n                        }\n                    }\n                    if (match) {\n                        if (wrapAtWord) {\n                            var wrapIndex;\n                            var nextChar = line[match.length];\n                            var nextIsSpaceOrDash = nextChar === SPACE || nextChar === DASH;\n                            if (nextIsSpaceOrDash && matchWidth <= maxWidth) {\n                                wrapIndex = match.length;\n                            }\n                            else {\n                                wrapIndex =\n                                    Math.max(match.lastIndexOf(SPACE), match.lastIndexOf(DASH)) +\n                                        1;\n                            }\n                            if (wrapIndex > 0) {\n                                low = wrapIndex;\n                                match = match.slice(0, low);\n                                matchWidth = this._getTextWidth(match);\n                            }\n                        }\n                        match = match.trimRight();\n                        this._addTextLine(match);\n                        textWidth = Math.max(textWidth, matchWidth);\n                        currentHeightPx += lineHeightPx;\n                        var shouldHandleEllipsis = this._shouldHandleEllipsis(currentHeightPx);\n                        if (shouldHandleEllipsis) {\n                            this._tryToAddEllipsisToLastLine();\n                            break;\n                        }\n                        line = line.slice(low);\n                        line = line.trimLeft();\n                        if (line.length > 0) {\n                            lineWidth = this._getTextWidth(line);\n                            if (lineWidth <= maxWidth) {\n                                this._addTextLine(line);\n                                currentHeightPx += lineHeightPx;\n                                textWidth = Math.max(textWidth, lineWidth);\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            else {\n                this._addTextLine(line);\n                currentHeightPx += lineHeightPx;\n                textWidth = Math.max(textWidth, lineWidth);\n                if (this._shouldHandleEllipsis(currentHeightPx) && i < max - 1) {\n                    this._tryToAddEllipsisToLastLine();\n                }\n            }\n            if (this.textArr[this.textArr.length - 1]) {\n                this.textArr[this.textArr.length - 1].lastInParagraph = true;\n            }\n            if (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx) {\n                break;\n            }\n        }\n        this.textHeight = fontSize;\n        this.textWidth = textWidth;\n    }\n    _shouldHandleEllipsis(currentHeightPx) {\n        var fontSize = +this.fontSize(), lineHeightPx = this.lineHeight() * fontSize, height = this.attrs.height, fixedHeight = height !== AUTO && height !== undefined, padding = this.padding(), maxHeightPx = height - padding * 2, wrap = this.wrap(), shouldWrap = wrap !== NONE;\n        return (!shouldWrap ||\n            (fixedHeight && currentHeightPx + lineHeightPx > maxHeightPx));\n    }\n    _tryToAddEllipsisToLastLine() {\n        var width = this.attrs.width, fixedWidth = width !== AUTO && width !== undefined, padding = this.padding(), maxWidth = width - padding * 2, shouldAddEllipsis = this.ellipsis();\n        var lastLine = this.textArr[this.textArr.length - 1];\n        if (!lastLine || !shouldAddEllipsis) {\n            return;\n        }\n        if (fixedWidth) {\n            var haveSpace = this._getTextWidth(lastLine.text + ELLIPSIS) < maxWidth;\n            if (!haveSpace) {\n                lastLine.text = lastLine.text.slice(0, lastLine.text.length - 3);\n            }\n        }\n        this.textArr.splice(this.textArr.length - 1, 1);\n        this._addTextLine(lastLine.text + ELLIPSIS);\n    }\n    getStrokeScaleEnabled() {\n        return true;\n    }\n}\nexports.Text = Text;\nText.prototype._fillFunc = _fillFunc;\nText.prototype._strokeFunc = _strokeFunc;\nText.prototype.className = TEXT_UPPER;\nText.prototype._attrsAffectingSize = [\n    'text',\n    'fontSize',\n    'padding',\n    'wrap',\n    'lineHeight',\n    'letterSpacing',\n];\n(0, Global_1._registerNode)(Text);\nFactory_1.Factory.overWriteSetter(Text, 'width', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.overWriteSetter(Text, 'height', (0, Validators_1.getNumberOrAutoValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'fontFamily', 'Arial');\nFactory_1.Factory.addGetterSetter(Text, 'fontSize', 12, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'fontStyle', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'fontVariant', NORMAL);\nFactory_1.Factory.addGetterSetter(Text, 'padding', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'align', LEFT);\nFactory_1.Factory.addGetterSetter(Text, 'verticalAlign', TOP);\nFactory_1.Factory.addGetterSetter(Text, 'lineHeight', 1, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'wrap', WORD);\nFactory_1.Factory.addGetterSetter(Text, 'ellipsis', false, (0, Validators_1.getBooleanValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'letterSpacing', 0, (0, Validators_1.getNumberValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'text', '', (0, Validators_1.getStringValidator)());\nFactory_1.Factory.addGetterSetter(Text, 'textDecoration', '');\n","/**\n * Provides access to the waveform data for a single audio channel.\n */\nfunction WaveformDataChannel(waveformData, channelIndex) {\n  this._waveformData = waveformData;\n  this._channelIndex = channelIndex;\n}\n/**\n * Returns the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.min_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._at(offset);\n};\n/**\n * Returns the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.max_sample = function (index) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._at(offset);\n};\n/**\n * Sets the waveform minimum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_min_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Sets the waveform maximum at the given index position.\n */\n\n\nWaveformDataChannel.prototype.set_max_sample = function (index, sample) {\n  var offset = (index * this._waveformData.channels + this._channelIndex) * 2 + 1;\n  return this._waveformData._set_at(offset, sample);\n};\n/**\n * Returns all the waveform minimum values as an array.\n */\n\n\nWaveformDataChannel.prototype.min_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2);\n};\n/**\n * Returns all the waveform maximum values as an array.\n */\n\n\nWaveformDataChannel.prototype.max_array = function () {\n  return this._waveformData._offsetValues(0, this._waveformData.length, this._channelIndex * 2 + 1);\n};\n\n/**\n * AudioBuffer-based WaveformData generator\n *\n * Adapted from BlockFile::CalcSummary in Audacity, with permission.\n * See https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/BlockFile.cpp\n */\nvar INT8_MAX = 127;\nvar INT8_MIN = -128;\n\nfunction calculateWaveformDataLength(audio_sample_count, scale) {\n  var data_length = Math.floor(audio_sample_count / scale);\n  var samples_remaining = audio_sample_count - data_length * scale;\n\n  if (samples_remaining > 0) {\n    data_length++;\n  }\n\n  return data_length;\n}\n\nfunction generateWaveformData(options) {\n  var scale = options.scale;\n  var amplitude_scale = options.amplitude_scale;\n  var split_channels = options.split_channels;\n  var length = options.length;\n  var sample_rate = options.sample_rate;\n  var channels = options.channels.map(function (channel) {\n    return new Float32Array(channel);\n  });\n  var output_channels = split_channels ? channels.length : 1;\n  var version = output_channels === 1 ? 1 : 2;\n  var header_size = version === 1 ? 20 : 24;\n  var data_length = calculateWaveformDataLength(length, scale);\n  var total_size = header_size + data_length * 2 * output_channels;\n  var buffer = new ArrayBuffer(total_size);\n  var data_view = new DataView(buffer);\n  var scale_counter = 0;\n  var offset = header_size;\n  var channel, i;\n  var min_value = new Array(output_channels);\n  var max_value = new Array(output_channels);\n\n  for (channel = 0; channel < output_channels; channel++) {\n    min_value[channel] = Infinity;\n    max_value[channel] = -Infinity;\n  }\n\n  data_view.setInt32(0, version, true); // Version\n\n  data_view.setUint32(4, 1, true); // Is 8 bit?\n\n  data_view.setInt32(8, sample_rate, true); // Sample rate\n\n  data_view.setInt32(12, scale, true); // Scale\n\n  data_view.setInt32(16, data_length, true); // Length\n\n  if (version === 2) {\n    data_view.setInt32(20, output_channels, true);\n  }\n\n  for (i = 0; i < length; i++) {\n    var sample = 0;\n\n    if (output_channels === 1) {\n      for (channel = 0; channel < channels.length; ++channel) {\n        sample += channels[channel][i];\n      }\n\n      sample = Math.floor(INT8_MAX * sample * amplitude_scale / channels.length);\n\n      if (sample < min_value[0]) {\n        min_value[0] = sample;\n\n        if (min_value[0] < INT8_MIN) {\n          min_value[0] = INT8_MIN;\n        }\n      }\n\n      if (sample > max_value[0]) {\n        max_value[0] = sample;\n\n        if (max_value[0] > INT8_MAX) {\n          max_value[0] = INT8_MAX;\n        }\n      }\n    } else {\n      for (channel = 0; channel < output_channels; ++channel) {\n        sample = Math.floor(INT8_MAX * channels[channel][i] * amplitude_scale);\n\n        if (sample < min_value[channel]) {\n          min_value[channel] = sample;\n\n          if (min_value[channel] < INT8_MIN) {\n            min_value[channel] = INT8_MIN;\n          }\n        }\n\n        if (sample > max_value[channel]) {\n          max_value[channel] = sample;\n\n          if (max_value[channel] > INT8_MAX) {\n            max_value[channel] = INT8_MAX;\n          }\n        }\n      }\n    }\n\n    if (++scale_counter === scale) {\n      for (channel = 0; channel < output_channels; channel++) {\n        data_view.setInt8(offset++, min_value[channel]);\n        data_view.setInt8(offset++, max_value[channel]);\n        min_value[channel] = Infinity;\n        max_value[channel] = -Infinity;\n      }\n\n      scale_counter = 0;\n    }\n  }\n\n  if (scale_counter > 0) {\n    for (channel = 0; channel < output_channels; channel++) {\n      data_view.setInt8(offset++, min_value[channel]);\n      data_view.setInt8(offset++, max_value[channel]);\n    }\n  }\n\n  return buffer;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction isJsonWaveformData(data) {\n  return data && _typeof(data) === \"object\" && \"sample_rate\" in data && \"samples_per_pixel\" in data && \"bits\" in data && \"length\" in data && \"data\" in data;\n}\nfunction isBinaryWaveformData(data) {\n  var isCompatible = data && _typeof(data) === \"object\" && \"byteLength\" in data;\n\n  if (isCompatible) {\n    var view = new DataView(data);\n    var version = view.getInt32(0, true);\n\n    if (version !== 1 && version !== 2) {\n      throw new TypeError(\"WaveformData.create(): This waveform data version not supported\");\n    }\n  }\n\n  return isCompatible;\n}\nfunction convertJsonToBinary(data) {\n  var waveformData = data.data;\n  var channels = data.channels || 1;\n  var header_size = 24; // version 2\n\n  var bytes_per_sample = data.bits === 8 ? 1 : 2;\n  var expected_length = data.length * 2 * channels;\n\n  if (waveformData.length !== expected_length) {\n    throw new Error(\"WaveformData.create(): Length mismatch in JSON waveform data\");\n  }\n\n  var total_size = header_size + waveformData.length * bytes_per_sample;\n  var array_buffer = new ArrayBuffer(total_size);\n  var data_object = new DataView(array_buffer);\n  data_object.setInt32(0, 2, true); // Version\n\n  data_object.setUint32(4, data.bits === 8, true);\n  data_object.setInt32(8, data.sample_rate, true);\n  data_object.setInt32(12, data.samples_per_pixel, true);\n  data_object.setInt32(16, data.length, true);\n  data_object.setInt32(20, channels, true);\n  var index = header_size;\n  var i;\n\n  if (data.bits === 8) {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt8(index++, waveformData[i], true);\n    }\n  } else {\n    for (i = 0; i < waveformData.length; i++) {\n      data_object.setInt16(index, waveformData[i], true);\n      index += 2;\n    }\n  }\n\n  return array_buffer;\n}\n\nfunction decodeBase64(base64, enableUnicode) {\n    var binaryString = atob(base64);\n    if (enableUnicode) {\n        var binaryView = new Uint8Array(binaryString.length);\n        for (var i = 0, n = binaryString.length; i < n; ++i) {\n            binaryView[i] = binaryString.charCodeAt(i);\n        }\n        return String.fromCharCode.apply(null, new Uint16Array(binaryView.buffer));\n    }\n    return binaryString;\n}\n\nfunction createURL(base64, sourcemapArg, enableUnicodeArg) {\n    var sourcemap = sourcemapArg === undefined ? null : sourcemapArg;\n    var enableUnicode = enableUnicodeArg === undefined ? false : enableUnicodeArg;\n    var source = decodeBase64(base64, enableUnicode);\n    var start = source.indexOf('\\n', 10) + 1;\n    var body = source.substring(start) + (sourcemap ? '\\/\\/# sourceMappingURL=' + sourcemap : '');\n    var blob = new Blob([body], { type: 'application/javascript' });\n    return URL.createObjectURL(blob);\n}\n\nfunction createBase64WorkerFactory(base64, sourcemapArg, enableUnicodeArg) {\n    var url;\n    return function WorkerFactory(options) {\n        url = url || createURL(base64, sourcemapArg, enableUnicodeArg);\n        return new Worker(url, options);\n    };\n}\n\nvar WorkerFactory = createBase64WorkerFactory('Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=', null, false);\n/* eslint-enable */\n\n/**\n * Provides access to waveform data.\n */\n\nfunction WaveformData(data) {\n  if (isJsonWaveformData(data)) {\n    data = convertJsonToBinary(data);\n  }\n\n  if (isBinaryWaveformData(data)) {\n    this._data = new DataView(data);\n    this._offset = this._version() === 2 ? 24 : 20;\n    this._channels = [];\n\n    for (var channel = 0; channel < this.channels; channel++) {\n      this._channels[channel] = new WaveformDataChannel(this, channel);\n    }\n  } else {\n    throw new TypeError(\"WaveformData.create(): Unknown data format\");\n  }\n}\n\nvar defaultOptions = {\n  scale: 512,\n  amplitude_scale: 1.0,\n  split_channels: false,\n  disable_worker: false\n};\n\nfunction getOptions(options) {\n  var opts = {\n    scale: options.scale || defaultOptions.scale,\n    amplitude_scale: options.amplitude_scale || defaultOptions.amplitude_scale,\n    split_channels: options.split_channels || defaultOptions.split_channels,\n    disable_worker: options.disable_worker || defaultOptions.disable_worker\n  };\n  return opts;\n}\n\nfunction getChannelData(audio_buffer) {\n  var channels = [];\n\n  for (var i = 0; i < audio_buffer.numberOfChannels; ++i) {\n    channels.push(audio_buffer.getChannelData(i).buffer);\n  }\n\n  return channels;\n}\n\nfunction createFromAudioBuffer(audio_buffer, options, callback) {\n  var channels = getChannelData(audio_buffer);\n\n  if (options.disable_worker) {\n    var buffer = generateWaveformData({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    });\n    callback(null, new WaveformData(buffer), audio_buffer);\n  } else {\n    var worker = new WorkerFactory();\n\n    worker.onmessage = function (evt) {\n      callback(null, new WaveformData(evt.data), audio_buffer);\n    };\n\n    worker.postMessage({\n      scale: options.scale,\n      amplitude_scale: options.amplitude_scale,\n      split_channels: options.split_channels,\n      length: audio_buffer.length,\n      sample_rate: audio_buffer.sampleRate,\n      channels: channels\n    }, channels);\n  }\n}\n\nfunction createFromArrayBuffer(audioContext, audioData, options, callback) {\n  // The following function is a workaround for a Webkit bug where decodeAudioData\n  // invokes the errorCallback with null instead of a DOMException.\n  // See https://webaudio.github.io/web-audio-api/#dom-baseaudiocontext-decodeaudiodata\n  // and http://stackoverflow.com/q/10365335/103396\n  function errorCallback(error) {\n    if (!error) {\n      error = new DOMException(\"EncodingError\");\n    }\n\n    callback(error);\n  }\n\n  audioContext.decodeAudioData(audioData, function (audio_buffer) {\n    createFromAudioBuffer(audio_buffer, options, callback);\n  }, errorCallback);\n}\n/**\n * Creates and returns a WaveformData instance from the given waveform data.\n */\n\n\nWaveformData.create = function create(data) {\n  return new WaveformData(data);\n};\n/**\n * Creates a WaveformData instance from audio.\n */\n\n\nWaveformData.createFromAudio = function (options, callback) {\n  var opts = getOptions(options);\n\n  if (options.audio_context && options.array_buffer) {\n    return createFromArrayBuffer(options.audio_context, options.array_buffer, opts, callback);\n  } else if (options.audio_buffer) {\n    return createFromAudioBuffer(options.audio_buffer, opts, callback);\n  } else {\n    throw new TypeError( // eslint-disable-next-line\n    \"WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object\");\n  }\n};\n\nWaveformData.prototype = {\n  /**\n   * Creates and returns a new WaveformData object with resampled data.\n   * Use this method to create waveform data at different zoom levels.\n   *\n   * Adapted from Sequence::GetWaveDisplay in Audacity, with permission.\n   * https://code.google.com/p/audacity/source/browse/audacity-src/trunk/src/Sequence.cpp\n   */\n  resample: function resample(options) {\n    options.scale = typeof options.scale === \"number\" ? options.scale : null;\n    options.width = typeof options.width === \"number\" ? options.width : null;\n\n    if (options.width != null && options.width <= 0) {\n      throw new RangeError(\"WaveformData.resample(): width should be a positive integer value\");\n    }\n\n    if (options.scale != null && options.scale <= 0) {\n      throw new RangeError(\"WaveformData.resample(): scale should be a positive integer value\");\n    }\n\n    if (!options.scale && !options.width) {\n      throw new Error(\"WaveformData.resample(): Missing scale or width option\");\n    } // Scale we want to reach\n\n\n    var output_samples_per_pixel = options.scale || Math.floor(this.duration * this.sample_rate / options.width);\n    var scale = this.scale; // scale we are coming from\n    // The amount of data we want to resample i.e. final zoom want to resample\n    // all data but for intermediate zoom we want to resample subset\n\n    var input_buffer_size = this.length;\n    var input_buffer_length_samples = input_buffer_size * this.scale;\n    var output_buffer_length_samples = Math.ceil(input_buffer_length_samples / output_samples_per_pixel);\n    var output_header_size = 24; // version 2\n\n    var bytes_per_sample = this.bits === 8 ? 1 : 2;\n    var total_size = output_header_size + output_buffer_length_samples * 2 * this.channels * bytes_per_sample;\n    var output_data = new ArrayBuffer(total_size);\n    var output_dataview = new DataView(output_data);\n    output_dataview.setInt32(0, 2, true); // Version\n\n    output_dataview.setUint32(4, this.bits === 8, true); // Is 8 bit?\n\n    output_dataview.setInt32(8, this.sample_rate, true);\n    output_dataview.setInt32(12, output_samples_per_pixel, true);\n    output_dataview.setInt32(16, output_buffer_length_samples, true);\n    output_dataview.setInt32(20, this.channels, true);\n    var waveform_data = new WaveformData(output_data);\n    var input_index = 0;\n    var output_index = 0;\n    var channels = this.channels;\n    var min = new Array(channels);\n    var max = new Array(channels);\n    var channel;\n\n    for (channel = 0; channel < channels; ++channel) {\n      if (input_buffer_size > 0) {\n        min[channel] = this.channel(channel).min_sample(input_index);\n        max[channel] = this.channel(channel).max_sample(input_index);\n      } else {\n        min[channel] = 0;\n        max[channel] = 0;\n      }\n    }\n\n    var min_value = this.bits === 8 ? -128 : -32768;\n    var max_value = this.bits === 8 ? 127 : 32767;\n\n    if (output_samples_per_pixel < scale) {\n      throw new Error(\"WaveformData.resample(): Zoom level \" + output_samples_per_pixel + \" too low, minimum: \" + scale);\n    }\n\n    var where, prev_where, stop, value, last_input_index;\n\n    function sample_at_pixel(x) {\n      return Math.floor(x * output_samples_per_pixel);\n    }\n\n    while (input_index < input_buffer_size) {\n      while (Math.floor(sample_at_pixel(output_index) / scale) === input_index) {\n        if (output_index > 0) {\n          for (channel = 0; channel < channels; ++channel) {\n            waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n            waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n          }\n        }\n\n        last_input_index = input_index;\n        output_index++;\n        where = sample_at_pixel(output_index);\n        prev_where = sample_at_pixel(output_index - 1);\n\n        if (where !== prev_where) {\n          for (channel = 0; channel < channels; ++channel) {\n            min[channel] = max_value;\n            max[channel] = min_value;\n          }\n        }\n      }\n\n      where = sample_at_pixel(output_index);\n      stop = Math.floor(where / scale);\n\n      if (stop > input_buffer_size) {\n        stop = input_buffer_size;\n      }\n\n      while (input_index < stop) {\n        for (channel = 0; channel < channels; ++channel) {\n          value = this.channel(channel).min_sample(input_index);\n\n          if (value < min[channel]) {\n            min[channel] = value;\n          }\n\n          value = this.channel(channel).max_sample(input_index);\n\n          if (value > max[channel]) {\n            max[channel] = value;\n          }\n        }\n\n        input_index++;\n      }\n    }\n\n    if (input_index !== last_input_index) {\n      for (channel = 0; channel < channels; ++channel) {\n        waveform_data.channel(channel).set_min_sample(output_index - 1, min[channel]);\n        waveform_data.channel(channel).set_max_sample(output_index - 1, max[channel]);\n      }\n    }\n\n    return waveform_data;\n  },\n\n  /**\n   * Concatenates with one or more other waveforms, returning a new WaveformData object.\n   */\n  concat: function concat() {\n    var self = this;\n    var otherWaveforms = Array.prototype.slice.call(arguments); // Check that all the supplied waveforms are compatible\n\n    otherWaveforms.forEach(function (otherWaveform) {\n      if (self.channels !== otherWaveform.channels || self.sample_rate !== otherWaveform.sample_rate || self.bits !== otherWaveform.bits || self.scale !== otherWaveform.scale) {\n        throw new Error(\"WaveformData.concat(): Waveforms are incompatible\");\n      }\n    });\n\n    var combinedBuffer = this._concatBuffers.apply(this, otherWaveforms);\n\n    return WaveformData.create(combinedBuffer);\n  },\n\n  /**\n   * Returns a new ArrayBuffer with the concatenated waveform.\n   * All waveforms must have identical metadata (version, channels, etc)\n   */\n  _concatBuffers: function _concatBuffers() {\n    var otherWaveforms = Array.prototype.slice.call(arguments);\n    var headerSize = this._offset;\n    var totalSize = headerSize;\n    var totalDataLength = 0;\n    var bufferCollection = [this].concat(otherWaveforms).map(function (w) {\n      return w._data.buffer;\n    });\n    var i, buffer;\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      var dataSize = new DataView(buffer).getInt32(16, true);\n      totalSize += buffer.byteLength - headerSize;\n      totalDataLength += dataSize;\n    }\n\n    var totalBuffer = new ArrayBuffer(totalSize);\n    var sourceHeader = new DataView(bufferCollection[0]);\n    var totalBufferView = new DataView(totalBuffer); // Copy the header from the first chunk\n\n    for (i = 0; i < headerSize; i++) {\n      totalBufferView.setUint8(i, sourceHeader.getUint8(i));\n    } // Rewrite the data-length header item to reflect all of the samples concatenated together\n\n\n    totalBufferView.setInt32(16, totalDataLength, true);\n    var offset = 0;\n    var dataOfTotalBuffer = new Uint8Array(totalBuffer, headerSize);\n\n    for (i = 0; i < bufferCollection.length; i++) {\n      buffer = bufferCollection[i];\n      dataOfTotalBuffer.set(new Uint8Array(buffer, headerSize), offset);\n      offset += buffer.byteLength - headerSize;\n    }\n\n    return totalBuffer;\n  },\n\n  /**\n   * Return the unpacked values for a particular offset.\n   */\n  _offsetValues: function getOffsetValues(start, length, correction) {\n    var values = [];\n    var channels = this.channels;\n    correction += start * channels * 2; // offset the positioning query\n\n    for (var i = 0; i < length; i++) {\n      values.push(this._at(i * channels * 2 + correction));\n    }\n\n    return values;\n  },\n\n  /**\n   * Returns the data format version number.\n   */\n  _version: function _version() {\n    return this._data.getInt32(0, true);\n  },\n\n  /**\n   * Returns the length of the waveform, in pixels.\n   */\n  get length() {\n    return this._data.getUint32(16, true);\n  },\n\n  /**\n   * Returns the number of bits per sample, either 8 or 16.\n   */\n  get bits() {\n    var bits = Boolean(this._data.getUint32(4, true));\n    return bits ? 8 : 16;\n  },\n\n  /**\n   * Returns the (approximate) duration of the audio file, in seconds.\n   */\n  get duration() {\n    return this.length * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of pixels per second.\n   */\n  get pixels_per_second() {\n    return this.sample_rate / this.scale;\n  },\n\n  /**\n   * Returns the amount of time represented by a single pixel, in seconds.\n   */\n  get seconds_per_pixel() {\n    return this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns the number of waveform channels.\n   */\n  get channels() {\n    if (this._version() === 2) {\n      return this._data.getInt32(20, true);\n    } else {\n      return 1;\n    }\n  },\n\n  /**\n   * Returns a waveform channel.\n   */\n  channel: function channel(index) {\n    if (index >= 0 && index < this._channels.length) {\n      return this._channels[index];\n    } else {\n      throw new RangeError(\"Invalid channel: \" + index);\n    }\n  },\n\n  /**\n   * Returns the number of audio samples per second.\n   */\n  get sample_rate() {\n    return this._data.getInt32(8, true);\n  },\n\n  /**\n   * Returns the number of audio samples per pixel.\n   */\n  get scale() {\n    return this._data.getInt32(12, true);\n  },\n\n  /**\n   * Returns a waveform data value at a specific offset.\n   */\n  _at: function at_sample(index) {\n    if (this.bits === 8) {\n      return this._data.getInt8(this._offset + index);\n    } else {\n      return this._data.getInt16(this._offset + index * 2, true);\n    }\n  },\n\n  /**\n   * Sets a waveform data value at a specific offset.\n   */\n  _set_at: function set_at(index, sample) {\n    if (this.bits === 8) {\n      return this._data.setInt8(this._offset + index, sample);\n    } else {\n      return this._data.setInt16(this._offset + index * 2, sample, true);\n    }\n  },\n\n  /**\n   * Returns the waveform data index position for a given time.\n   */\n  at_time: function at_time(time) {\n    return Math.floor(time * this.sample_rate / this.scale);\n  },\n\n  /**\n   * Returns the time in seconds for a given index.\n   */\n  time: function time(index) {\n    return index * this.scale / this.sample_rate;\n  },\n\n  /**\n   * Returns an object containing the waveform data.\n   */\n  toJSON: function toJSON() {\n    var waveform = {\n      version: 2,\n      channels: this.channels,\n      sample_rate: this.sample_rate,\n      samples_per_pixel: this.scale,\n      bits: this.bits,\n      length: this.length,\n      data: []\n    };\n\n    for (var i = 0; i < this.length; i++) {\n      for (var channel = 0; channel < this.channels; channel++) {\n        waveform.data.push(this.channel(channel).min_sample(i));\n        waveform.data.push(this.channel(channel).max_sample(i));\n      }\n    }\n\n    return waveform;\n  },\n\n  /**\n   * Returns the waveform data in binary format as an ArrayBuffer.\n   */\n  toArrayBuffer: function toArrayBuffer() {\n    return this._data.buffer;\n  }\n};\n\nexport { WaveformData as default };\n","import Konva from 'konva/lib/Core';\nimport { Line } from 'konva/lib/shapes/Line';\nimport { Rect } from 'konva/lib/shapes/Rect';\nimport { Text } from 'konva/lib/shapes/Text';\nimport { Animation } from 'konva/lib/Animation';\nimport WaveformData from 'waveform-data';\n\nvar eventemitter3 = {exports: {}};\n\n(function (module) {\n\n  var has = Object.prototype.hasOwnProperty,\n    prefix = '~';\n\n  /**\n   * Constructor to create a storage for our `EE` objects.\n   * An `Events` instance is a plain object whose properties are event names.\n   *\n   * @constructor\n   * @private\n   */\n  function Events() {}\n\n  //\n  // We try to not inherit from `Object.prototype`. In some engines creating an\n  // instance in this way is faster than calling `Object.create(null)` directly.\n  // If `Object.create(null)` is not supported we prefix the event names with a\n  // character to make sure that the built-in object properties are not\n  // overridden or used as an attack vector.\n  //\n  if (Object.create) {\n    Events.prototype = Object.create(null);\n\n    //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n    if (!new Events().__proto__) prefix = false;\n  }\n\n  /**\n   * Representation of a single event listener.\n   *\n   * @param {Function} fn The listener function.\n   * @param {*} context The context to invoke the listener with.\n   * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n   * @constructor\n   * @private\n   */\n  function EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n  }\n\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} context The context to invoke the listener with.\n   * @param {Boolean} once Specify if the listener is a one-time listener.\n   * @returns {EventEmitter}\n   * @private\n   */\n  function addListener(emitter, event, fn, context, once) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The listener must be a function');\n    }\n    var listener = new EE(fn, context || emitter, once),\n      evt = prefix ? prefix + event : event;\n    if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);else emitter._events[evt] = [emitter._events[evt], listener];\n    return emitter;\n  }\n\n  /**\n   * Clear event by name.\n   *\n   * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n   * @param {(String|Symbol)} evt The Event name.\n   * @private\n   */\n  function clearEvent(emitter, evt) {\n    if (--emitter._eventsCount === 0) emitter._events = new Events();else delete emitter._events[evt];\n  }\n\n  /**\n   * Minimal `EventEmitter` interface that is molded against the Node.js\n   * `EventEmitter` interface.\n   *\n   * @constructor\n   * @public\n   */\n  function EventEmitter() {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  /**\n   * Return an array listing the events for which the emitter has registered\n   * listeners.\n   *\n   * @returns {Array}\n   * @public\n   */\n  EventEmitter.prototype.eventNames = function eventNames() {\n    var names = [],\n      events,\n      name;\n    if (this._eventsCount === 0) return names;\n    for (name in events = this._events) {\n      if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n    }\n    if (Object.getOwnPropertySymbols) {\n      return names.concat(Object.getOwnPropertySymbols(events));\n    }\n    return names;\n  };\n\n  /**\n   * Return the listeners registered for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Array} The registered listeners.\n   * @public\n   */\n  EventEmitter.prototype.listeners = function listeners(event) {\n    var evt = prefix ? prefix + event : event,\n      handlers = this._events[evt];\n    if (!handlers) return [];\n    if (handlers.fn) return [handlers.fn];\n    for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n      ee[i] = handlers[i].fn;\n    }\n    return ee;\n  };\n\n  /**\n   * Return the number of listeners listening to a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Number} The number of listeners.\n   * @public\n   */\n  EventEmitter.prototype.listenerCount = function listenerCount(event) {\n    var evt = prefix ? prefix + event : event,\n      listeners = this._events[evt];\n    if (!listeners) return 0;\n    if (listeners.fn) return 1;\n    return listeners.length;\n  };\n\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @returns {Boolean} `true` if the event had listeners, else `false`.\n   * @public\n   */\n  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt]) return false;\n    var listeners = this._events[evt],\n      len = arguments.length,\n      args,\n      i;\n    if (listeners.fn) {\n      if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n      switch (len) {\n        case 1:\n          return listeners.fn.call(listeners.context), true;\n        case 2:\n          return listeners.fn.call(listeners.context, a1), true;\n        case 3:\n          return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4:\n          return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6:\n          return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n      for (i = 1, args = new Array(len - 1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      var length = listeners.length,\n        j;\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n        switch (len) {\n          case 1:\n            listeners[i].fn.call(listeners[i].context);\n            break;\n          case 2:\n            listeners[i].fn.call(listeners[i].context, a1);\n            break;\n          case 3:\n            listeners[i].fn.call(listeners[i].context, a1, a2);\n            break;\n          case 4:\n            listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n            break;\n          default:\n            if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n              args[j - 1] = arguments[j];\n            }\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n    return true;\n  };\n\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n  EventEmitter.prototype.on = function on(event, fn, context) {\n    return addListener(this, event, fn, context, false);\n  };\n\n  /**\n   * Add a one-time listener for a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {*} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n  EventEmitter.prototype.once = function once(event, fn, context) {\n    return addListener(this, event, fn, context, true);\n  };\n\n  /**\n   * Remove the listeners of a given event.\n   *\n   * @param {(String|Symbol)} event The event name.\n   * @param {Function} fn Only remove the listeners that match this function.\n   * @param {*} context Only remove the listeners that have this context.\n   * @param {Boolean} once Only remove one-time listeners.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = prefix ? prefix + event : event;\n    if (!this._events[evt]) return this;\n    if (!fn) {\n      clearEvent(this, evt);\n      return this;\n    }\n    var listeners = this._events[evt];\n    if (listeners.fn) {\n      if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n        clearEvent(this, evt);\n      }\n    } else {\n      for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n        if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n          events.push(listeners[i]);\n        }\n      }\n\n      //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;else clearEvent(this, evt);\n    }\n    return this;\n  };\n\n  /**\n   * Remove all listeners, or those of the specified event.\n   *\n   * @param {(String|Symbol)} [event] The event name.\n   * @returns {EventEmitter} `this`.\n   * @public\n   */\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n    if (event) {\n      evt = prefix ? prefix + event : event;\n      if (this._events[evt]) clearEvent(this, evt);\n    } else {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n    return this;\n  };\n\n  //\n  // Alias methods names because people roll like that.\n  //\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  //\n  // Expose the prefix.\n  //\n  EventEmitter.prefixed = prefix;\n\n  //\n  // Allow `EventEmitter` to be imported as module namespace.\n  //\n  EventEmitter.EventEmitter = EventEmitter;\n\n  //\n  // Expose the module.\n  //\n  {\n    module.exports = EventEmitter;\n  }\n})(eventemitter3);\nvar EventEmitter = eventemitter3.exports;\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\n/**\n * @file\n *\n * Defines the {@link Cue} class.\n *\n * @module cue\n */\n\n/**\n * A cue represents an event to be triggered at some point on the media\n * timeline.\n *\n * @class\n * @alias Cue\n *\n * @param {Number} time Cue time, in seconds.\n * @param {Number} type Cue mark type, either <code>Cue.POINT</code>,\n *   <code>Cue.SEGMENT_START</code>, or <code>Cue.SEGMENT_END</code>.\n * @param {String} id The id of the {@link Point} or {@link Segment}.\n */\n\nfunction Cue(time, type, id) {\n  this.time = time;\n  this.type = type;\n  this.id = id;\n}\n\n/**\n  * @constant\n  * @type {Number}\n  */\n\nCue.POINT = 0;\nCue.SEGMENT_START = 1;\nCue.SEGMENT_END = 2;\n\n/**\n * Callback function for use with Array.prototype.sort().\n *\n * @static\n * @param {Cue} a\n * @param {Cue} b\n * @return {Number}\n */\n\nCue.sorter = function (a, b) {\n  return a.time - b.time;\n};\n\nfunction zeroPad(number, precision) {\n  number = number.toString();\n  while (number.length < precision) {\n    number = '0' + number;\n  }\n  return number;\n}\n\n/**\n * Returns a formatted time string.\n *\n * @param {Number} time The time to be formatted, in seconds.\n * @param {Number} precision Decimal places to which time is displayed\n * @returns {String}\n */\n\nfunction formatTime(time, precision) {\n  var result = [];\n  var fractionSeconds = Math.floor(time % 1 * Math.pow(10, precision));\n  var seconds = Math.floor(time);\n  var minutes = Math.floor(seconds / 60);\n  var hours = Math.floor(minutes / 60);\n  if (hours > 0) {\n    result.push(hours); // Hours\n  }\n\n  result.push(minutes % 60); // Mins\n  result.push(seconds % 60); // Seconds\n\n  for (var i = 0; i < result.length; i++) {\n    result[i] = zeroPad(result[i], 2);\n  }\n  result = result.join(':');\n  if (precision > 0) {\n    result += '.' + zeroPad(fractionSeconds, precision);\n  }\n  return result;\n}\n\n/**\n * Rounds the given value up to the nearest given multiple.\n *\n * @param {Number} value\n * @param {Number} multiple\n * @returns {Number}\n *\n * @example\n * roundUpToNearest(5.5, 3); // returns 6\n * roundUpToNearest(141.0, 10); // returns 150\n * roundUpToNearest(-5.5, 3); // returns -6\n */\n\nfunction roundUpToNearest(value, multiple) {\n  if (multiple === 0) {\n    return 0;\n  }\n  var multiplier = 1;\n  if (value < 0.0) {\n    multiplier = -1;\n    value = -value;\n  }\n  var roundedUp = Math.ceil(value);\n  return multiplier * ((roundedUp + multiple - 1) / multiple | 0) * multiple;\n}\nfunction clamp(value, min, max) {\n  if (value < min) {\n    return min;\n  } else if (value > max) {\n    return max;\n  } else {\n    return value;\n  }\n}\nfunction objectHasProperty(object, field) {\n  return Object.prototype.hasOwnProperty.call(object, field);\n}\nfunction extend(to, from) {\n  for (var key in from) {\n    if (objectHasProperty(from, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\n\n/**\n * Checks whether the given array contains values in ascending order.\n *\n * @param {Array<Number>} array The array to test\n * @returns {Boolean}\n */\n\nfunction isInAscendingOrder(array) {\n  if (array.length === 0) {\n    return true;\n  }\n  var value = array[0];\n  for (var i = 1; i < array.length; i++) {\n    if (value >= array[i]) {\n      return false;\n    }\n    value = array[i];\n  }\n  return true;\n}\n\n/**\n * Checks whether the given value is a number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Checks whether the given value is a finite number.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isFinite(value) {\n  if (typeof value !== 'number') {\n    return false;\n  }\n\n  // Check for NaN and infinity\n  // eslint-disable-next-line no-self-compare\n  if (value !== value || value === Infinity || value === -Infinity) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Checks whether the given value is a valid timestamp.\n *\n * @param {Number} value The value to test\n * @returns {Boolean}\n */\n\nfunction isValidTime(value) {\n  return typeof value === 'number' && Number.isFinite(value);\n}\n\n/**\n * Checks whether the given value is a valid object.\n *\n * @param {Object|Array} value The value to test\n * @returns {Boolean}\n */\n\nfunction isObject(value) {\n  return value !== null && _typeof(value) === 'object' && !Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid string.\n *\n * @param {String} value The value to test\n * @returns {Boolean}\n */\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Checks whether the given value is a valid ArrayBuffer.\n *\n * @param {ArrayBuffer} value The value to test\n * @returns {Boolean}\n */\n\nfunction isArrayBuffer(value) {\n  return Object.prototype.toString.call(value).includes('ArrayBuffer');\n}\n\n/**\n * Checks whether the given value is null or undefined.\n *\n * @param {Object} value The value to test\n * @returns {Boolean}\n */\n\nfunction isNullOrUndefined(value) {\n  return value === undefined || value === null;\n}\n\n/**\n * Checks whether the given value is a function.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Checks whether the given value is a boolean.\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isBoolean(value) {\n  return value === true || value === false;\n}\n\n/**\n * Checks whether the given value is a valid HTML element.\n *\n * @param {HTMLElement} value The value to test\n * @returns {Boolean}\n */\n\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement;\n}\n\n/**\n * Checks whether the given value is an array\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n * Checks whether the given value is a valid linear gradient color\n *\n * @param {Function} value The value to test\n * @returns {Boolean}\n */\n\nfunction isLinearGradientColor(value) {\n  return isObject(value) && objectHasProperty(value, 'linearGradientStart') && objectHasProperty(value, 'linearGradientEnd') && objectHasProperty(value, 'linearGradientColorStops') && isNumber(value.linearGradientStart) && isNumber(value.linearGradientEnd) && isArray(value.linearGradientColorStops) && value.linearGradientColorStops.length === 2;\n}\nfunction getMarkerObject(obj) {\n  while (obj.parent !== null) {\n    if (obj.parent instanceof Konva.Layer) {\n      return obj;\n    }\n    obj = obj.parent;\n  }\n  return null;\n}\n\nvar isHeadless = /HeadlessChrome/.test(navigator.userAgent);\nfunction windowIsVisible() {\n  if (isHeadless || navigator.webdriver) {\n    return false;\n  }\n  return (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) === 'object' && 'visibilityState' in document && document.visibilityState === 'visible';\n}\nvar requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\nvar cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame;\nvar eventTypes = {\n  forward: {},\n  reverse: {}\n};\nvar EVENT_TYPE_POINT = 0;\nvar EVENT_TYPE_SEGMENT_ENTER = 1;\nvar EVENT_TYPE_SEGMENT_EXIT = 2;\neventTypes.forward[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.forward[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_ENTER;\neventTypes.forward[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.POINT] = EVENT_TYPE_POINT;\neventTypes.reverse[Cue.SEGMENT_START] = EVENT_TYPE_SEGMENT_EXIT;\neventTypes.reverse[Cue.SEGMENT_END] = EVENT_TYPE_SEGMENT_ENTER;\nvar eventNames = {};\neventNames[EVENT_TYPE_POINT] = 'points.enter';\neventNames[EVENT_TYPE_SEGMENT_ENTER] = 'segments.enter';\neventNames[EVENT_TYPE_SEGMENT_EXIT] = 'segments.exit';\nvar eventAttributes = {};\neventAttributes[EVENT_TYPE_POINT] = 'point';\neventAttributes[EVENT_TYPE_SEGMENT_ENTER] = 'segment';\neventAttributes[EVENT_TYPE_SEGMENT_EXIT] = 'segment';\n\n/**\n * Given a cue instance, returns the corresponding {@link Point}\n * {@link Segment}.\n *\n * @param {Peaks} peaks\n * @param {Cue} cue\n * @return {Point|Segment}\n * @throws {Error}\n */\n\nfunction getPointOrSegment(peaks, cue) {\n  switch (cue.type) {\n    case Cue.POINT:\n      return peaks.points.getPoint(cue.id);\n    case Cue.SEGMENT_START:\n    case Cue.SEGMENT_END:\n      return peaks.segments.getSegment(cue.id);\n    default:\n      throw new Error('getPointOrSegment: id not found?');\n  }\n}\n\n/**\n * CueEmitter is responsible for emitting <code>points.enter</code>,\n * <code>segments.enter</code>, and <code>segments.exit</code> events.\n *\n * @class\n * @alias CueEmitter\n *\n * @param {Peaks} peaks Parent {@link Peaks} instance.\n */\n\nfunction CueEmitter(peaks) {\n  this._cues = [];\n  this._peaks = peaks;\n  this._previousTime = -1;\n  this._updateCues = this._updateCues.bind(this);\n  this._onPlaying = this._onPlaying.bind(this);\n  this._onSeeked = this._onSeeked.bind(this);\n  this._onTimeUpdate = this._onTimeUpdate.bind(this);\n  this._onAnimationFrame = this._onAnimationFrame.bind(this);\n  this._rAFHandle = null;\n  this._activeSegments = {};\n  this._attachEventHandlers();\n}\n\n/**\n * This function is bound to all {@link Peaks} events relating to mutated\n * [Points]{@link Point} or [Segments]{@link Segment}, and updates the\n * list of cues accordingly.\n *\n * @private\n */\n\nCueEmitter.prototype._updateCues = function () {\n  var self = this;\n  var points = self._peaks.points.getPoints();\n  var segments = self._peaks.segments.getSegments();\n  self._cues.length = 0;\n  points.forEach(function (point) {\n    self._cues.push(new Cue(point.time, Cue.POINT, point.id));\n  });\n  segments.forEach(function (segment) {\n    self._cues.push(new Cue(segment.startTime, Cue.SEGMENT_START, segment.id));\n    self._cues.push(new Cue(segment.endTime, Cue.SEGMENT_END, segment.id));\n  });\n  self._cues.sort(Cue.sorter);\n  var time = self._peaks.player.getCurrentTime();\n  self._updateActiveSegments(time);\n};\n\n/**\n * Emits events for any cues passed through during media playback.\n *\n * @param {Number} time The current time on the media timeline.\n * @param {Number} previousTime The previous time on the media timeline when\n *   this function was called.\n */\n\nCueEmitter.prototype._onUpdate = function (time, previousTime) {\n  var isForward = time > previousTime;\n  var start;\n  var end;\n  var step;\n  if (isForward) {\n    start = 0;\n    end = this._cues.length;\n    step = 1;\n  } else {\n    start = this._cues.length - 1;\n    end = -1;\n    step = -1;\n  }\n\n  // Cues are sorted.\n\n  for (var i = start; isForward ? i < end : i > end; i += step) {\n    var cue = this._cues[i];\n    if (isForward ? cue.time > previousTime : cue.time < previousTime) {\n      if (isForward ? cue.time > time : cue.time < time) {\n        break;\n      }\n\n      // Cue falls between time and previousTime.\n\n      var marker = getPointOrSegment(this._peaks, cue);\n      var eventType = isForward ? eventTypes.forward[cue.type] : eventTypes.reverse[cue.type];\n      if (eventType === EVENT_TYPE_SEGMENT_ENTER) {\n        this._activeSegments[marker.id] = marker;\n      } else if (eventType === EVENT_TYPE_SEGMENT_EXIT) {\n        delete this._activeSegments[marker.id];\n      }\n      var event = {\n        time: time\n      };\n      event[eventAttributes[eventType]] = marker;\n      this._peaks.emit(eventNames[eventType], event);\n    }\n  }\n};\n\n// The next handler and onAnimationFrame are bound together\n// when the window isn't in focus, rAF is throttled\n// falling back to timeUpdate.\n\nCueEmitter.prototype._onTimeUpdate = function (time) {\n  if (windowIsVisible()) {\n    return;\n  }\n  if (this._peaks.player.isPlaying() && !this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n  this._previousTime = time;\n};\nCueEmitter.prototype._onAnimationFrame = function () {\n  var time = this._peaks.player.getCurrentTime();\n  if (!this._peaks.player.isSeeking()) {\n    this._onUpdate(time, this._previousTime);\n  }\n  this._previousTime = time;\n  if (this._peaks.player.isPlaying()) {\n    this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n  }\n};\nCueEmitter.prototype._onPlaying = function () {\n  this._previousTime = this._peaks.player.getCurrentTime();\n  this._rAFHandle = requestAnimationFrame(this._onAnimationFrame);\n};\nCueEmitter.prototype._onSeeked = function (time) {\n  this._previousTime = time;\n  this._updateActiveSegments(time);\n};\nfunction getSegmentIdComparator(id) {\n  return function compareSegmentIds(segment) {\n    return segment.id === id;\n  };\n}\n\n/**\n * The active segments is the set of all segments which overlap the current\n * playhead position. This function updates that set and emits\n * <code>segments.enter</code> and <code>segments.exit</code> events.\n */\n\nCueEmitter.prototype._updateActiveSegments = function (time) {\n  var self = this;\n  var activeSegments = self._peaks.segments.getSegmentsAtTime(time);\n\n  // Remove any segments no longer active.\n\n  for (var id in self._activeSegments) {\n    if (objectHasProperty(self._activeSegments, id)) {\n      var segment = activeSegments.find(getSegmentIdComparator(id));\n      if (!segment) {\n        self._peaks.emit('segments.exit', {\n          segment: self._activeSegments[id],\n          time: time\n        });\n        delete self._activeSegments[id];\n      }\n    }\n  }\n\n  // Add new active segments.\n\n  activeSegments.forEach(function (segment) {\n    if (!(segment.id in self._activeSegments)) {\n      self._activeSegments[segment.id] = segment;\n      self._peaks.emit('segments.enter', {\n        segment: segment,\n        time: time\n      });\n    }\n  });\n};\nvar events = ['points.update', 'points.dragmove', 'points.add', 'points.remove', 'points.remove_all', 'segments.update', 'segments.dragged', 'segments.add', 'segments.remove', 'segments.remove_all'];\nCueEmitter.prototype._attachEventHandlers = function () {\n  this._peaks.on('player.timeupdate', this._onTimeUpdate);\n  this._peaks.on('player.playing', this._onPlaying);\n  this._peaks.on('player.seeked', this._onSeeked);\n  for (var i = 0; i < events.length; i++) {\n    this._peaks.on(events[i], this._updateCues);\n  }\n  this._updateCues();\n};\nCueEmitter.prototype._detachEventHandlers = function () {\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.seeked', this._onSeeked);\n  for (var i = 0; i < events.length; i++) {\n    this._peaks.off(events[i], this._updateCues);\n  }\n};\nCueEmitter.prototype.destroy = function () {\n  if (this._rAFHandle) {\n    cancelAnimationFrame(this._rAFHandle);\n    this._rAFHandle = null;\n  }\n  this._detachEventHandlers();\n  this._previousTime = -1;\n};\n\n/**\n * @file\n *\n * Defines the {@link Point} class.\n *\n * @module point\n */\nvar pointOptions = ['id', 'pid', 'time', 'labelText', 'color', 'editable'];\nvar invalidOptions$1 = ['update', 'isVisible', 'peaks', 'pid'];\nfunction setDefaultPointOptions(options, peaksOptions) {\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n  if (isNullOrUndefined(options.color)) {\n    options.color = peaksOptions.pointMarkerColor;\n  }\n}\nfunction validatePointOptions(options, updating) {\n  var context = updating ? 'update()' : 'add()';\n  if (!updating || updating && objectHasProperty(options, 'time')) {\n    if (!isValidTime(options.time)) {\n      // eslint-disable-next-line max-len\n      throw new TypeError('peaks.points.' + context + ': time should be a numeric value');\n    }\n  }\n  if (options.time < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.points.' + context + ': time should not be negative');\n  }\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.points.' + context + ': labelText must be a string');\n  }\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.points.' + context + ': editable must be true or false');\n  }\n  if (objectHasProperty(options, 'color') && !isString(options.color) && !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.points.' + context + ': color must be a string or a valid linear gradient object');\n  }\n  invalidOptions$1.forEach(function (name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: ' + name);\n    }\n  });\n  pointOptions.forEach(function (name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.points.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A point is a single instant of time, with associated label and color.\n *\n * @class\n * @alias Point\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the point.\n * @param {PointOptions} options User specified point attributes.\n */\n\nfunction Point(peaks, pid, options) {\n  this._peaks = peaks;\n  this._pid = pid;\n  this._setUserData(options);\n}\nPoint.prototype._setUserData = function (options) {\n  for (var key in options) {\n    if (objectHasProperty(options, key)) {\n      if (pointOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      } else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\nObject.defineProperties(Point.prototype, {\n  id: {\n    enumerable: true,\n    get: function get() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function get() {\n      return this._pid;\n    }\n  },\n  time: {\n    enumerable: true,\n    get: function get() {\n      return this._time;\n    }\n  },\n  labelText: {\n    get: function get() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function get() {\n      return this._color;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function get() {\n      return this._editable;\n    }\n  }\n});\nPoint.prototype.update = function (options) {\n  validatePointOptions(options, true);\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('point.update(): invalid id');\n    }\n    this._peaks.points.updatePointId(this, options.id);\n  }\n  this._setUserData(options);\n  this._peaks.emit('points.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the point lies with in a given time range.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n */\n\nPoint.prototype.isVisible = function (startTime, endTime) {\n  return this.time >= startTime && this.time < endTime;\n};\nPoint.prototype._setTime = function (time) {\n  this._time = time;\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformPoints} class.\n *\n * @module waveform-points\n */\n\n/**\n * Point parameters.\n *\n * @typedef {Object} PointOptions\n * @global\n * @property {Number} time Point time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the point time can be\n *   adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Point marker color.\n *   Default: a random color.\n * @property {String=} labelText Point label text.\n *   Default: an empty string.\n * @property {String=} id A unique point identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application-specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of points. A point is a single instant of time.\n *\n * @class\n * @alias WaveformPoints\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformPoints(peaks) {\n  this._peaks = peaks;\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._pointIdCounter = 0;\n  this._pointPid = 0;\n}\n\n/**\n * Returns a new unique point id value.\n *\n * @returns {String}\n */\n\nWaveformPoints.prototype._getNextPointId = function () {\n  return 'peaks.point.' + this._pointIdCounter++;\n};\n\n/**\n * Returns a new unique point id value, for internal use within\n * Peaks.js only.\n *\n * @returns {Number}\n */\n\nWaveformPoints.prototype._getNextPid = function () {\n  return this._pointPid++;\n};\n\n/**\n * Adds a new point object.\n *\n * @private\n * @param {Point} point\n */\n\nWaveformPoints.prototype._addPoint = function (point) {\n  this._points.push(point);\n  this._pointsById[point.id] = point;\n  this._pointsByPid[point.pid] = point;\n};\n\n/**\n * Creates a new point object.\n *\n * @private\n * @param {PointOptions} options\n * @returns {Point}\n */\n\nWaveformPoints.prototype._createPoint = function (options) {\n  var pointOptions = {};\n  extend(pointOptions, options);\n  if (isNullOrUndefined(pointOptions.id)) {\n    pointOptions.id = this._getNextPointId();\n  }\n  var pid = this._getNextPid();\n  setDefaultPointOptions(pointOptions, this._peaks.options);\n  validatePointOptions(pointOptions, false);\n  return new Point(this._peaks, pid, pointOptions);\n};\n\n/**\n * Returns all points.\n *\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.getPoints = function () {\n  return this._points;\n};\n\n/**\n * Returns the point with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Point}\n */\n\nWaveformPoints.prototype.getPoint = function (id) {\n  return this._pointsById[id];\n};\n\n/**\n * Returns all points within a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Array<Point>}\n */\n\nWaveformPoints.prototype.find = function (startTime, endTime) {\n  return this._points.filter(function (point) {\n    return point.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Adds one or more points to the timeline.\n *\n * @param {PointOptions|Array<PointOptions>} pointOrPoints\n *\n * @returns Point|Array<Point>\n */\n\nWaveformPoints.prototype.add = function /* pointOrPoints */\n() {\n  var self = this;\n  var arrayArgs = Array.isArray(arguments[0]);\n  var points = arrayArgs ? arguments[0] : Array.prototype.slice.call(arguments);\n  points = points.map(function (pointOptions) {\n    var point = self._createPoint(pointOptions);\n    if (objectHasProperty(self._pointsById, point.id)) {\n      throw new Error('peaks.points.add(): duplicate id');\n    }\n    return point;\n  });\n  points.forEach(function (point) {\n    self._addPoint(point);\n  });\n  this._peaks.emit('points.add', {\n    points: points\n  });\n  return arrayArgs ? points : points[0];\n};\nWaveformPoints.prototype.updatePointId = function (point, newPointId) {\n  if (this._pointsById[point.id]) {\n    if (this._pointsById[newPointId]) {\n      throw new Error('point.update(): duplicate id');\n    } else {\n      delete this._pointsById[point.id];\n      this._pointsById[newPointId] = point;\n    }\n  }\n};\n\n/**\n * Returns the indexes of points that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching points.\n * @returns {Array<Number>} An array of indexes into the points array of\n *   the matching elements.\n */\n\nWaveformPoints.prototype._findPoint = function (predicate) {\n  var indexes = [];\n  for (var i = 0, length = this._points.length; i < length; i++) {\n    if (predicate(this._points[i])) {\n      indexes.push(i);\n    }\n  }\n  return indexes;\n};\n\n/**\n * Removes the points at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype._removeIndexes = function (indexes) {\n  var removed = [];\n  for (var i = 0; i < indexes.length; i++) {\n    var index = indexes[i] - removed.length;\n    var itemRemoved = this._points.splice(index, 1)[0];\n    delete this._pointsById[itemRemoved.id];\n    delete this._pointsByPid[itemRemoved.pid];\n    removed.push(itemRemoved);\n  }\n  return removed;\n};\n\n/**\n * Removes all points that match a given predicate function.\n *\n * After removing the points, this function emits a\n * <code>points.remove</code> event with the removed {@link Point}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   points to remove.\n * @returns {Array<Point>} The removed {@link Points} objects.\n */\n\nWaveformPoints.prototype._removePoints = function (predicate) {\n  var indexes = this._findPoint(predicate);\n  var removed = this._removeIndexes(indexes);\n  this._peaks.emit('points.remove', {\n    points: removed\n  });\n  return removed;\n};\n\n/**\n * Removes the given point.\n *\n * @param {Point} point The point to remove.\n * @returns {Array<Point>} The removed points.\n */\n\nWaveformPoints.prototype.remove = function (point) {\n  return this._removePoints(function (p) {\n    return p === point;\n  });\n};\n\n/**\n * Removes any points with the given id.\n *\n * @param {String} id\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeById = function (pointId) {\n  return this._removePoints(function (point) {\n    return point.id === pointId;\n  });\n};\n\n/**\n * Removes any points at the given time.\n *\n * @param {Number} time\n * @returns {Array<Point>} The removed {@link Point} objects.\n */\n\nWaveformPoints.prototype.removeByTime = function (time) {\n  return this._removePoints(function (point) {\n    return point.time === time;\n  });\n};\n\n/**\n * Removes all points.\n *\n * After removing the points, this function emits a\n * <code>points.remove_all</code> event.\n */\n\nWaveformPoints.prototype.removeAll = function () {\n  this._points = [];\n  this._pointsById = {};\n  this._pointsByPid = {};\n  this._peaks.emit('points.remove_all');\n};\n\n/**\n * @file\n *\n * Defines the {@link Segment} class.\n *\n * @module segment\n */\nvar segmentOptions = ['id', 'pid', 'startTime', 'endTime', 'labelText', 'color', 'borderColor', 'editable'];\nvar invalidOptions = ['update', 'isVisible', 'peaks', 'pid'];\nfunction setDefaultSegmentOptions(options, globalSegmentOptions) {\n  if (isNullOrUndefined(options.color)) {\n    if (globalSegmentOptions.overlay) {\n      options.color = globalSegmentOptions.overlayColor;\n    } else {\n      options.color = globalSegmentOptions.waveformColor;\n    }\n  }\n  if (isNullOrUndefined(options.borderColor)) {\n    options.borderColor = globalSegmentOptions.overlayBorderColor;\n  }\n  if (isNullOrUndefined(options.labelText)) {\n    options.labelText = '';\n  }\n  if (isNullOrUndefined(options.editable)) {\n    options.editable = false;\n  }\n}\nfunction validateSegmentOptions(options, updating) {\n  var context = updating ? 'update()' : 'add()';\n  if (objectHasProperty(options, 'startTime') && !isValidTime(options.startTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': startTime should be a valid number');\n  }\n  if (objectHasProperty(options, 'endTime') && !isValidTime(options.endTime)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': endTime should be a valid number');\n  }\n  if (!updating) {\n    if (!objectHasProperty(options, 'startTime') || !objectHasProperty(options, 'endTime')) {\n      throw new TypeError('peaks.segments.' + context + ': missing startTime or endTime');\n    }\n  }\n  if (options.startTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': startTime should not be negative');\n  }\n  if (options.endTime < 0) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be negative');\n  }\n  if (options.endTime < options.startTime) {\n    // eslint-disable-next-line max-len\n    throw new RangeError('peaks.segments.' + context + ': endTime should not be less than startTime');\n  }\n  if (objectHasProperty(options, 'labelText') && !isString(options.labelText)) {\n    throw new TypeError('peaks.segments.' + context + ': labelText must be a string');\n  }\n  if (objectHasProperty(options, 'editable') && !isBoolean(options.editable)) {\n    throw new TypeError('peaks.segments.' + context + ': editable must be true or false');\n  }\n  if (objectHasProperty(options, 'color') && !isString(options.color) && !isLinearGradientColor(options.color)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': color must be a string or a valid linear gradient object');\n  }\n  if (objectHasProperty(options, 'borderColor') && !isString(options.borderColor)) {\n    // eslint-disable-next-line max-len\n    throw new TypeError('peaks.segments.' + context + ': borderColor must be a string');\n  }\n  invalidOptions.forEach(function (name) {\n    if (objectHasProperty(options, name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: ' + name);\n    }\n  });\n  segmentOptions.forEach(function (name) {\n    if (objectHasProperty(options, '_' + name)) {\n      throw new Error('peaks.segments.' + context + ': invalid option name: _' + name);\n    }\n  });\n}\n\n/**\n * A segment is a region of time, with associated label and color.\n *\n * @class\n * @alias Segment\n *\n * @param {Peaks} peaks A reference to the Peaks instance.\n * @param {Number} pid An internal unique identifier for the segment.\n * @param {SegmentOptions} options User specified segment attributes.\n */\n\nfunction Segment(peaks, pid, options) {\n  this._peaks = peaks;\n  this._pid = pid;\n  this._id = options.id;\n  this._startTime = options.startTime;\n  this._endTime = options.endTime;\n  this._labelText = options.labelText;\n  this._color = options.color;\n  this._borderColor = options.borderColor;\n  this._editable = options.editable;\n  this._setUserData(options);\n}\nSegment.prototype._setUserData = function (options) {\n  for (var key in options) {\n    if (objectHasProperty(options, key)) {\n      if (segmentOptions.indexOf(key) === -1) {\n        this[key] = options[key];\n      } else {\n        this['_' + key] = options[key];\n      }\n    }\n  }\n};\nObject.defineProperties(Segment.prototype, {\n  id: {\n    enumerable: true,\n    get: function get() {\n      return this._id;\n    }\n  },\n  pid: {\n    enumerable: true,\n    get: function get() {\n      return this._pid;\n    }\n  },\n  startTime: {\n    enumerable: true,\n    get: function get() {\n      return this._startTime;\n    }\n  },\n  endTime: {\n    enumerable: true,\n    get: function get() {\n      return this._endTime;\n    }\n  },\n  labelText: {\n    enumerable: true,\n    get: function get() {\n      return this._labelText;\n    }\n  },\n  color: {\n    enumerable: true,\n    get: function get() {\n      return this._color;\n    }\n  },\n  borderColor: {\n    enumerable: true,\n    get: function get() {\n      return this._borderColor;\n    }\n  },\n  editable: {\n    enumerable: true,\n    get: function get() {\n      return this._editable;\n    }\n  }\n});\nSegment.prototype.update = function (options) {\n  validateSegmentOptions(options, true);\n  if (objectHasProperty(options, 'id')) {\n    if (isNullOrUndefined(options.id)) {\n      throw new TypeError('segment.update(): invalid id');\n    }\n    this._peaks.segments.updateSegmentId(this, options.id);\n  }\n  this._setUserData(options);\n  this._peaks.emit('segments.update', this, options);\n};\n\n/**\n * Returns <code>true</code> if the segment overlaps a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n * @returns {Boolean}\n *\n * @see http://wiki.c2.com/?TestIfDateRangesOverlap\n */\n\nSegment.prototype.isVisible = function (startTime, endTime) {\n  return this.startTime < endTime && startTime < this.endTime;\n};\nSegment.prototype._setStartTime = function (time) {\n  this._startTime = time;\n};\nSegment.prototype._setEndTime = function (time) {\n  this._endTime = time;\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformSegments} class.\n *\n * @module waveform-segments\n */\n\n/**\n * Segment parameters.\n *\n * @typedef {Object} SegmentOptions\n * @global\n * @property {Number} startTime Segment start time, in seconds.\n * @property {Number} endTime Segment end time, in seconds.\n * @property {Boolean=} editable If <code>true</code> the segment start and\n *   end times can be adjusted via the user interface.\n *   Default: <code>false</code>.\n * @property {String=} color Segment waveform color.\n *   Default: Set by the <code>segmentOptions.waveformColor</code> option\n *   or the <code>segmentOptions.overlayColor</code> option.\n * @property {String=} borderColor Segment border color.\n *   Default: Set by the <code>segmentOptions.overlayBorderColor</code> option.\n * @property {String=} labelText Segment label text.\n *   Default: an empty string.\n * @property {String=} id A unique segment identifier.\n *   Default: an automatically generated identifier.\n * @property {*} data Optional application specific data.\n */\n\n/**\n * Handles all functionality related to the adding, removing and manipulation\n * of segments.\n *\n * @class\n * @alias WaveformSegments\n *\n * @param {Peaks} peaks The parent Peaks object.\n */\n\nfunction WaveformSegments(peaks) {\n  this._peaks = peaks;\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._segmentIdCounter = 0;\n  this._segmentPid = 0;\n  this._isInserting = false;\n}\n\n/**\n * Returns a new unique segment id value.\n *\n * @private\n * @returns {String}\n */\n\nWaveformSegments.prototype._getNextSegmentId = function () {\n  return 'peaks.segment.' + this._segmentIdCounter++;\n};\n\n/**\n * Returns a new unique segment id value, for internal use within\n * Peaks.js only.\n *\n * @private\n * @returns {Number}\n */\n\nWaveformSegments.prototype._getNextPid = function () {\n  return this._segmentPid++;\n};\n\n/**\n * Adds a new segment object.\n *\n * @private\n * @param {Segment} segment\n */\n\nWaveformSegments.prototype._addSegment = function (segment) {\n  this._segments.push(segment);\n  this._segmentsById[segment.id] = segment;\n  this._segmentsByPid[segment.pid] = segment;\n};\n\n/**\n * Creates a new segment object.\n *\n * @private\n * @param {SegmentOptions} options\n * @return {Segment}\n */\n\nWaveformSegments.prototype._createSegment = function (options) {\n  var segmentOptions = {};\n  extend(segmentOptions, options);\n  if (isNullOrUndefined(segmentOptions.id)) {\n    segmentOptions.id = this._getNextSegmentId();\n  }\n  var pid = this._getNextPid();\n  setDefaultSegmentOptions(segmentOptions, this._peaks.options.segmentOptions);\n  validateSegmentOptions(segmentOptions, false);\n  return new Segment(this._peaks, pid, segmentOptions);\n};\n\n/**\n * Returns all segments.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegments = function () {\n  return this._segments;\n};\n\n/**\n * Returns the segment with the given id, or <code>undefined</code> if not found.\n *\n * @param {String} id\n * @returns {Segment}\n */\n\nWaveformSegments.prototype.getSegment = function (id) {\n  return this._segmentsById[id];\n};\n\n/**\n * Returns all segments that overlap a given point in time.\n *\n * @param {Number} time\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.getSegmentsAtTime = function (time) {\n  return this._segments.filter(function (segment) {\n    return time >= segment.startTime && time < segment.endTime;\n  });\n};\n\n/**\n * Returns all segments that overlap a given time region.\n *\n * @param {Number} startTime The start of the time region, in seconds.\n * @param {Number} endTime The end of the time region, in seconds.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype.find = function (startTime, endTime) {\n  return this._segments.filter(function (segment) {\n    return segment.isVisible(startTime, endTime);\n  });\n};\n\n/**\n * Returns a copy of the segments array, sorted by ascending segment start time.\n *\n * @returns {Array<Segment>}\n */\n\nWaveformSegments.prototype._getSortedSegments = function () {\n  return this._segments.slice().sort(function (a, b) {\n    return a.startTime - b.startTime;\n  });\n};\nWaveformSegments.prototype.findPreviousSegment = function (segment) {\n  var sortedSegments = this._getSortedSegments();\n  var index = sortedSegments.findIndex(function (s) {\n    return s.id === segment.id;\n  });\n  if (index !== -1) {\n    return sortedSegments[index - 1];\n  }\n  return undefined;\n};\nWaveformSegments.prototype.findNextSegment = function (segment) {\n  var sortedSegments = this._getSortedSegments();\n  var index = sortedSegments.findIndex(function (s) {\n    return s.id === segment.id;\n  });\n  if (index !== -1) {\n    return sortedSegments[index + 1];\n  }\n  return undefined;\n};\n\n/**\n * Adds one or more segments to the timeline.\n *\n * @param {SegmentOptions|Array<SegmentOptions>} segmentOrSegments\n *\n * @returns Segment|Array<Segment>\n */\n\nWaveformSegments.prototype.add = function /* segmentOrSegments */\n() {\n  var self = this;\n  var arrayArgs = Array.isArray(arguments[0]);\n  var segments = arrayArgs ? arguments[0] : Array.prototype.slice.call(arguments);\n  segments = segments.map(function (segmentOptions) {\n    var segment = self._createSegment(segmentOptions);\n    if (objectHasProperty(self._segmentsById, segment.id)) {\n      throw new Error('peaks.segments.add(): duplicate id');\n    }\n    return segment;\n  });\n  segments.forEach(function (segment) {\n    self._addSegment(segment);\n  });\n  this._peaks.emit('segments.add', {\n    segments: segments,\n    insert: this._isInserting\n  });\n  return arrayArgs ? segments : segments[0];\n};\nWaveformSegments.prototype.updateSegmentId = function (segment, newSegmentId) {\n  if (this._segmentsById[segment.id]) {\n    if (this._segmentsById[newSegmentId]) {\n      throw new Error('segment.update(): duplicate id');\n    } else {\n      delete this._segmentsById[segment.id];\n      this._segmentsById[newSegmentId] = segment;\n    }\n  }\n};\n\n/**\n * Returns the indexes of segments that match the given predicate.\n *\n * @private\n * @param {Function} predicate Predicate function to find matching segments.\n * @returns {Array<Number>} An array of indexes into the segments array of\n *   the matching elements.\n */\n\nWaveformSegments.prototype._findSegment = function (predicate) {\n  var indexes = [];\n  for (var i = 0, length = this._segments.length; i < length; i++) {\n    if (predicate(this._segments[i])) {\n      indexes.push(i);\n    }\n  }\n  return indexes;\n};\n\n/**\n * Removes the segments at the given array indexes.\n *\n * @private\n * @param {Array<Number>} indexes The array indexes to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeIndexes = function (indexes) {\n  var removed = [];\n  for (var i = 0; i < indexes.length; i++) {\n    var index = indexes[i] - removed.length;\n    var itemRemoved = this._segments.splice(index, 1)[0];\n    delete this._segmentsById[itemRemoved.id];\n    delete this._segmentsByPid[itemRemoved.pid];\n    removed.push(itemRemoved);\n  }\n  return removed;\n};\n\n/**\n * Removes all segments that match a given predicate function.\n *\n * After removing the segments, this function also emits a\n * <code>segments.remove</code> event with the removed {@link Segment}\n * objects.\n *\n * @private\n * @param {Function} predicate A predicate function that identifies which\n *   segments to remove.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype._removeSegments = function (predicate) {\n  var indexes = this._findSegment(predicate);\n  var removed = this._removeIndexes(indexes);\n  this._peaks.emit('segments.remove', {\n    segments: removed\n  });\n  return removed;\n};\n\n/**\n * Removes the given segment.\n *\n * @param {Segment} segment The segment to remove.\n * @returns {Array<Segment>} The removed segment.\n */\n\nWaveformSegments.prototype.remove = function (segment) {\n  return this._removeSegments(function (s) {\n    return s === segment;\n  });\n};\n\n/**\n * Removes any segments with the given id.\n *\n * @param {String} id\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeById = function (segmentId) {\n  return this._removeSegments(function (segment) {\n    return segment.id === segmentId;\n  });\n};\n\n/**\n * Removes any segments with the given start time, and optional end time.\n *\n * @param {Number} startTime Segments with this start time are removed.\n * @param {Number?} endTime If present, only segments with both the given\n *   start time and end time are removed.\n * @returns {Array<Segment>} The removed {@link Segment} objects.\n */\n\nWaveformSegments.prototype.removeByTime = function (startTime, endTime) {\n  endTime = typeof endTime === 'number' ? endTime : 0;\n  var filter;\n  if (endTime > 0) {\n    filter = function filter(segment) {\n      return segment.startTime === startTime && segment.endTime === endTime;\n    };\n  } else {\n    filter = function filter(segment) {\n      return segment.startTime === startTime;\n    };\n  }\n  return this._removeSegments(filter);\n};\n\n/**\n * Removes all segments.\n *\n * After removing the segments, this function emits a\n * <code>segments.remove_all</code> event.\n */\n\nWaveformSegments.prototype.removeAll = function () {\n  this._segments = [];\n  this._segmentsById = {};\n  this._segmentsByPid = {};\n  this._peaks.emit('segments.remove_all');\n};\nWaveformSegments.prototype.setInserting = function (value) {\n  this._isInserting = value;\n};\nWaveformSegments.prototype.isInserting = function () {\n  return this._isInserting;\n};\n\n/**\n * @file\n *\n * Defines the {@link KeyboardHandler} class.\n *\n * @module keyboard-handler\n */\n\nvar nodes = ['OBJECT', 'TEXTAREA', 'INPUT', 'SELECT', 'OPTION'];\nvar SPACE = 32,\n  TAB = 9,\n  LEFT_ARROW = 37,\n  RIGHT_ARROW = 39;\nvar keys = [SPACE, TAB, LEFT_ARROW, RIGHT_ARROW];\n\n/**\n * Configures keyboard event handling.\n *\n * @class\n * @alias KeyboardHandler\n *\n * @param {EventEmitter} eventEmitter\n */\n\nfunction KeyboardHandler(eventEmitter) {\n  this.eventEmitter = eventEmitter;\n  this._handleKeyEvent = this._handleKeyEvent.bind(this);\n  document.addEventListener('keydown', this._handleKeyEvent);\n  document.addEventListener('keypress', this._handleKeyEvent);\n  document.addEventListener('keyup', this._handleKeyEvent);\n}\n\n/**\n * Keyboard event handler function.\n *\n * @note Arrow keys only triggered on keydown, not keypress.\n *\n * @param {KeyboardEvent} event\n * @private\n */\n\nKeyboardHandler.prototype._handleKeyEvent = function handleKeyEvent(event) {\n  if (nodes.indexOf(event.target.nodeName) === -1) {\n    if (keys.indexOf(event.type) > -1) {\n      event.preventDefault();\n    }\n    if (event.type === 'keydown' || event.type === 'keypress') {\n      switch (event.keyCode) {\n        case SPACE:\n          this.eventEmitter.emit('keyboard.space');\n          break;\n        case TAB:\n          this.eventEmitter.emit('keyboard.tab');\n          break;\n      }\n    } else if (event.type === 'keyup') {\n      switch (event.keyCode) {\n        case LEFT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_left');\n          } else {\n            this.eventEmitter.emit('keyboard.left');\n          }\n          break;\n        case RIGHT_ARROW:\n          if (event.shiftKey) {\n            this.eventEmitter.emit('keyboard.shift_right');\n          } else {\n            this.eventEmitter.emit('keyboard.right');\n          }\n          break;\n      }\n    }\n  }\n};\nKeyboardHandler.prototype.destroy = function () {\n  document.removeEventListener('keydown', this._handleKeyEvent);\n  document.removeEventListener('keypress', this._handleKeyEvent);\n  document.removeEventListener('keyup', this._handleKeyEvent);\n};\n\n/**\n * @file\n *\n * Implementation of {@link Player} adapter based on the HTML5 media element.\n *\n * @module mediaelement-player\n */\n\n/**\n * Checks whether the given HTMLMediaElement has either a src attribute\n * or any child <code>&lt;source&gt;</code> nodes\n */\n\nfunction mediaElementHasSource(mediaElement) {\n  if (mediaElement.src) {\n    return true;\n  }\n  if (mediaElement.querySelector('source')) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * A wrapper for interfacing with the HTML5 media element API.\n * Initializes the player for a given media element.\n *\n * @class\n * @alias MediaElementPlayer\n * @param {HTMLMediaElement} mediaElement The HTML <code>&lt;audio&gt;</code>\n *   or <code>&lt;video&gt;</code> element to associate with the\n *   {@link Peaks} instance.\n */\n\nfunction MediaElementPlayer(mediaElement) {\n  this._mediaElement = mediaElement;\n}\n\n/**\n * Adds an event listener to the media element.\n *\n * @private\n * @param {String} type The event type to listen for.\n * @param {Function} callback An event handler function.\n */\n\nMediaElementPlayer.prototype._addMediaListener = function (type, callback) {\n  this._listeners.push({\n    type: type,\n    callback: callback\n  });\n  this._mediaElement.addEventListener(type, callback);\n};\nMediaElementPlayer.prototype.init = function (eventEmitter) {\n  var self = this;\n  self._eventEmitter = eventEmitter;\n  self._listeners = [];\n  self._duration = self.getDuration();\n  self._addMediaListener('timeupdate', function () {\n    self._eventEmitter.emit('player.timeupdate', self.getCurrentTime());\n  });\n  self._addMediaListener('playing', function () {\n    self._eventEmitter.emit('player.playing', self.getCurrentTime());\n  });\n  self._addMediaListener('pause', function () {\n    self._eventEmitter.emit('player.pause', self.getCurrentTime());\n  });\n  self._addMediaListener('ended', function () {\n    self._eventEmitter.emit('player.ended');\n  });\n  self._addMediaListener('seeked', function () {\n    self._eventEmitter.emit('player.seeked', self.getCurrentTime());\n  });\n  self._addMediaListener('canplay', function () {\n    self._eventEmitter.emit('player.canplay');\n  });\n  self._addMediaListener('error', function (event) {\n    self._eventEmitter.emit('player.error', event.target.error);\n  });\n  self._interval = null;\n  if (!mediaElementHasSource(self._mediaElement)) {\n    return Promise.resolve();\n  }\n  return new Promise(function (resolve, reject) {\n    function eventHandler(event) {\n      self._mediaElement.removeEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.removeEventListener('error', eventHandler);\n      if (event.type === 'loadedmetadata') {\n        resolve();\n      } else {\n        reject(event.target.error);\n      }\n    }\n\n    // If the media element has preload=\"none\", clicking to seek in the\n    // waveform won't work, so here we force the media to load.\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      // Wait for the readyState to change to HAVE_METADATA so we know the\n      // duration is valid, otherwise it could be NaN.\n      self._mediaElement.addEventListener('loadedmetadata', eventHandler);\n      self._mediaElement.addEventListener('error', eventHandler);\n      self._mediaElement.load();\n    } else {\n      resolve();\n    }\n  });\n};\n\n/**\n * Cleans up the player object, removing all event listeners from the\n * associated media element.\n */\n\nMediaElementPlayer.prototype.destroy = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var listener = this._listeners[i];\n    this._mediaElement.removeEventListener(listener.type, listener.callback);\n  }\n  this._listeners.length = 0;\n  this._mediaElement = null;\n};\nMediaElementPlayer.prototype.play = function () {\n  return this._mediaElement.play();\n};\nMediaElementPlayer.prototype.pause = function () {\n  this._mediaElement.pause();\n};\nMediaElementPlayer.prototype.isPlaying = function () {\n  return !this._mediaElement.paused;\n};\nMediaElementPlayer.prototype.isSeeking = function () {\n  return this._mediaElement.seeking;\n};\nMediaElementPlayer.prototype.getCurrentTime = function () {\n  return this._mediaElement.currentTime;\n};\nMediaElementPlayer.prototype.getDuration = function () {\n  return this._mediaElement.duration;\n};\nMediaElementPlayer.prototype.seek = function (time) {\n  this._mediaElement.currentTime = time;\n};\nfunction SetSourceHandler(eventEmitter, mediaElement) {\n  this._eventEmitter = eventEmitter;\n  this._mediaElement = mediaElement;\n  this._playerCanPlayHandler = this._playerCanPlayHandler.bind(this);\n  this._playerErrorHandler = this._playerErrorHandler.bind(this);\n}\nSetSourceHandler.prototype.setSource = function (options, callback) {\n  var self = this;\n  self._options = options;\n  self._callback = callback;\n  self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n  self._eventEmitter.on('player.error', self._playerErrorHandler);\n  return new Promise(function (resolve, reject) {\n    self._resolve = resolve;\n    self._reject = reject;\n    self._eventEmitter.on('player.canplay', self._playerCanPlayHandler);\n    self._eventEmitter.on('player.error', self._playerErrorHandler);\n    self._mediaElement.setAttribute('src', options.mediaUrl);\n\n    // Force the media element to load, in case the media element\n    // has preload=\"none\".\n    if (self._mediaElement.readyState === HTMLMediaElement.HAVE_NOTHING) {\n      self._mediaElement.load();\n    }\n  });\n};\nSetSourceHandler.prototype._reset = function () {\n  this._eventEmitter.removeListener('player.canplay', this._playerCanPlayHandler);\n  this._eventEmitter.removeListener('player.error', this._playerErrorHandler);\n};\nSetSourceHandler.prototype._playerCanPlayHandler = function () {\n  this._reset();\n  this._resolve();\n};\nSetSourceHandler.prototype._playerErrorHandler = function (err) {\n  this._reset();\n\n  // Return the MediaError object from the media element\n  this._reject(err);\n};\nMediaElementPlayer.prototype.setSource = function (options) {\n  if (!options.mediaUrl) {\n    // eslint-disable-next-line max-len\n    return Promise.reject(new Error('peaks.setSource(): options must contain a mediaUrl when using mediaElement'));\n  }\n  var setSourceHandler = new SetSourceHandler(this._eventEmitter, this._mediaElement);\n  return setSourceHandler.setSource(options);\n};\n\n/**\n * @file\n *\n * A general audio player class which interfaces with external audio players.\n * The default audio player in Peaks.js is {@link MediaElementPlayer}.\n *\n * @module player\n */\nfunction getAllPropertiesFrom(adapter) {\n  var allProperties = [];\n  var obj = adapter;\n  while (obj) {\n    Object.getOwnPropertyNames(obj).forEach(function (p) {\n      allProperties.push(p);\n    });\n    obj = Object.getPrototypeOf(obj);\n  }\n  return allProperties;\n}\nfunction validateAdapter(adapter) {\n  var publicAdapterMethods = ['init', 'destroy', 'play', 'pause', 'isPlaying', 'isSeeking', 'getCurrentTime', 'getDuration', 'seek'];\n  var allProperties = getAllPropertiesFrom(adapter);\n  publicAdapterMethods.forEach(function (method) {\n    if (!allProperties.includes(method)) {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is undefined');\n    }\n    if (typeof adapter[method] !== 'function') {\n      throw new TypeError('Peaks.init(): Player method ' + method + ' is not a function');\n    }\n  });\n}\n\n/**\n * A wrapper for interfacing with an external player API.\n *\n * @class\n * @alias Player\n *\n * @param {Peaks} peaks The parent {@link Peaks} object.\n * @param {Adapter} adapter The player adapter.\n */\n\nfunction Player(peaks, adapter) {\n  this._peaks = peaks;\n  this._playingSegment = false;\n  this._segment = null;\n  this._loop = false;\n  this._playSegmentTimerCallback = this._playSegmentTimerCallback.bind(this);\n  validateAdapter(adapter);\n  this._adapter = adapter;\n}\nPlayer.prototype.init = function () {\n  return this._adapter.init(this._peaks);\n};\n\n/**\n * Cleans up the player object.\n */\n\nPlayer.prototype.destroy = function () {\n  this._adapter.destroy();\n};\n\n/**\n * Starts playback.\n * @returns {Promise}\n */\n\nPlayer.prototype.play = function () {\n  return this._adapter.play();\n};\n\n/**\n * Pauses playback.\n */\n\nPlayer.prototype.pause = function () {\n  this._adapter.pause();\n};\n\n/**\n * @returns {Boolean} <code>true</code> if playing, <code>false</code>\n * otherwise.\n */\n\nPlayer.prototype.isPlaying = function () {\n  return this._adapter.isPlaying();\n};\n\n/**\n * @returns {boolean} <code>true</code> if seeking\n */\n\nPlayer.prototype.isSeeking = function () {\n  return this._adapter.isSeeking();\n};\n\n/**\n * Returns the current playback time position, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getCurrentTime = function () {\n  return this._adapter.getCurrentTime();\n};\n\n/**\n * Returns the media duration, in seconds.\n *\n * @returns {Number}\n */\n\nPlayer.prototype.getDuration = function () {\n  return this._adapter.getDuration();\n};\n\n/**\n * Seeks to a given time position within the media.\n *\n * @param {Number} time The time position, in seconds.\n */\n\nPlayer.prototype.seek = function (time) {\n  if (!isValidTime(time)) {\n    this._peaks._logger('peaks.player.seek(): parameter must be a valid time, in seconds');\n    return;\n  }\n  this._adapter.seek(time);\n};\n\n/**\n * Plays the given segment.\n *\n * @param {Segment} segment The segment denoting the time region to play.\n * @param {Boolean} loop If true, playback is looped.\n */\n\nPlayer.prototype.playSegment = function (segment, loop) {\n  var self = this;\n  if (!segment || !isValidTime(segment.startTime) || !isValidTime(segment.endTime)) {\n    return Promise.reject(new Error('peaks.player.playSegment(): parameter must be a segment object'));\n  }\n  self._segment = segment;\n  self._loop = loop;\n\n  // Set audio time to segment start time\n  self.seek(segment.startTime);\n  self._peaks.once('player.playing', function () {\n    if (!self._playingSegment) {\n      self._playingSegment = true;\n\n      // We need to use requestAnimationFrame here as the timeupdate event\n      // doesn't fire often enough.\n      window.requestAnimationFrame(self._playSegmentTimerCallback);\n    }\n  });\n\n  // Start playing audio\n  return self.play();\n};\nPlayer.prototype._playSegmentTimerCallback = function () {\n  if (!this.isPlaying()) {\n    this._playingSegment = false;\n    return;\n  } else if (this.getCurrentTime() >= this._segment.endTime) {\n    if (this._loop) {\n      this.seek(this._segment.startTime);\n    } else {\n      this.pause();\n      this._peaks.emit('player.ended');\n      this._playingSegment = false;\n      return;\n    }\n  }\n  window.requestAnimationFrame(this._playSegmentTimerCallback);\n};\nPlayer.prototype._setSource = function (options) {\n  return this._adapter.setSource(options);\n};\n\n/**\n * @file\n *\n * Defines the {@link DefaultPointMarker} class.\n *\n * @module default-point-marker\n */\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias DefaultPointMarker\n *\n * @param {CreatePointMarkerOptions} options\n */\n\nfunction DefaultPointMarker(options) {\n  this._options = options;\n  this._draggable = options.editable;\n}\nDefaultPointMarker.prototype.init = function (group) {\n  var handleWidth = 10;\n  var handleHeight = 20;\n  var handleX = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  // Label\n\n  if (this._options.view === 'zoomview') {\n    // Label - create with default y, the real value is set in fitToView().\n    this._label = new Text({\n      x: 2,\n      y: 0,\n      text: this._options.point.labelText,\n      textAlign: 'left',\n      fontFamily: this._options.fontFamily || 'sans-serif',\n      fontSize: this._options.fontSize || 10,\n      fontStyle: this._options.fontStyle || 'normal',\n      fill: '#000'\n    });\n  }\n\n  // Handle - create with default y, the real value is set in fitToView().\n\n  this._handle = new Rect({\n    x: handleX,\n    y: 0,\n    width: handleWidth,\n    height: handleHeight,\n    fill: this._options.color,\n    visible: this._draggable\n  });\n\n  // Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x: 0,\n    y: 0,\n    stroke: this._options.color,\n    strokeWidth: 1\n  });\n\n  // Time label - create with default y, the real value is set\n  // in fitToView().\n  this._time = new Text({\n    x: -24,\n    y: 0,\n    text: this._options.layer.formatTime(this._options.point.time),\n    fontFamily: this._options.fontFamily,\n    fontSize: this._options.fontSize,\n    fontStyle: this._options.fontStyle,\n    fill: '#000',\n    textAlign: 'center'\n  });\n  this._time.hide();\n  group.add(this._handle);\n  group.add(this._line);\n  if (this._label) {\n    group.add(this._label);\n  }\n  group.add(this._time);\n  this.fitToView();\n  this.bindEventHandlers(group);\n};\nDefaultPointMarker.prototype.bindEventHandlers = function (group) {\n  var self = this;\n  self._handle.on('mouseover touchstart', function () {\n    if (self._draggable) {\n      // Position text to the left of the marker\n      self._time.setX(-24 - self._time.getWidth());\n      self._time.show();\n    }\n  });\n  self._handle.on('mouseout touchend', function () {\n    if (self._draggable) {\n      self._time.hide();\n    }\n  });\n  group.on('dragstart', function () {\n    self._time.setX(-24 - self._time.getWidth());\n    self._time.show();\n  });\n  group.on('dragend', function () {\n    self._time.hide();\n  });\n};\nDefaultPointMarker.prototype.fitToView = function () {\n  var height = this._options.layer.getHeight();\n  this._line.points([0.5, 0, 0.5, height]);\n  if (this._label) {\n    this._label.y(12);\n  }\n  if (this._handle) {\n    this._handle.y(height / 2 - 10.5);\n  }\n  if (this._time) {\n    this._time.y(height / 2 - 5);\n  }\n};\nDefaultPointMarker.prototype.update = function (options) {\n  if (options.time !== undefined) {\n    if (this._time) {\n      this._time.setText(this._options.layer.formatTime(options.time));\n    }\n  }\n  if (options.labelText !== undefined) {\n    if (this._label) {\n      this._label.text(options.labelText);\n    }\n  }\n  if (options.color !== undefined) {\n    if (this._handle) {\n      this._handle.fill(options.color);\n    }\n    this._line.stroke(options.color);\n  }\n  if (options.editable !== undefined) {\n    this._draggable = options.editable;\n    this._handle.visible(this._draggable);\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link DefaultSegmentMarker} class.\n *\n * @module default-segment-marker\n */\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias DefaultSegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction DefaultSegmentMarker(options) {\n  this._options = options;\n  this._editable = options.editable;\n}\nDefaultSegmentMarker.prototype.init = function (group) {\n  var handleWidth = 10;\n  var handleHeight = 20;\n  var handleX = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  var xPosition = this._options.startMarker ? -24 : 24;\n  var time = this._options.startMarker ? this._options.segment.startTime : this._options.segment.endTime;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x: xPosition,\n    y: 0,\n    text: this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize: this._options.fontSize,\n    fontStyle: this._options.fontStyle,\n    fill: '#000',\n    textAlign: 'center',\n    visible: this._editable\n  });\n  this._label.hide();\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x: handleX,\n    y: 0,\n    width: handleWidth,\n    height: handleHeight,\n    fill: this._options.color,\n    stroke: this._options.color,\n    strokeWidth: 1,\n    visible: this._editable\n  });\n\n  // Vertical Line - create with default y and points, the real values\n  // are set in fitToView().\n  this._line = new Line({\n    x: 0,\n    y: 0,\n    stroke: this._options.color,\n    strokeWidth: 1,\n    visible: this._editable\n  });\n  group.add(this._label);\n  group.add(this._line);\n  group.add(this._handle);\n  this.fitToView();\n  this.bindEventHandlers(group);\n};\nDefaultSegmentMarker.prototype.bindEventHandlers = function (group) {\n  var self = this;\n  var xPosition = self._options.startMarker ? -24 : 24;\n  group.on('dragstart', function () {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n    self._label.show();\n  });\n  group.on('dragend', function () {\n    self._label.hide();\n  });\n  self._handle.on('mouseover touchstart', function () {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n    self._label.show();\n  });\n  self._handle.on('mouseout touchend', function () {\n    self._label.hide();\n  });\n};\nDefaultSegmentMarker.prototype.fitToView = function () {\n  var height = this._options.layer.getHeight();\n  this._label.y(height / 2 - 5);\n  this._handle.y(height / 2 - 10.5);\n  this._line.points([0.5, 0, 0.5, height]);\n};\nDefaultSegmentMarker.prototype.update = function (options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n  if (options.editable !== undefined) {\n    this._editable = options.editable;\n    this._label.visible(this._editable);\n    this._handle.visible(this._editable);\n    this._line.visible(this._editable);\n  }\n};\n\n/**\n * @file\n *\n * Factory functions for creating point and segment marker handles.\n *\n * @module marker-factories\n */\n\n/**\n * Parameters for the {@link createSegmentMarker} function.\n *\n * @typedef {Object} CreateSegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {Boolean} draggable If true, marker is draggable.\n * @property {Boolean} startMarker\n * @property {String} color\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n * @property {Layer} layer\n * @property {String} view\n * @property {SegmentDisplayOptions} segmentOptions\n */\n\n/**\n * Creates a left or right side segment marker handle.\n *\n * @param {CreateSegmentMarkerOptions} options\n * @returns {Marker}\n */\n\nfunction createSegmentMarker(options) {\n  if (options.view === 'zoomview') {\n    return new DefaultSegmentMarker(options);\n  }\n  return null;\n}\n\n/**\n * Parameters for the {@link createSegmentLabel} function.\n *\n * @typedef {Object} SegmentLabelOptions\n * @global\n * @property {Segment} segment The {@link Segment} object associated with this\n *   label.\n * @property {String} view The name of the view that the label is being\n *   created in, either <code>zoomview</code> or <code>overview</code>.\n * @property {SegmentsLayer} layer\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a Konva object that renders information about a segment, such as\n * its label text.\n *\n * @param {SegmentLabelOptions} options\n * @returns {Konva.Text}\n */\n\nfunction createSegmentLabel(options) {\n  return new Text({\n    x: 12,\n    y: 12,\n    text: options.segment.labelText,\n    textAlign: 'center',\n    fontFamily: options.fontFamily || 'sans-serif',\n    fontSize: options.fontSize || 12,\n    fontStyle: options.fontStyle || 'normal',\n    fill: '#000'\n  });\n}\n\n/**\n * Parameters for the {@link createPointMarker} function.\n *\n * @typedef {Object} CreatePointMarkerOptions\n * @global\n * @property {Point} point\n * @property {Boolean} editable If true, marker is draggable.\n * @property {String} color\n * @property {Layer} layer\n * @property {String} view\n * @property {String} fontFamily\n * @property {Number} fontSize\n * @property {String} fontStyle\n */\n\n/**\n * Creates a point marker handle.\n *\n * @param {CreatePointMarkerOptions} options\n * @returns {Marker}\n */\n\nfunction createPointMarker(options) {\n  return new DefaultPointMarker(options);\n}\n\n/**\n * @file\n *\n * Defines the {@link HighlightLayer} class.\n *\n * @module highlight-layer\n */\n\n/**\n * Highlight layer options\n *\n * @typedef {Object} HighlightLayerOptions\n * @global\n * @property {Number} highlightOffset\n * @property {String} highlightColor\n * @property {String} highlightStrokeColor\n * @property {Number} highlightOpacity\n * @property {Number} highlightCornerRadius\n */\n\n/**\n * Creates the highlight region that shows the position of the zoomable\n * waveform view in the overview waveform.\n *\n * @class\n * @alias HighlightLayer\n *\n * @param {WaveformOverview} view\n * @param {HighlightLayerOptions} options\n */\n\nfunction HighlightLayer(view, options) {\n  this._view = view;\n  this._offset = options.highlightOffset;\n  this._color = options.highlightColor;\n  this._layer = new Konva.Layer({\n    listening: false\n  });\n  this._highlightRect = null;\n  this._startTime = null;\n  this._endTime = null;\n  this._strokeColor = options.highlightStrokeColor;\n  this._opacity = options.highlightOpacity;\n  this._cornerRadius = options.highlightCornerRadius;\n}\nHighlightLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\nHighlightLayer.prototype.showHighlight = function (startTime, endTime) {\n  if (!this._highlightRect) {\n    this._createHighlightRect(startTime, endTime);\n  }\n  this._update(startTime, endTime);\n};\n\n/**\n * Updates the position of the highlight region.\n *\n * @param {Number} startTime The start of the highlight region, in seconds.\n * @param {Number} endTime The end of the highlight region, in seconds.\n */\n\nHighlightLayer.prototype._update = function (startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n  var startOffset = this._view.timeToPixels(startTime);\n  var endOffset = this._view.timeToPixels(endTime);\n  this._highlightRect.setAttrs({\n    x: startOffset,\n    width: endOffset - startOffset\n  });\n};\nHighlightLayer.prototype._createHighlightRect = function (startTime, endTime) {\n  this._startTime = startTime;\n  this._endTime = endTime;\n  var startOffset = this._view.timeToPixels(startTime);\n  var endOffset = this._view.timeToPixels(endTime);\n\n  // Create with default y and height, the real values are set in fitToView().\n  this._highlightRect = new Rect({\n    x: startOffset,\n    y: 0,\n    width: endOffset - startOffset,\n    height: 0,\n    stroke: this._strokeColor,\n    strokeWidth: 1,\n    fill: this._color,\n    opacity: this._opacity,\n    cornerRadius: this._cornerRadius\n  });\n  this.fitToView();\n  this._layer.add(this._highlightRect);\n};\nHighlightLayer.prototype.removeHighlight = function () {\n  if (this._highlightRect) {\n    this._highlightRect.destroy();\n    this._highlightRect = null;\n  }\n};\nHighlightLayer.prototype.updateHighlight = function () {\n  if (this._highlightRect) {\n    this._update(this._startTime, this._endTime);\n  }\n};\nHighlightLayer.prototype.fitToView = function () {\n  if (this._highlightRect) {\n    var height = this._view.getHeight();\n    var offset = clamp(this._offset, 0, Math.floor(height / 2));\n    this._highlightRect.setAttrs({\n      y: offset,\n      height: height - offset * 2\n    });\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link PlayheadLayer} class.\n *\n * @module playhead-layer\n */\n\n/**\n * Creates a Konva.Layer that displays a playhead marker.\n *\n * @class\n * @alias PlayheadLayer\n *\n * @param {Object} options\n * @param {Player} options.player\n * @param {WaveformOverview|WaveformZoomView} options.view\n * @param {Boolean} options.showPlayheadTime If <code>true</code> The playback time position\n *   is shown next to the playhead.\n * @param {String} options.playheadColor\n * @param {String} options.playheadTextColor\n * @param {String} options.playheadFontFamily\n * @param {Number} options.playheadFontSize\n * @param {String} options.playheadFontStyle\n */\n\nfunction PlayheadLayer(options) {\n  this._player = options.player;\n  this._view = options.view;\n  this._playheadPixel = 0;\n  this._playheadLineAnimation = null;\n  this._playheadVisible = false;\n  this._playheadColor = options.playheadColor;\n  this._playheadTextColor = options.playheadTextColor;\n  this._playheadFontFamily = options.playheadFontFamily;\n  this._playheadFontSize = options.playheadFontSize;\n  this._playheadFontStyle = options.playheadFontStyle;\n  this._playheadLayer = new Konva.Layer();\n  this._createPlayhead(this._playheadColor);\n  if (options.showPlayheadTime) {\n    this._createPlayheadText(this._playheadTextColor);\n  }\n  this.fitToView();\n  this.zoomLevelChanged();\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPlayheadLayer.prototype.addToStage = function (stage) {\n  stage.add(this._playheadLayer);\n};\n\n/**\n * Decides whether to use an animation to update the playhead position.\n *\n * If the zoom level is such that the number of pixels per second of audio is\n * low, we can use timeupdate events from the HTMLMediaElement to\n * set the playhead position. Otherwise, we use an animation to update the\n * playhead position more smoothly. The animation is CPU intensive, so we\n * avoid using it where possible.\n */\n\nPlayheadLayer.prototype.zoomLevelChanged = function () {\n  var pixelsPerSecond = this._view.timeToPixels(1.0);\n  this._useAnimation = pixelsPerSecond >= 5;\n  if (this._useAnimation) {\n    if (this._player.isPlaying() && !this._playheadLineAnimation) {\n      // Start the animation\n      this._start();\n    }\n  } else {\n    if (this._playheadLineAnimation) {\n      // Stop the animation\n      var time = this._player.getCurrentTime();\n      this.stop(time);\n    }\n  }\n};\n\n/**\n * Resizes the playhead UI objects to fit the available space in the\n * view.\n */\n\nPlayheadLayer.prototype.fitToView = function () {\n  var height = this._view.getHeight();\n  this._playheadLine.points([0.5, 0, 0.5, height]);\n  if (this._playheadText) {\n    this._playheadText.y(12);\n  }\n};\n\n/**\n * Creates the playhead UI objects.\n *\n * @private\n * @param {String} color\n */\n\nPlayheadLayer.prototype._createPlayhead = function (color) {\n  // Create with default points, the real values are set in fitToView().\n  this._playheadLine = new Line({\n    stroke: color,\n    strokeWidth: 1\n  });\n  this._playheadGroup = new Konva.Group({\n    x: 0,\n    y: 0\n  });\n  this._playheadGroup.add(this._playheadLine);\n  this._playheadLayer.add(this._playheadGroup);\n};\nPlayheadLayer.prototype._createPlayheadText = function (color) {\n  var time = this._player.getCurrentTime();\n  var text = this._view.formatTime(time);\n\n  // Create with default y, the real value is set in fitToView().\n  this._playheadText = new Text({\n    x: 2,\n    y: 0,\n    text: text,\n    fontSize: this._playheadFontSize,\n    fontFamily: this._playheadFontFamily,\n    fontStyle: this._playheadFontStyle,\n    fill: color,\n    align: 'right'\n  });\n  this._playheadGroup.add(this._playheadText);\n};\n\n/**\n * Updates the playhead position.\n *\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype.updatePlayheadTime = function (time) {\n  this._syncPlayhead(time);\n  if (this._player.isPlaying()) {\n    this._start();\n  }\n};\n\n/**\n * Updates the playhead position.\n *\n * @private\n * @param {Number} time Current playhead position, in seconds.\n */\n\nPlayheadLayer.prototype._syncPlayhead = function (time) {\n  var pixelIndex = this._view.timeToPixels(time);\n  var frameOffset = this._view.getFrameOffset();\n  var width = this._view.getWidth();\n  var isVisible = pixelIndex >= frameOffset && pixelIndex <= frameOffset + width;\n  this._playheadPixel = pixelIndex;\n  if (isVisible) {\n    var playheadX = this._playheadPixel - frameOffset;\n    if (!this._playheadVisible) {\n      this._playheadVisible = true;\n      this._playheadGroup.show();\n    }\n    this._playheadGroup.setX(playheadX);\n    if (this._playheadText) {\n      var text = this._view.formatTime(time);\n      var playheadTextWidth = this._playheadText.getTextWidth();\n      this._playheadText.setText(text);\n      if (playheadTextWidth + playheadX > width - 2) {\n        this._playheadText.setX(-playheadTextWidth - 2);\n      } else if (playheadTextWidth + playheadX < width) {\n        this._playheadText.setX(2);\n      }\n    }\n  } else {\n    if (this._playheadVisible) {\n      this._playheadVisible = false;\n      this._playheadGroup.hide();\n    }\n  }\n  if (this._view.playheadPosChanged) {\n    this._view.playheadPosChanged(time);\n  }\n};\n\n/**\n * Starts a playhead animation in sync with the media playback.\n *\n * @private\n */\n\nPlayheadLayer.prototype._start = function () {\n  var self = this;\n  if (self._playheadLineAnimation) {\n    self._playheadLineAnimation.stop();\n    self._playheadLineAnimation = null;\n  }\n  if (!self._useAnimation) {\n    return;\n  }\n  var lastPlayheadPosition = null;\n  self._playheadLineAnimation = new Animation(function () {\n    var time = self._player.getCurrentTime();\n    var playheadPosition = self._view.timeToPixels(time);\n    if (playheadPosition !== lastPlayheadPosition) {\n      self._syncPlayhead(time);\n      lastPlayheadPosition = playheadPosition;\n    }\n  }, self._playheadLayer);\n  self._playheadLineAnimation.start();\n};\nPlayheadLayer.prototype.stop = function (time) {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n  this._syncPlayhead(time);\n};\nPlayheadLayer.prototype.getPlayheadPixel = function () {\n  return this._playheadPixel;\n};\nPlayheadLayer.prototype.showPlayheadTime = function (show) {\n  if (show) {\n    if (!this._playheadText) {\n      // Create it\n      this._createPlayheadText(this._playheadTextColor);\n      this.fitToView();\n    }\n  } else {\n    if (this._playheadText) {\n      this._playheadText.remove();\n      this._playheadText.destroy();\n      this._playheadText = null;\n    }\n  }\n};\nPlayheadLayer.prototype.updatePlayheadText = function () {\n  if (this._playheadText) {\n    var time = this._player.getCurrentTime();\n    var text = this._view.formatTime(time);\n    this._playheadText.setText(text);\n  }\n};\nPlayheadLayer.prototype.destroy = function () {\n  if (this._playheadLineAnimation) {\n    this._playheadLineAnimation.stop();\n    this._playheadLineAnimation = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link PointMarker} class.\n *\n * @module point-marker\n */\n\n/**\n * Parameters for the {@link PointMarker} constructor.\n *\n * @typedef {Object} PointMarkerOptions\n * @global\n * @property {Point} point Point object with timestamp.\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Marker} marker\n * @property {Function} onclick\n * @property {Function} onDblClick\n * @property {Function} onDragStart\n * @property {Function} onDragMove Callback during mouse drag operations.\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n * @property {Function} onMouseEnter\n * @property {Function} onMouseLeave\n * @property {Function} onContextMenu\n */\n\n/**\n * Creates a point marker handle.\n *\n * @class\n * @alias PointMarker\n *\n * @param {PointMarkerOptions} options\n */\n\nfunction PointMarker(options) {\n  this._point = options.point;\n  this._marker = options.marker;\n  this._draggable = options.draggable;\n  this._onDragStart = options.onDragStart;\n  this._onDragMove = options.onDragMove;\n  this._onDragEnd = options.onDragEnd;\n  this._dragBoundFunc = options.dragBoundFunc;\n  this._onMouseEnter = options.onMouseEnter;\n  this._onMouseLeave = options.onMouseLeave;\n  this._group = new Konva.Group({\n    name: 'point-marker',\n    point: this._point,\n    draggable: this._draggable,\n    dragBoundFunc: options.dragBoundFunc\n  });\n  this._bindDefaultEventHandlers();\n  this._marker.init(this._group);\n}\nPointMarker.prototype._bindDefaultEventHandlers = function () {\n  var self = this;\n  self._group.on('dragstart', function (event) {\n    self._onDragStart(event, self._point);\n  });\n  self._group.on('dragmove', function (event) {\n    self._onDragMove(event, self._point);\n  });\n  self._group.on('dragend', function (event) {\n    self._onDragEnd(event, self._point);\n  });\n  self._group.on('mouseenter', function (event) {\n    self._onMouseEnter(event, self._point);\n  });\n  self._group.on('mouseleave', function (event) {\n    self._onMouseLeave(event, self._point);\n  });\n};\n\n/**\n * @param {Konva.Layer} layer\n */\n\nPointMarker.prototype.addToLayer = function (layer) {\n  layer.add(this._group);\n};\nPointMarker.prototype.fitToView = function () {\n  this._marker.fitToView();\n};\nPointMarker.prototype.getPoint = function () {\n  return this._point;\n};\nPointMarker.prototype.getX = function () {\n  return this._group.getX();\n};\nPointMarker.prototype.setX = function (x) {\n  this._group.setX(x);\n};\nPointMarker.prototype.getWidth = function () {\n  return this._group.getWidth();\n};\nPointMarker.prototype.getAbsolutePosition = function () {\n  return this._group.getAbsolutePosition();\n};\nPointMarker.prototype.update = function (options) {\n  if (options.editable !== undefined) {\n    this._group.draggable(options.editable);\n  }\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\nPointMarker.prototype.destroy = function () {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n  this._group.destroyChildren();\n  this._group.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link PointsLayer} class.\n *\n * @module points-layer\n */\nvar defaultFontFamily$1 = 'sans-serif';\nvar defaultFontSize$1 = 10;\nvar defaultFontShape$1 = 'normal';\n\n/**\n * Creates a Konva.Layer that displays point markers against the audio\n * waveform.\n *\n * @class\n * @alias PointsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction PointsLayer(peaks, view, allowEditing) {\n  this._peaks = peaks;\n  this._view = view;\n  this._allowEditing = allowEditing;\n  this._pointMarkers = {};\n  this._layer = new Konva.Layer();\n  this._onPointsDrag = this._onPointsDrag.bind(this);\n  this._onPointMarkerDragStart = this._onPointMarkerDragStart.bind(this);\n  this._onPointMarkerDragMove = this._onPointMarkerDragMove.bind(this);\n  this._onPointMarkerDragEnd = this._onPointMarkerDragEnd.bind(this);\n  this._pointMarkerDragBoundFunc = this._pointMarkerDragBoundFunc.bind(this);\n  this._onPointMarkerMouseEnter = this._onPointMarkerMouseEnter.bind(this);\n  this._onPointMarkerMouseLeave = this._onPointMarkerMouseLeave.bind(this);\n  this._onPointsUpdate = this._onPointsUpdate.bind(this);\n  this._onPointsAdd = this._onPointsAdd.bind(this);\n  this._onPointsRemove = this._onPointsRemove.bind(this);\n  this._onPointsRemoveAll = this._onPointsRemoveAll.bind(this);\n  this._peaks.on('points.update', this._onPointsUpdate);\n  this._peaks.on('points.add', this._onPointsAdd);\n  this._peaks.on('points.remove', this._onPointsRemove);\n  this._peaks.on('points.remove_all', this._onPointsRemoveAll);\n  this._peaks.on('points.dragstart', this._onPointsDrag);\n  this._peaks.on('points.dragmove', this._onPointsDrag);\n  this._peaks.on('points.dragend', this._onPointsDrag);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nPointsLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\nPointsLayer.prototype.enableEditing = function (enable) {\n  this._allowEditing = enable;\n};\nPointsLayer.prototype.getPointMarker = function (point) {\n  return this._pointMarkers[point.pid];\n};\nPointsLayer.prototype.formatTime = function (time) {\n  return this._view.formatTime(time);\n};\nPointsLayer.prototype._onPointsUpdate = function (point, options) {\n  var frameStartTime = this._view.getStartTime();\n  var frameEndTime = this._view.getEndTime();\n  var pointMarker = this.getPointMarker(point);\n  var isVisible = point.isVisible(frameStartTime, frameEndTime);\n  if (pointMarker && !isVisible) {\n    // Remove point marker that is no longer visible.\n    this._removePoint(point);\n  } else if (!pointMarker && isVisible) {\n    // Add point marker for visible point.\n    this._updatePoint(point);\n  } else if (pointMarker && isVisible) {\n    // Update the point marker with the changed attributes.\n    if (objectHasProperty(options, 'time')) {\n      var pointMarkerOffset = this._view.timeToPixels(point.time);\n      var pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n      pointMarker.setX(pointMarkerX);\n    }\n    pointMarker.update(options);\n  }\n};\nPointsLayer.prototype._onPointsAdd = function (event) {\n  var self = this;\n  var frameStartTime = self._view.getStartTime();\n  var frameEndTime = self._view.getEndTime();\n  event.points.forEach(function (point) {\n    if (point.isVisible(frameStartTime, frameEndTime)) {\n      self._updatePoint(point);\n    }\n  });\n};\nPointsLayer.prototype._onPointsRemove = function (event) {\n  var self = this;\n  event.points.forEach(function (point) {\n    self._removePoint(point);\n  });\n};\nPointsLayer.prototype._onPointsRemoveAll = function () {\n  this._layer.removeChildren();\n  this._pointMarkers = {};\n};\n\n/**\n * Creates the Konva UI objects for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._createPointMarker = function (point) {\n  var editable = this._allowEditing && point.editable;\n  var marker = this._peaks.options.createPointMarker({\n    point: point,\n    editable: editable,\n    color: point.color,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily$1,\n    fontSize: this._peaks.options.fontSize || defaultFontSize$1,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape$1,\n    layer: this,\n    view: this._view.getName()\n  });\n  return new PointMarker({\n    point: point,\n    draggable: editable,\n    marker: marker,\n    onDragStart: this._onPointMarkerDragStart,\n    onDragMove: this._onPointMarkerDragMove,\n    onDragEnd: this._onPointMarkerDragEnd,\n    dragBoundFunc: this._pointMarkerDragBoundFunc,\n    onMouseEnter: this._onPointMarkerMouseEnter,\n    onMouseLeave: this._onPointMarkerMouseLeave\n  });\n};\nPointsLayer.prototype.getHeight = function () {\n  return this._view.getHeight();\n};\n\n/**\n * Adds a Konva UI object to the layer for a given point.\n *\n * @private\n * @param {Point} point\n * @returns {PointMarker}\n */\n\nPointsLayer.prototype._addPointMarker = function (point) {\n  var pointMarker = this._createPointMarker(point);\n  this._pointMarkers[point.pid] = pointMarker;\n  pointMarker.addToLayer(this._layer);\n  return pointMarker;\n};\nPointsLayer.prototype._onPointsDrag = function (event) {\n  var pointMarker = this._updatePoint(event.point);\n  pointMarker.update({\n    time: event.point.time\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseEnter = function (event, point) {\n  this._peaks.emit('points.mouseenter', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerMouseLeave = function (event, point) {\n  this._peaks.emit('points.mouseleave', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragStart = function (event, point) {\n  this._dragPointMarker = this.getPointMarker(point);\n  this._peaks.emit('points.dragstart', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragMove = function (event, point) {\n  var pointMarker = this._pointMarkers[point.pid];\n  var markerX = pointMarker.getX();\n  var offset = markerX + pointMarker.getWidth();\n  point._setTime(this._view.pixelOffsetToTime(offset));\n  this._peaks.emit('points.dragmove', {\n    point: point,\n    evt: event.evt\n  });\n};\n\n/**\n * @param {KonvaEventObject} event\n * @param {Point} point\n */\n\nPointsLayer.prototype._onPointMarkerDragEnd = function (event, point) {\n  this._dragPointMarker = null;\n  this._peaks.emit('points.dragend', {\n    point: point,\n    evt: event.evt\n  });\n};\nPointsLayer.prototype._pointMarkerDragBoundFunc = function (pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: clamp(pos.x, 0, this._view.getWidth()),\n    y: this._dragPointMarker.getAbsolutePosition().y\n  };\n};\n\n/**\n * Updates the positions of all displayed points in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nPointsLayer.prototype.updatePoints = function (startTime, endTime) {\n  // Update all points in the visible time range.\n  var points = this._peaks.points.find(startTime, endTime);\n  points.forEach(this._updatePoint.bind(this));\n\n  // TODO: In the overview all points are visible, so no need to do this.\n  this._removeInvisiblePoints(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._updatePoint = function (point) {\n  var pointMarker = this.getPointMarker(point);\n  if (!pointMarker) {\n    pointMarker = this._addPointMarker(point);\n  }\n  var pointMarkerOffset = this._view.timeToPixels(point.time);\n  var pointMarkerX = pointMarkerOffset - this._view.getFrameOffset();\n  pointMarker.setX(pointMarkerX);\n  return pointMarker;\n};\n\n/**\n * Remove any points that are not visible, i.e., are outside the given time\n * range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nPointsLayer.prototype._removeInvisiblePoints = function (startTime, endTime) {\n  for (var pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      var point = this._pointMarkers[pointPid].getPoint();\n      if (!point.isVisible(startTime, endTime)) {\n        this._removePoint(point);\n      }\n    }\n  }\n};\n\n/**\n * Removes the UI object for a given point.\n *\n * @private\n * @param {Point} point\n */\n\nPointsLayer.prototype._removePoint = function (point) {\n  var pointMarker = this.getPointMarker(point);\n  if (pointMarker) {\n    pointMarker.destroy();\n    delete this._pointMarkers[point.pid];\n  }\n};\n\n/**\n * Toggles visibility of the points layer.\n *\n * @param {Boolean} visible\n */\n\nPointsLayer.prototype.setVisible = function (visible) {\n  this._layer.setVisible(visible);\n};\nPointsLayer.prototype.destroy = function () {\n  this._peaks.off('points.update', this._onPointsUpdate);\n  this._peaks.off('points.add', this._onPointsAdd);\n  this._peaks.off('points.remove', this._onPointsRemove);\n  this._peaks.off('points.remove_all', this._onPointsRemoveAll);\n  this._peaks.off('points.dragstart', this._onPointsDrag);\n  this._peaks.off('points.dragmove', this._onPointsDrag);\n  this._peaks.off('points.dragend', this._onPointsDrag);\n};\nPointsLayer.prototype.fitToView = function () {\n  for (var pointPid in this._pointMarkers) {\n    if (objectHasProperty(this._pointMarkers, pointPid)) {\n      var pointMarker = this._pointMarkers[pointPid];\n      pointMarker.fitToView();\n    }\n  }\n};\nPointsLayer.prototype.draw = function () {\n  this._layer.draw();\n};\n\n/**\n * @file\n *\n * Defines the {@link OverlaySegmentMarker} class.\n *\n * @module overlay-segment-marker\n */\n\n/**\n * Creates a segment marker handle.\n *\n * @class\n * @alias OverlaySegmentMarker\n *\n * @param {CreateSegmentMarkerOptions} options\n */\n\nfunction OverlaySegmentMarker(options) {\n  this._options = options;\n}\nOverlaySegmentMarker.prototype.init = function (group) {\n  var handleWidth = 10;\n  var handleHeight = 20;\n  var handleX = -(handleWidth / 2) + 0.5; // Place in the middle of the marker\n\n  var xPosition = this._options.startMarker ? -24 : 24;\n  var time = this._options.startMarker ? this._options.segment.startTime : this._options.segment.endTime;\n\n  // Label - create with default y, the real value is set in fitToView().\n  this._label = new Text({\n    x: xPosition,\n    y: 0,\n    text: this._options.layer.formatTime(time),\n    fontFamily: this._options.fontFamily,\n    fontSize: this._options.fontSize,\n    fontStyle: this._options.fontStyle,\n    fill: '#000',\n    textAlign: 'center',\n    visible: false\n  });\n\n  // Handle - create with default y, the real value is set in fitToView().\n  this._handle = new Rect({\n    x: handleX,\n    y: 0,\n    width: handleWidth,\n    height: handleHeight\n  });\n  group.add(this._label);\n  group.add(this._handle);\n  this.fitToView();\n  this.bindEventHandlers(group);\n};\nOverlaySegmentMarker.prototype.bindEventHandlers = function (group) {\n  var self = this;\n  var xPosition = self._options.startMarker ? -24 : 24;\n  group.on('dragstart', function () {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n    self._label.show();\n  });\n  group.on('dragend', function () {\n    self._label.hide();\n  });\n  self._handle.on('mouseover touchstart', function () {\n    if (self._options.startMarker) {\n      self._label.setX(xPosition - self._label.getWidth());\n    }\n    self._label.show();\n    document.body.style.cursor = 'ew-resize';\n  });\n  self._handle.on('mouseout touchend', function () {\n    self._label.hide();\n    document.body.style.cursor = 'default';\n  });\n};\nOverlaySegmentMarker.prototype.fitToView = function () {\n  var viewHeight = this._options.layer.getHeight();\n  var overlayOffset = this._options.segmentOptions.overlayOffset;\n  var overlayRectHeight = clamp(0, viewHeight - 2 * overlayOffset);\n  this._label.y(viewHeight / 2 - 5);\n  this._handle.y(overlayOffset);\n  this._handle.height(overlayRectHeight);\n};\nOverlaySegmentMarker.prototype.update = function (options) {\n  if (options.startTime !== undefined && this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.startTime));\n  }\n  if (options.endTime !== undefined && !this._options.startMarker) {\n    this._label.text(this._options.layer.formatTime(options.endTime));\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentMarker} class.\n *\n * @module segment-marker\n */\n\n/**\n * Parameters for the {@link SegmentMarker} constructor.\n *\n * @typedef {Object} SegmentMarkerOptions\n * @global\n * @property {Segment} segment\n * @property {SegmentShape} segmentShape\n * @property {Boolean} editable If true, marker is draggable.\n * @property {Boolean} startMarker If <code>true</code>, the marker indicates\n *   the start time of the segment. If <code>false</code>, the marker\n *   indicates the end time of the segment.\n * @property {Function} onDragStart\n * @property {Function} onDragMove\n * @property {Function} onDragEnd\n * @property {Function} dragBoundFunc\n */\n\n/**\n * Creates a segment handle marker for the start or end of a segment.\n *\n * @class\n * @alias SegmentMarker\n *\n * @param {SegmentMarkerOptions} options\n */\n\nfunction SegmentMarker(options) {\n  var self = this;\n  self._segment = options.segment;\n  self._marker = options.marker;\n  self._segmentShape = options.segmentShape;\n  self._editable = options.editable;\n  self._startMarker = options.startMarker;\n  self._onDragStart = options.onDragStart;\n  self._onDragMove = options.onDragMove;\n  self._onDragEnd = options.onDragEnd;\n  self._group = new Konva.Group({\n    name: 'segment-marker',\n    segment: self._segment,\n    draggable: self._editable,\n    visible: self._editable,\n    dragBoundFunc: function dragBoundFunc(pos) {\n      return options.dragBoundFunc(self, pos);\n    }\n  });\n  self._bindDefaultEventHandlers();\n  self._marker.init(self._group);\n}\nSegmentMarker.prototype._bindDefaultEventHandlers = function () {\n  var self = this;\n  self._group.on('dragstart', function (event) {\n    self._onDragStart(self, event);\n  });\n  self._group.on('dragmove', function (event) {\n    self._onDragMove(self, event);\n  });\n  self._group.on('dragend', function (event) {\n    self._onDragEnd(self, event);\n  });\n};\nSegmentMarker.prototype.addToLayer = function (layer) {\n  layer.add(this._group);\n};\nSegmentMarker.prototype.moveToTop = function () {\n  this._group.moveToTop();\n};\nSegmentMarker.prototype.fitToView = function () {\n  this._marker.fitToView();\n};\nSegmentMarker.prototype.getSegment = function () {\n  return this._segment;\n};\nSegmentMarker.prototype.getX = function () {\n  return this._group.getX();\n};\nSegmentMarker.prototype.setX = function (x) {\n  this._group.setX(x);\n};\nSegmentMarker.prototype.getWidth = function () {\n  return this._group.getWidth();\n};\nSegmentMarker.prototype.getAbsolutePosition = function () {\n  return this._group.getAbsolutePosition();\n};\nSegmentMarker.prototype.isStartMarker = function () {\n  return this._startMarker;\n};\nSegmentMarker.prototype.update = function (options) {\n  if (options.editable !== undefined) {\n    this._group.visible(options.editable);\n    this._group.draggable(options.editable);\n  }\n  if (this._marker.update) {\n    this._marker.update(options);\n  }\n};\nSegmentMarker.prototype.destroy = function () {\n  if (this._marker.destroy) {\n    this._marker.destroy();\n  }\n  this._group.destroyChildren();\n  this._group.destroy();\n};\nSegmentMarker.prototype.startDrag = function () {\n  this._group.startDrag();\n};\nSegmentMarker.prototype.stopDrag = function () {\n  this._group.stopDrag();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformShape} class.\n *\n * @module waveform-shape\n */\n\n/**\n * Waveform shape options.\n *\n * @typedef {Object} WaveformShapeOptions\n * @global\n * @property {String | LinearGradientColor} color Waveform color.\n * @property {WaveformOverview|WaveformZoomView} view The view object\n *   that contains the waveform shape.\n * @property {Segment?} segment If given, render a waveform image\n *   covering the segment's time range. Otherwise, render the entire\n *   waveform duration.\n */\n\n/**\n * Creates a Konva.Shape object that renders a waveform image.\n *\n * @class\n * @alias WaveformShape\n *\n * @param {WaveformShapeOptions} options\n */\n\nfunction WaveformShape(options) {\n  this._color = options.color;\n  var shapeOptions = {};\n  if (isString(options.color)) {\n    shapeOptions.fill = options.color;\n  } else if (isLinearGradientColor(options.color)) {\n    var startY = options.view._height * (options.color.linearGradientStart / 100);\n    var endY = options.view._height * (options.color.linearGradientEnd / 100);\n    shapeOptions.fillLinearGradientStartPointY = startY;\n    shapeOptions.fillLinearGradientEndPointY = endY;\n    shapeOptions.fillLinearGradientColorStops = [0, options.color.linearGradientColorStops[0], 1, options.color.linearGradientColorStops[1]];\n  } else {\n    throw new TypeError('Unknown type for color property');\n  }\n  this._shape = new Konva.Shape(shapeOptions);\n  this._view = options.view;\n  this._segment = options.segment;\n  this._shape.sceneFunc(this._sceneFunc.bind(this));\n}\nWaveformShape.prototype.getX = function () {\n  return this._shape.getX();\n};\nWaveformShape.prototype.setX = function (x) {\n  return this._shape.setX(x);\n};\nWaveformShape.prototype.setSegment = function (segment) {\n  this._segment = segment;\n};\nWaveformShape.prototype.setWaveformColor = function (color) {\n  if (isString(color)) {\n    this._shape.fill(color);\n    this._shape.fillLinearGradientStartPointY(null);\n    this._shape.fillLinearGradientEndPointY(null);\n    this._shape.fillLinearGradientColorStops(null);\n  } else if (isLinearGradientColor(color)) {\n    this._shape.fill(null);\n    var startY = this._view._height * (color.linearGradientStart / 100);\n    var endY = this._view._height * (color.linearGradientEnd / 100);\n    this._shape.fillLinearGradientStartPointY(startY);\n    this._shape.fillLinearGradientEndPointY(endY);\n    this._shape.fillLinearGradientColorStops([0, color.linearGradientColorStops[0], 1, color.linearGradientColorStops[1]]);\n  } else {\n    throw new TypeError('Unknown type for color property');\n  }\n};\nWaveformShape.prototype.fitToView = function () {\n  this.setWaveformColor(this._color);\n};\nWaveformShape.prototype._sceneFunc = function (context) {\n  var frameOffset = this._view.getFrameOffset();\n  var width = this._view.getWidth();\n  var height = this._view.getHeight();\n  this._drawWaveform(context, this._view.getWaveformData(), frameOffset, this._segment ? this._view.timeToPixels(this._segment.startTime) : frameOffset, this._segment ? this._view.timeToPixels(this._segment.endTime) : frameOffset + width, width, height);\n};\n\n/**\n * Draws a waveform on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformData} waveformData The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} width The width of the waveform area, in pixels.\n * @param {Number} height The height of the waveform area, in pixels.\n */\n\nWaveformShape.prototype._drawWaveform = function (context, waveformData, frameOffset, startPixels, endPixels, width, height) {\n  if (startPixels < frameOffset) {\n    startPixels = frameOffset;\n  }\n  var limit = frameOffset + width;\n  if (endPixels > limit) {\n    endPixels = limit;\n  }\n  if (endPixels > waveformData.length - 1) {\n    endPixels = waveformData.length - 1;\n  }\n  var channels = waveformData.channels;\n  var waveformTop = 0;\n  var waveformHeight = Math.floor(height / channels);\n  for (var i = 0; i < channels; i++) {\n    if (i === channels - 1) {\n      waveformHeight = height - (channels - 1) * waveformHeight;\n    }\n    this._drawChannel(context, waveformData.channel(i), frameOffset, startPixels, endPixels, waveformTop, waveformHeight);\n    waveformTop += waveformHeight;\n  }\n};\n\n/**\n * Draws a single waveform channel on a canvas context.\n *\n * @param {Konva.Context} context The canvas context to draw on.\n * @param {WaveformDataChannel} channel The waveform data to draw.\n * @param {Number} frameOffset The start position of the waveform shown\n *   in the view, in pixels.\n * @param {Number} startPixels The start position of the waveform to draw,\n *   in pixels.\n * @param {Number} endPixels The end position of the waveform to draw,\n *   in pixels.\n * @param {Number} top The top of the waveform channel area, in pixels.\n * @param {Number} height The height of the waveform channel area, in pixels.\n */\n\nWaveformShape.prototype._drawChannel = function (context, channel, frameOffset, startPixels, endPixels, top, height) {\n  var x, amplitude;\n  var amplitudeScale = this._view.getAmplitudeScale();\n  var lineX, lineY;\n  context.beginPath();\n  for (x = startPixels; x <= endPixels; x++) {\n    amplitude = channel.min_sample(x);\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 0.5;\n    context.lineTo(lineX, lineY);\n  }\n  for (x = endPixels; x >= startPixels; x--) {\n    amplitude = channel.max_sample(x);\n    lineX = x - frameOffset + 0.5;\n    lineY = top + WaveformShape.scaleY(amplitude, height, amplitudeScale) + 1.0;\n    context.lineTo(lineX, lineY);\n  }\n  context.closePath();\n  context.fillShape(this._shape);\n};\nWaveformShape.prototype.addToLayer = function (layer) {\n  layer.add(this._shape);\n};\nWaveformShape.prototype.destroy = function () {\n  this._shape.destroy();\n  this._shape = null;\n};\nWaveformShape.prototype.on = function (event, handler) {\n  this._shape.on(event, handler);\n};\nWaveformShape.prototype.off = function (event, handler) {\n  this._shape.off(event, handler);\n};\n\n/**\n * Scales the waveform data for drawing on a canvas context.\n *\n * @see {@link https://stats.stackexchange.com/questions/281162}\n *\n * @todo Assumes 8-bit waveform data (-128 to 127 range)\n *\n * @param {Number} amplitude The waveform data point amplitude.\n * @param {Number} height The height of the waveform, in pixels.\n * @param {Number} scale Amplitude scaling factor.\n * @returns {Number} The scaled waveform data point.\n */\n\nWaveformShape.scaleY = function (amplitude, height, scale) {\n  var y = -(height - 1) * (amplitude * scale + 128) / 255 + (height - 1);\n  return clamp(Math.floor(y), 0, height - 1);\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentShape} class.\n *\n * @module segment-shape\n */\nvar defaultFontFamily = 'sans-serif';\nvar defaultFontSize = 10;\nvar defaultFontShape = 'normal';\n\n/**\n * Options that control segments' visual appearance\n *\n * @typedef {Object} SegmentDisplayOptions\n * @global\n * @property {Boolean} markers\n * @property {Boolean} overlay\n * @property {String} startMarkerColor\n * @property {String} endMarkerColor\n * @property {String} waveformColor\n * @property {String} overlayColor\n * @property {Number} overlayOpacity\n * @property {String} overlayBorderColor\n * @property {Number} overlayBorderWidth\n * @property {Number} overlayCornerRadius\n * @property {Number} overlayOffset\n * @property {String} overlayLabelAlign\n * @property {String} overlayLabelVerticalAlign\n * @property {Number} overlayLabelPadding\n * @property {String} overlayLabelColor\n * @property {String} overlayFontFamily\n * @property {Number} overlayFontSize\n * @property {String} overlayFontStyle\n */\n\n/**\n * Creates a waveform segment shape with optional start and end markers.\n *\n * @class\n * @alias SegmentShape\n *\n * @param {Segment} segment\n * @param {Peaks} peaks\n * @param {SegmentsLayer} layer\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nfunction SegmentShape(segment, peaks, layer, view) {\n  this._segment = segment;\n  this._peaks = peaks;\n  this._layer = layer;\n  this._view = view;\n  this._label = null;\n  this._startMarker = null;\n  this._endMarker = null;\n  this._color = segment.color;\n  this._borderColor = segment.borderColor;\n  this._draggable = this._segment.editable && this._view.isSegmentDraggingEnabled();\n  this._dragging = false;\n  var segmentOptions = view.getViewOptions().segmentOptions;\n  this._overlayOffset = segmentOptions.overlayOffset;\n  if (!segmentOptions.overlay) {\n    this._waveformShape = new WaveformShape({\n      color: segment.color,\n      view: view,\n      segment: segment\n    });\n  }\n  this._onMouseEnter = this._onMouseEnter.bind(this);\n  this._onMouseLeave = this._onMouseLeave.bind(this);\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._onSegmentDragStart = this._onSegmentDragStart.bind(this);\n  this._onSegmentDragMove = this._onSegmentDragMove.bind(this);\n  this._onSegmentDragEnd = this._onSegmentDragEnd.bind(this);\n\n  // Event handlers for markers\n  this._onSegmentMarkerDragStart = this._onSegmentMarkerDragStart.bind(this);\n  this._onSegmentMarkerDragMove = this._onSegmentMarkerDragMove.bind(this);\n  this._onSegmentMarkerDragEnd = this._onSegmentMarkerDragEnd.bind(this);\n  this._segmentMarkerDragBoundFunc = this._segmentMarkerDragBoundFunc.bind(this);\n  this._label = this._peaks.options.createSegmentLabel({\n    segment: segment,\n    view: this._view.getName(),\n    layer: this._layer,\n    fontFamily: this._peaks.options.fontFamily,\n    fontSize: this._peaks.options.fontSize,\n    fontStyle: this._peaks.options.fontStyle\n  });\n  if (this._label) {\n    this._label.hide();\n  }\n\n  // Create with default y and height, the real values are set in fitToView().\n  var segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  var segmentEndOffset = this._view.timeToPixelOffset(this._segment.endTime);\n  var overlayRectHeight = clamp(0, this._view.getHeight() - 2 * this._overlayOffset);\n\n  // The clip rectangle prevents text in the overlay from appearing\n  // outside the overlay.\n\n  this._overlay = new Konva.Group({\n    name: 'segment-overlay',\n    segment: this._segment,\n    x: segmentStartOffset,\n    y: 0,\n    width: segmentEndOffset - segmentStartOffset,\n    height: this._view.getHeight(),\n    clipX: 0,\n    clipY: this._overlayOffset,\n    clipWidth: segmentEndOffset - segmentStartOffset,\n    clipHeight: overlayRectHeight,\n    draggable: this._draggable,\n    dragBoundFunc: this._dragBoundFunc\n  });\n  var overlayBorderColor, overlayBorderWidth, overlayColor, overlayOpacity, overlayCornerRadius;\n  if (segmentOptions.overlay) {\n    overlayBorderColor = this._borderColor || segmentOptions.overlayBorderColor;\n    overlayBorderWidth = segmentOptions.overlayBorderWidth;\n    overlayColor = this._color || segmentOptions.overlayColor;\n    overlayOpacity = segmentOptions.overlayOpacity;\n    overlayCornerRadius = segmentOptions.overlayCornerRadius;\n  }\n  this._overlayRect = new Konva.Rect({\n    x: 0,\n    y: this._overlayOffset,\n    width: segmentEndOffset - segmentStartOffset,\n    stroke: overlayBorderColor,\n    strokeWidth: overlayBorderWidth,\n    height: overlayRectHeight,\n    fill: overlayColor,\n    opacity: overlayOpacity,\n    cornerRadius: overlayCornerRadius\n  });\n  this._overlay.add(this._overlayRect);\n  if (segmentOptions.overlay) {\n    this._overlayText = new Konva.Text({\n      x: 0,\n      y: this._overlayOffset,\n      text: this._segment.labelText,\n      fontFamily: segmentOptions.overlayFontFamily,\n      fontSize: segmentOptions.overlayFontSize,\n      fontStyle: segmentOptions.overlayFontStyle,\n      fill: segmentOptions.overlayLabelColor,\n      listening: false,\n      align: segmentOptions.overlayLabelAlign,\n      width: segmentEndOffset - segmentStartOffset,\n      verticalAlign: segmentOptions.overlayLabelVerticalAlign,\n      height: overlayRectHeight,\n      padding: segmentOptions.overlayLabelPadding\n    });\n    this._overlay.add(this._overlayText);\n  }\n\n  // Set up event handlers to show/hide the segment label text when the user\n  // hovers the mouse over the segment.\n  this._overlay.on('mouseenter', this._onMouseEnter);\n  this._overlay.on('mouseleave', this._onMouseLeave);\n  this._overlay.on('mousedown', this._onMouseDown);\n  this._overlay.on('mouseup', this._onMouseUp);\n  if (this._draggable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  }\n  this._createMarkers();\n}\nfunction createOverlayMarker(options) {\n  return new OverlaySegmentMarker(options);\n}\nSegmentShape.prototype._createMarkers = function () {\n  var editable = this._layer.isEditingEnabled() && this._segment.editable;\n  var segmentOptions = this._view.getViewOptions().segmentOptions;\n  var createSegmentMarker = segmentOptions.markers ? this._peaks.options.createSegmentMarker : createOverlayMarker;\n  var startMarker = createSegmentMarker({\n    segment: this._segment,\n    editable: editable,\n    startMarker: true,\n    color: segmentOptions.startMarkerColor,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize: this._peaks.options.fontSize || defaultFontSize,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape,\n    layer: this._layer,\n    view: this._view.getName(),\n    segmentOptions: this._view.getViewOptions().segmentOptions\n  });\n  if (startMarker) {\n    this._startMarker = new SegmentMarker({\n      segment: this._segment,\n      segmentShape: this,\n      editable: editable,\n      startMarker: true,\n      marker: startMarker,\n      onDragStart: this._onSegmentMarkerDragStart,\n      onDragMove: this._onSegmentMarkerDragMove,\n      onDragEnd: this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n  var endMarker = createSegmentMarker({\n    segment: this._segment,\n    editable: editable,\n    startMarker: false,\n    color: segmentOptions.endMarkerColor,\n    fontFamily: this._peaks.options.fontFamily || defaultFontFamily,\n    fontSize: this._peaks.options.fontSize || defaultFontSize,\n    fontStyle: this._peaks.options.fontStyle || defaultFontShape,\n    layer: this._layer,\n    view: this._view.getName(),\n    segmentOptions: this._view.getViewOptions().segmentOptions\n  });\n  if (endMarker) {\n    this._endMarker = new SegmentMarker({\n      segment: this._segment,\n      segmentShape: this,\n      editable: editable,\n      startMarker: false,\n      marker: endMarker,\n      onDragStart: this._onSegmentMarkerDragStart,\n      onDragMove: this._onSegmentMarkerDragMove,\n      onDragEnd: this._onSegmentMarkerDragEnd,\n      dragBoundFunc: this._segmentMarkerDragBoundFunc\n    });\n  }\n};\nSegmentShape.prototype._dragBoundFunc = function (pos) {\n  // Allow the segment to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\n\n/**\n * Update the segment shape after the segment's attributes have changed.\n */\n\nSegmentShape.prototype.update = function (options) {\n  var segmentStartOffset = this._view.timeToPixelOffset(this._segment.startTime);\n  var segmentEndOffset = this._view.timeToPixelOffset(this._segment.endTime);\n  var width = segmentEndOffset - segmentStartOffset;\n  var marker;\n  if (marker = this.getStartMarker()) {\n    marker.setX(segmentStartOffset - marker.getWidth());\n    if (options) {\n      marker.update(options);\n    }\n  }\n  if (marker = this.getEndMarker()) {\n    marker.setX(segmentEndOffset);\n    if (options) {\n      marker.update(options);\n    }\n  }\n  this._color = this._segment.color;\n  this._borderColor = this._segment.bordercolor;\n  if (this._overlayText) {\n    this._overlayText.text(this._segment.labelText);\n  }\n  var segmentOptions = this._view.getViewOptions().segmentOptions;\n  if (segmentOptions.overlay) {\n    if (this._color) {\n      this._overlayRect.fill(this._color);\n    }\n    if (this._borderColor) {\n      this._overlayRect.stroke(this._borderColor);\n    }\n  } else {\n    this._waveformShape.setWaveformColor(this._segment.color);\n  }\n\n  // While dragging, the overlay position is controlled in _onSegmentDragMove().\n\n  if (!this._dragging) {\n    if (this._overlay) {\n      this._overlay.setAttrs({\n        x: segmentStartOffset,\n        width: width,\n        clipWidth: width < 1 ? 1 : width\n      });\n      this._overlayRect.setAttrs({\n        x: 0,\n        width: width\n      });\n      if (this._overlayText) {\n        this._overlayText.setAttrs({\n          width: width\n        });\n      }\n    }\n  }\n};\nSegmentShape.prototype.getSegment = function () {\n  return this._segment;\n};\nSegmentShape.prototype.getStartMarker = function () {\n  return this._startMarker;\n};\nSegmentShape.prototype.getEndMarker = function () {\n  return this._endMarker;\n};\nSegmentShape.prototype.addToLayer = function (layer) {\n  if (this._waveformShape) {\n    this._waveformShape.addToLayer(layer);\n  }\n  if (this._label) {\n    layer.add(this._label);\n  }\n  if (this._overlay) {\n    layer.add(this._overlay);\n  }\n  if (this._startMarker) {\n    this._startMarker.addToLayer(layer);\n  }\n  if (this._endMarker) {\n    this._endMarker.addToLayer(layer);\n  }\n};\nSegmentShape.prototype.isDragging = function () {\n  return this._dragging;\n};\nSegmentShape.prototype._onMouseEnter = function (event) {\n  if (this._label) {\n    this._label.moveToTop();\n    this._label.show();\n  }\n  this._peaks.emit('segments.mouseenter', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype._onMouseLeave = function (event) {\n  if (this._label) {\n    this._label.hide();\n  }\n  this._peaks.emit('segments.mouseleave', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype._onMouseDown = function (event) {\n  this._peaks.emit('segments.mousedown', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype._onMouseUp = function (event) {\n  this._peaks.emit('segments.mouseup', {\n    segment: this._segment,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype.segmentClicked = function (eventName, event) {\n  this._moveToTop();\n  this._peaks.emit('segments.' + eventName, event);\n};\nSegmentShape.prototype._moveToTop = function () {\n  this._overlay.moveToTop();\n  this._layer.moveSegmentMarkersToTop();\n};\nSegmentShape.prototype.enableSegmentDragging = function (enable) {\n  if (!this._segment.editable) {\n    return;\n  }\n  if (!this._draggable && enable) {\n    this._overlay.on('dragstart', this._onSegmentDragStart);\n    this._overlay.on('dragmove', this._onSegmentDragMove);\n    this._overlay.on('dragend', this._onSegmentDragEnd);\n  } else if (this._draggable && !enable) {\n    this._overlay.off('dragstart', this._onSegmentDragStart);\n    this._overlay.off('dragmove', this._onSegmentDragMove);\n    this._overlay.off('dragend', this._onSegmentDragEnd);\n  }\n  this._overlay.draggable(enable);\n  this._draggable = enable;\n};\nSegmentShape.prototype._setPreviousAndNextSegments = function () {\n  if (this._view.getSegmentDragMode() !== 'overlap') {\n    this._nextSegment = this._peaks.segments.findNextSegment(this._segment);\n    this._previousSegment = this._peaks.segments.findPreviousSegment(this._segment);\n  } else {\n    this._nextSegment = null;\n    this._previousSegment = null;\n  }\n};\nSegmentShape.prototype._onSegmentDragStart = function (event) {\n  this._setPreviousAndNextSegments();\n  this._dragging = true;\n  this._dragStartX = this._overlay.getX();\n  this._dragStartTime = this._segment.startTime;\n  this._dragEndTime = this._segment.endTime;\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype._onSegmentDragMove = function (event) {\n  var x = this._overlay.getX();\n  var offsetX = x - this._dragStartX;\n  var timeOffset = this._view.pixelsToTime(offsetX);\n\n  // The WaveformShape for a segment fills the canvas width\n  // but only draws a subset of the horizontal range. When dragged\n  // we need to keep the shape object in its position but\n  // update the segment start and end time so that the right\n  // subset is drawn.\n\n  // Calculate new segment start/end time based on drag position. We'll\n  // correct this later based on the drag mode, to prevent overlapping\n  // segments or to compress the adjacent segment.\n\n  var startTime = this._dragStartTime + timeOffset;\n  var endTime = this._dragEndTime + timeOffset;\n  var segmentDuration = this._segment.endTime - this._segment.startTime;\n  var dragMode;\n  var minSegmentWidth = this._view.getMinSegmentDragWidth();\n  var minSegmentDuration = this._view.pixelsToTime(minSegmentWidth);\n  var previousSegmentUpdated = false;\n  var nextSegmentUpdated = false;\n\n  // Prevent the segment from being dragged beyond the start of the waveform.\n\n  if (startTime < 0) {\n    startTime = 0;\n    endTime = segmentDuration;\n    this._overlay.setX(this._view.timeToPixelOffset(startTime));\n  }\n\n  // Adjust segment position if it now overlaps the previous segment?\n\n  if (this._previousSegment) {\n    var previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n    if (startTime < this._previousSegment.endTime) {\n      dragMode = this._view.getSegmentDragMode();\n      if (dragMode === 'no-overlap' || dragMode === 'compress' && !this._previousSegment.editable) {\n        startTime = this._previousSegment.endTime;\n        endTime = startTime + segmentDuration;\n        this._overlay.setX(previousSegmentEndX);\n      } else if (dragMode === 'compress') {\n        var previousSegmentEndTime = startTime;\n        var minPreviousSegmentEndTime = this._previousSegment.startTime + minSegmentDuration;\n        if (previousSegmentEndTime < minPreviousSegmentEndTime) {\n          previousSegmentEndTime = minPreviousSegmentEndTime;\n          previousSegmentEndX = this._view.timeToPixelOffset(previousSegmentEndTime);\n          this._overlay.setX(previousSegmentEndX);\n          startTime = previousSegmentEndTime;\n          endTime = startTime + segmentDuration;\n        }\n        this._previousSegment.update({\n          endTime: previousSegmentEndTime\n        });\n        previousSegmentUpdated = true;\n      }\n    }\n  }\n\n  // Adjust segment position if it now overlaps the following segment?\n\n  if (this._nextSegment) {\n    var nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n    if (endTime > this._nextSegment.startTime) {\n      dragMode = this._view.getSegmentDragMode();\n      if (dragMode === 'no-overlap' || dragMode === 'compress' && !this._nextSegment.editable) {\n        endTime = this._nextSegment.startTime;\n        startTime = endTime - segmentDuration;\n        this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n      } else if (dragMode === 'compress') {\n        var nextSegmentStartTime = endTime;\n        var maxNextSegmentStartTime = this._nextSegment.endTime - minSegmentDuration;\n        if (nextSegmentStartTime > maxNextSegmentStartTime) {\n          nextSegmentStartTime = maxNextSegmentStartTime;\n          nextSegmentStartX = this._view.timeToPixelOffset(nextSegmentStartTime);\n          this._overlay.setX(nextSegmentStartX - this._overlay.getWidth());\n          endTime = nextSegmentStartTime;\n          startTime = endTime - segmentDuration;\n        }\n        this._nextSegment.update({\n          startTime: nextSegmentStartTime\n        });\n        nextSegmentUpdated = true;\n      }\n    }\n  }\n  this._segment._setStartTime(startTime);\n  this._segment._setEndTime(endTime);\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  } else if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: false,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\nSegmentShape.prototype._onSegmentDragEnd = function (event) {\n  this._dragging = false;\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: false,\n    startMarker: false,\n    evt: event.evt\n  });\n};\nSegmentShape.prototype.moveMarkersToTop = function () {\n  if (this._startMarker) {\n    this._startMarker.moveToTop();\n  }\n  if (this._endMarker) {\n    this._endMarker.moveToTop();\n  }\n};\nSegmentShape.prototype.startDrag = function () {\n  if (this._endMarker) {\n    this._endMarker.startDrag();\n  }\n};\nSegmentShape.prototype.stopDrag = function () {\n  if (this._endMarker) {\n    this._endMarker.stopDrag();\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragStart = function (segmentMarker, event) {\n  this._setPreviousAndNextSegments();\n\n  // Move this segment to the top of the z-order, so that it remains on top\n  // of any adjacent segments that the marker is dragged over.\n  this._moveToTop();\n  this._startMarkerX = this._startMarker.getX();\n  this._endMarkerX = this._endMarker.getX();\n  this._peaks.emit('segments.dragstart', {\n    segment: this._segment,\n    marker: true,\n    startMarker: segmentMarker.isStartMarker(),\n    evt: event.evt\n  });\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragMove = function (segmentMarker, event) {\n  if (segmentMarker.isStartMarker()) {\n    this._segmentStartMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({\n      startTime: this._segment.startTime\n    });\n  } else {\n    this._segmentEndMarkerDragMove(segmentMarker, event);\n    segmentMarker.update({\n      endTime: this._segment.endTime\n    });\n  }\n};\nfunction getDuration(segment) {\n  return segment.endTime - segment.startTime;\n}\nSegmentShape.prototype._segmentStartMarkerDragMove = function (segmentMarker, event) {\n  var width = this._view.getWidth();\n  var startMarkerX = this._startMarker.getX();\n  var endMarkerX = this._endMarker.getX();\n  var minSegmentDuration = this._view.pixelsToTime(50);\n  var minSegmentWidth = this._view.getMinSegmentDragWidth();\n  var upperLimit = this._endMarker.getX() - minSegmentWidth;\n  if (upperLimit > width) {\n    upperLimit = width;\n  }\n  var previousSegmentVisible = false;\n  var previousSegmentUpdated = false;\n  var previousSegmentEndX;\n  if (this._previousSegment) {\n    previousSegmentEndX = this._view.timeToPixelOffset(this._previousSegment.endTime);\n    previousSegmentVisible = previousSegmentEndX >= 0;\n  }\n  if (startMarkerX > upperLimit) {\n    segmentMarker.setX(upperLimit);\n    this._overlay.clipWidth(upperLimit - endMarkerX);\n    if (minSegmentWidth === 0 && upperLimit < width) {\n      this._segment._setStartTime(this._segment.endTime);\n    } else {\n      this._segment._setStartTime(this._view.pixelOffsetToTime(upperLimit));\n    }\n  } else if (this._previousSegment && previousSegmentVisible) {\n    var dragMode = this._view.getSegmentDragMode();\n    var fixedPreviousSegment = dragMode === 'no-overlap' || dragMode === 'compress' && !this._previousSegment.editable;\n    var compressPreviousSegment = dragMode === 'compress' && this._previousSegment.editable;\n    if (startMarkerX <= previousSegmentEndX) {\n      if (fixedPreviousSegment) {\n        segmentMarker.setX(previousSegmentEndX);\n        this._overlay.clipWidth(previousSegmentEndX - endMarkerX);\n        this._segment._setStartTime(this._previousSegment.endTime);\n      } else if (compressPreviousSegment) {\n        var previousSegmentDuration = getDuration(this._previousSegment);\n        if (previousSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = previousSegmentDuration;\n        }\n        var lowerLimit = this._view.timeToPixelOffset(this._previousSegment.startTime + minSegmentDuration);\n        if (startMarkerX < lowerLimit) {\n          startMarkerX = lowerLimit;\n        }\n        segmentMarker.setX(startMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n        this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n        this._previousSegment.update({\n          endTime: this._view.pixelOffsetToTime(startMarkerX)\n        });\n        previousSegmentUpdated = true;\n      }\n    } else {\n      if (startMarkerX < 0) {\n        startMarkerX = 0;\n      }\n      segmentMarker.setX(startMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n      this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n    }\n  } else {\n    if (startMarkerX < 0) {\n      startMarkerX = 0;\n    }\n    segmentMarker.setX(startMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n    this._segment._setStartTime(this._view.pixelOffsetToTime(startMarkerX));\n  }\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: true,\n    evt: event.evt\n  });\n  if (previousSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._previousSegment,\n      marker: true,\n      startMarker: false,\n      evt: event.evt\n    });\n  }\n};\nSegmentShape.prototype._segmentEndMarkerDragMove = function (segmentMarker, event) {\n  var width = this._view.getWidth();\n  var startMarkerX = this._startMarker.getX();\n  var endMarkerX = this._endMarker.getX();\n  var minSegmentDuration = this._view.pixelsToTime(50);\n  var minSegmentWidth = this._view.getMinSegmentDragWidth();\n  var lowerLimit = this._startMarker.getX() + minSegmentWidth;\n  if (lowerLimit < 0) {\n    lowerLimit = 0;\n  }\n  var nextSegmentVisible = false;\n  var nextSegmentUpdated = false;\n  var nextSegmentStartX;\n  if (this._nextSegment) {\n    nextSegmentStartX = this._view.timeToPixelOffset(this._nextSegment.startTime);\n    nextSegmentVisible = nextSegmentStartX < width;\n  }\n  if (endMarkerX < lowerLimit) {\n    segmentMarker.setX(lowerLimit);\n    this._overlay.clipWidth(lowerLimit - startMarkerX);\n    if (minSegmentWidth === 0 && lowerLimit > 0) {\n      this._segment._setEndTime(this._segment.startTime);\n    } else {\n      this._segment._setEndTime(this._view.pixelOffsetToTime(lowerLimit));\n    }\n  } else if (this._nextSegment && nextSegmentVisible) {\n    var dragMode = this._view.getSegmentDragMode();\n    var fixedNextSegment = dragMode === 'no-overlap' || dragMode === 'compress' && !this._nextSegment.editable;\n    var compressNextSegment = dragMode === 'compress' && this._nextSegment.editable;\n    if (endMarkerX >= nextSegmentStartX) {\n      if (fixedNextSegment) {\n        segmentMarker.setX(nextSegmentStartX);\n        this._overlay.clipWidth(nextSegmentStartX - startMarkerX);\n        this._segment._setEndTime(this._nextSegment.startTime);\n      } else if (compressNextSegment) {\n        var nextSegmentDuration = getDuration(this._nextSegment);\n        if (nextSegmentDuration < minSegmentDuration) {\n          minSegmentDuration = nextSegmentDuration;\n        }\n        var upperLimit = this._view.timeToPixelOffset(this._nextSegment.endTime - minSegmentDuration);\n        if (endMarkerX > upperLimit) {\n          endMarkerX = upperLimit;\n        }\n        segmentMarker.setX(endMarkerX);\n        this._overlay.clipWidth(endMarkerX - startMarkerX);\n        this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n        this._nextSegment.update({\n          startTime: this._view.pixelOffsetToTime(endMarkerX)\n        });\n        nextSegmentUpdated = true;\n      }\n    } else {\n      if (endMarkerX > width) {\n        endMarkerX = width;\n      }\n      segmentMarker.setX(endMarkerX);\n      this._overlay.clipWidth(endMarkerX - startMarkerX);\n      this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n    }\n  } else {\n    if (endMarkerX > width) {\n      endMarkerX = width;\n    }\n    segmentMarker.setX(endMarkerX);\n    this._overlay.clipWidth(endMarkerX - startMarkerX);\n    this._segment._setEndTime(this._view.pixelOffsetToTime(endMarkerX));\n  }\n  this._peaks.emit('segments.dragged', {\n    segment: this._segment,\n    marker: true,\n    startMarker: false,\n    evt: event.evt\n  });\n  if (nextSegmentUpdated) {\n    this._peaks.emit('segments.dragged', {\n      segment: this._nextSegment,\n      marker: true,\n      startMarker: true,\n      evt: event.evt\n    });\n  }\n};\n\n/**\n * @param {SegmentMarker} segmentMarker\n */\n\nSegmentShape.prototype._onSegmentMarkerDragEnd = function (segmentMarker, event) {\n  this._nextSegment = null;\n  this._previousSegment = null;\n  var startMarker = segmentMarker.isStartMarker();\n  this._peaks.emit('segments.dragend', {\n    segment: this._segment,\n    marker: true,\n    startMarker: startMarker,\n    evt: event.evt\n  });\n};\n\n// eslint-disable-next-line no-unused-vars\nSegmentShape.prototype._segmentMarkerDragBoundFunc = function (segmentMarker, pos) {\n  // Allow the marker to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: segmentMarker.getAbsolutePosition().y\n  };\n};\nSegmentShape.prototype.fitToView = function () {\n  if (this._startMarker) {\n    this._startMarker.fitToView();\n  }\n  if (this._endMarker) {\n    this._endMarker.fitToView();\n  }\n  if (this._overlay) {\n    var height = this._view.getHeight();\n    var overlayRectHeight = clamp(0, height - this._overlayOffset * 2);\n    this._overlay.setAttrs({\n      y: 0,\n      height: height,\n      clipY: this._overlayOffset,\n      clipHeight: overlayRectHeight\n    });\n    this._overlayRect.setAttrs({\n      y: this._overlayOffset,\n      height: overlayRectHeight\n    });\n    if (this._overlayText) {\n      this._overlayText.setAttrs({\n        y: this._overlayOffset,\n        height: overlayRectHeight\n      });\n    }\n  }\n};\nSegmentShape.prototype.destroy = function () {\n  if (this._waveformShape) {\n    this._waveformShape.destroy();\n  }\n  if (this._label) {\n    this._label.destroy();\n  }\n  if (this._startMarker) {\n    this._startMarker.destroy();\n  }\n  if (this._endMarker) {\n    this._endMarker.destroy();\n  }\n  if (this._overlay) {\n    this._overlay.destroy();\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link SegmentsLayer} class.\n *\n * @module segments-layer\n */\n\n/**\n * Creates a Konva.Layer that displays segment markers against the audio\n * waveform.\n *\n * @class\n * @alias SegmentsLayer\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Boolean} allowEditing\n */\n\nfunction SegmentsLayer(peaks, view, allowEditing) {\n  this._peaks = peaks;\n  this._view = view;\n  this._allowEditing = allowEditing;\n  this._segmentShapes = {};\n  this._layer = new Konva.Layer();\n  this._onSegmentsUpdate = this._onSegmentsUpdate.bind(this);\n  this._onSegmentsAdd = this._onSegmentsAdd.bind(this);\n  this._onSegmentsRemove = this._onSegmentsRemove.bind(this);\n  this._onSegmentsRemoveAll = this._onSegmentsRemoveAll.bind(this);\n  this._onSegmentsDragged = this._onSegmentsDragged.bind(this);\n  this._peaks.on('segments.update', this._onSegmentsUpdate);\n  this._peaks.on('segments.add', this._onSegmentsAdd);\n  this._peaks.on('segments.remove', this._onSegmentsRemove);\n  this._peaks.on('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.on('segments.dragged', this._onSegmentsDragged);\n}\n\n/**\n * Adds the layer to the given {Konva.Stage}.\n *\n * @param {Konva.Stage} stage\n */\n\nSegmentsLayer.prototype.addToStage = function (stage) {\n  stage.add(this._layer);\n};\nSegmentsLayer.prototype.enableEditing = function (enable) {\n  this._allowEditing = enable;\n};\nSegmentsLayer.prototype.isEditingEnabled = function () {\n  return this._allowEditing;\n};\nSegmentsLayer.prototype.enableSegmentDragging = function (enable) {\n  for (var segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].enableSegmentDragging(enable);\n    }\n  }\n};\nSegmentsLayer.prototype.getSegmentShape = function (segment) {\n  return this._segmentShapes[segment.pid];\n};\nSegmentsLayer.prototype.formatTime = function (time) {\n  return this._view.formatTime(time);\n};\nSegmentsLayer.prototype._onSegmentsUpdate = function (segment, options) {\n  var frameStartTime = this._view.getStartTime();\n  var frameEndTime = this._view.getEndTime();\n  var segmentShape = this.getSegmentShape(segment);\n  var isVisible = segment.isVisible(frameStartTime, frameEndTime);\n  if (segmentShape && !isVisible) {\n    // Remove segment shape that is no longer visible.\n\n    if (!segmentShape.isDragging()) {\n      this._removeSegment(segment);\n    }\n  } else if (!segmentShape && isVisible) {\n    // Add segment shape for visible segment.\n    segmentShape = this._updateSegment(segment);\n  } else if (segmentShape && isVisible) {\n    // Update the segment shape with the changed attributes.\n    segmentShape.update(options);\n  }\n};\nSegmentsLayer.prototype._onSegmentsAdd = function (event) {\n  var self = this;\n  var frameStartTime = self._view.getStartTime();\n  var frameEndTime = self._view.getEndTime();\n  event.segments.forEach(function (segment) {\n    if (segment.isVisible(frameStartTime, frameEndTime)) {\n      var segmentShape = self._addSegmentShape(segment);\n      segmentShape.update();\n    }\n  });\n\n  // Ensure segment markers are always draggable.\n  this.moveSegmentMarkersToTop();\n};\nSegmentsLayer.prototype._onSegmentsRemove = function (event) {\n  var self = this;\n  event.segments.forEach(function (segment) {\n    self._removeSegment(segment);\n  });\n};\nSegmentsLayer.prototype._onSegmentsRemoveAll = function () {\n  this._layer.removeChildren();\n  this._segmentShapes = {};\n};\nSegmentsLayer.prototype._onSegmentsDragged = function (event) {\n  this._updateSegment(event.segment);\n};\n\n/**\n * Creates the Konva UI objects for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._createSegmentShape = function (segment) {\n  return new SegmentShape(segment, this._peaks, this, this._view);\n};\n\n/**\n * Adds a Konva UI object to the layer for a given segment.\n *\n * @private\n * @param {Segment} segment\n * @returns {SegmentShape}\n */\n\nSegmentsLayer.prototype._addSegmentShape = function (segment) {\n  var segmentShape = this._createSegmentShape(segment);\n  segmentShape.addToLayer(this._layer);\n  this._segmentShapes[segment.pid] = segmentShape;\n  return segmentShape;\n};\n\n/**\n * Updates the positions of all displayed segments in the view.\n *\n * @param {Number} startTime The start of the visible range in the view,\n *   in seconds.\n * @param {Number} endTime The end of the visible range in the view,\n *   in seconds.\n */\n\nSegmentsLayer.prototype.updateSegments = function (startTime, endTime) {\n  // Update segments in visible time range.\n  var segments = this._peaks.segments.find(startTime, endTime);\n  segments.forEach(this._updateSegment.bind(this));\n\n  // TODO: In the overview all segments are visible, so no need to do this.\n  this._removeInvisibleSegments(startTime, endTime);\n};\n\n/**\n * @private\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._updateSegment = function (segment) {\n  var segmentShape = this.getSegmentShape(segment);\n  if (!segmentShape) {\n    segmentShape = this._addSegmentShape(segment);\n  }\n  segmentShape.update();\n};\n\n/**\n * Removes any segments that are not visible, i.e., are not within and do not\n * overlap the given time range.\n *\n * @private\n * @param {Number} startTime The start of the visible time range, in seconds.\n * @param {Number} endTime The end of the visible time range, in seconds.\n */\n\nSegmentsLayer.prototype._removeInvisibleSegments = function (startTime, endTime) {\n  for (var segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      var segment = this._segmentShapes[segmentPid].getSegment();\n      if (!segment.isVisible(startTime, endTime)) {\n        this._removeSegment(segment);\n      }\n    }\n  }\n};\n\n/**\n * Removes the given segment from the view.\n *\n * @param {Segment} segment\n */\n\nSegmentsLayer.prototype._removeSegment = function (segment) {\n  var segmentShape = this._segmentShapes[segment.pid];\n  if (segmentShape) {\n    segmentShape.destroy();\n    delete this._segmentShapes[segment.pid];\n  }\n};\n\n/**\n * Moves all segment markers to the top of the z-order,\n * so the user can always drag them.\n */\n\nSegmentsLayer.prototype.moveSegmentMarkersToTop = function () {\n  for (var segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      this._segmentShapes[segmentPid].moveMarkersToTop();\n    }\n  }\n};\n\n/**\n * Toggles visibility of the segments layer.\n *\n * @param {Boolean} visible\n */\n\nSegmentsLayer.prototype.setVisible = function (visible) {\n  this._layer.setVisible(visible);\n};\nSegmentsLayer.prototype.segmentClicked = function (eventName, event) {\n  var segmentShape = this._segmentShapes[event.segment.pid];\n  if (segmentShape) {\n    segmentShape.segmentClicked(eventName, event);\n  }\n};\nSegmentsLayer.prototype.destroy = function () {\n  this._peaks.off('segments.update', this._onSegmentsUpdate);\n  this._peaks.off('segments.add', this._onSegmentsAdd);\n  this._peaks.off('segments.remove', this._onSegmentsRemove);\n  this._peaks.off('segments.remove_all', this._onSegmentsRemoveAll);\n  this._peaks.off('segments.dragged', this._onSegmentsDragged);\n};\nSegmentsLayer.prototype.fitToView = function () {\n  for (var segmentPid in this._segmentShapes) {\n    if (objectHasProperty(this._segmentShapes, segmentPid)) {\n      var segmentShape = this._segmentShapes[segmentPid];\n      segmentShape.fitToView();\n    }\n  }\n};\nSegmentsLayer.prototype.draw = function () {\n  this._layer.draw();\n};\nSegmentsLayer.prototype.getHeight = function () {\n  return this._layer.getHeight();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformAxis} class.\n *\n * @module waveform-axis\n */\n\n/**\n * Creates the waveform axis shapes and adds them to the given view layer.\n *\n * @class\n * @alias WaveformAxis\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @param {Object} options\n * @param {String} options.axisGridlineColor\n * @param {String} options.axisLabelColor\n * @param {Boolean} options.showAxisLabels\n * @param {Function} options.formatAxisTime\n * @param {String} options.fontFamily\n * @param {Number} options.fontSize\n * @param {String} options.fontStyle\n */\n\nfunction WaveformAxis(view, options) {\n  var self = this;\n  self._axisGridlineColor = options.axisGridlineColor;\n  self._axisLabelColor = options.axisLabelColor;\n  self._showAxisLabels = options.showAxisLabels;\n  if (options.formatAxisTime) {\n    self._formatAxisTime = options.formatAxisTime;\n  } else {\n    self._formatAxisTime = function (time) {\n      // precision = 0, drops the fractional seconds\n      return formatTime(time, 0);\n    };\n  }\n  self._axisLabelFont = WaveformAxis._buildFontString(options.fontFamily, options.fontSize, options.fontStyle);\n  self._axisShape = new Konva.Shape({\n    sceneFunc: function sceneFunc(context) {\n      self._drawAxis(context, view);\n    }\n  });\n}\nWaveformAxis._buildFontString = function (fontFamily, fontSize, fontStyle) {\n  if (!fontSize) {\n    fontSize = 11;\n  }\n  if (!fontFamily) {\n    fontFamily = 'sans-serif';\n  }\n  if (!fontStyle) {\n    fontStyle = 'normal';\n  }\n  return fontStyle + ' ' + fontSize + 'px ' + fontFamily;\n};\nWaveformAxis.prototype.addToLayer = function (layer) {\n  layer.add(this._axisShape);\n};\nWaveformAxis.prototype.showAxisLabels = function (show) {\n  this._showAxisLabels = show;\n};\n\n/**\n * Returns number of seconds for each x-axis marker, appropriate for the\n * current zoom level, ensuring that markers are not too close together\n * and that markers are placed at intuitive time intervals (i.e., every 1,\n * 2, 5, 10, 20, 30 seconds, then every 1, 2, 5, 10, 20, 30 minutes, then\n * every 1, 2, 5, 10, 20, 30 hours).\n *\n * @param {WaveformOverview|WaveformZoomView} view\n * @returns {Number}\n */\n\nWaveformAxis.prototype._getAxisLabelScale = function (view) {\n  var baseSecs = 1; // seconds\n  var steps = [1, 2, 5, 10, 20, 30];\n  var minSpacing = 60;\n  var index = 0;\n  var secs;\n  for (;;) {\n    secs = baseSecs * steps[index];\n    var pixels = view.timeToPixels(secs);\n    if (pixels < minSpacing) {\n      if (++index === steps.length) {\n        baseSecs *= 60; // seconds -> minutes -> hours\n        index = 0;\n      }\n    } else {\n      break;\n    }\n  }\n  return secs;\n};\n\n/**\n * Draws the time axis and labels onto a view.\n *\n * @param {Konva.Context} context The context to draw on.\n * @param {WaveformOverview|WaveformZoomView} view\n */\n\nWaveformAxis.prototype._drawAxis = function (context, view) {\n  var currentFrameStartTime = view.getStartTime();\n\n  // Draw axis markers\n  var markerHeight = 10;\n\n  // Time interval between axis markers (seconds)\n  var axisLabelIntervalSecs = this._getAxisLabelScale(view);\n\n  // Time of first axis marker (seconds)\n  var firstAxisLabelSecs = roundUpToNearest(currentFrameStartTime, axisLabelIntervalSecs);\n\n  // Distance between waveform start time and first axis marker (seconds)\n  var axisLabelOffsetSecs = firstAxisLabelSecs - currentFrameStartTime;\n\n  // Distance between waveform start time and first axis marker (pixels)\n  var axisLabelOffsetPixels = view.timeToPixels(axisLabelOffsetSecs);\n  context.setAttr('strokeStyle', this._axisGridlineColor);\n  context.setAttr('lineWidth', 1);\n\n  // Set text style\n  context.setAttr('font', this._axisLabelFont);\n  context.setAttr('fillStyle', this._axisLabelColor);\n  context.setAttr('textAlign', 'left');\n  context.setAttr('textBaseline', 'bottom');\n  var width = view.getWidth();\n  var height = view.getHeight();\n  var secs = firstAxisLabelSecs;\n  for (;;) {\n    // Position of axis marker (pixels)\n    var x = axisLabelOffsetPixels + view.timeToPixels(secs - firstAxisLabelSecs);\n    if (x >= width) {\n      break;\n    }\n    context.beginPath();\n    context.moveTo(x + 0.5, 0);\n    context.lineTo(x + 0.5, 0 + markerHeight);\n    context.moveTo(x + 0.5, height);\n    context.lineTo(x + 0.5, height - markerHeight);\n    context.stroke();\n    if (this._showAxisLabels) {\n      var label = this._formatAxisTime(secs);\n      var labelWidth = context.measureText(label).width;\n      var labelX = x - labelWidth / 2;\n      var labelY = height - 1 - markerHeight;\n      if (labelX >= 0) {\n        context.fillText(label, labelX, labelY);\n      }\n    }\n    secs += axisLabelIntervalSecs;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link MouseDragHandler} class.\n *\n * @module mouse-drag-handler\n */\n\n/**\n * An object to receive callbacks on mouse drag events. Each function is\n * called with the current mouse X position, relative to the stage's\n * container HTML element.\n *\n * @typedef {Object} MouseDragHandlers\n * @global\n * @property {Function} onMouseDown Mouse down event handler.\n * @property {Function} onMouseMove Mouse move event handler.\n * @property {Function} onMouseUp Mouse up event handler.\n */\n\n/**\n * Creates a handler for mouse events to allow interaction with the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias MouseDragHandler\n *\n * @param {Konva.Stage} stage\n * @param {MouseDragHandlers} handlers\n */\n\nfunction MouseDragHandler(stage, handlers) {\n  this._stage = stage;\n  this._handlers = handlers;\n  this._dragging = false;\n  this._mouseDown = this._mouseDown.bind(this);\n  this._mouseUp = this._mouseUp.bind(this);\n  this._mouseMove = this._mouseMove.bind(this);\n  this._stage.on('mousedown', this._mouseDown);\n  this._stage.on('touchstart', this._mouseDown);\n  this._lastMouseClientX = null;\n}\n\n/**\n * Mouse down event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseDown = function (event) {\n  var segment = null;\n  if (event.type === 'mousedown' && event.evt.button !== 0) {\n    // Mouse drag only applies to the primary mouse button.\n    // The secondary button may be used to show a context menu\n    // and we don't want to also treat this as a mouse drag operation.\n    return;\n  }\n  var marker = getMarkerObject(event.target);\n  if (marker && marker.attrs.draggable) {\n    // Avoid interfering with drag/drop of point and segment markers.\n    if (marker.attrs.name === 'point-marker' || marker.attrs.name === 'segment-marker') {\n      return;\n    }\n\n    // Check if we're dragging a segment.\n    if (marker.attrs.name === 'segment-overlay') {\n      segment = marker;\n    }\n  }\n  this._lastMouseClientX = Math.floor(event.type === 'touchstart' ? event.evt.touches[0].clientX : event.evt.clientX);\n  if (this._handlers.onMouseDown) {\n    var mouseDownPosX = this._getMousePosX(this._lastMouseClientX);\n    this._handlers.onMouseDown(mouseDownPosX, segment);\n  }\n\n  // Use the window mousemove and mouseup handlers instead of the\n  // Konva.Stage ones so that we still receive events if the user moves the\n  // mouse outside the stage.\n  window.addEventListener('mousemove', this._mouseMove, {\n    capture: false,\n    passive: true\n  });\n  window.addEventListener('touchmove', this._mouseMove, {\n    capture: false,\n    passive: true\n  });\n  window.addEventListener('mouseup', this._mouseUp, {\n    capture: false,\n    passive: true\n  });\n  window.addEventListener('touchend', this._mouseUp, {\n    capture: false,\n    passive: true\n  });\n  window.addEventListener('blur', this._mouseUp, {\n    capture: false,\n    passive: true\n  });\n};\n\n/**\n * Mouse move event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseMove = function (event) {\n  var clientX = Math.floor(event.type === 'touchmove' ? event.changedTouches[0].clientX : event.clientX);\n\n  // Don't update on vertical mouse movement.\n  if (clientX === this._lastMouseClientX) {\n    return;\n  }\n  this._lastMouseClientX = clientX;\n  this._dragging = true;\n  if (this._handlers.onMouseMove) {\n    var mousePosX = this._getMousePosX(clientX);\n    this._handlers.onMouseMove(mousePosX);\n  }\n};\n\n/**\n * Mouse up event handler.\n *\n * @param {MouseEvent} event\n */\n\nMouseDragHandler.prototype._mouseUp = function (event) {\n  var clientX;\n  if (event.type === 'touchend') {\n    clientX = Math.floor(event.changedTouches[0].clientX);\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n  } else {\n    clientX = Math.floor(event.clientX);\n  }\n  if (this._handlers.onMouseUp) {\n    var mousePosX = this._getMousePosX(clientX);\n    this._handlers.onMouseUp(mousePosX);\n  }\n  window.removeEventListener('mousemove', this._mouseMove, {\n    capture: false\n  });\n  window.removeEventListener('touchmove', this._mouseMove, {\n    capture: false\n  });\n  window.removeEventListener('mouseup', this._mouseUp, {\n    capture: false\n  });\n  window.removeEventListener('touchend', this._mouseUp, {\n    capture: false\n  });\n  window.removeEventListener('blur', this._mouseUp, {\n    capture: false\n  });\n  this._dragging = false;\n};\n\n/**\n * @returns {Number} The mouse X position, relative to the container that\n * received the mouse down event.\n *\n * @private\n * @param {Number} clientX Mouse client X position.\n */\n\nMouseDragHandler.prototype._getMousePosX = function (clientX) {\n  var containerPos = this._stage.getContainer().getBoundingClientRect();\n  return clientX - containerPos.left;\n};\n\n/**\n * Returns <code>true</code> if the mouse is being dragged, i.e., moved with\n * the mouse button held down.\n *\n * @returns {Boolean}\n */\n\nMouseDragHandler.prototype.isDragging = function () {\n  return this._dragging;\n};\nMouseDragHandler.prototype.destroy = function () {\n  this._stage.off('mousedown', this._mouseDown);\n  this._stage.off('touchstart', this._mouseDown);\n};\n\n/**\n * @file\n *\n * Defines the {@link SeekMouseDragHandler} class.\n *\n * @module seek-mouse-drag-handler\n */\n\n/**\n * Creates a handler for mouse events to allow seeking the waveform\n * views by clicking and dragging the mouse.\n *\n * @class\n * @alias SeekMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformOverview} view\n */\n\nfunction SeekMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove\n  });\n}\nSeekMouseDragHandler.prototype._onMouseDown = function (mousePosX) {\n  this._seek(mousePosX);\n};\nSeekMouseDragHandler.prototype._onMouseMove = function (mousePosX) {\n  this._seek(mousePosX);\n};\nSeekMouseDragHandler.prototype._seek = function (mousePosX) {\n  if (!this._view.isSeekEnabled()) {\n    return;\n  }\n  mousePosX = clamp(mousePosX, 0, this._width);\n  var time = this._view.pixelsToTime(mousePosX);\n  var duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n  this._peaks.player.seek(time);\n};\nSeekMouseDragHandler.prototype.destroy = function () {\n  this._mouseDragHandler.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformOverview} class.\n *\n * @module waveform-overview\n */\n\n/**\n * Creates the overview waveform view.\n *\n * @class\n * @alias WaveformOverview\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformOverview(waveformData, container, peaks) {\n  var self = this;\n  self._originalWaveformData = waveformData;\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = peaks.options.overview;\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(this);\n  self._onPlaying = self._onPlaying.bind(this);\n  self._onPause = self._onPause.bind(this);\n  self._onZoomviewDisplaying = self._onZoomviewDisplaying.bind(this);\n\n  // Register event handlers\n  peaks.on('player.timeupdate', self._onTimeUpdate);\n  peaks.on('player.playing', self._onPlaying);\n  peaks.on('player.pause', self._onPause);\n  peaks.on('zoomview.displaying', self._onZoomviewDisplaying);\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  } else {\n    self._formatPlayheadTime = function (time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n  self._data = waveformData;\n  if (self._width !== 0) {\n    self._resampleAndSetWaveformData(waveformData, self._width);\n  }\n\n  // Disable warning: The stage has 6 layers.\n  // Recommended maximum number of layers is 3-5.\n  Konva.showWarnings = false;\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n  self._createWaveform();\n  if (self._viewOptions.enableSegments) {\n    self._segmentsLayer = new SegmentsLayer(peaks, self, false);\n    self._segmentsLayer.addToStage(self._stage);\n  }\n  if (self._viewOptions.enablePoints) {\n    self._pointsLayer = new PointsLayer(peaks, self, false);\n    self._pointsLayer.addToStage(self._stage);\n  }\n  self._highlightLayer = new HighlightLayer(self, self._viewOptions);\n  self._highlightLayer.addToStage(self._stage);\n  self._createAxisLabels();\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n  self._playheadLayer.addToStage(self._stage);\n  var time = self._peaks.player.getCurrentTime();\n  self._playheadLayer.updatePlayheadTime(time);\n  self._mouseDragHandler = new SeekMouseDragHandler(peaks, self);\n  self._onClick = self._onClick.bind(self);\n  self._onDblClick = self._onDblClick.bind(self);\n  self._onContextMenu = self._onContextMenu.bind(self);\n  self._stage.on('click', self._onClick);\n  self._stage.on('dblclick', self._onDblClick);\n  self._stage.on('contextmenu', self._onContextMenu);\n}\nWaveformOverview.prototype.enableSeek = function (enable) {\n  this._enableSeek = enable;\n};\nWaveformOverview.prototype.isSeekEnabled = function () {\n  return this._enableSeek;\n};\nWaveformOverview.prototype._onClick = function (event) {\n  this._clickHandler(event, 'click');\n};\nWaveformOverview.prototype._onDblClick = function (event) {\n  this._clickHandler(event, 'dblclick');\n};\nWaveformOverview.prototype._onContextMenu = function (event) {\n  this._clickHandler(event, 'contextmenu');\n};\nWaveformOverview.prototype._clickHandler = function (event, eventName) {\n  var emitViewEvent = true;\n  if (event.target !== this._stage) {\n    var marker = getMarkerObject(event.target);\n    if (marker) {\n      if (marker.attrs.name === 'point-marker') {\n        var point = marker.getAttr('point');\n        if (point) {\n          this._peaks.emit('points.' + eventName, {\n            point: point,\n            evt: event.evt,\n            preventViewEvent: function preventViewEvent() {\n              emitViewEvent = false;\n            }\n          });\n        }\n      } else if (marker.attrs.name === 'segment-overlay') {\n        var segment = marker.getAttr('segment');\n        if (segment) {\n          var clickEvent = {\n            segment: segment,\n            evt: event.evt,\n            preventViewEvent: function preventViewEvent() {\n              emitViewEvent = false;\n            }\n          };\n          if (this._segmentsLayer) {\n            this._segmentsLayer.segmentClicked(eventName, clickEvent);\n          }\n        }\n      }\n    }\n  }\n  if (emitViewEvent) {\n    var pixelIndex = event.evt.layerX;\n    var time = this.pixelsToTime(pixelIndex);\n    this._peaks.emit('overview.' + eventName, {\n      time: time,\n      evt: event.evt\n    });\n  }\n};\nWaveformOverview.prototype.isSegmentDraggingEnabled = function () {\n  return false;\n};\nWaveformOverview.prototype.getName = function () {\n  return 'overview';\n};\nWaveformOverview.prototype._onTimeUpdate = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\nWaveformOverview.prototype._onPlaying = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\nWaveformOverview.prototype._onPause = function (time) {\n  this._playheadLayer.stop(time);\n};\nWaveformOverview.prototype._onZoomviewDisplaying = function (startTime, endTime) {\n  this.showHighlight(startTime, endTime);\n};\nWaveformOverview.prototype.updatePlayheadTime = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\nWaveformOverview.prototype.showHighlight = function (startTime, endTime) {\n  this._highlightLayer.showHighlight(startTime, endTime);\n};\nWaveformOverview.prototype.setWaveformData = function (waveformData) {\n  this._originalWaveformData = waveformData;\n  if (this._width !== 0) {\n    this._resampleAndSetWaveformData(waveformData, this._width);\n  } else {\n    this._data = waveformData;\n  }\n  this._updateWaveform();\n};\nWaveformOverview.prototype._resampleAndSetWaveformData = function (waveformData, width) {\n  try {\n    this._data = waveformData.resample({\n      width: width\n    });\n    return true;\n  } catch (error) {\n    // This error usually indicates that the waveform length\n    // is less than the container width. Ignore, and use the\n    // given waveform data\n    this._data = waveformData;\n    return false;\n  }\n};\nWaveformOverview.prototype.playheadPosChanged = function (time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n    this._waveformLayer.draw();\n  }\n};\n\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\nWaveformOverview.prototype.timeToPixels = function (time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\nWaveformOverview.prototype.timeToPixelOffset = WaveformOverview.prototype.timeToPixels;\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformOverview.prototype.pixelsToTime = function (pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n * (This is presented for symmetry with WaveformZoomview. Since WaveformOverview\n * doesn't scroll, its pixelOffsetToTime & pixelsToTime methods are identical.)\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformOverview.prototype.pixelOffsetToTime = WaveformOverview.prototype.pixelsToTime;\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformOverview.prototype.getFrameOffset = function () {\n  return 0;\n};\n\n/**\n * @returns {Number} The time at the leftmost edge\n */\n\nWaveformOverview.prototype.getStartTime = function () {\n  return 0;\n};\n\n/**\n * @returns {Number} The time at the rightmost edge\n */\n\nWaveformOverview.prototype.getEndTime = function () {\n  return this._getDuration();\n};\n\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\nWaveformOverview.prototype.getWidth = function () {\n  return this._width;\n};\n\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\nWaveformOverview.prototype.getHeight = function () {\n  return this._height;\n};\n\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\nWaveformOverview.prototype._getDuration = function () {\n  return this._peaks.player.getDuration();\n};\n\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\nWaveformOverview.prototype.setAmplitudeScale = function (scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n  this._amplitudeScale = scale;\n  this._waveformLayer.draw();\n  if (this._segmentsLayer) {\n    this._segmentsLayer.draw();\n  }\n};\nWaveformOverview.prototype.getAmplitudeScale = function () {\n  return this._amplitudeScale;\n};\n\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\nWaveformOverview.prototype.getWaveformData = function () {\n  return this._data;\n};\nWaveformOverview.prototype._createWaveformShapes = function () {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    var time = this._peaks.player.getCurrentTime();\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n    this._waveformShape.setSegment(this._unplayedSegment);\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\nWaveformOverview.prototype._destroyPlayedWaveformShape = function () {\n  this._waveformShape.setSegment(null);\n  this._playedWaveformShape.destroy();\n  this._playedWaveformShape = null;\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\nWaveformOverview.prototype._createWaveform = function () {\n  this._waveformLayer = new Konva.Layer({\n    listening: false\n  });\n  this._createWaveformShapes();\n  this._stage.add(this._waveformLayer);\n};\nWaveformOverview.prototype._createAxisLabels = function () {\n  this._axisLayer = new Konva.Layer({\n    listening: false\n  });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n  this._axis.addToLayer(this._axisLayer);\n  this._stage.add(this._axisLayer);\n};\nWaveformOverview.prototype.removeHighlightRect = function () {\n  this._highlightLayer.removeHighlight();\n};\nWaveformOverview.prototype._updateWaveform = function () {\n  this._waveformLayer.draw();\n  this._axisLayer.draw();\n  var playheadTime = this._peaks.player.getCurrentTime();\n  this._playheadLayer.updatePlayheadTime(playheadTime);\n  this._highlightLayer.updateHighlight();\n  var frameStartTime = 0;\n  var frameEndTime = this.pixelsToTime(this._width);\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n};\nWaveformOverview.prototype.setWaveformColor = function (color) {\n  this._waveformColor = color;\n  this._waveformShape.setWaveformColor(color);\n};\nWaveformOverview.prototype.setPlayedWaveformColor = function (color) {\n  this._playedWaveformColor = color;\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n    this._playedWaveformShape.setWaveformColor(color);\n  } else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\nWaveformOverview.prototype.showPlayheadTime = function (show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\nWaveformOverview.prototype.setTimeLabelPrecision = function (precision) {\n  this._timeLabelPrecision = precision;\n  this._playheadLayer.updatePlayheadText();\n};\nWaveformOverview.prototype.formatTime = function (time) {\n  return this._formatPlayheadTime(time);\n};\nWaveformOverview.prototype.showAxisLabels = function (show) {\n  this._axis.showAxisLabels(show);\n  this._axisLayer.draw();\n};\nWaveformOverview.prototype.enableMarkerEditing = function (enable) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableEditing(enable);\n  }\n  if (this._pointsLayer) {\n    this._pointsLayer.enableEditing(enable);\n  }\n};\nWaveformOverview.prototype.fitToContainer = function () {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n  var updateWaveform = false;\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.setWidth(this._width);\n    if (this._resampleAndSetWaveformData(this._originalWaveformData, this._width)) {\n      updateWaveform = true;\n    }\n  }\n  if (this._container.clientHeight !== this._height) {\n    this._height = this._container.clientHeight;\n    this._stage.setHeight(this._height);\n    this._waveformShape.fitToView();\n    this._playheadLayer.fitToView();\n    if (this._segmentsLayer) {\n      this._segmentsLayer.fitToView();\n    }\n    if (this._pointsLayer) {\n      this._pointsLayer.fitToView();\n    }\n    this._highlightLayer.fitToView();\n  }\n  if (updateWaveform) {\n    this._updateWaveform();\n  }\n};\nWaveformOverview.prototype.getViewOptions = function () {\n  return this._viewOptions;\n};\nWaveformOverview.prototype.destroy = function () {\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('zoomview.displaying', this._onZoomviewDisplaying);\n  this._mouseDragHandler.destroy();\n  this._playheadLayer.destroy();\n  if (this._segmentsLayer) {\n    this._segmentsLayer.destroy();\n  }\n  if (this._pointsLayer) {\n    this._pointsLayer.destroy();\n  }\n  if (this._stage) {\n    this._stage.destroy();\n    this._stage = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link InsertSegmentMouseDragHandler} class.\n *\n * @module insert-segment-mouse-drag-handler\n */\n\n/**\n * Creates a handler for mouse events to allow inserting new waveform\n * segments by clicking and dragging the mouse.\n *\n * @class\n * @alias InsertSegmentMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction InsertSegmentMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\nInsertSegmentMouseDragHandler.prototype.isDragging = function () {\n  return this._mouseDragHandler.isDragging();\n};\nInsertSegmentMouseDragHandler.prototype._onMouseDown = function (mousePosX, segment) {\n  this._segment = segment;\n  if (this._segment) {\n    // The user has clicked within a segment. We want to prevent\n    // the segment from being dragged while the user inserts a new\n    // segment. So we temporarily make the segment non-draggable,\n    // and restore its draggable state in onMouseUp().\n    this._segmentIsDraggable = this._segment.draggable();\n    this._segment.draggable(false);\n  }\n  var time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n  this._peaks.segments.setInserting(true);\n  this._insertSegment = this._peaks.segments.add({\n    startTime: time,\n    endTime: time,\n    editable: true\n  });\n  this._insertSegmentShape = this._view._segmentsLayer.getSegmentShape(this._insertSegment);\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.moveMarkersToTop();\n    this._insertSegmentShape.startDrag();\n  }\n};\nInsertSegmentMouseDragHandler.prototype._onMouseMove = function () {};\nInsertSegmentMouseDragHandler.prototype._onMouseUp = function () {\n  if (this._insertSegmentShape) {\n    this._insertSegmentShape.stopDrag();\n    this._insertSegmentShape = null;\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._segmentIsDraggable) {\n    this._segment.draggable(true);\n  }\n  this._peaks.emit('segments.insert', {\n    segment: this._insertSegment\n  });\n  this._peaks.segments.setInserting(false);\n};\nInsertSegmentMouseDragHandler.prototype.destroy = function () {\n  this._mouseDragHandler.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link ScrollMouseDragHandler} class.\n *\n * @module scroll-mouse-drag-handler\n */\n\n/**\n * Creates a handler for mouse events to allow scrolling the zoomable\n * waveform view by clicking and dragging the mouse.\n *\n * @class\n * @alias ScrollMouseDragHandler\n *\n * @param {Peaks} peaks\n * @param {WaveformZoomView} view\n */\n\nfunction ScrollMouseDragHandler(peaks, view) {\n  this._peaks = peaks;\n  this._view = view;\n  this._onMouseDown = this._onMouseDown.bind(this);\n  this._onMouseMove = this._onMouseMove.bind(this);\n  this._onMouseUp = this._onMouseUp.bind(this);\n  this._mouseDragHandler = new MouseDragHandler(view._stage, {\n    onMouseDown: this._onMouseDown,\n    onMouseMove: this._onMouseMove,\n    onMouseUp: this._onMouseUp\n  });\n}\nScrollMouseDragHandler.prototype.isDragging = function () {\n  return this._mouseDragHandler.isDragging();\n};\nScrollMouseDragHandler.prototype._onMouseDown = function (mousePosX, segment) {\n  this._segment = segment;\n  this._seeking = false;\n  var playheadOffset = this._view.getPlayheadOffset();\n  if (this._view.isSeekEnabled() && Math.abs(mousePosX - playheadOffset) <= this._view.getPlayheadClickTolerance()) {\n    this._seeking = true;\n\n    // The user has clicked near the playhead, and the playhead is within\n    // a segment. In this case we want to allow the playhead to move, but\n    // prevent the segment from being dragged. So we temporarily make the\n    // segment non-draggable, and restore its draggable state in onMouseUp().\n    if (this._segment) {\n      this._segmentIsDraggable = this._segment.draggable();\n      this._segment.draggable(false);\n    }\n  }\n  if (this._seeking) {\n    this._seek(mousePosX);\n  } else {\n    this._initialFrameOffset = this._view.getFrameOffset();\n    this._mouseDownX = mousePosX;\n  }\n};\nScrollMouseDragHandler.prototype._onMouseMove = function (mousePosX) {\n  // Prevent scrolling the waveform if the user is dragging a segment.\n  if (this._segment && !this._seeking) {\n    return;\n  }\n  if (this._seeking) {\n    mousePosX = clamp(mousePosX, 0, this._view.getWidth());\n    var time = this._view.pixelsToTime(mousePosX + this._view.getFrameOffset());\n    this._seek(time);\n  } else {\n    // Moving the mouse to the left increases the time position of the\n    // left-hand edge of the visible waveform.\n    var diff = this._mouseDownX - mousePosX;\n    var newFrameOffset = this._initialFrameOffset + diff;\n    if (newFrameOffset !== this._initialFrameOffset) {\n      this._view.updateWaveform(newFrameOffset);\n    }\n  }\n};\nScrollMouseDragHandler.prototype._onMouseUp = function () {\n  if (!this._seeking) {\n    // Set playhead position only on click release, when not dragging.\n    if (this._view._enableSeek && !this._mouseDragHandler.isDragging()) {\n      var time = this._view.pixelOffsetToTime(this._mouseDownX);\n      this._seek(time);\n    }\n  }\n\n  // If the user was dragging within an existing segment,\n  // restore the segment's original draggable state.\n  if (this._segment && this._seeking) {\n    if (this._segmentIsDraggable) {\n      this._segment.draggable(true);\n    }\n  }\n};\nScrollMouseDragHandler.prototype._seek = function (time) {\n  var duration = this._peaks.player.getDuration();\n\n  // Prevent the playhead position from jumping by limiting click\n  // handling to the waveform duration.\n  if (time > duration) {\n    time = duration;\n  }\n\n  // Update the playhead position. This gives a smoother visual update\n  // than if we only use the player.timeupdate event.\n  this._view.updatePlayheadTime(time);\n  this._peaks.player.seek(time);\n};\nScrollMouseDragHandler.prototype.destroy = function () {\n  this._mouseDragHandler.destroy();\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformZoomView} class.\n *\n * @module waveform-zoomview\n */\n\n/**\n * Creates a zoomable waveform view.\n *\n * @class\n * @alias WaveformZoomView\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction WaveformZoomView(waveformData, container, peaks) {\n  var self = this;\n  self._container = container;\n  self._peaks = peaks;\n  self._options = peaks.options;\n  self._viewOptions = self._options.zoomview;\n  self._enableWaveformCache = self._options.waveformCache;\n  self._originalWaveformData = waveformData;\n  self._initWaveformCache();\n\n  // Bind event handlers\n  self._onTimeUpdate = self._onTimeUpdate.bind(self);\n  self._onPlaying = self._onPlaying.bind(self);\n  self._onPause = self._onPause.bind(self);\n  self._onKeyboardLeft = self._onKeyboardLeft.bind(self);\n  self._onKeyboardRight = self._onKeyboardRight.bind(self);\n  self._onKeyboardShiftLeft = self._onKeyboardShiftLeft.bind(self);\n  self._onKeyboardShiftRight = self._onKeyboardShiftRight.bind(self);\n\n  // Register event handlers\n  self._peaks.on('player.timeupdate', self._onTimeUpdate);\n  self._peaks.on('player.playing', self._onPlaying);\n  self._peaks.on('player.pause', self._onPause);\n  self._peaks.on('keyboard.left', self._onKeyboardLeft);\n  self._peaks.on('keyboard.right', self._onKeyboardRight);\n  self._peaks.on('keyboard.shift_left', self._onKeyboardShiftLeft);\n  self._peaks.on('keyboard.shift_right', self._onKeyboardShiftRight);\n  self._autoScroll = self._viewOptions.autoScroll;\n  self._autoScrollOffset = self._viewOptions.autoScrollOffset;\n  self._amplitudeScale = 1.0;\n  self._timeLabelPrecision = self._viewOptions.timeLabelPrecision;\n  self._enableSeek = true;\n  self._enableSegmentDragging = false;\n  self._segmentDragMode = 'overlap';\n  self._minSegmentDragWidth = 0;\n  self._insertSegmentShape = null;\n  if (self._viewOptions.formatPlayheadTime) {\n    self._formatPlayheadTime = self._viewOptions.formatPlayheadTime;\n  } else {\n    self._formatPlayheadTime = function (time) {\n      return formatTime(time, self._timeLabelPrecision);\n    };\n  }\n  self._playheadClickTolerance = self._viewOptions.playheadClickTolerance;\n  self._data = null;\n  self._pixelLength = 0;\n  var initialZoomLevel = peaks.zoom.getZoomLevel();\n  self._zoomLevelAuto = false;\n  self._zoomLevelSeconds = null;\n  self._resampleData({\n    scale: initialZoomLevel\n  });\n  self._width = container.clientWidth;\n  self._height = container.clientHeight;\n\n  // The pixel offset of the current frame being displayed\n  self._frameOffset = 0;\n  self._stage = new Konva.Stage({\n    container: container,\n    width: self._width,\n    height: self._height\n  });\n  self._waveformColor = self._viewOptions.waveformColor;\n  self._playedWaveformColor = self._viewOptions.playedWaveformColor;\n  self._createWaveform();\n  if (self._viewOptions.enableSegments) {\n    self._segmentsLayer = new SegmentsLayer(peaks, self, true);\n    self._segmentsLayer.addToStage(self._stage);\n  }\n  if (self._viewOptions.enablePoints) {\n    self._pointsLayer = new PointsLayer(peaks, self, true);\n    self._pointsLayer.addToStage(self._stage);\n  }\n  self._createAxisLabels();\n  self._playheadLayer = new PlayheadLayer({\n    player: self._peaks.player,\n    view: self,\n    showPlayheadTime: self._viewOptions.showPlayheadTime,\n    playheadColor: self._viewOptions.playheadColor,\n    playheadTextColor: self._viewOptions.playheadTextColor,\n    playheadFontFamily: self._viewOptions.fontFamily,\n    playheadFontSize: self._viewOptions.fontSize,\n    playheadFontStyle: self._viewOptions.fontStyle\n  });\n  self._playheadLayer.addToStage(self._stage);\n  var time = self._peaks.player.getCurrentTime();\n  self._syncPlayhead(time);\n  self._mouseDragHandler = new ScrollMouseDragHandler(self._peaks, self);\n  self._onWheel = self._onWheel.bind(self);\n  self._onWheelCaptureVerticalScroll = self._onWheelCaptureVerticalScroll.bind(self);\n  self.setWheelMode(self._viewOptions.wheelMode);\n  self._onClick = self._onClick.bind(self);\n  self._onDblClick = self._onDblClick.bind(self);\n  self._onContextMenu = self._onContextMenu.bind(self);\n  self._stage.on('click', self._onClick);\n  self._stage.on('dblclick', self._onDblClick);\n  self._stage.on('contextmenu', self._onContextMenu);\n}\nWaveformZoomView.prototype._initWaveformCache = function () {\n  if (this._enableWaveformCache) {\n    this._waveformData = new Map();\n    this._waveformData.set(this._originalWaveformData.scale, this._originalWaveformData);\n    this._waveformScales = [this._originalWaveformData.scale];\n  }\n};\nWaveformZoomView.prototype.enableSeek = function (enable) {\n  this._enableSeek = enable;\n};\nWaveformZoomView.prototype.isSeekEnabled = function () {\n  return this._enableSeek;\n};\nWaveformZoomView.prototype._onClick = function (event) {\n  this._clickHandler(event, 'click');\n};\nWaveformZoomView.prototype._onDblClick = function (event) {\n  this._clickHandler(event, 'dblclick');\n};\nWaveformZoomView.prototype._onContextMenu = function (event) {\n  this._clickHandler(event, 'contextmenu');\n};\nWaveformZoomView.prototype._clickHandler = function (event, eventName) {\n  var emitViewEvent = true;\n  if (event.target !== this._stage) {\n    var marker = getMarkerObject(event.target);\n    if (marker) {\n      if (marker.attrs.name === 'point-marker') {\n        var point = marker.getAttr('point');\n        if (point) {\n          this._peaks.emit('points.' + eventName, {\n            point: point,\n            evt: event.evt,\n            preventViewEvent: function preventViewEvent() {\n              emitViewEvent = false;\n            }\n          });\n        }\n      } else if (marker.attrs.name === 'segment-overlay') {\n        var segment = marker.getAttr('segment');\n        if (segment) {\n          var clickEvent = {\n            segment: segment,\n            evt: event.evt,\n            preventViewEvent: function preventViewEvent() {\n              emitViewEvent = false;\n            }\n          };\n          if (this._segmentsLayer) {\n            this._segmentsLayer.segmentClicked(eventName, clickEvent);\n          }\n        }\n      }\n    }\n  }\n  if (emitViewEvent) {\n    var mousePosX = event.evt.layerX;\n    var time = this.pixelOffsetToTime(mousePosX);\n    this._peaks.emit('zoomview.' + eventName, {\n      time: time,\n      evt: event.evt\n    });\n  }\n};\nWaveformZoomView.prototype.setWheelMode = function (mode, options) {\n  if (!options) {\n    options = {};\n  }\n  if (mode !== this._wheelMode || options.captureVerticalScroll !== this._captureVerticalScroll) {\n    this._stage.off('wheel');\n    this._wheelMode = mode;\n    this._captureVerticalScroll = options.captureVerticalScroll;\n    switch (mode) {\n      case 'scroll':\n        if (options.captureVerticalScroll) {\n          this._stage.on('wheel', this._onWheelCaptureVerticalScroll);\n        } else {\n          this._stage.on('wheel', this._onWheel);\n        }\n        break;\n    }\n  }\n};\nWaveformZoomView.prototype._onWheel = function (event) {\n  var wheelEvent = event.evt;\n  var delta;\n  if (wheelEvent.shiftKey) {\n    if (wheelEvent.deltaY !== 0) {\n      delta = wheelEvent.deltaY;\n    } else if (wheelEvent.deltaX !== 0) {\n      delta = wheelEvent.deltaX;\n    } else {\n      return;\n    }\n  } else {\n    // Ignore the event if it looks like the user is scrolling vertically\n    // down the page\n    if (Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY)) {\n      return;\n    }\n    delta = wheelEvent.deltaX;\n  }\n  if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n    delta *= this._width;\n  }\n  wheelEvent.preventDefault();\n  var newFrameOffset = clamp(this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width);\n  this.updateWaveform(newFrameOffset);\n};\nWaveformZoomView.prototype._onWheelCaptureVerticalScroll = function (event) {\n  var wheelEvent = event.evt;\n  var delta = Math.abs(wheelEvent.deltaX) < Math.abs(wheelEvent.deltaY) ? wheelEvent.deltaY : wheelEvent.deltaX;\n  wheelEvent.preventDefault();\n  var newFrameOffset = clamp(this._frameOffset + Math.floor(delta), 0, this._pixelLength - this._width);\n  this.updateWaveform(newFrameOffset);\n};\nWaveformZoomView.prototype.setWaveformDragMode = function (mode) {\n  if (this._viewOptions.enableSegments) {\n    this._mouseDragHandler.destroy();\n    if (mode === 'insert-segment') {\n      this._mouseDragHandler = new InsertSegmentMouseDragHandler(this._peaks, this);\n    } else {\n      this._mouseDragHandler = new ScrollMouseDragHandler(this._peaks, this);\n    }\n  }\n};\nWaveformZoomView.prototype.enableSegmentDragging = function (enable) {\n  this._enableSegmentDragging = enable;\n\n  // Update all existing segments\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableSegmentDragging(enable);\n  }\n};\nWaveformZoomView.prototype.isSegmentDraggingEnabled = function () {\n  return this._enableSegmentDragging;\n};\nWaveformZoomView.prototype.setSegmentDragMode = function (mode) {\n  this._segmentDragMode = mode;\n};\nWaveformZoomView.prototype.getSegmentDragMode = function () {\n  return this._segmentDragMode;\n};\nWaveformZoomView.prototype.getName = function () {\n  return 'zoomview';\n};\nWaveformZoomView.prototype._onTimeUpdate = function (time) {\n  if (this._mouseDragHandler.isDragging()) {\n    return;\n  }\n  this._syncPlayhead(time);\n};\nWaveformZoomView.prototype._onPlaying = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\nWaveformZoomView.prototype._onPause = function (time) {\n  this._playheadLayer.stop(time);\n};\nWaveformZoomView.prototype._onKeyboardLeft = function () {\n  this._keyboardScroll(-1, false);\n};\nWaveformZoomView.prototype._onKeyboardRight = function () {\n  this._keyboardScroll(1, false);\n};\nWaveformZoomView.prototype._onKeyboardShiftLeft = function () {\n  this._keyboardScroll(-1, true);\n};\nWaveformZoomView.prototype._onKeyboardShiftRight = function () {\n  this._keyboardScroll(1, true);\n};\nWaveformZoomView.prototype._keyboardScroll = function (direction, large) {\n  var increment;\n  if (large) {\n    increment = direction * this._width;\n  } else {\n    increment = direction * this.timeToPixels(this._options.nudgeIncrement);\n  }\n  this.scrollWaveform({\n    pixels: increment\n  });\n};\nWaveformZoomView.prototype.setWaveformData = function (waveformData) {\n  this._originalWaveformData = waveformData;\n  // Clear cached waveforms\n  this._initWaveformCache();\n\n  // Don't update the UI here, call setZoom().\n};\n\n/**\n * Returns the position of the playhead marker, in pixels relative to the\n * left hand side of the waveform view.\n *\n * @return {Number}\n */\n\nWaveformZoomView.prototype.getPlayheadOffset = function () {\n  return this._playheadLayer.getPlayheadPixel() - this._frameOffset;\n};\nWaveformZoomView.prototype.getPlayheadClickTolerance = function () {\n  return this._playheadClickTolerance;\n};\nWaveformZoomView.prototype.playheadPosChanged = function (time) {\n  if (this._playedWaveformShape) {\n    this._playedSegment.endTime = time;\n    this._unplayedSegment.startTime = time;\n    this._drawWaveformLayer();\n  }\n};\nWaveformZoomView.prototype.updatePlayheadTime = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n};\nWaveformZoomView.prototype._syncPlayhead = function (time) {\n  this._playheadLayer.updatePlayheadTime(time);\n  if (this._autoScroll) {\n    // Check for the playhead reaching the right-hand side of the window.\n\n    var pixelIndex = this.timeToPixels(time);\n\n    // TODO: move this code to animation function?\n    // TODO: don't scroll if user has positioned view manually (e.g., using\n    // the keyboard)\n    var endThreshold = this._frameOffset + this._width - this._autoScrollOffset;\n    if (pixelIndex >= endThreshold || pixelIndex < this._frameOffset) {\n      // Put the playhead at 100 pixels from the left edge\n      this._frameOffset = pixelIndex - this._autoScrollOffset;\n      if (this._frameOffset < 0) {\n        this._frameOffset = 0;\n      }\n      this.updateWaveform(this._frameOffset);\n    }\n  }\n};\nWaveformZoomView.prototype._getScale = function (duration) {\n  return duration * this._data.sample_rate / this._width;\n};\nfunction isAutoScale(options) {\n  return objectHasProperty(options, 'scale') && options.scale === 'auto' || objectHasProperty(options, 'seconds') && options.seconds === 'auto';\n}\n\n/**\n * Options for [WaveformZoomView.setZoom]{@link WaveformZoomView#setZoom}.\n *\n * @typedef {Object} SetZoomOptions\n * @global\n * @property {Number|String} scale Zoom level, in samples per pixel, or 'auto'\n *   to fit the entire waveform to the view width\n * @property {Number|String} seconds Number of seconds to fit to the view width,\n *   or 'auto' to fit the entire waveform to the view width\n */\n\n/**\n * Changes the zoom level.\n *\n * @param {SetZoomOptions} options\n * @returns {Boolean}\n */\n\nWaveformZoomView.prototype.setZoom = function (options) {\n  var scale;\n  if (isAutoScale(options)) {\n    var seconds = this._peaks.player.getDuration();\n    if (!isValidTime(seconds)) {\n      return false;\n    }\n    this._zoomLevelAuto = true;\n    this._zoomLevelSeconds = null;\n    scale = this._getScale(seconds);\n  } else {\n    if (objectHasProperty(options, 'scale')) {\n      this._zoomLevelSeconds = null;\n      scale = options.scale;\n    } else if (objectHasProperty(options, 'seconds')) {\n      if (!isValidTime(options.seconds)) {\n        return false;\n      }\n      this._zoomLevelSeconds = options.seconds;\n      scale = this._getScale(options.seconds);\n    }\n    this._zoomLevelAuto = false;\n  }\n  if (scale < this._originalWaveformData.scale) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('peaks.zoomview.setZoom(): zoom level must be at least ' + this._originalWaveformData.scale);\n    scale = this._originalWaveformData.scale;\n  }\n  var currentTime = this._peaks.player.getCurrentTime();\n  var apexTime;\n  var playheadOffsetPixels = this.getPlayheadOffset();\n  if (playheadOffsetPixels >= 0 && playheadOffsetPixels < this._width) {\n    // Playhead is visible. Change the zoom level while keeping the\n    // playhead at the same position in the window.\n    apexTime = currentTime;\n  } else {\n    // Playhead is not visible. Change the zoom level while keeping the\n    // centre of the window at the same position in the waveform.\n    playheadOffsetPixels = Math.floor(this._width / 2);\n    apexTime = this.pixelOffsetToTime(playheadOffsetPixels);\n  }\n  var prevScale = this._scale;\n  this._resampleData({\n    scale: scale\n  });\n  var apexPixel = this.timeToPixels(apexTime);\n  this._frameOffset = apexPixel - playheadOffsetPixels;\n  this.updateWaveform(this._frameOffset);\n  this._playheadLayer.zoomLevelChanged();\n\n  // Update the playhead position after zooming.\n  this._playheadLayer.updatePlayheadTime(currentTime);\n  this._peaks.emit('zoom.update', {\n    currentZoom: scale,\n    previousZoom: prevScale\n  });\n  return true;\n};\nWaveformZoomView.prototype._resampleData = function (options) {\n  var scale = options.scale;\n  if (this._enableWaveformCache) {\n    if (!this._waveformData.has(scale)) {\n      var sourceWaveform = this._originalWaveformData;\n\n      // Resample from the next lowest available zoom level\n\n      for (var i = 0; i < this._waveformScales.length; i++) {\n        if (this._waveformScales[i] < scale) {\n          sourceWaveform = this._waveformData.get(this._waveformScales[i]);\n        } else {\n          break;\n        }\n      }\n      this._waveformData.set(scale, sourceWaveform.resample(options));\n      this._waveformScales.push(scale);\n      this._waveformScales.sort(function (a, b) {\n        return a - b; // Ascending order\n      });\n    }\n\n    this._data = this._waveformData.get(scale);\n  } else {\n    this._data = this._originalWaveformData.resample(options);\n  }\n  this._scale = this._data.scale;\n  this._pixelLength = this._data.length;\n};\nWaveformZoomView.prototype.getStartTime = function () {\n  return this.pixelOffsetToTime(0);\n};\nWaveformZoomView.prototype.getEndTime = function () {\n  return this.pixelOffsetToTime(this._width);\n};\nWaveformZoomView.prototype.setStartTime = function (time) {\n  if (time < 0) {\n    time = 0;\n  }\n  if (this._zoomLevelAuto) {\n    time = 0;\n  }\n  this.updateWaveform(this.timeToPixels(time));\n};\n\n/**\n * Returns the pixel index for a given time, for the current zoom level.\n *\n * @param {Number} time Time, in seconds.\n * @returns {Number} Pixel index.\n */\n\nWaveformZoomView.prototype.timeToPixels = function (time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale);\n};\n\n/**\n * Returns the time for a given pixel index, for the current zoom level.\n *\n * @param {Number} pixels Pixel index.\n * @returns {Number} Time, in seconds.\n */\n\nWaveformZoomView.prototype.pixelsToTime = function (pixels) {\n  return pixels * this._data.scale / this._data.sample_rate;\n};\n\n/**\n * Returns the time for a given pixel offset (relative to the\n * current scroll position), for the current zoom level.\n *\n * @param {Number} offset Offset from left-visible-edge of view\n * @returns {Number} Time, in seconds.\n */\n\nWaveformZoomView.prototype.pixelOffsetToTime = function (offset) {\n  var pixels = this._frameOffset + offset;\n  return pixels * this._data.scale / this._data.sample_rate;\n};\nWaveformZoomView.prototype.timeToPixelOffset = function (time) {\n  return Math.floor(time * this._data.sample_rate / this._data.scale) - this._frameOffset;\n};\n\n/**\n * @returns {Number} The start position of the waveform shown in the view,\n *   in pixels.\n */\n\nWaveformZoomView.prototype.getFrameOffset = function () {\n  return this._frameOffset;\n};\n\n/**\n * @returns {Number} The width of the view, in pixels.\n */\n\nWaveformZoomView.prototype.getWidth = function () {\n  return this._width;\n};\n\n/**\n * @returns {Number} The height of the view, in pixels.\n */\n\nWaveformZoomView.prototype.getHeight = function () {\n  return this._height;\n};\n\n/**\n * @returns {Number} The length of the waveform, in pixels.\n */\nWaveformZoomView.prototype.getPixelLength = function () {\n  return this._pixelLength;\n};\n\n/**\n * @returns {Number} The media duration, in seconds.\n */\n\nWaveformZoomView.prototype._getDuration = function () {\n  return this._peaks.player.getDuration();\n};\n\n/**\n * Adjusts the amplitude scale of waveform shown in the view, which allows\n * users to zoom the waveform vertically.\n *\n * @param {Number} scale The new amplitude scale factor\n */\n\nWaveformZoomView.prototype.setAmplitudeScale = function (scale) {\n  if (!isNumber(scale) || !isFinite(scale)) {\n    throw new Error('view.setAmplitudeScale(): Scale must be a valid number');\n  }\n  this._amplitudeScale = scale;\n  this._drawWaveformLayer();\n  if (this._segmentsLayer) {\n    this._segmentsLayer.draw();\n  }\n};\nWaveformZoomView.prototype.getAmplitudeScale = function () {\n  return this._amplitudeScale;\n};\n\n/**\n * @returns {WaveformData} The view's waveform data.\n */\n\nWaveformZoomView.prototype.getWaveformData = function () {\n  return this._data;\n};\nWaveformZoomView.prototype._createWaveformShapes = function () {\n  if (!this._waveformShape) {\n    this._waveformShape = new WaveformShape({\n      color: this._waveformColor,\n      view: this\n    });\n    this._waveformShape.addToLayer(this._waveformLayer);\n  }\n  if (this._playedWaveformColor && !this._playedWaveformShape) {\n    var time = this._peaks.player.getCurrentTime();\n    this._playedSegment = {\n      startTime: 0,\n      endTime: time\n    };\n    this._unplayedSegment = {\n      startTime: time,\n      endTime: this._getDuration()\n    };\n    this._waveformShape.setSegment(this._unplayedSegment);\n    this._playedWaveformShape = new WaveformShape({\n      color: this._playedWaveformColor,\n      view: this,\n      segment: this._playedSegment\n    });\n    this._playedWaveformShape.addToLayer(this._waveformLayer);\n  }\n};\nWaveformZoomView.prototype._destroyPlayedWaveformShape = function () {\n  this._waveformShape.setSegment(null);\n  this._playedWaveformShape.destroy();\n  this._playedWaveformShape = null;\n  this._playedSegment = null;\n  this._unplayedSegment = null;\n};\nWaveformZoomView.prototype._createWaveform = function () {\n  this._waveformLayer = new Konva.Layer({\n    listening: false\n  });\n  this._createWaveformShapes();\n  this._stage.add(this._waveformLayer);\n  this._peaks.emit('zoomview.displaying', 0, this.getEndTime());\n};\nWaveformZoomView.prototype._createAxisLabels = function () {\n  this._axisLayer = new Konva.Layer({\n    listening: false\n  });\n  this._axis = new WaveformAxis(this, this._viewOptions);\n  this._axis.addToLayer(this._axisLayer);\n  this._stage.add(this._axisLayer);\n};\n\n/**\n * Scrolls the region of waveform shown in the view.\n *\n * @param {Number} scrollAmount How far to scroll, in pixels\n */\n\nWaveformZoomView.prototype.scrollWaveform = function (options) {\n  var scrollAmount;\n  if (objectHasProperty(options, 'pixels')) {\n    scrollAmount = Math.floor(options.pixels);\n  } else if (objectHasProperty(options, 'seconds')) {\n    scrollAmount = this.timeToPixels(options.seconds);\n  } else {\n    throw new TypeError('view.scrollWaveform(): Missing umber of pixels or seconds');\n  }\n  this.updateWaveform(this._frameOffset + scrollAmount);\n};\n\n/**\n * Updates the region of waveform shown in the view.\n *\n * @param {Number} frameOffset The new frame offset, in pixels.\n */\n\nWaveformZoomView.prototype.updateWaveform = function (frameOffset) {\n  var upperLimit;\n  if (this._pixelLength < this._width) {\n    // Total waveform is shorter than viewport, so reset the offset to 0.\n    frameOffset = 0;\n    upperLimit = this._width;\n  } else {\n    // Calculate the very last possible position.\n    upperLimit = this._pixelLength - this._width;\n  }\n  frameOffset = clamp(frameOffset, 0, upperLimit);\n  this._frameOffset = frameOffset;\n\n  // Display playhead if it is within the zoom frame width.\n  var playheadPixel = this._playheadLayer.getPlayheadPixel();\n  this._playheadLayer.updatePlayheadTime(this.pixelsToTime(playheadPixel));\n  this._drawWaveformLayer();\n  this._axisLayer.draw();\n  var frameStartTime = this.getStartTime();\n  var frameEndTime = this.getEndTime();\n  if (this._pointsLayer) {\n    this._pointsLayer.updatePoints(frameStartTime, frameEndTime);\n  }\n  if (this._segmentsLayer) {\n    this._segmentsLayer.updateSegments(frameStartTime, frameEndTime);\n  }\n  this._peaks.emit('zoomview.displaying', frameStartTime, frameEndTime);\n};\nWaveformZoomView.prototype._drawWaveformLayer = function () {\n  this._waveformLayer.draw();\n};\nWaveformZoomView.prototype.setWaveformColor = function (color) {\n  this._waveformColor = color;\n  this._waveformShape.setWaveformColor(color);\n};\nWaveformZoomView.prototype.setPlayedWaveformColor = function (color) {\n  this._playedWaveformColor = color;\n  if (color) {\n    if (!this._playedWaveformShape) {\n      this._createWaveformShapes();\n    }\n    this._playedWaveformShape.setWaveformColor(color);\n  } else {\n    if (this._playedWaveformShape) {\n      this._destroyPlayedWaveformShape();\n    }\n  }\n};\nWaveformZoomView.prototype.showPlayheadTime = function (show) {\n  this._playheadLayer.showPlayheadTime(show);\n};\nWaveformZoomView.prototype.setTimeLabelPrecision = function (precision) {\n  this._timeLabelPrecision = precision;\n  this._playheadLayer.updatePlayheadText();\n};\nWaveformZoomView.prototype.formatTime = function (time) {\n  return this._formatPlayheadTime(time);\n};\nWaveformZoomView.prototype.showAxisLabels = function (show) {\n  this._axis.showAxisLabels(show);\n  this._axisLayer.draw();\n};\nWaveformZoomView.prototype.enableAutoScroll = function (enable, options) {\n  this._autoScroll = enable;\n  if (objectHasProperty(options, 'offset')) {\n    this._autoScrollOffset = options.offset;\n  }\n};\nWaveformZoomView.prototype.enableMarkerEditing = function (enable) {\n  if (this._segmentsLayer) {\n    this._segmentsLayer.enableEditing(enable);\n  }\n  if (this._pointsLayer) {\n    this._pointsLayer.enableEditing(enable);\n  }\n};\nWaveformZoomView.prototype.getMinSegmentDragWidth = function () {\n  return this._insertSegmentShape ? 0 : this._minSegmentDragWidth;\n};\nWaveformZoomView.prototype.setMinSegmentDragWidth = function (width) {\n  this._minSegmentDragWidth = width;\n};\nWaveformZoomView.prototype.fitToContainer = function () {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n  var updateWaveform = false;\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.width(this._width);\n    var resample = false;\n    var resampleOptions;\n    if (this._zoomLevelAuto) {\n      resample = true;\n      resampleOptions = {\n        width: this._width\n      };\n    } else if (this._zoomLevelSeconds !== null) {\n      resample = true;\n      resampleOptions = {\n        scale: this._getScale(this._zoomLevelSeconds)\n      };\n    }\n    if (resample) {\n      try {\n        this._resampleData(resampleOptions);\n        updateWaveform = true;\n      } catch (error) {\n        // Ignore, and leave this._data as it was\n      }\n    }\n  }\n  if (this._container.clientHeight !== this._height) {\n    this._height = this._container.clientHeight;\n    this._stage.height(this._height);\n    this._waveformShape.fitToView();\n    this._playheadLayer.fitToView();\n    if (this._segmentsLayer) {\n      this._segmentsLayer.fitToView();\n    }\n    if (this._pointsLayer) {\n      this._pointsLayer.fitToView();\n    }\n  }\n  if (updateWaveform) {\n    this.updateWaveform(this._frameOffset);\n  }\n};\nWaveformZoomView.prototype.getStage = function () {\n  return this._stage;\n};\nWaveformZoomView.prototype.getSegmentsLayer = function () {\n  return this._segmentsLayer;\n};\nWaveformZoomView.prototype.getViewOptions = function () {\n  return this._viewOptions;\n};\nWaveformZoomView.prototype.destroy = function () {\n  // Unregister event handlers\n  this._peaks.off('player.timeupdate', this._onTimeUpdate);\n  this._peaks.off('player.playing', this._onPlaying);\n  this._peaks.off('player.pause', this._onPause);\n  this._peaks.off('keyboard.left', this._onKeyboardLeft);\n  this._peaks.off('keyboard.right', this._onKeyboardRight);\n  this._peaks.off('keyboard.shift_left', this._onKeyboardShiftLeft);\n  this._peaks.off('keyboard.shift_right', this._onKeyboardShiftRight);\n  this._mouseDragHandler.destroy();\n  this._playheadLayer.destroy();\n  if (this._segmentsLayer) {\n    this._segmentsLayer.destroy();\n  }\n  if (this._pointsLayer) {\n    this._pointsLayer.destroy();\n  }\n  if (this._stage) {\n    this._stage.destroy();\n    this._stage = null;\n  }\n};\n\n/**\n * @file\n *\n * Defines the {@link Scrollbar} class.\n *\n * @module scrollbar\n */\n\n/**\n * Creates a scrollbar.\n *\n * @class\n * @alias Scrollbar\n *\n * @param {WaveformData} waveformData\n * @param {HTMLElement} container\n * @param {Peaks} peaks\n */\n\nfunction Scrollbar(waveformData, container, peaks) {\n  this._waveformData = waveformData;\n  this._container = container;\n  this._peaks = peaks;\n  this._options = peaks.options.scrollbar;\n  this._zoomview = peaks.views.getView('zoomview');\n  this._dragBoundFunc = this._dragBoundFunc.bind(this);\n  this._onScrollboxDragStart = this._onScrollboxDragStart.bind(this);\n  this._onScrollboxDragMove = this._onScrollboxDragMove.bind(this);\n  this._onScrollboxDragEnd = this._onScrollboxDragEnd.bind(this);\n  this._onZoomviewDisplaying = this._onZoomviewDisplaying.bind(this);\n  this._onScrollbarClick = this._onScrollbarClick.bind(this);\n  peaks.on('zoomview.displaying', this._onZoomviewDisplaying);\n  this._width = container.clientWidth;\n  this._height = container.clientHeight;\n  this._stage = new Konva.Stage({\n    container: container,\n    width: this._width,\n    height: this._height\n  });\n  this._layer = new Konva.Layer();\n  this._stage.on('click', this._onScrollbarClick);\n  this._stage.add(this._layer);\n  this._color = this._options.color;\n  this._scrollboxX = 0;\n  this._minScrollboxWidth = this._options.minWidth;\n  this._offsetY = 0;\n  this._scrollbox = new Konva.Group({\n    draggable: true,\n    dragBoundFunc: this._dragBoundFunc\n  });\n  this._scrollboxRect = new Rect({\n    x: this._scrollboxX,\n    y: this._offsetY,\n    width: 0,\n    height: this._height,\n    fill: this._color\n  });\n  this._scrollbox.add(this._scrollboxRect);\n  this._setScrollboxWidth();\n  this._scrollbox.on('dragstart', this._onScrollboxDragStart);\n  this._scrollbox.on('dragmove', this._onScrollboxDragMove);\n  this._scrollbox.on('dragend', this._onScrollboxDragEnd);\n  this._layer.add(this._scrollbox);\n  this._layer.draw();\n}\nScrollbar.prototype.setZoomview = function (zoomview) {\n  this._zoomview = zoomview;\n  this._updateScrollbarWidthAndPosition();\n};\n\n/**\n * Sets the width of the scrollbox, based on the visible waveform region\n * in the zoomview and minimum scrollbox width option.\n */\n\nScrollbar.prototype._setScrollboxWidth = function () {\n  if (this._zoomview) {\n    this._scrollboxWidth = Math.floor(this._width * this._zoomview.pixelsToTime(this._zoomview.getWidth()) / this._peaks.player.getDuration());\n    if (this._scrollboxWidth < this._minScrollboxWidth) {\n      this._scrollboxWidth = this._minScrollboxWidth;\n    }\n  } else {\n    this._scrollboxWidth = this._width;\n  }\n  this._scrollboxRect.width(this._scrollboxWidth);\n};\n\n/**\n * @returns {Number} The maximum scrollbox position, in pixels.\n */\n\nScrollbar.prototype._getScrollbarRange = function () {\n  return this._width - this._scrollboxWidth;\n};\nScrollbar.prototype._dragBoundFunc = function (pos) {\n  // Allow the scrollbar to be moved horizontally but not vertically.\n  return {\n    x: pos.x,\n    y: 0\n  };\n};\nScrollbar.prototype._onScrollboxDragStart = function () {\n  this._dragging = true;\n};\nScrollbar.prototype._onScrollboxDragEnd = function () {\n  this._dragging = false;\n};\nScrollbar.prototype._onScrollboxDragMove = function () {\n  var range = this._getScrollbarRange();\n  var x = clamp(this._scrollbox.x(), 0, range);\n  this._scrollbox.x(x);\n  if (x !== this._scrollboxX) {\n    this._scrollboxX = x;\n    if (this._zoomview) {\n      this._updateWaveform(x);\n    }\n  }\n};\nScrollbar.prototype._onZoomviewDisplaying = function /* startTime , endTime */\n() {\n  if (!this._dragging) {\n    this._updateScrollbarWidthAndPosition();\n  }\n};\nScrollbar.prototype._updateScrollbarWidthAndPosition = function () {\n  this._setScrollboxWidth();\n  if (this._zoomview) {\n    var startTime = this._zoomview.getStartTime();\n    var zoomviewRange = this._zoomview.getPixelLength() - this._zoomview.getWidth();\n    var scrollBoxPos = Math.floor(this._zoomview.timeToPixels(startTime) * this._getScrollbarRange() / zoomviewRange);\n    this._scrollbox.x(scrollBoxPos);\n    this._layer.draw();\n  }\n};\nScrollbar.prototype._onScrollbarClick = function (event) {\n  // Handle clicks on the scrollbar outside the scrollbox.\n  if (event.target === this._stage) {\n    if (this._zoomview) {\n      // Centre the scrollbox where the user clicked.\n      var x = Math.floor(event.evt.layerX - this._scrollboxWidth / 2);\n      if (x < 0) {\n        x = 0;\n      }\n      this._updateWaveform(x);\n    }\n  }\n};\n\n/**\n * Sets the zoomview waveform position based on scrollbar position.\n */\n\nScrollbar.prototype._updateWaveform = function (x) {\n  var offset = Math.floor((this._zoomview.getPixelLength() - this._zoomview.getWidth()) * x / this._getScrollbarRange());\n  this._zoomview.updateWaveform(offset);\n};\nScrollbar.prototype.fitToContainer = function () {\n  if (this._container.clientWidth === 0 && this._container.clientHeight === 0) {\n    return;\n  }\n  if (this._container.clientWidth !== this._width) {\n    this._width = this._container.clientWidth;\n    this._stage.width(this._width);\n    this._updateScrollbarWidthAndPosition();\n  }\n  this._height = this._container.clientHeight;\n  this._stage.height(this._height);\n};\nScrollbar.prototype.destroy = function () {\n  this._layer.destroy();\n  this._stage.destroy();\n  this._stage = null;\n};\n\n/**\n * @file\n *\n * Defines the {@link ViewController} class.\n *\n * @module view-controller\n */\n\n/**\n * Creates an object that allows users to create and manage waveform views.\n *\n * @class\n * @alias ViewController\n *\n * @param {Peaks} peaks\n */\n\nfunction ViewController(peaks) {\n  this._peaks = peaks;\n  this._overview = null;\n  this._zoomview = null;\n  this._scrollbar = null;\n}\nViewController.prototype.createOverview = function (container) {\n  if (this._overview) {\n    return this._overview;\n  }\n  var waveformData = this._peaks.getWaveformData();\n  this._overview = new WaveformOverview(waveformData, container, this._peaks);\n  if (this._zoomview) {\n    this._overview.showHighlight(this._zoomview.getStartTime(), this._zoomview.getEndTime());\n  }\n  return this._overview;\n};\nViewController.prototype.createZoomview = function (container) {\n  if (this._zoomview) {\n    return this._zoomview;\n  }\n  var waveformData = this._peaks.getWaveformData();\n  this._zoomview = new WaveformZoomView(waveformData, container, this._peaks);\n  if (this._scrollbar) {\n    this._scrollbar.setZoomview(this._zoomview);\n  }\n  return this._zoomview;\n};\nViewController.prototype.createScrollbar = function (container) {\n  var waveformData = this._peaks.getWaveformData();\n  this._scrollbar = new Scrollbar(waveformData, container, this._peaks);\n  return this._scrollbar;\n};\nViewController.prototype.destroyOverview = function () {\n  if (!this._overview) {\n    return;\n  }\n  if (!this._zoomview) {\n    return;\n  }\n  this._overview.destroy();\n  this._overview = null;\n};\nViewController.prototype.destroyZoomview = function () {\n  if (!this._zoomview) {\n    return;\n  }\n  if (!this._overview) {\n    return;\n  }\n  this._zoomview.destroy();\n  this._zoomview = null;\n  this._overview.removeHighlightRect();\n};\nViewController.prototype.destroy = function () {\n  if (this._overview) {\n    this._overview.destroy();\n    this._overview = null;\n  }\n  if (this._zoomview) {\n    this._zoomview.destroy();\n    this._zoomview = null;\n  }\n  if (this._scrollbar) {\n    this._scrollbar.destroy();\n    this._scrollbar = null;\n  }\n};\nViewController.prototype.getView = function (name) {\n  if (isNullOrUndefined(name)) {\n    if (this._overview && this._zoomview) {\n      return null;\n    } else if (this._overview) {\n      return this._overview;\n    } else if (this._zoomview) {\n      return this._zoomview;\n    } else {\n      return null;\n    }\n  } else {\n    switch (name) {\n      case 'overview':\n        return this._overview;\n      case 'zoomview':\n        return this._zoomview;\n      default:\n        return null;\n    }\n  }\n};\nViewController.prototype.getScrollbar = function () {\n  return this._scrollbar;\n};\n\n/**\n * @file\n *\n * Defines the {@link ZoomController} class.\n *\n * @module zoom-controller\n */\n\n/**\n * Creates an object to control zoom levels in a {@link WaveformZoomView}.\n *\n * @class\n * @alias ZoomController\n *\n * @param {Peaks} peaks\n * @param {Array<Integer>} zoomLevels\n */\n\nfunction ZoomController(peaks, zoomLevels) {\n  this._peaks = peaks;\n  this._zoomLevels = zoomLevels;\n  this._zoomLevelIndex = 0;\n}\nZoomController.prototype.setZoomLevels = function (zoomLevels) {\n  this._zoomLevels = zoomLevels;\n  this.setZoom(0, true);\n};\n\n/**\n * Zoom in one level.\n */\n\nZoomController.prototype.zoomIn = function () {\n  this.setZoom(this._zoomLevelIndex - 1);\n};\n\n/**\n * Zoom out one level.\n */\n\nZoomController.prototype.zoomOut = function () {\n  this.setZoom(this._zoomLevelIndex + 1);\n};\n\n/**\n * Given a particular zoom level, triggers a resampling of the data in the\n * zoomed view.\n *\n * @param {number} zoomLevelIndex An index into the options.zoomLevels array.\n */\n\nZoomController.prototype.setZoom = function (zoomLevelIndex, forceUpdate) {\n  if (zoomLevelIndex >= this._zoomLevels.length) {\n    zoomLevelIndex = this._zoomLevels.length - 1;\n  }\n  if (zoomLevelIndex < 0) {\n    zoomLevelIndex = 0;\n  }\n  if (!forceUpdate && zoomLevelIndex === this._zoomLevelIndex) {\n    // Nothing to do.\n    return;\n  }\n  this._zoomLevelIndex = zoomLevelIndex;\n  var zoomview = this._peaks.views.getView('zoomview');\n  if (!zoomview) {\n    return;\n  }\n  zoomview.setZoom({\n    scale: this._zoomLevels[zoomLevelIndex]\n  });\n};\n\n/**\n * Returns the current zoom level index.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoom = function () {\n  return this._zoomLevelIndex;\n};\n\n/**\n * Returns the current zoom level, in samples per pixel.\n *\n * @returns {Number}\n */\n\nZoomController.prototype.getZoomLevel = function () {\n  return this._zoomLevels[this._zoomLevelIndex];\n};\n\n/**\n * @file\n *\n * Defines the {@link WaveformBuilder} class.\n *\n * @module waveform-builder\n */\nvar isXhr2 = ('withCredentials' in new XMLHttpRequest());\n\n/**\n * Creates and returns a WaveformData object, either by requesting the\n * waveform data from the server, or by creating the waveform data using the\n * Web Audio API.\n *\n * @class\n * @alias WaveformBuilder\n *\n * @param {Peaks} peaks\n */\n\nfunction WaveformBuilder(peaks) {\n  this._peaks = peaks;\n}\n\n/**\n * Options for requesting remote waveform data.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Options for supplying local waveform data.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Options for the Web Audio waveform builder.\n *\n * @typedef {Object} WaveformBuilderWebAudioOptions\n * @global\n * @property {AudioContext} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [WaveformBuilder.init]{@link WaveformBuilder#init}.\n *\n * @typedef {Object} WaveformBuilderInitOptions\n * @global\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WaveformBuilderWebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Callback for receiving the waveform data.\n *\n * @callback WaveformBuilderInitCallback\n * @global\n * @param {Error} error\n * @param {WaveformData} waveformData\n */\n\n/**\n * Loads or creates the waveform data.\n *\n * @private\n * @param {WaveformBuilderInitOptions} options\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype.init = function (options, callback) {\n  if (options.dataUri && (options.webAudio || options.audioContext) || options.waveformData && (options.webAudio || options.audioContext) || options.dataUri && options.waveformData) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data.'));\n    return;\n  }\n  if (options.audioContext) {\n    // eslint-disable-next-line max-len\n    this._peaks._logger('Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead');\n    options.webAudio = {\n      audioContext: options.audioContext\n    };\n  }\n  if (options.dataUri) {\n    return this._getRemoteWaveformData(options, callback);\n  } else if (options.waveformData) {\n    return this._buildWaveformFromLocalData(options, callback);\n  } else if (options.webAudio) {\n    if (options.webAudio.audioBuffer) {\n      return this._buildWaveformDataFromAudioBuffer(options, callback);\n    } else {\n      return this._buildWaveformDataUsingWebAudio(options, callback);\n    }\n  } else {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data'));\n  }\n};\n\n/* eslint-disable max-len */\n\n/**\n * Fetches waveform data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {String|Object} options.dataUri\n * @param {String} options.dataUri.arraybuffer Waveform data URL\n *   (binary format)\n * @param {String} options.dataUri.json Waveform data URL (JSON format)\n * @param {String} options.defaultUriFormat Either 'arraybuffer' (for binary\n *   data) or 'json'\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\nWaveformBuilder.prototype._getRemoteWaveformData = function (options, callback) {\n  var self = this;\n  var dataUri = null;\n  var requestType = null;\n  var url;\n  if (isObject(options.dataUri)) {\n    dataUri = options.dataUri;\n  } else {\n    callback(new TypeError('Peaks.init(): The dataUri option must be an object'));\n    return;\n  }\n  ['ArrayBuffer', 'JSON'].some(function (connector) {\n    if (window[connector]) {\n      requestType = connector.toLowerCase();\n      url = dataUri[requestType];\n      return Boolean(url);\n    }\n  });\n  if (!url) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible dataUri format for this browser'));\n    return;\n  }\n  self._xhr = self._createXHR(url, requestType, options.withCredentials, function (event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n    if (this.status !== 200) {\n      callback(new Error('Unable to fetch remote data. HTTP status ' + this.status));\n      return;\n    }\n    self._xhr = null;\n    var waveformData = WaveformData.create(event.target.response);\n    if (waveformData.channels !== 1 && waveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    } else if (waveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n    callback(null, waveformData);\n  }, function () {\n    callback(new Error('XHR failed'));\n  }, function () {\n    callback(new Error('XHR aborted'));\n  });\n  self._xhr.send();\n};\n\n/* eslint-disable max-len */\n\n/**\n * Creates a waveform from given data, based on the given options.\n *\n * @private\n * @param {Object} options\n * @param {Object} options.waveformData\n * @param {ArrayBuffer} options.waveformData.arraybuffer Waveform data (binary format)\n * @param {Object} options.waveformData.json Waveform data (JSON format)\n * @param {WaveformBuilderInitCallback} callback\n *\n * @see Refer to the <a href=\"https://github.com/bbc/audiowaveform/blob/master/doc/DataFormat.md\">data format documentation</a>\n *   for details of the binary and JSON waveform data formats.\n */\n\n/* eslint-enable max-len */\n\nWaveformBuilder.prototype._buildWaveformFromLocalData = function (options, callback) {\n  var waveformData = null;\n  var data = null;\n  if (isObject(options.waveformData)) {\n    waveformData = options.waveformData;\n  } else {\n    callback(new Error('Peaks.init(): The waveformData option must be an object'));\n    return;\n  }\n  if (isObject(waveformData.json)) {\n    data = waveformData.json;\n  } else if (isArrayBuffer(waveformData.arraybuffer)) {\n    data = waveformData.arraybuffer;\n  }\n  if (!data) {\n    // eslint-disable-next-line max-len\n    callback(new Error('Peaks.init(): Unable to determine a compatible waveformData format'));\n    return;\n  }\n  try {\n    var createdWaveformData = WaveformData.create(data);\n    if (createdWaveformData.channels !== 1 && createdWaveformData.channels !== 2) {\n      callback(new Error('Peaks.init(): Only mono or stereo waveforms are currently supported'));\n      return;\n    } else if (createdWaveformData.bits !== 8) {\n      callback(new Error('Peaks.init(): 16-bit waveform data is not supported'));\n      return;\n    }\n    callback(null, createdWaveformData);\n  } catch (err) {\n    callback(err);\n  }\n};\n\n/**\n * Creates waveform data using the Web Audio API.\n *\n * @private\n * @param {Object} options\n * @param {AudioContext} options.audioContext\n * @param {HTMLMediaElement} options.mediaElement\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._buildWaveformDataUsingWebAudio = function (options, callback) {\n  var self = this;\n  var audioContext = window.AudioContext || window.webkitAudioContext;\n  if (!(options.webAudio.audioContext instanceof audioContext)) {\n    // eslint-disable-next-line max-len\n    callback(new TypeError('Peaks.init(): The webAudio.audioContext option must be a valid AudioContext'));\n    return;\n  }\n  var webAudioOptions = options.webAudio;\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n\n  // If the media element has already selected which source to play, its\n  // currentSrc attribute will contain the source media URL. Otherwise,\n  // we wait for a canplay event to tell us when the media is ready.\n\n  var mediaSourceUrl = self._peaks.options.mediaElement.currentSrc;\n  if (mediaSourceUrl) {\n    self._requestAudioAndBuildWaveformData(mediaSourceUrl, webAudioOptions, options.withCredentials, callback);\n  } else {\n    self._peaks.once('player.canplay', function () {\n      self._requestAudioAndBuildWaveformData(self._peaks.options.mediaElement.currentSrc, webAudioOptions, options.withCredentials, callback);\n    });\n  }\n};\nWaveformBuilder.prototype._buildWaveformDataFromAudioBuffer = function (options, callback) {\n  var webAudioOptions = options.webAudio;\n  if (webAudioOptions.scale !== options.zoomLevels[0]) {\n    webAudioOptions.scale = options.zoomLevels[0];\n  }\n  var webAudioBuilderOptions = {\n    audio_buffer: webAudioOptions.audioBuffer,\n    split_channels: webAudioOptions.multiChannel,\n    scale: webAudioOptions.scale,\n    disable_worker: true\n  };\n  WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n};\n\n/**\n * Fetches the audio content, based on the given options, and creates waveform\n * data using the Web Audio API.\n *\n * @private\n * @param {url} The media source URL\n * @param {WaveformBuilderWebAudioOptions} webAudio\n * @param {Boolean} withCredentials\n * @param {WaveformBuilderInitCallback} callback\n */\n\nWaveformBuilder.prototype._requestAudioAndBuildWaveformData = function (url, webAudio, withCredentials, callback) {\n  var self = this;\n  if (!url) {\n    self._peaks._logger('Peaks.init(): The mediaElement src is invalid');\n    return;\n  }\n  self._xhr = self._createXHR(url, 'arraybuffer', withCredentials, function (event) {\n    if (this.readyState !== 4) {\n      return;\n    }\n    if (this.status !== 200) {\n      callback(new Error('Unable to fetch remote data. HTTP status ' + this.status));\n      return;\n    }\n    self._xhr = null;\n    var webAudioBuilderOptions = {\n      audio_context: webAudio.audioContext,\n      array_buffer: event.target.response,\n      split_channels: webAudio.multiChannel,\n      scale: webAudio.scale\n    };\n    WaveformData.createFromAudio(webAudioBuilderOptions, callback);\n  }, function () {\n    callback(new Error('XHR failed'));\n  }, function () {\n    callback(new Error('XHR aborted'));\n  });\n  self._xhr.send();\n};\nWaveformBuilder.prototype.abort = function () {\n  if (this._xhr) {\n    this._xhr.abort();\n  }\n};\n\n/**\n * @private\n * @param {String} url\n * @param {String} requestType\n * @param {Boolean} withCredentials\n * @param {Function} onLoad\n * @param {Function} onError\n *\n * @returns {XMLHttpRequest}\n */\n\nWaveformBuilder.prototype._createXHR = function (url, requestType, withCredentials, onLoad, onError, onAbort) {\n  var xhr = new XMLHttpRequest();\n\n  // open an XHR request to the data source file\n  xhr.open('GET', url, true);\n  if (isXhr2) {\n    try {\n      xhr.responseType = requestType;\n    } catch (e) {\n      // Some browsers like Safari 6 do handle XHR2 but not the json\n      // response type, doing only a try/catch fails in IE9\n    }\n  }\n  xhr.onload = onLoad;\n  xhr.onerror = onError;\n  if (isXhr2 && withCredentials) {\n    xhr.withCredentials = true;\n  }\n  xhr.addEventListener('abort', onAbort);\n  return xhr;\n};\n\n/**\n * @file\n *\n * Defines the {@link Peaks} class.\n *\n * @module main\n */\n\n/**\n * Initialises a new Peaks instance with default option settings.\n *\n * @class\n * @alias Peaks\n *\n * @param {Object} opts Configuration options\n */\n\nfunction Peaks() {\n  EventEmitter.call(this);\n\n  // Set default options\n  this.options = {\n    zoomLevels: [512, 1024, 2048, 4096],\n    waveformCache: true,\n    mediaElement: null,\n    mediaUrl: null,\n    dataUri: null,\n    withCredentials: false,\n    waveformData: null,\n    webAudio: null,\n    nudgeIncrement: 1.0,\n    pointMarkerColor: '#39cccc',\n    createSegmentMarker: createSegmentMarker,\n    createSegmentLabel: createSegmentLabel,\n    createPointMarker: createPointMarker,\n    // eslint-disable-next-line no-console\n    logger: console.error.bind(console)\n  };\n  return this;\n}\nPeaks.prototype = Object.create(EventEmitter.prototype);\nvar defaultViewOptions = {\n  playheadColor: '#111111',\n  playheadTextColor: '#aaaaaa',\n  axisGridlineColor: '#cccccc',\n  showAxisLabels: true,\n  axisLabelColor: '#aaaaaa',\n  fontFamily: 'sans-serif',\n  fontSize: 11,\n  fontStyle: 'normal',\n  timeLabelPrecision: 2,\n  enablePoints: true,\n  enableSegments: true\n};\nvar defaultZoomviewOptions = {\n  // showPlayheadTime:    true,\n  playheadClickTolerance: 3,\n  waveformColor: 'rgba(0, 225, 128, 1)',\n  wheelMode: 'none',\n  autoScroll: true,\n  autoScrollOffset: 100\n};\nvar defaultOverviewOptions = {\n  // showPlayheadTime:    false,\n  waveformColor: 'rgba(0, 0, 0, 0.2)',\n  highlightColor: '#aaaaaa',\n  highlightStrokeColor: 'transparent',\n  highlightOpacity: 0.3,\n  highlightOffset: 11,\n  highlightCornerRadius: 2\n};\nvar defaultSegmentOptions = {\n  overlay: false,\n  markers: true,\n  startMarkerColor: '#aaaaaa',\n  endMarkerColor: '#aaaaaa',\n  waveformColor: '#0074d9',\n  overlayColor: '#ff0000',\n  overlayOpacity: 0.3,\n  overlayBorderColor: '#ff0000',\n  overlayBorderWidth: 2,\n  overlayCornerRadius: 5,\n  overlayOffset: 25,\n  overlayLabelAlign: 'left',\n  overlayLabelVerticalAlign: 'top',\n  overlayLabelPadding: 8,\n  overlayLabelColor: '#000000',\n  overlayFontFamily: 'sans-serif',\n  overlayFontSize: 12,\n  overlayFontStyle: 'normal'\n};\nvar defaultScrollbarOptions = {\n  color: '#888888',\n  minWidth: 50\n};\nfunction getOverviewOptions(opts) {\n  var overviewOptions = {};\n  if (opts.overview && opts.overview.showPlayheadTime) {\n    overviewOptions.showPlayheadTime = opts.overview.showPlayheadTime;\n  }\n  var optNames = ['container', 'waveformColor', 'playedWaveformColor', 'playheadColor', 'playheadTextColor', 'formatPlayheadTime', 'timeLabelPrecision', 'axisGridlineColor', 'showAxisLabels', 'axisLabelColor', 'formatAxisTime', 'fontFamily', 'fontSize', 'fontStyle', 'highlightColor', 'highlightStrokeColor', 'highlightOpacity', 'highlightCornerRadius', 'highlightOffset', 'enablePoints', 'enableSegments'];\n  optNames.forEach(function (optName) {\n    if (opts.overview && objectHasProperty(opts.overview, optName)) {\n      overviewOptions[optName] = opts.overview[optName];\n    } else if (objectHasProperty(opts, optName)) {\n      overviewOptions[optName] = opts[optName];\n    } else if (!objectHasProperty(overviewOptions, optName)) {\n      if (objectHasProperty(defaultOverviewOptions, optName)) {\n        overviewOptions[optName] = defaultOverviewOptions[optName];\n      } else if (objectHasProperty(defaultViewOptions, optName)) {\n        overviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n  return overviewOptions;\n}\nfunction getZoomviewOptions(opts) {\n  var zoomviewOptions = {};\n  if (opts.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.showPlayheadTime;\n  } else if (opts.zoomview && opts.zoomview.showPlayheadTime) {\n    zoomviewOptions.showPlayheadTime = opts.zoomview.showPlayheadTime;\n  }\n  var optNames = ['container', 'waveformColor', 'playedWaveformColor', 'playheadColor', 'playheadTextColor', 'formatPlayheadTime', 'playheadClickTolerance', 'timeLabelPrecision', 'axisGridlineColor', 'showAxisLabels', 'axisLabelColor', 'formatAxisTime', 'fontFamily', 'fontSize', 'fontStyle', 'wheelMode', 'autoScroll', 'autoScrollOffset', 'enablePoints', 'enableSegments'];\n  optNames.forEach(function (optName) {\n    if (opts.zoomview && objectHasProperty(opts.zoomview, optName)) {\n      zoomviewOptions[optName] = opts.zoomview[optName];\n    } else if (objectHasProperty(opts, optName)) {\n      zoomviewOptions[optName] = opts[optName];\n    } else if (!objectHasProperty(zoomviewOptions, optName)) {\n      if (objectHasProperty(defaultZoomviewOptions, optName)) {\n        zoomviewOptions[optName] = defaultZoomviewOptions[optName];\n      } else if (objectHasProperty(defaultViewOptions, optName)) {\n        zoomviewOptions[optName] = defaultViewOptions[optName];\n      }\n    }\n  });\n  return zoomviewOptions;\n}\nfunction getScrollbarOptions(opts) {\n  if (!objectHasProperty(opts, 'scrollbar')) {\n    return null;\n  }\n  var scrollbarOptions = {};\n  var optNames = ['container', 'color', 'minWidth'];\n  optNames.forEach(function (optName) {\n    if (objectHasProperty(opts.scrollbar, optName)) {\n      scrollbarOptions[optName] = opts.scrollbar[optName];\n    } else {\n      scrollbarOptions[optName] = defaultScrollbarOptions[optName];\n    }\n  });\n  return scrollbarOptions;\n}\nfunction extendOptions(to, from) {\n  for (var key in from) {\n    if (objectHasProperty(from, key) && objectHasProperty(to, key)) {\n      to[key] = from[key];\n    }\n  }\n  return to;\n}\nfunction addSegmentOptions(options, opts) {\n  options.segmentOptions = {};\n  extend(options.segmentOptions, defaultSegmentOptions);\n  if (opts.segmentOptions) {\n    extendOptions(options.segmentOptions, opts.segmentOptions);\n  }\n  options.zoomview.segmentOptions = {};\n  extend(options.zoomview.segmentOptions, options.segmentOptions);\n  if (opts.zoomview && opts.zoomview.segmentOptions) {\n    extendOptions(options.zoomview.segmentOptions, opts.zoomview.segmentOptions);\n  }\n  options.overview.segmentOptions = {};\n  extend(options.overview.segmentOptions, options.segmentOptions);\n  if (opts.overview && opts.overview.segmentOptions) {\n    extendOptions(options.overview.segmentOptions, opts.overview.segmentOptions);\n  }\n}\nfunction checkContainerElements(options) {\n  var zoomviewContainer = options.zoomview.container;\n  var overviewContainer = options.overview.container;\n  if (!isHTMLElement(zoomviewContainer) && !isHTMLElement(overviewContainer)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): The zoomview and/or overview container options must be valid HTML elements');\n  }\n  if (zoomviewContainer && (zoomviewContainer.clientWidth <= 0 || zoomviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    return new Error('Peaks.init(): Please ensure that the zoomview container is visible and has non-zero width and height');\n  }\n  if (overviewContainer && (overviewContainer.clientWidth <= 0 || overviewContainer.clientHeight <= 0)) {\n    // eslint-disable-next-line max-len\n    return new Error('Peaks.init(): Please ensure that the overview container is visible and has non-zero width and height');\n  }\n}\n\n/**\n * Creates and initialises a new Peaks instance with the given options.\n *\n * @param {Object} opts Configuration options\n *\n * @return {Peaks}\n */\n\nPeaks.init = function (opts, callback) {\n  var instance = new Peaks();\n  var err = instance._setOptions(opts);\n  if (err) {\n    callback(err);\n    return;\n  }\n  err = checkContainerElements(instance.options);\n  if (err) {\n    callback(err);\n    return;\n  }\n  var scrollbarContainer = null;\n  if (instance.options.scrollbar) {\n    scrollbarContainer = instance.options.scrollbar.container;\n    if (!isHTMLElement(scrollbarContainer)) {\n      // eslint-disable-next-line max-len\n      callback(new TypeError('Peaks.init(): The scrollbar container option must be a valid HTML element'));\n      return;\n    }\n    if (scrollbarContainer.clientWidth <= 0) {\n      // eslint-disable-next-line max-len\n      callback(new TypeError('Peaks.init(): Please ensure that the scrollbar container is visible and has non-zero width'));\n      return;\n    }\n  }\n  if (opts.keyboard) {\n    instance._keyboardHandler = new KeyboardHandler(instance);\n  }\n  var player = opts.player ? opts.player : new MediaElementPlayer(instance.options.mediaElement);\n  instance.player = new Player(instance, player);\n  instance.segments = new WaveformSegments(instance);\n  instance.points = new WaveformPoints(instance);\n  instance.zoom = new ZoomController(instance, instance.options.zoomLevels);\n  instance.views = new ViewController(instance);\n\n  // Setup the UI components\n  instance._waveformBuilder = new WaveformBuilder(instance);\n  instance.player.init(instance).then(function () {\n    instance._waveformBuilder.init(instance.options, function (err, waveformData) {\n      if (err) {\n        if (callback) {\n          callback(err);\n        }\n        return;\n      }\n      err = checkContainerElements(instance.options);\n      if (err) {\n        if (callback) {\n          callback(err);\n        }\n        return;\n      }\n      instance._waveformBuilder = null;\n      instance._waveformData = waveformData;\n      var zoomviewContainer = instance.options.zoomview.container;\n      var overviewContainer = instance.options.overview.container;\n      if (overviewContainer) {\n        instance.views.createOverview(overviewContainer);\n      }\n      if (zoomviewContainer) {\n        instance.views.createZoomview(zoomviewContainer);\n      }\n      if (scrollbarContainer) {\n        instance.views.createScrollbar(scrollbarContainer);\n      }\n      if (opts.segments) {\n        instance.segments.add(opts.segments);\n      }\n      if (opts.points) {\n        instance.points.add(opts.points);\n      }\n      if (opts.emitCueEvents) {\n        instance._cueEmitter = new CueEmitter(instance);\n      }\n\n      // Allow applications to attach event handlers before emitting events,\n      // when initialising with local waveform data.\n\n      setTimeout(function () {\n        instance.emit('peaks.ready');\n      }, 0);\n      callback(null, instance);\n    });\n  }).catch(function (err) {\n    if (callback) {\n      callback(err);\n    }\n  });\n  return instance;\n};\nPeaks.prototype._setOptions = function (opts) {\n  if (!isObject(opts)) {\n    return new TypeError('Peaks.init(): The options parameter should be an object');\n  }\n  if (!opts.player) {\n    if (!opts.mediaElement) {\n      return new Error('Peaks.init(): Missing mediaElement option');\n    }\n    if (!(opts.mediaElement instanceof HTMLMediaElement)) {\n      // eslint-disable-next-line max-len\n      return new TypeError('Peaks.init(): The mediaElement option should be an HTMLMediaElement');\n    }\n  }\n  if (opts.logger && !isFunction(opts.logger)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): The logger option should be a function');\n  }\n  if (opts.segments && !Array.isArray(opts.segments)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.segments must be an array of segment objects');\n  }\n  if (opts.points && !Array.isArray(opts.points)) {\n    // eslint-disable-next-line max-len\n    return new TypeError('Peaks.init(): options.points must be an array of point objects');\n  }\n  extendOptions(this.options, opts);\n  this.options.overview = getOverviewOptions(opts);\n  this.options.zoomview = getZoomviewOptions(opts);\n  this.options.scrollbar = getScrollbarOptions(opts);\n  addSegmentOptions(this.options, opts);\n  if (!Array.isArray(this.options.zoomLevels)) {\n    return new TypeError('Peaks.init(): The zoomLevels option should be an array');\n  } else if (this.options.zoomLevels.length === 0) {\n    return new Error('Peaks.init(): The zoomLevels array must not be empty');\n  } else {\n    if (!isInAscendingOrder(this.options.zoomLevels)) {\n      return new Error('Peaks.init(): The zoomLevels array must be sorted in ascending order');\n    }\n  }\n  this._logger = this.options.logger;\n};\n\n/**\n * Remote waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} RemoteWaveformDataOptions\n * @global\n * @property {String=} arraybuffer\n * @property {String=} json\n */\n\n/**\n * Local waveform data options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} LocalWaveformDataOptions\n * @global\n * @property {ArrayBuffer=} arraybuffer\n * @property {Object=} json\n */\n\n/**\n * Web Audio options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} WebAudioOptions\n * @global\n * @property {AudioContext=} audioContext\n * @property {AudioBuffer=} audioBuffer\n * @property {Number=} scale\n * @property {Boolean=} multiChannel\n */\n\n/**\n * Options for [Peaks.setSource]{@link Peaks#setSource}.\n *\n * @typedef {Object} PeaksSetSourceOptions\n * @global\n * @property {String=} mediaUrl\n * @property {RemoteWaveformDataOptions=} dataUri\n * @property {LocalWaveformDataOptions=} waveformData\n * @property {WebAudioOptions=} webAudio\n * @property {Boolean=} withCredentials\n * @property {Array<Number>=} zoomLevels\n */\n\n/**\n * Changes the audio or video media source associated with the {@link Peaks}\n * instance.\n *\n * @see SetSourceHandler\n *\n * @param {PeaksSetSourceOptions} options\n * @param {Function} callback\n */\n\nPeaks.prototype.setSource = function (options, callback) {\n  var self = this;\n  self.player._setSource(options).then(function () {\n    if (!options.zoomLevels) {\n      options.zoomLevels = self.options.zoomLevels;\n    }\n    self._waveformBuilder = new WaveformBuilder(self);\n    self._waveformBuilder.init(options, function (err, waveformData) {\n      if (err) {\n        callback(err);\n        return;\n      }\n      self._waveformBuilder = null;\n      self._waveformData = waveformData;\n      ['overview', 'zoomview'].forEach(function (viewName) {\n        var view = self.views.getView(viewName);\n        if (view) {\n          view.setWaveformData(waveformData);\n        }\n      });\n      self.zoom.setZoomLevels(options.zoomLevels);\n      callback();\n    });\n  }).catch(function (err) {\n    callback(err);\n  });\n};\nPeaks.prototype.getWaveformData = function () {\n  return this._waveformData;\n};\n\n/**\n * Cleans up a Peaks instance after use.\n */\n\nPeaks.prototype.destroy = function () {\n  if (this._waveformBuilder) {\n    this._waveformBuilder.abort();\n  }\n  if (this._keyboardHandler) {\n    this._keyboardHandler.destroy();\n  }\n  if (this.views) {\n    this.views.destroy();\n  }\n  if (this.player) {\n    this.player.destroy();\n  }\n  if (this._cueEmitter) {\n    this._cueEmitter.destroy();\n  }\n};\n\nexport { Peaks as default };\n","<script setup lang=\"ts\">\nimport {\n  shallowRef,\n  onMounted,\n  type ShallowRef,\n  onBeforeUnmount,\n  computed,\n  watch,\n} from 'vue';\nimport {\n  useResizeObserver,\n  useDebounceFn,\n  useElementVisibility,\n} from '@vueuse/core';\n\nimport Peaks, {\n  type PeaksInstance,\n  type PeaksOptions as PeaksOptions,\n} from 'peaks.js';\n\nconst props = defineProps<{\n  /** The audio source URL\n   * (for the \"simple\" mode).\n   * @remarks This URL is to be used internally with the default media slot\n   * (no slot template or external media element id is expected)\n   * @devdoc Note that audio elements with an empty src attribute cause a MediaError.\n   * If this is a concern to you, you can use the v-if directive to conditionally only\n   * render the element on non-emtpy URL values.\n   */\n  src?: string;\n\n  /** Whether to render a video element instead of an audio element\n   * (for the \"simple\" mode). */\n  video?: boolean;\n\n  /** Whether to immediately start calculating the waveform. By default, calculation only starts\n   * when the component is visible. */\n  eager?: boolean;\n\n  /** The unique identifier of an external zoomview element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external zoomview element by id.\n   * (if set, no slot template is expected or used for the zoomview)\n   */\n  zoomviewElementId?: string;\n\n  /** The zoomview element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external zoomview element by object reference.\n   * (if set, no slot template is expected or used for the zoomview)\n   */\n  zoomviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external overview element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external overview element by id.\n   * (if set, no slot template is expected or used for the overview)\n   */\n  overviewElementId?: string;\n\n  /** The overview element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external overview element by object reference.\n   * (if set, no slot template is expected or used for the overview)\n   */\n  overviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external media element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external media element by id.\n   * (if set, no slot template or audio source URL is expected)\n   */\n  mediaElementId?: string;\n\n  /** The external media element to use\n   * (for the \"external\" mode).\n   * @remarks Allows the use of an external media element by object reference.\n   * (if set, no slot template or audio source URL is expected)\n   */\n  mediaElement?: HTMLMediaElement;\n\n  /** The peaks options to use.\n   * @remarks The element references to the overview, zoomview and media element\n   * should not be provided, because these are already handled internally by AudioPeaks\n   * using the other properties.\n   * Doing so relieves the user from the burden of Vue's life cycle management for these elements.\n   * @devdoc Note: Refs to HTML elements can only be accessed after mount.\n   * See https://vuejs.org/guide/essentials/template-refs.html#accessing-the-refs\n   */\n  options?: PeaksOptions;\n}>();\n\n/** The peaks instance MUST NOT be deeply reactive for performance reasons.\n * @devdoc See https://github.com/bbc/peaks.js/issues/406#issuecomment-1225885020 in peaks.js\n * and this documentation https://vuejs.org/api/reactivity-advanced.html#shallowref about shallow references\n */\nconst peaksInstance = shallowRef<PeaksInstance | undefined>(undefined);\n\n/** A reference to the encompassing div */\nconst audioPeaks = shallowRef<HTMLDivElement | null>(null);\n\nconst overview = shallowRef<HTMLDivElement | null>(null);\nconst overviewSlot = shallowRef(null);\nconst zoomview = shallowRef<HTMLDivElement | null>(null);\nconst zoomviewSlot = shallowRef(null);\n\n/** A reference to the media element from the audio slot\n * (only when used in the \"simple\" mode) */\nconst media = shallowRef(null);\n\n/** A reference to the (default) slot with the media element */\nconst mediaSlot = shallowRef(null);\nconst zoomLevel = shallowRef<number | undefined>(undefined);\n\ndefineExpose({\n  /** The peaks.js instance is deliberately exposed, to allow direct use of the various APIs.\n   * @remarks The instance is only available after the mounted lifecycle event and once\n   * peaks.js has properly initialized.\n   */\n  peaksInstance,\n});\n\nonMounted(() => {\n  if (props.eager) {\n    createPeaksInstance();\n  }\n});\n\nonBeforeUnmount(() => {\n  destroyPeaksInstance();\n});\n\nconst emit = defineEmits<{\n  /**\n   * Triggers in case the initialization fails\n   *\n   * @property {Error} error The error\n   */\n  (e: 'error', error: Error): void;\n}>();\n\n// --- lazy loading, only when visible ---\n\nconst audioPeaksIsVisible = useElementVisibility(audioPeaks);\n\nwatch(\n  audioPeaksIsVisible,\n  async () => {\n    if (\n      !props.eager &&\n      audioPeaksIsVisible.value == true &&\n      peaksInstance.value == null\n    ) {\n      createPeaksInstance();\n    }\n  },\n  {\n    immediate: true,\n  }\n);\n\n// --- setup ---\n\n/** Initializes the peaks instance\n * @remarks If no options are provided by the respective component property, some default options are used.\n * @devdoc Must be called only after mount, because the expected HTML elements must be addressable already by their id.\n */\nfunction createPeaksInstance(): void {\n  console.debug('AudioPeaks::createPeaksInstance:options:', props.options);\n\n  const overviewElement = get<HTMLDivElement>(\n    props.overviewElement,\n    props.overviewElementId,\n    overview,\n    overviewSlot,\n    'div'\n  );\n  const zoomviewElement = get<HTMLDivElement>(\n    props.zoomviewElement,\n    props.zoomviewElementId,\n    zoomview,\n    zoomviewSlot,\n    'div'\n  );\n  const mediaElement = get<HTMLMediaElement>(\n    props.mediaElement,\n    props.mediaElementId,\n    media,\n    mediaSlot,\n    'audio,video'\n  );\n\n  // Take over only the internally handled options\n  if (props.options) {\n    if (props.options.zoomview) {\n      //if the zoomview is already specified, only take the container\n      props.options.zoomview.container = zoomviewElement;\n    } else {\n      //create the container option\n      props.options.zoomview = {\n        container: zoomviewElement,\n      };\n    }\n    if (props.options.overview) {\n      //if the overview is already specified, only take the container\n      props.options.overview.container = overviewElement;\n    } else {\n      //create the container option\n      props.options.overview = {\n        container: overviewElement,\n      };\n    }\n\n    props.options.mediaElement = mediaElement;\n  }\n\n  // either take the prepared options from above, or if not available\n  // create and use the bare minimum\n  const options: PeaksOptions = props.options\n    ? props.options\n    : {\n        overview: { container: overviewElement },\n        zoomview: { container: zoomviewElement },\n        mediaElement: mediaElement,\n        webAudio: {\n          audioContext: new AudioContext(),\n        },\n        zoomLevels: [256, 512, 1024, 2048, 4096],\n      };\n\n  Peaks.init(\n    options,\n    function (err: Error, peaks: PeaksInstance | undefined): void {\n      if (err) {\n        console.error(err);\n        emit('error', err);\n      }\n      peaksInstance.value = peaks;\n      zoomLevel.value = peaks?.zoom.getZoom();\n    }\n  );\n}\n\n/** Destroys the peaks instance\n */\nfunction destroyPeaksInstance(): void {\n  peaksInstance.value?.destroy();\n}\n\n/** Handles overview element resizes */\nuseResizeObserver(audioPeaks, () => {\n  debouncedOverviewResize();\n});\n\nconst resizeRateMilliseconds = 300;\n\nconst debouncedOverviewResize = useDebounceFn(() => {\n  console.debug('AudioPeaks::debouncedOverviewResize');\n  const overview = peaksInstance.value?.views.getView('overview');\n  overview?.fitToContainer();\n  const zoomview = peaksInstance.value?.views.getView('zoomview');\n  zoomview?.fitToContainer();\n}, resizeRateMilliseconds);\n\n/** Gets the HTML element to act upon, using the first of the provided options\n * @remarks This is either (first in the following order)\n * - the element provided as object\n * - the element provided by id\n * - the element from the (internal) slot template\n * - the first element from a provided external slot template\n * If none is found 'undefined' is returned, which will throw an error in peaks.js\n * @param {HTMLElement} elm The element\n * @param {string | undefined} htmlElementId The HTML element id\n * @param {ShallowRef} ref The reference to the element\n * @param {ShallowRef} slotRef The reference to the slot containing the element\n * @param {string} slotRefHtmlTagName The required tag name of the element in the slot.\n * This can be a comma-separated list of multiple tags.\n * @return The found element or undefined if none is found\n */\nfunction get<HEType extends HTMLElement>(\n  elm: HEType | undefined,\n  htmlElementId: string | undefined,\n  ref: ShallowRef,\n  slotRef: ShallowRef,\n  slotRefHtmlTagName: string\n): HEType | undefined {\n  if (elm) {\n    console.debug('AudioPeaks::Found elm: ', elm);\n    return elm;\n  }\n  if (htmlElementId) {\n    console.debug('AudioPeaks::Found element by id: ', htmlElementId);\n    return document.getElementById('' + htmlElementId) as unknown as HEType;\n  }\n\n  // The reference can be used only with the default slot\n  const elementByRef = ref.value as unknown as HEType;\n  if (elementByRef) {\n    console.debug('AudioPeaks::Found element by Ref: ', elementByRef);\n    return elementByRef;\n  }\n\n  // With external slot templates, the element can not be referenced with a ref directly\n  // (because external slot templates can not set refs to enclosed elements from the outside)\n  // First get a reference to the slot then find the first element of the given type\n  const externalSlot = slotRef.value as unknown as HTMLElement;\n  if (externalSlot) {\n    const elementByFirstInSlot = externalSlot.querySelector<HEType>(\n      slotRefHtmlTagName\n    ) as unknown as HEType;\n    if (elementByFirstInSlot) {\n      console.debug(\n        'AudioPeaks::Found element by first in slot: ',\n        elementByFirstInSlot\n      );\n      return elementByFirstInSlot;\n    }\n  }\n}\n\nfunction zoomIn(): void {\n  peaksInstance.value?.zoom.zoomIn();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\nfunction zoomOut(): void {\n  peaksInstance.value?.zoom.zoomOut();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\n\n// --- styling values ---\n\n/** The zoomview progress color. */\nconst zoomviewWaveformProgressColor = computed(\n  () =>\n    props.options?.zoomview?.waveformColor ??\n    /* the peaks.js default */ 'rgba(0, 225, 128, 1)'\n);\n\n/** The overview progress color. */\nconst overviewWaveformProgressColor = computed(\n  () =>\n    props.options?.overview?.waveformColor ??\n    /* the peaks.js default */ 'rgba(0, 0, 0, 0.2)'\n);\n</script>\n<template>\n  <div\n    ref=\"audioPeaks\"\n    class=\"peaks\"\n  >\n    <div ref=\"overviewSlot\">\n      <!-- @slot Named slot for the overview element. If an external overview element is referenced, the overview slot is not used -->\n      <slot\n        name=\"overview\"\n        v-if=\"!props.overviewElementId && !props.overviewElement\"\n      >\n        <!-- The slot content for the \"simple\" mode -->\n        <div\n          class=\"peaks-overview\"\n          ref=\"overview\"\n        ></div>\n      </slot>\n    </div>\n\n    <div ref=\"zoomviewSlot\">\n      <!-- @slot Named slot for the zoomview element. If an external zoomview element is referenced, the zoomview slot is not used -->\n      <slot\n        name=\"zoomview\"\n        v-if=\"!props.zoomviewElementId && !props.zoomviewElement\"\n      >\n        <!-- The slot content for the \"simple\" mode -->\n        <div\n          class=\"peaks-zoomview\"\n          ref=\"zoomview\"\n        ></div>\n      </slot>\n    </div>\n\n    <div ref=\"mediaSlot\">\n      <!-- @slot Default slot for the media element. If an external media element is referenced, the default slot is not used -->\n      <slot\n        name=\"default\"\n        v-if=\"!props.mediaElementId && !props.mediaElement\"\n      >\n        <!-- The slot content for the \"simple\" mode -->\n        <!-- The video element (if requested) -->\n        <video\n          v-if=\"video\"\n          class=\"peaks\"\n          ref=\"media\"\n          controls\n        >\n          <source :src=\"src\" />\n          Your browser does not support the video element.\n        </video>\n        <!-- The audio element (for backwards compatibility, the peaks-audio css class is additionally provided) -->\n        <audio\n          v-else\n          class=\"peaks peaks-audio\"\n          ref=\"media\"\n          controls\n        >\n          <source :src=\"src\" />\n          Your browser does not support the audio element.\n        </audio>\n      </slot>\n    </div>\n    <!-- @slot Named slot for the zoom controls.  -->\n    <slot name=\"controls\">\n      <!-- The slot content for the \"simple\" mode -->\n      <div class=\"peaks-controls\">\n        <button @click=\"zoomIn()\">Zoom in</button>&nbsp;\n        <button @click=\"zoomOut()\">Zoom out</button>&nbsp;\n        <span>Zoom level: {{ zoomLevel }}</span>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<style>\naudio.peaks,\nvideo.peaks,\ndiv.peaks-overview,\ndiv.peaks-zoomview {\n  width: 100%;\n}\n\ndiv.peaks-overview,\ndiv.peaks-zoomview {\n  height: 80px;\n}\n\n/** During loading, no waveform is displayed, but a progress indication shown */\n\n/** progress colors */\ndiv.peaks-overview:empty {\n  background: linear-gradient(\n    90deg,\n    rgba(128, 128, 128, 0),\n    v-bind(overviewWaveformProgressColor),\n    rgba(128, 128, 128, 0)\n  );\n}\n\ndiv.peaks-zoomview:empty {\n  background: linear-gradient(\n    90deg,\n    v-bind(zoomviewWaveformProgressColor),\n    rgba(128, 128, 128, 0),\n    v-bind(zoomviewWaveformProgressColor)\n  );\n}\n\ndiv.peaks-overview:empty,\ndiv.peaks-zoomview:empty {\n  pointer-events: none;\n  background-size: 200% 200%;\n  animation-duration: 2s;\n  animation-timing-function: linear;\n  animation-iteration-count: infinite;\n  animation-direction: reverse;\n  animation-name: viewProgress;\n}\n\n@keyframes viewProgress {\n  0% {\n    background-position: -200% -200%;\n  }\n  100% {\n    background-position: 200% 200%;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { PeaksOptions } from 'peaks.js';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\n/** The configuration options \n* @remarks The colors are taken from a Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: '#3298dc',\n    playedWaveformColor: '#238cd1',\n    highlightColor: 'hsl(206, 70%, 96%)',\n    highlightOffset: 0,\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n    showPlayheadTime: false\n  },\n  zoomview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: '#f1b70e',\n    playedWaveformColor: '#d9a50d',\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n    playheadTextColor: '#e43725',\n    showPlayheadTime: true\n  },\n  /* mediaElement is handled separately by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [256],\n  playheadColor: '#e43725'\n}\n</script>\n<template>\n  <div class=\"columns is-desktop\">\n    <div class=\"column\">\n      <p>\n        To fully customize the appearance and behavior, the Peaks.js <a\n          href=\"https://github.com/bbc/peaks.js/blob/master/doc/API.md#configuration\">configuration options</a> can be provided.\n      </p>\n      <p> Note, that you should omit the the\n        <span class=\"code\">zoomview.container</span>,\n        <span class=\"code\">overview.container</span> and\n        <span class=\"code\">mediaElement</span> options, since these are already handled internally, depending on the view mode\n        (see explanation with the basic examples).\n      </p>\n      <p>The options allow you for example to\n      <ul>\n        <li>customize the waveform styles</li>\n        <li>define scrolling behavior</li>\n        <li>use precomputed waveform data</li>\n      </ul>\n      </p>\n    </div>\n    <div class=\"column\">\n\n      <highlightjs language='vue-typescript' code=\"/** The configuration options \n* @remarks The colors are taken from a Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: 'hsl(204, 86%, 53%)',\n    playedWaveformColor: 'hsl(204, 71%, 39%)',\n    highlightColor: 'hsl(206, 70%, 96%)',\n    highlightOffset: 0,\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  zoomview: {\n    /* container is handled separately by AudioPeaks */\n    waveformColor: 'hsl(48, 71%, 48%)',\n    playedWaveformColor: 'hsl(48, 53%, 31%)',\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  /* mediaElement is handled separately by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [256],\n  playheadColor: 'hsl(348, 100%, 61%)'\n}\" />\n      <highlightjs language='vue-template' code=\"<AudioPeaks :options='options'>\n  <audio controls>\n    <source src='https://domain/file.mp3' />\n  </audio>\n  <template #controls><template />\n    <!-- Using an empty template on a slot \n         prevents the default content -->\n  </template>\n</AudioPeaks>\" />\n    </div>\n    <div class=\"column\">\n      <div class=\"box\">\n        <AudioPeaks :options='options'>\n          <audio controls>\n            <source src='https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3' />\n          </audio>\n          <template #controls><template />\n            <!-- Using an empty template on a slot \n                 prevents the default content -->\n          </template>\n        </AudioPeaks>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang='ts'>\nimport type { PeaksOptions } from 'peaks.js';\nimport { computed, reactive, shallowRef } from 'vue';\nimport AudioPeaks from './AudioPeaks.vue';\n\n/** Reference to the AudioPeaks component */\nconst audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()\n\n/** Accessor to the peaks instance from the AudioPeaks component\n * @remarks Allows access to the peaks.js instance to call various functions on the API.\n */\nconst peaksInstance = computed(() => audioPeaks.value?.peaksInstance);\nconst audio = shallowRef<HTMLAudioElement | null>(null);\nconst state = reactive({ isPlaying: false, canPlay: false, bookmark: 0, lastErrorMessage: '' });\n\nconst props = defineProps<{\n  /** The media source URL\n   */\n  src?: string;\n}>();\n\n/** The configuration options\n */\nconst options: PeaksOptions = {\n  overview: {\n    /* The container div is provided and handled internally by AudioPeaks */\n    waveformColor: '#2ecc71',\n    playedWaveformColor: '#29b765',\n    showAxisLabels: false,\n    axisGridlineColor: 'hsl(0, 0%, 100%)',\n    playheadTextColor: '#e43725',\n    showPlayheadTime: true\n  },\n  showPlayheadTime: true,\n  /* The widget does not use a zoom area */\n\n  /* The mediaElement is provided and handled internally by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  playheadColor: '#e43725',\n};\n\n\n\n/** Toggles playback\n * @devdoc Directly uses the audio element instead of the peaks.js player API \n * to allow control even when the waveform is not yet ready.\n */\nfunction togglePlayback() {\n  state.isPlaying = !state.isPlaying;\n  if (state.isPlaying) {\n    audio.value?.play();\n  } else {\n    audio.value?.pause();\n  }\n}\n\n/** Sets a bookmark at the current position\n */\nfunction setBookmark() {\n  const currentTime = peaksInstance.value?.player.getCurrentTime();\n  if (currentTime) {\n    peaksInstance.value?.points.add({\n      time: currentTime,\n      editable: true,\n      labelText: 'Bookmark',\n      color: '#000000'\n    });\n    state.bookmark = currentTime;\n  }\n}\n\n/** Seeks to the stored bookmark\n */\nfunction seekBookmark() {\n  peaksInstance.value?.player.seek(state.bookmark);\n}\n</script>\n<template>\n  <div class='widget'>\n    <button class='item' @click='togglePlayback()' :disabled='!state.canPlay'>\n      <!-- pause icon -->\n      <svg v-if='state.isPlaying' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M14,19H18V5H14M6,19H10V5H6V19Z' />\n      </svg>\n      <!-- play icon -->\n      <svg v-else style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor' d='M8,5.14V19.14L19,12.14L8,5.14Z' />\n      </svg>\n    </button>\n    <button class='item' @click='setBookmark()' :disabled='!state.canPlay' title=\"set bookmark\">\n      <!-- bookmark icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M14.55 20C15 20.76 15.5 21.44 15.91 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V10.22C19.5 10.08 19 10 18.5 10C18.33 10 18.17 10 18 10.03V4H13V12L10.5 9.75L8 12V4H6V20H14.55M22 15.5C22 18.1 18.5 22 18.5 22S15 18.1 15 15.5C15 13.6 16.6 12 18.5 12S22 13.6 22 15.5M19.7 15.6C19.7 15 19.1 14.4 18.5 14.4S17.3 14.9 17.3 15.6C17.3 16.2 17.8 16.8 18.5 16.8S19.8 16.2 19.7 15.6Z' />\n      </svg>\n    </button>\n    <button class='item' @click='seekBookmark()' :disabled='!state.bookmark' title='seek bookmark'>\n      <!-- bookmark seek icon -->\n      <svg style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n        <path fill='currentColor'\n          d='M13.09 20C13.21 20.72 13.46 21.39 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V13.09C19.67 13.04 19.34 13 19 13C18.66 13 18.33 13.04 18 13.09V4H13V12L10.5 9.75L8 12V4H6V20H13.09M17 16V22L22 19L17 16Z' />\n      </svg>\n    </button>\n    <AudioPeaks overviewElementId='widgetOverview' ref='audioPeaks' :options='options'\n      @error='(err) => state.lastErrorMessage = err.message'>\n      <template #zoomview>\n        <template />\n      </template>\n      <template #default>\n        <audio ref='audio' @canplay='\n          () => {\n            state.canPlay = true;\n          }\n        '>\n          <source :src='props.src' />\n        </audio>\n      </template>\n      <template #controls>\n        <template />\n      </template>\n    </AudioPeaks>\n    <div class='item peaks-overview' id='widgetOverview'>\n      <div v-if='props.src' :title='`Loading and rendering from ${props.src}`'>\n        <!-- spinner icon -->\n        <svg class='spin' style='width: 24px; height: 24px' viewBox='0 0 24 24'>\n          <path fill='currentColor'\n            d='M12 19C13.1 19 14 19.9 14 21S13.1 23 12 23 10 22.1 10 21 10.9 19 12 19M12 1C13.1 1 14 1.9 14 3S13.1 5 12 5 10 4.1 10 3 10.9 1 12 1M6 16C7.1 16 8 16.9 8 18S7.1 20 6 20 4 19.1 4 18 4.9 16 6 16M3 10C4.1 10 5 10.9 5 12S4.1 14 3 14 1 13.1 1 12 1.9 10 3 10M6 4C7.1 4 8 4.9 8 6S7.1 8 6 8 4 7.1 4 6 4.9 4 6 4M18 16C19.1 16 20 16.9 20 18S19.1 20 18 20 16 19.1 16 18 16.9 16 18 16M21 10C22.1 10 23 10.9 23 12S22.1 14 21 14 19 13.1 19 12 19.9 10 21 10M18 4C19.1 4 20 4.9 20 6S19.1 8 18 8 16 7.1 16 6 16.9 4 18 4Z' />\n        </svg>\n      </div>\n      <span v-else>no media available</span>\n      <span v-if='state.lastErrorMessage' class='has-text-danger'>{{state.lastErrorMessage}}</span>\n    </div>\n  </div>\n</template>\n<style scoped>\n.widget {\n  height: 48px;\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}\n\n.item {\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  border-radius: 8px;\n  cursor: pointer;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center;\n}\n\n/** The overview item should use all available space, including in the item itself */\n.item.peaks-overview {\n  flex-grow: 1;\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.widget .item:not(:last-child) {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  margin-right: -1px;\n}\n\n.widget .item:not(:first-child) {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(359deg);\n  }\n}\n\n.spin {\n  animation: spin 6s linear infinite;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { reactive } from 'vue';\nimport AudioPeaksWidget from '../components/AudioPeaksWidget.vue';\nconst state = reactive({ url: '' });\n</script>\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        This is a showcase for a simple media player. It's available with\n        vue-peaks as ready-made component,\n        <span class=\"code\">AudioPeaksWidget.vue</span>, which you can use as-is\n        or adapt to your needs.\n      </p>\n    </div>\n    <div class=\"column\">\n      <highlightjs\n        language=\"vue-typescript\"\n        code=\"import AudioPeaksWidget \nfrom 'vue-peaks/src/components/AudioPeaksWidget.vue';\nconst state = reactive({ url: '' });\"\n      />\n      <highlightjs\n        language=\"vue-template\"\n        code=\"<input type='url' \n       v-model='state.url' \n       placeholder='Paste an URL to a media file' />\n<!-- The :key property makes sure that the component \n     is re-rendered on every URL change, causing\n     a re-render of the waveform -->       \n<AudioPeaksWidget :src='state.url' \n                  :key='state.url'>\n</AudioPeaksWidget>\"\n      />\n    </div>\n    <div class=\"column\">\n      <div class=\"box\">\n        <div class=\"field\">\n          <div class=\"control\">\n            <input\n              class=\"input\"\n              type=\"url\"\n              v-model=\"state.url\"\n              placeholder=\"Paste an URL to a media file\"\n            />\n          </div>\n        </div>\n        <!-- The :key property makes sure that the component \n        is re-rendered on every URL change, causing\n        a re-render of the waveform -->\n        <AudioPeaksWidget\n          :src=\"state.url\"\n          :key=\"state.url\"\n        >\n        </AudioPeaksWidget>\n      </div>\n    </div>\n  </div>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        You can find the complete\n        <a\n          href=\"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaksWidget.vue\"\n          >Widget SFC source code on GitHub</a\n        >.\n      </p>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { reactive } from 'vue';\n\nconst state = reactive({ url: '' });\n\n</script>\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>You might need to access the peaks.js instance to call various functions on their extensive <a\n          href=\"https://github.com/bbc/peaks.js#api>\">API</a>.</p>\n      <p>\n        In the hosting component, get a reference to the AudioPeaks child component and, for convenience, a directly\n        computed\n        property to the actual peaks.js instance:\n      </p>\n      <p>\n        <highlightjs language='vue-typescript' code=\"/** Reference to the AudioPeaks component */\nconst audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()\n\n/** Accessor to the peaks instance from the AudioPeaks component\n * @remarks Allows access to the peaks.js instance \n * to call various functions on the API.\n */\nconst peaksInstance = computed(() => audioPeaks.value?.peaksInstance);\" />\n      </p>\n      <p>\n        Now you can access the instance and it's methods by using the reference, like in this example:\n      </p>\n      <p>\n        <highlightjs language='vue-typescript' code=\"/** Sets a bookmark at the current position\n */\nfunction setBookmark() {\n  const currentTime = peaksInstance.value?.player.getCurrentTime();\n  if (currentTime) {\n    peaksInstance.value?.points.add({\n      time: currentTime\n    });\n    state.bookmark = currentTime;\n  }\n}\" />\n      </p>\n      <p>\n        Remember, that the instance is available only after the child has been mounted and peaks.js has been\n        initialized.\n      </p>\n    </div>\n  </div>\n</template>\n ","<script setup lang='ts'>\nimport { reactive, ref } from 'vue';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\n/** reactive properties */\nconst state = reactive({\n  isRendered: true,\n  mediaSource: 'https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3',\n  peaksWidth: 50\n})\n\nfunction toggleRendering() {\n  const currentState = state.isRendered;\n  console.log('CurrentState', currentState);\n  state.isRendered = !currentState;\n}\n\n</script>\n  \n<template>\n  <div class='columns is-desktop'>\n    <div class='column'>\n      <div class='box'>\n        <div class='field'>\n          <label class='label is-multiline'>Create\n            and destroy an AudioPeaks instance:</label>\n          <div class='control'>\n            <button @click='toggleRendering()' class='button  is-danger'>\n              <span>{{ state.isRendered ? 'Destroy' : 'Render' }}</span>\n            </button>\n          </div>\n        </div>\n        <div class='field'>\n          <label class='label is-multiline'>Change the media URL (triggers re-rendering).</label>\n          <div class='control'>\n            <div class='select is-danger'>\n              <select v-model='state.mediaSource' class='highlight'>\n                <option value=''>none</option>\n                <option value='https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3'>An MP3 music file\n                </option>\n                <option value='https://suterma.github.io/vue-peaks/lidija_roos-decisions.ogg'>An OGG music file\n                </option>\n                <option value='https://twit.cachefly.net/audio/sn/sn0886/sn0886.mp3'>Security Now! Podcast,\n                  Episode #886 (112 min, 55.5MB, MP3)</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class='field'>\n          <label class='label is-multiline'>Change the size (triggers re-drawing).</label>\n          <div class='control'>\n            <input \n              id='peaksWidthSlider' \n              class='slider is-fullwidth is-danger is-circle'\n              step='1' min='0' max='100' \n              v-model='state.peaksWidth' \n              type='range'>\n           </div>\n        </div>        \n        <AudioPeaks v-if='state.isRendered' :key='state.mediaSource' :style=\"{ width: state.peaksWidth + '%' }\">\n          <audio controls :src='state.mediaSource'></audio>\n          <template #zoomview>\n            <template />\n          </template>\n          <template #controls>\n            <template />\n          </template>\n        </AudioPeaks>\n\n      </div>\n      <p>\n        AudioPeaks currently does not support reactivity for the options. Still, you can use Vue's reactivity on the\n        component itself. You can for example:\n      </p>\n      <p>\n      <ul>\n        <li>Conditionally render the component (by using Vue's built-in\n          <span class='code'>v-if</span> directive). This also releases memory used.\n        </li>\n        <li>Replace the media source by setting the <span class='code'>src</span> attribute of the audio element. When\n          you also set the <span class='code'>:key</span> property to a new value, the component re-renders. <br />This\n          is called the key-changing\n          technique, and is required to trigger an update of the waveform.</li>\n      </ul>\n      </p>\n      <p>\n        Note that media elements with an empty <span class='code'>src</span> attribute cause a <span class='code'>MediaError</span>. \n        If this is a concern to you, use the <span class='code'>v-if</span> directive\n        to conditionally only render the element on non-emtpy URL values.\n      </p>\n      \n    </div>\n    <div class='column'>\n      <highlightjs language='vue-template' code=\"<AudioPeaks v-if='state.isRendered' :key='state.mediaSource' :style='{ width: state.peaksWidth + '%' }'>\n  <audio controls :src='state.mediaSource'></audio>\n  <template #zoomview>\n\t<template />\n  </template>\n  <template #controls>\n\t<template />\n  </template>\n</AudioPeaks>\" />\n      <p>\n        vue-peaks internally handles resizing of the contained overview and zoomview areas. If you, in the \"external mode\",\n        have an external zoomview or overview area that are resizing completely independent from the <span class='code'>AudioPeaks</span> instance, \n        please handle their resizing according to the <a href='https://github.com/bbc/peaks.js/blob/master/doc/API.md#viewfittocontainer'>\n        peaks.js API docs about resizing</a>.\n      </p>\n    </div>\n  </div>\n</template>\n  ","<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        vue-peaks aims to simplify the use of\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/bbc/peaks.js/\"\n          >peaks.js</a\n        >\n        in a\n        <a\n          target=\"_blank\"\n          href=\" https://vuejs.org/\"\n          >Vue3</a\n        >\n        environment. It provides a\n        <a\n          target=\"_blank\"\n          href=\"    https://vuejs.org/guide/scaling-up/sfc.html\"\n          >Single File Component (SFC)</a\n        >, <span class=\"code\">AudioPeaks</span>.\n      </p>\n      <p>\n        Explore the below examples or see the\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/suterma/vue-peaks#vue-peaks\"\n          >vue-peaks GitHub repository</a\n        >.\n      </p>\n    </div>\n    <div class=\"column\">\n      <p>\n        <highlightjs\n          language=\"bash\"\n          code=\"npm install vue-peaks --save\"\n        />\n      </p>\n      <p>\n        Installing vue-peaks also installs\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/bbc/peaks.js/\"\n          >peaks.js (version 3)</a\n        >\n        as a dependency. Additionally, peaks.js uses\n        <a\n          target=\"_blank\"\n          href=\"https://konvajs.org/\"\n          >Konva (version 8 or 9)</a\n        >\n        and\n        <a\n          target=\"_blank\"\n          href=\"https://github.com/bbc/waveform-data.js\"\n          >waveform-data (version 4)</a\n        >\n        as peer dependencies; these will get installed with vue-peaks, if not\n        already available.\n      </p>\n    </div>\n  </div>\n</template>\n","<template>\n  <p>This project uses</p>\n  <ul>\n    <li>\n      <a\n        href=\"https://github.com/bbc/peaks.js/\"\n        target=\"_blank\"\n        >peaks.js</a\n      >, a client-side JavaScript component to display and interact with audio\n      waveforms in the browser. (Released under the LGPL-3.0 license, by the\n      British Broadcasting Corporation and contributors)\n    </li>\n    <li>\n      <a\n        href=\"https://vuejs.org/\"\n        target=\"_blank\"\n        >Vue.js</a\n      >, the progressive JavaScript framework. (Released under the MIT License,\n      Copyright  2014-2021 Evan You)\n    </li>\n    <li>\n      <a\n        href=\"https://bulma.io/\"\n        target=\"_blank\"\n        >Bulma</a\n      >, the modern CSS framework that just works. (Released under the MIT\n      License, by Jeremy Thomas)\n    </li>\n    <li>\n      <a\n        href=\"https://jenil.github.io/bulmaswatch/\"\n        target=\"_blank\"\n        >Bulmaswatch</a\n      >, free themes for Bulma. (Released under the MIT License, by Jenil\n      Gogari)\n    </li>\n    <li>\n      <a\n        href=\"https://materialdesignicons.com/\"\n        target=\"_blank\"\n        >Material Design Icons</a\n      >, the original. Following Google's Material Design guidelines for system\n      icons. (Icons released under the Apache 2.0 License, by pictogrammers.com)\n    </li>\n    <li>\n      <a\n        href=\"https://jestjs.io/\"\n        target=\"_blank\"\n      >\n        Jest</a\n      >, a delightful JavaScript Testing Framework. (Released under the MIT\n      License, by Facebook)\n    </li>\n    <li>\n      Music from the Album \"Not For Sale\" by Lidija Roos (Released to the\n      public, by Lidija Roos)\n    </li>\n\n    <li>\n      <a\n        href=\"https://github.com/highlightjs/vue-plugin\"\n        target=\"_blank\"\n        >@highlightjs/vue-plugin</a\n      >, provides a highlightjs component for use in your Vue.js 3 applications.\n      (Released under the BSD-3-Clause license, by the highlight.js team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/microsoft/rushstack/tree/main/eslint/eslint-patch\"\n        target=\"_blank\"\n        >@rushstack/eslint-patch</a\n      >, a patch that improves how ESLint loads plugins when working in a\n      monorepo with a reusable toolchain. (Released under the MIT License, by\n      Microsoft)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\"\n        target=\"_blank\"\n        >@types/jsdom, @types/node</a\n      >, the repository for high quality TypeScript type definitions. (Released\n      under the MIT License, by various contributors)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/vitejs/vite\"\n        target=\"_blank\"\n        >vite, vitest, @vitejs/plugin-vue</a\n      >, next Generation Frontend Tooling. (Released under the MIT License, by\n      the vite team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/eslint/eslint\"\n        target=\"_blank\"\n        >eslint</a\n      >, a tool for identifying and reporting on patterns found in\n      ECMAScript/JavaScript code. (Released under the MIT License, by the eslint\n      team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/jsdom/jsdom\"\n        target=\"_blank\"\n        >jsdom</a\n      >, a pure-JavaScript implementation of many web standards. (Released under\n      the MIT License, by the jsdom team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/mysticatea/npm-run-all\"\n        target=\"_blank\"\n        >npm-run-all</a\n      >, a CLI tool to run multiple npm-scripts in parallel or sequential.\n      (Released under the MIT License, by Toru Nagashima)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/prettier/prettier\"\n        target=\"_blank\"\n        >prettier</a\n      >, an opinionated Code Formatter. (Released under the MIT License, by the\n      prettier team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/Microsoft/TypeScript\"\n        target=\"_blank\"\n        >typescript</a\n      >, a language for application-scale JavaScript. (Released under the\n      Apache-2.0 license, by Microsoft)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/johnsoncodehk/volar\"\n        target=\"_blank\"\n        >vue-tsc</a\n      >, high-performance tooling for Vue. (Released under the MIT License, by\n      Johnson Chu)\n    </li>\n    <li>\n      <a\n        href=\"https://vueuse.org/\"\n        target=\"_blank\"\n        >VueUse</a\n      >, a Collection of essential Vue Composition Utilities (Released under the\n      MIT License, by the VueUse team)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/Wikiki/bulma-slider\"\n        target=\"_blank\"\n        >bulma-slider</a\n      >, Bulma's extension to display sliders (Released under the MIT License,\n      by Wikiki)\n    </li>\n  </ul>\n\n  <p>Initial code is taken from</p>\n\n  <ul>\n    <li>\n      <a\n        href=\"https://github.com/candeogi/peaks-vue-demo\"\n        target=\"_blank\"\n        >peaks-vue-demo</a\n      >, by Giovanni Candeo (MIT-licensed)\n    </li>\n    <li>\n      <a\n        href=\"https://github.com/thom4parisot/vue-waveform-template\"\n        target=\"_blank\"\n        >vue-waveform-template</a\n      >, by Thomas Parisot (MIT-licensed)\n    </li>\n  </ul>\n</template>\n","<script setup lang=\"ts\"></script>\n\n<template>\n  <div class=\"columns\">\n    <div class=\"column\">\n      <p>\n        Vue-peaks offers it's own properties for customization. Plus, you can\n        configure the underlying peaks.js instance via the options property (of\n        type <span class=\"code\">PeaksOptions</span>).\n      </p>\n      <p>\n        Read more about each property directly in the\n        <a\n          href=\"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaks.vue#L9\"\n          >source code comments</a\n        >.\n      </p>\n    </div>\n    <div\n      class=\"column\"\n      style=\"overflow-x: auto\"\n    >\n      <highlightjs\n        language=\"vue-typescript\"\n        code=\"src?: string;\nvideo?: boolean;\neager?: boolean;\nzoomviewElementId?: string;\nzoomviewElement?: HTMLDivElement;\noverviewElementId?: string;\noverviewElement?: HTMLDivElement;\nmediaElementId?: string;\nmediaElement?: HTMLMediaElement;\noptions?: PeaksOptions;\"\n      />\n    </div>\n  </div>\n</template>\n","/* eslint-disable no-multi-assign */\n\nfunction deepFreeze(obj) {\n  if (obj instanceof Map) {\n    obj.clear =\n      obj.delete =\n      obj.set =\n        function () {\n          throw new Error('map is read-only');\n        };\n  } else if (obj instanceof Set) {\n    obj.add =\n      obj.clear =\n      obj.delete =\n        function () {\n          throw new Error('set is read-only');\n        };\n  }\n\n  // Freeze self\n  Object.freeze(obj);\n\n  Object.getOwnPropertyNames(obj).forEach((name) => {\n    const prop = obj[name];\n    const type = typeof prop;\n\n    // Freeze prop if it is an object or function and also not already frozen\n    if ((type === 'object' || type === 'function') && !Object.isFrozen(prop)) {\n      deepFreeze(prop);\n    }\n  });\n\n  return obj;\n}\n\n/** @typedef {import('highlight.js').CallbackResponse} CallbackResponse */\n/** @typedef {import('highlight.js').CompiledMode} CompiledMode */\n/** @implements CallbackResponse */\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n    this.isMatchIgnored = false;\n  }\n\n  ignoreMatch() {\n    this.isMatchIgnored = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit$1(original, ...objects) {\n  /** @type Record<string,any> */\n  const result = Object.create(null);\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  // rarely we can have a sublanguage where language is undefined\n  // TODO: track down why\n  return !!node.scope;\n};\n\n/**\n *\n * @param {string} name\n * @param {{prefix:string}} options\n */\nconst scopeToCSSClass = (name, { prefix }) => {\n  // sub-language\n  if (name.startsWith(\"language:\")) {\n    return name.replace(\"language:\", \"language-\");\n  }\n  // tiered scope: comment.line\n  if (name.includes(\".\")) {\n    const pieces = name.split(\".\");\n    return [\n      `${prefix}${pieces.shift()}`,\n      ...(pieces.map((x, i) => `${x}${\"_\".repeat(i + 1)}`))\n    ].join(\" \");\n  }\n  // simple scope\n  return `${prefix}${name}`;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    const className = scopeToCSSClass(node.scope,\n      { prefix: this.classPrefix });\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{scope?: string, language?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/** @typedef {import('highlight.js').Emitter} Emitter */\n/**  */\n\n/** @returns {DataNode} */\nconst newNode = (opts = {}) => {\n  /** @type DataNode */\n  const result = { children: [] };\n  Object.assign(result, opts);\n  return result;\n};\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = newNode();\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} scope */\n  openNode(scope) {\n    /** @type Node */\n    const node = newNode({ scope });\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addText(text)\n  - __addSublanguage(emitter, subLanguageName)\n  - startScope(scope)\n  - endScope()\n  - finalize()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /** @param {string} scope */\n  startScope(scope) {\n    this.openNode(scope);\n  }\n\n  endScope() {\n    this.closeNode();\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  __addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    if (name) node.scope = `language:${name}`;\n\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    this.closeAllNodes();\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction anyNumberOfTimes(re) {\n  return concat('(?:', re, ')*');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction optional(re) {\n  return concat('(?:', re, ')?');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param { Array<string | RegExp | Object> } args\n * @returns {object}\n */\nfunction stripOptionsFromArgs(args) {\n  const opts = args[args.length - 1];\n\n  if (typeof opts === 'object' && opts.constructor === Object) {\n    args.splice(args.length - 1, 1);\n    return opts;\n  } else {\n    return {};\n  }\n}\n\n/** @typedef { {capture?: boolean} } RegexEitherOptions */\n\n/**\n * Any of the passed expresssions may match\n *\n * Creates a huge this | this | that | that match\n * @param {(RegExp | string)[] | [...(RegExp | string)[], RegexEitherOptions]} args\n * @returns {string}\n */\nfunction either(...args) {\n  /** @type { object & {capture?: boolean} }  */\n  const opts = stripOptionsFromArgs(args);\n  const joined = '('\n    + (opts.capture ? \"\" : \"?:\")\n    + args.map((x) => source(x)).join(\"|\") + \")\";\n  return joined;\n}\n\n/**\n * @param {RegExp | string} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  const match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// BACKREF_RE matches an open parenthesis or backreference. To avoid\n// an incorrect parse, it additionally matches the following:\n// - [...] elements, where the meaning of parentheses and escapes change\n// - other escape sequences, so we do not misparse escape sequences as\n//   interesting elements\n// - non-matching or lookahead parentheses, which do not capture. These\n//   follow the '(' with a '?'.\nconst BACKREF_RE = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n\n// **INTERNAL** Not intended for outside usage\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {{joinWith: string}} opts\n * @returns {string}\n */\nfunction _rewriteBackreferences(regexps, { joinWith }) {\n  let numCaptures = 0;\n\n  return regexps.map((regex) => {\n    numCaptures += 1;\n    const offset = numCaptures;\n    let re = source(regex);\n    let out = '';\n\n    while (re.length > 0) {\n      const match = BACKREF_RE.exec(re);\n      if (!match) {\n        out += re;\n        break;\n      }\n      out += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        out += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        out += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    return out;\n  }).map(re => `(${re})`).join(joinWith);\n}\n\n/** @typedef {import('highlight.js').Mode} Mode */\n/** @typedef {import('highlight.js').ModeCallback} ModeCallback */\n\n// Common regexps\nconst MATCH_NOTHING_RE = /\\b\\B/;\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit$1({\n    scope: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  scope: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  scope: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  const mode = inherit$1(\n    {\n      scope: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push({\n    scope: 'doctag',\n    // hack to avoid the space from being included. the space is necessary to\n    // match here to prevent the plain text rule below from gobbling up doctags\n    begin: '[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)',\n    end: /(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,\n    excludeBegin: true,\n    relevance: 0\n  });\n  const ENGLISH_WORD = either(\n    // list of common 1 and 2 letter words in English\n    \"I\",\n    \"a\",\n    \"is\",\n    \"so\",\n    \"us\",\n    \"to\",\n    \"at\",\n    \"if\",\n    \"in\",\n    \"it\",\n    \"on\",\n    // note: this is not an exhaustive list of contractions, just popular ones\n    /[A-Za-z]+['](d|ve|re|ll|t|s|n)/, // contractions - can't we'd they're let's, etc\n    /[A-Za-z]+[-][a-z]+/, // `no-way`, etc.\n    /[A-Za-z][a-z]{2,}/ // allow capitalized words at beginning of sentences\n  );\n  // looking like plain text, more likely to be a comment\n  mode.contains.push(\n    {\n      // TODO: how to include \", (, ) without breaking grammars that use these for\n      // comment delimiters?\n      // begin: /[ ]+([()\"]?([A-Za-z'-]{3,}|is|a|I|so|us|[tT][oO]|at|if|in|it|on)[.]?[()\":]?([.][ ]|[ ]|\\))){3}/\n      // ---\n\n      // this tries to find sequences of 3 english words in a row (without any\n      // \"programming\" type syntax) this gives us a strong signal that we've\n      // TRULY found a comment - vs perhaps scanning with the wrong language.\n      // It's possible to find something that LOOKS like the start of the\n      // comment - but then if there is no readable text - good chance it is a\n      // false match and not a comment.\n      //\n      // for a visual example please see:\n      // https://github.com/highlightjs/highlight.js/issues/2827\n\n      begin: concat(\n        /[ ]+/, // necessary to prevent us gobbling up doctags like /* @author Bob Mcgill */\n        '(',\n        ENGLISH_WORD,\n        /[.]?[:]?([.][ ]|[ ])/,\n        '){3}') // look for 3 words in a row\n    }\n  );\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  scope: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  scope: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  scope: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    scope: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  scope: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  scope: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MATCH_NOTHING_RE: MATCH_NOTHING_RE,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n/**\n@typedef {import('highlight.js').CallbackResponse} CallbackResponse\n@typedef {import('highlight.js').CompilerExt} CompilerExt\n*/\n\n// Grammar extensions / plugins\n// See: https://github.com/highlightjs/highlight.js/issues/2833\n\n// Grammar extensions allow \"syntactic sugar\" to be added to the grammar modes\n// without requiring any underlying changes to the compiler internals.\n\n// `compileMatch` being the perfect small example of now allowing a grammar\n// author to write `match` when they desire to match a single expression rather\n// than being forced to use `begin`.  The extension then just moves `match` into\n// `begin` when it runs.  Ie, no features have been added, but we've just made\n// the experience of writing (and reading grammars) a little bit nicer.\n\n// ------\n\n// TODO: We need negative look-behind support to do this properly\n/**\n * Skip a match if it has a preceding dot\n *\n * This is used for `beginKeywords` to prevent matching expressions such as\n * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n * @param {RegExpMatchArray} match\n * @param {CallbackResponse} response\n */\nfunction skipIfHasPrecedingDot(match, response) {\n  const before = match.input[match.index - 1];\n  if (before === \".\") {\n    response.ignoreMatch();\n  }\n}\n\n/**\n *\n * @type {CompilerExt}\n */\nfunction scopeClassName(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.className !== undefined) {\n    mode.scope = mode.className;\n    delete mode.className;\n  }\n}\n\n/**\n * `beginKeywords` syntactic sugar\n * @type {CompilerExt}\n */\nfunction beginKeywords(mode, parent) {\n  if (!parent) return;\n  if (!mode.beginKeywords) return;\n\n  // for languages with keywords that include non-word characters checking for\n  // a word boundary is not sufficient, so instead we check for a word boundary\n  // or whitespace - this does no harm in any case since our keyword engine\n  // doesn't allow spaces in keywords anyways and we still check for the boundary\n  // first\n  mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?!\\\\.)(?=\\\\b|\\\\s)';\n  mode.__beforeBegin = skipIfHasPrecedingDot;\n  mode.keywords = mode.keywords || mode.beginKeywords;\n  delete mode.beginKeywords;\n\n  // prevents double relevance, the keywords themselves provide\n  // relevance, the mode doesn't need to double it\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 0;\n}\n\n/**\n * Allow `illegal` to contain an array of illegal values\n * @type {CompilerExt}\n */\nfunction compileIllegal(mode, _parent) {\n  if (!Array.isArray(mode.illegal)) return;\n\n  mode.illegal = either(...mode.illegal);\n}\n\n/**\n * `match` to match a single expression for readability\n * @type {CompilerExt}\n */\nfunction compileMatch(mode, _parent) {\n  if (!mode.match) return;\n  if (mode.begin || mode.end) throw new Error(\"begin & end are not supported with match\");\n\n  mode.begin = mode.match;\n  delete mode.match;\n}\n\n/**\n * provides the default 1 relevance to all modes\n * @type {CompilerExt}\n */\nfunction compileRelevance(mode, _parent) {\n  // eslint-disable-next-line no-undefined\n  if (mode.relevance === undefined) mode.relevance = 1;\n}\n\n// allow beforeMatch to act as a \"qualifier\" for the match\n// the full match begin must be [beforeMatch][begin]\nconst beforeMatchExt = (mode, parent) => {\n  if (!mode.beforeMatch) return;\n  // starts conflicts with endsParent which we need to make sure the child\n  // rule is not matched multiple times\n  if (mode.starts) throw new Error(\"beforeMatch cannot be used with starts\");\n\n  const originalMode = Object.assign({}, mode);\n  Object.keys(mode).forEach((key) => { delete mode[key]; });\n\n  mode.keywords = originalMode.keywords;\n  mode.begin = concat(originalMode.beforeMatch, lookahead(originalMode.begin));\n  mode.starts = {\n    relevance: 0,\n    contains: [\n      Object.assign(originalMode, { endsParent: true })\n    ]\n  };\n  mode.relevance = 0;\n\n  delete originalMode.beforeMatch;\n};\n\n// keywords that should have no default relevance value\nconst COMMON_KEYWORDS = [\n  'of',\n  'and',\n  'for',\n  'in',\n  'not',\n  'or',\n  'if',\n  'then',\n  'parent', // common variable name\n  'list', // common variable name\n  'value' // common variable name\n];\n\nconst DEFAULT_KEYWORD_SCOPE = \"keyword\";\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string|string[]> | Array<string>} rawKeywords\n * @param {boolean} caseInsensitive\n */\nfunction compileKeywords(rawKeywords, caseInsensitive, scopeName = DEFAULT_KEYWORD_SCOPE) {\n  /** @type {import(\"highlight.js/private\").KeywordDict} */\n  const compiledKeywords = Object.create(null);\n\n  // input can be a string of keywords, an array of keywords, or a object with\n  // named keys representing scopeName (which can then point to a string or array)\n  if (typeof rawKeywords === 'string') {\n    compileList(scopeName, rawKeywords.split(\" \"));\n  } else if (Array.isArray(rawKeywords)) {\n    compileList(scopeName, rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(scopeName) {\n      // collapse all our objects back into the parent object\n      Object.assign(\n        compiledKeywords,\n        compileKeywords(rawKeywords[scopeName], caseInsensitive, scopeName)\n      );\n    });\n  }\n  return compiledKeywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} scopeName\n   * @param {Array<string>} keywordList\n   */\n  function compileList(scopeName, keywordList) {\n    if (caseInsensitive) {\n      keywordList = keywordList.map(x => x.toLowerCase());\n    }\n    keywordList.forEach(function(keyword) {\n      const pair = keyword.split('|');\n      compiledKeywords[pair[0]] = [scopeName, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\n/*\n\nFor the reasoning behind this please see:\nhttps://github.com/highlightjs/highlight.js/issues/2880#issuecomment-747275419\n\n*/\n\n/**\n * @type {Record<string, boolean>}\n */\nconst seenDeprecations = {};\n\n/**\n * @param {string} message\n */\nconst error = (message) => {\n  console.error(message);\n};\n\n/**\n * @param {string} message\n * @param {any} args\n */\nconst warn = (message, ...args) => {\n  console.log(`WARN: ${message}`, ...args);\n};\n\n/**\n * @param {string} version\n * @param {string} message\n */\nconst deprecated = (version, message) => {\n  if (seenDeprecations[`${version}/${message}`]) return;\n\n  console.log(`Deprecated as of ${version}. ${message}`);\n  seenDeprecations[`${version}/${message}`] = true;\n};\n\n/* eslint-disable no-throw-literal */\n\n/**\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n*/\n\nconst MultiClassError = new Error();\n\n/**\n * Renumbers labeled scope names to account for additional inner match\n * groups that otherwise would break everything.\n *\n * Lets say we 3 match scopes:\n *\n *   { 1 => ..., 2 => ..., 3 => ... }\n *\n * So what we need is a clean match like this:\n *\n *   (a)(b)(c) => [ \"a\", \"b\", \"c\" ]\n *\n * But this falls apart with inner match groups:\n *\n * (a)(((b)))(c) => [\"a\", \"b\", \"b\", \"b\", \"c\" ]\n *\n * Our scopes are now \"out of alignment\" and we're repeating `b` 3 times.\n * What needs to happen is the numbers are remapped:\n *\n *   { 1 => ..., 2 => ..., 5 => ... }\n *\n * We also need to know that the ONLY groups that should be output\n * are 1, 2, and 5.  This function handles this behavior.\n *\n * @param {CompiledMode} mode\n * @param {Array<RegExp | string>} regexes\n * @param {{key: \"beginScope\"|\"endScope\"}} opts\n */\nfunction remapScopeNames(mode, regexes, { key }) {\n  let offset = 0;\n  const scopeNames = mode[key];\n  /** @type Record<number,boolean> */\n  const emit = {};\n  /** @type Record<number,string> */\n  const positions = {};\n\n  for (let i = 1; i <= regexes.length; i++) {\n    positions[i + offset] = scopeNames[i];\n    emit[i + offset] = true;\n    offset += countMatchGroups(regexes[i - 1]);\n  }\n  // we use _emit to keep track of which match groups are \"top-level\" to avoid double\n  // output from inside match groups\n  mode[key] = positions;\n  mode[key]._emit = emit;\n  mode[key]._multi = true;\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction beginMultiClass(mode) {\n  if (!Array.isArray(mode.begin)) return;\n\n  if (mode.skip || mode.excludeBegin || mode.returnBegin) {\n    error(\"skip, excludeBegin, returnBegin not compatible with beginScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.beginScope !== \"object\" || mode.beginScope === null) {\n    error(\"beginScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.begin, { key: \"beginScope\" });\n  mode.begin = _rewriteBackreferences(mode.begin, { joinWith: \"\" });\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction endMultiClass(mode) {\n  if (!Array.isArray(mode.end)) return;\n\n  if (mode.skip || mode.excludeEnd || mode.returnEnd) {\n    error(\"skip, excludeEnd, returnEnd not compatible with endScope: {}\");\n    throw MultiClassError;\n  }\n\n  if (typeof mode.endScope !== \"object\" || mode.endScope === null) {\n    error(\"endScope must be object\");\n    throw MultiClassError;\n  }\n\n  remapScopeNames(mode, mode.end, { key: \"endScope\" });\n  mode.end = _rewriteBackreferences(mode.end, { joinWith: \"\" });\n}\n\n/**\n * this exists only to allow `scope: {}` to be used beside `match:`\n * Otherwise `beginScope` would necessary and that would look weird\n\n  {\n    match: [ /def/, /\\w+/ ]\n    scope: { 1: \"keyword\" , 2: \"title\" }\n  }\n\n * @param {CompiledMode} mode\n */\nfunction scopeSugar(mode) {\n  if (mode.scope && typeof mode.scope === \"object\" && mode.scope !== null) {\n    mode.beginScope = mode.scope;\n    delete mode.scope;\n  }\n}\n\n/**\n * @param {CompiledMode} mode\n */\nfunction MultiClass(mode) {\n  scopeSugar(mode);\n\n  if (typeof mode.beginScope === \"string\") {\n    mode.beginScope = { _wrap: mode.beginScope };\n  }\n  if (typeof mode.endScope === \"string\") {\n    mode.endScope = { _wrap: mode.endScope };\n  }\n\n  beginMultiClass(mode);\n  endMultiClass(mode);\n}\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').CompiledLanguage} CompiledLanguage\n*/\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensitivity of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm'\n      + (language.case_insensitive ? 'i' : '')\n      + (language.unicodeRegex ? 'u' : '')\n      + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(_rewriteBackreferences(terminators, { joinWith: '|' }), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    resumingScanAtSamePosition() {\n      return this.regexIndex !== 0;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      let result = m.exec(s);\n\n      // The following is because we have no easy way to say \"resume scanning at the\n      // existing position but also skip the current rule ONLY\". What happens is\n      // all prior rules are also skipped which can result in matching the wrong\n      // thing. Example of matching \"booger\":\n\n      // our matcher is [string, \"booger\", number]\n      //\n      // ....booger....\n\n      // if \"booger\" is ignored then we'd really need a regex to scan from the\n      // SAME position for only: [string, number] but ignoring \"booger\" (if it\n      // was the first match), a simple resume would scan ahead who knows how\n      // far looking only for \"number\", ignoring potential string matches (or\n      // future \"booger\" matches that might be valid.)\n\n      // So what we do: We execute two matchers, one resuming at the same\n      // position, but the second full matcher starting at the position after:\n\n      //     /--- resume first regex match here (for [number])\n      //     |/---- full match here for [string, \"booger\", number]\n      //     vv\n      // ....booger....\n\n      // Which ever results in a match first is then used. So this 3-4 step\n      // process essentially allows us to say \"match at this position, excluding\n      // a prior rule that was ignored\".\n      //\n      // 1. Match \"booger\" first, ignore. Also proves that [string] does non match.\n      // 2. Resume matching for [number]\n      // 3. Match at index + 1 for [string, \"booger\", number]\n      // 4. If #2 and #3 result in matches, which came first?\n      if (this.resumingScanAtSamePosition()) {\n        if (result && result.index === this.lastIndex) ; else { // use the second matcher result\n          const m2 = this.getMatcher(0);\n          m2.lastIndex = this.lastIndex + 1;\n          result = m2.exec(s);\n        }\n      }\n\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) {\n          // wrap-around to considering all matches again\n          this.considerAll();\n        }\n      }\n\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminatorEnd) {\n      mm.addRule(mode.terminatorEnd, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.isCompiled) return cmode;\n\n    [\n      scopeClassName,\n      // do this early so compiler extensions generally don't have to worry about\n      // the distinction between match/begin\n      compileMatch,\n      MultiClass,\n      beforeMatchExt\n    ].forEach(ext => ext(mode, parent));\n\n    language.compilerExtensions.forEach(ext => ext(mode, parent));\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    [\n      beginKeywords,\n      // do this later so compiler extensions that come earlier have access to the\n      // raw array if they wanted to perhaps manipulate it, etc.\n      compileIllegal,\n      // default to 1 relevance if not specified\n      compileRelevance\n    ].forEach(ext => ext(mode, parent));\n\n    mode.isCompiled = true;\n\n    let keywordPattern = null;\n    if (typeof mode.keywords === \"object\" && mode.keywords.$pattern) {\n      // we need a copy because keywords might be compiled multiple times\n      // so we can't go deleting $pattern from the original on the first\n      // pass\n      mode.keywords = Object.assign({}, mode.keywords);\n      keywordPattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n    keywordPattern = keywordPattern || /\\w+/;\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    cmode.keywordPatternRe = langRe(keywordPattern, true);\n\n    if (parent) {\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(cmode.begin);\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(cmode.end);\n      cmode.terminatorEnd = source(cmode.end) || '';\n      if (mode.endsWithParent && parent.terminatorEnd) {\n        cmode.terminatorEnd += (mode.end ? '|' : '') + parent.terminatorEnd;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(/** @type {RegExp | string} */ (mode.illegal));\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expandOrCloneMode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  if (!language.compilerExtensions) language.compilerExtensions = [];\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n\n  // we need a null object, which inherit will guarantee\n  language.classNameAliases = inherit$1(language.classNameAliases || {});\n\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expandOrCloneMode(mode) {\n  if (mode.variants && !mode.cachedVariants) {\n    mode.cachedVariants = mode.variants.map(function(variant) {\n      return inherit$1(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cachedVariants) {\n    return mode.cachedVariants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit$1(mode, { starts: mode.starts ? inherit$1(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit$1(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\nvar version = \"11.8.0\";\n\nclass HTMLInjectionError extends Error {\n  constructor(reason, html) {\n    super(reason);\n    this.name = \"HTMLInjectionError\";\n    this.html = html;\n  }\n}\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\n\n/**\n@typedef {import('highlight.js').Mode} Mode\n@typedef {import('highlight.js').CompiledMode} CompiledMode\n@typedef {import('highlight.js').CompiledScope} CompiledScope\n@typedef {import('highlight.js').Language} Language\n@typedef {import('highlight.js').HLJSApi} HLJSApi\n@typedef {import('highlight.js').HLJSPlugin} HLJSPlugin\n@typedef {import('highlight.js').PluginEvent} PluginEvent\n@typedef {import('highlight.js').HLJSOptions} HLJSOptions\n@typedef {import('highlight.js').LanguageFn} LanguageFn\n@typedef {import('highlight.js').HighlightedHTMLElement} HighlightedHTMLElement\n@typedef {import('highlight.js').BeforeHighlightContext} BeforeHighlightContext\n@typedef {import('highlight.js/private').MatchType} MatchType\n@typedef {import('highlight.js/private').KeywordData} KeywordData\n@typedef {import('highlight.js/private').EnhancedMatch} EnhancedMatch\n@typedef {import('highlight.js/private').AnnotatedError} AnnotatedError\n@typedef {import('highlight.js').AutoHighlightResult} AutoHighlightResult\n@typedef {import('highlight.js').HighlightOptions} HighlightOptions\n@typedef {import('highlight.js').HighlightResult} HighlightResult\n*/\n\n\nconst escape = escapeHTML;\nconst inherit = inherit$1;\nconst NO_MATCH = Symbol(\"nomatch\");\nconst MAX_KEYWORD_HITS = 7;\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  const languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  const aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  const plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  let SAFE_MODE = true;\n  const LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  let options = {\n    ignoreUnescapedHTML: false,\n    throwUnescapedHTML: false,\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    cssSelector: 'pre code',\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    let classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      const language = getLanguage(match[1]);\n      if (!language) {\n        warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * OLD API\n   * highlight(lang, code, ignoreIllegals, continuation)\n   *\n   * NEW API\n   * highlight(code, {lang, ignoreIllegals})\n   *\n   * @param {string} codeOrLanguageName - the language to use for highlighting\n   * @param {string | HighlightOptions} optionsOrCode - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {CompiledMode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(codeOrLanguageName, optionsOrCode, ignoreIllegals) {\n    let code = \"\";\n    let languageName = \"\";\n    if (typeof optionsOrCode === \"object\") {\n      code = codeOrLanguageName;\n      ignoreIllegals = optionsOrCode.ignoreIllegals;\n      languageName = optionsOrCode.language;\n    } else {\n      // old API\n      deprecated(\"10.7.0\", \"highlight(lang, code, ...args) has been deprecated.\");\n      deprecated(\"10.7.0\", \"Please use highlight(code, options) instead.\\nhttps://github.com/highlightjs/highlight.js/issues/2277\");\n      languageName = codeOrLanguageName;\n      code = optionsOrCode;\n    }\n\n    // https://github.com/highlightjs/highlight.js/issues/3149\n    // eslint-disable-next-line no-undefined\n    if (ignoreIllegals === undefined) { ignoreIllegals = true; }\n\n    /** @type {BeforeHighlightContext} */\n    const context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    const result = context.result\n      ? context.result\n      : _highlight(context.language, context.code, ignoreIllegals);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} codeToHighlight - the code to highlight\n   * @param {boolean?} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {CompiledMode?} [continuation] - current continuation mode, if any\n   * @returns {HighlightResult} - result of the highlight operation\n  */\n  function _highlight(languageName, codeToHighlight, ignoreIllegals, continuation) {\n    const keywordHits = Object.create(null);\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {string} matchText - the textual match\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, matchText) {\n      return mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(modeBuffer);\n        return;\n      }\n\n      let lastIndex = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(modeBuffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += modeBuffer.substring(lastIndex, match.index);\n        const word = language.case_insensitive ? match[0].toLowerCase() : match[0];\n        const data = keywordData(top, word);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          keywordHits[word] = (keywordHits[word] || 0) + 1;\n          if (keywordHits[word] <= MAX_KEYWORD_HITS) relevance += keywordRelevance;\n          if (kind.startsWith(\"_\")) {\n            // _ implied for relevance only, do not highlight\n            // by applying a class name\n            buf += match[0];\n          } else {\n            const cssClass = language.classNameAliases[kind] || kind;\n            emitKeyword(match[0], cssClass);\n          }\n        } else {\n          buf += match[0];\n        }\n        lastIndex = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(modeBuffer);\n      }\n      buf += modeBuffer.substring(lastIndex);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (modeBuffer === \"\") return;\n      /** @type HighlightResult */\n      let result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(modeBuffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, modeBuffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = /** @type {CompiledMode} */ (result._top);\n      } else {\n        result = highlightAuto(modeBuffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.__addSublanguage(result._emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      modeBuffer = '';\n    }\n\n    /**\n     * @param {string} text\n     * @param {string} scope\n     */\n    function emitKeyword(keyword, scope) {\n      if (keyword === \"\") return;\n\n      emitter.startScope(scope);\n      emitter.addText(keyword);\n      emitter.endScope();\n    }\n\n    /**\n     * @param {CompiledScope} scope\n     * @param {RegExpMatchArray} match\n     */\n    function emitMultiClass(scope, match) {\n      let i = 1;\n      const max = match.length - 1;\n      while (i <= max) {\n        if (!scope._emit[i]) { i++; continue; }\n        const klass = language.classNameAliases[scope[i]] || scope[i];\n        const text = match[i];\n        if (klass) {\n          emitKeyword(text, klass);\n        } else {\n          modeBuffer = text;\n          processKeywords();\n          modeBuffer = \"\";\n        }\n        i++;\n      }\n    }\n\n    /**\n     * @param {CompiledMode} mode - new mode to start\n     * @param {RegExpMatchArray} match\n     */\n    function startNewMode(mode, match) {\n      if (mode.scope && typeof mode.scope === \"string\") {\n        emitter.openNode(language.classNameAliases[mode.scope] || mode.scope);\n      }\n      if (mode.beginScope) {\n        // beginScope just wraps the begin match itself in a scope\n        if (mode.beginScope._wrap) {\n          emitKeyword(modeBuffer, language.classNameAliases[mode.beginScope._wrap] || mode.beginScope._wrap);\n          modeBuffer = \"\";\n        } else if (mode.beginScope._multi) {\n          // at this point modeBuffer should just be the match\n          emitMultiClass(mode.beginScope, match);\n          modeBuffer = \"\";\n        }\n      }\n\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.isMatchIgnored) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexes to potentially match here, so we move the cursor forward one\n        // space\n        modeBuffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        resumeScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      const lexeme = match[0];\n      const newMode = match.rule;\n\n      const resp = new Response(newMode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [newMode.__beforeBegin, newMode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.isMatchIgnored) return doIgnore(lexeme);\n      }\n\n      if (newMode.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (newMode.excludeBegin) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (!newMode.returnBegin && !newMode.excludeBegin) {\n          modeBuffer = lexeme;\n        }\n      }\n      startNewMode(newMode, match);\n      return newMode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      const lexeme = match[0];\n      const matchPlusRemainder = codeToHighlight.substring(match.index);\n\n      const endMode = endOfMode(top, match, matchPlusRemainder);\n      if (!endMode) { return NO_MATCH; }\n\n      const origin = top;\n      if (top.endScope && top.endScope._wrap) {\n        processBuffer();\n        emitKeyword(lexeme, top.endScope._wrap);\n      } else if (top.endScope && top.endScope._multi) {\n        processBuffer();\n        emitMultiClass(top.endScope, match);\n      } else if (origin.skip) {\n        modeBuffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          modeBuffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          modeBuffer = lexeme;\n        }\n      }\n      do {\n        if (top.scope) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== endMode.parent);\n      if (endMode.starts) {\n        startNewMode(endMode.starts, match);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      const list = [];\n      for (let current = top; current !== language; current = current.parent) {\n        if (current.scope) {\n          list.unshift(current.scope);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    let lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      const lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      modeBuffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        modeBuffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error(`0 width match regex (${languageName})`);\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.scope || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        const processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  An potential end match that was\n      triggered but could not be completed.  IE, `doEndMatch` returned NO_MATCH.\n      (this could be because a callback requests the match be ignored, etc)\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      modeBuffer += lexeme;\n      return lexeme.length;\n    }\n\n    const language = getLanguage(languageName);\n    if (!language) {\n      error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    const md = compileLanguage(language);\n    let result = '';\n    /** @type {CompiledMode} */\n    let top = continuation || md;\n    /** @type Record<string,CompiledMode> */\n    const continuations = {}; // keep continuations for sub-languages\n    const emitter = new options.__emitter(options);\n    processContinuations();\n    let modeBuffer = '';\n    let relevance = 0;\n    let index = 0;\n    let iterations = 0;\n    let resumeScanAtSamePosition = false;\n\n    try {\n      if (!language.__emitTokens) {\n        top.matcher.considerAll();\n\n        for (;;) {\n          iterations++;\n          if (resumeScanAtSamePosition) {\n            // only regexes not matched previously will now be\n            // considered for a potential match\n            resumeScanAtSamePosition = false;\n          } else {\n            top.matcher.considerAll();\n          }\n          top.matcher.lastIndex = index;\n\n          const match = top.matcher.exec(codeToHighlight);\n          // console.log(\"match\", match[0], match.rule && match.rule.begin)\n\n          if (!match) break;\n\n          const beforeMatch = codeToHighlight.substring(index, match.index);\n          const processedCount = processLexeme(beforeMatch, match);\n          index = match.index + processedCount;\n        }\n        processLexeme(codeToHighlight.substring(index));\n      } else {\n        language.__emitTokens(codeToHighlight, emitter);\n      }\n\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        language: languageName,\n        value: result,\n        relevance,\n        illegal: false,\n        _emitter: emitter,\n        _top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: true,\n          relevance: 0,\n          _illegalBy: {\n            message: err.message,\n            index,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode,\n            resultSoFar: result\n          },\n          _emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          language: languageName,\n          value: escape(codeToHighlight),\n          illegal: false,\n          relevance: 0,\n          errorRaised: err,\n          _emitter: emitter,\n          _top: top\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      value: escape(code),\n      illegal: false,\n      relevance: 0,\n      _top: PLAINTEXT_LANGUAGE,\n      _emitter: new options.__emitter(options)\n    };\n    result._emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - secondBest (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    const plaintext = justTextHighlightResult(code);\n\n    const results = languageSubset.filter(getLanguage).filter(autoDetection).map(name =>\n      _highlight(name, code, false)\n    );\n    results.unshift(plaintext); // plaintext is always an option\n\n    const sorted = results.sort((a, b) => {\n      // sort base on relevance\n      if (a.relevance !== b.relevance) return b.relevance - a.relevance;\n\n      // always award the tie to the base language\n      // ie if C++ and Arduino are tied, it's more likely to be C++\n      if (a.language && b.language) {\n        if (getLanguage(a.language).supersetOf === b.language) {\n          return 1;\n        } else if (getLanguage(b.language).supersetOf === a.language) {\n          return -1;\n        }\n      }\n\n      // otherwise say they are equal, which has the effect of sorting on\n      // relevance while preserving the original ordering - which is how ties\n      // have historically been settled, ie the language that comes first always\n      // wins in the case of a tie\n      return 0;\n    });\n\n    const [best, secondBest] = sorted;\n\n    /** @type {AutoHighlightResult} */\n    const result = best;\n    result.secondBest = secondBest;\n\n    return result;\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {HTMLElement} element\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function updateClassName(element, currentLang, resultLang) {\n    const language = (currentLang && aliases[currentLang]) || resultLang;\n\n    element.classList.add(\"hljs\");\n    element.classList.add(`language-${language}`);\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightElement(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightElement\",\n      { el: element, language });\n\n    // we should be all text, no child nodes (unescaped HTML) - this is possibly\n    // an HTML injection attack - it's likely too late if this is already in\n    // production (the code has likely already done its damage by the time\n    // we're seeing it)... but we yell loudly about this so that hopefully it's\n    // more likely to be caught in development before making it to production\n    if (element.children.length > 0) {\n      if (!options.ignoreUnescapedHTML) {\n        console.warn(\"One of your code blocks includes unescaped HTML. This is a potentially serious security risk.\");\n        console.warn(\"https://github.com/highlightjs/highlight.js/wiki/security\");\n        console.warn(\"The element with unescaped HTML:\");\n        console.warn(element);\n      }\n      if (options.throwUnescapedHTML) {\n        const err = new HTMLInjectionError(\n          \"One of your code blocks includes unescaped HTML.\",\n          element.innerHTML\n        );\n        throw err;\n      }\n    }\n\n    node = element;\n    const text = node.textContent;\n    const result = language ? highlight(text, { language, ignoreIllegals: true }) : highlightAuto(text);\n\n    element.innerHTML = result.value;\n    updateClassName(element, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relevance: result.relevance\n    };\n    if (result.secondBest) {\n      element.secondBest = {\n        language: result.secondBest.language,\n        relevance: result.secondBest.relevance\n      };\n    }\n\n    fire(\"after:highlightElement\", { el: element, result, text });\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {Partial<HLJSOptions>} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit(options, userOptions);\n  }\n\n  // TODO: remove v12, deprecated\n  const initHighlighting = () => {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlighting() deprecated.  Use highlightAll() now.\");\n  };\n\n  // TODO: remove v12, deprecated\n  function initHighlightingOnLoad() {\n    highlightAll();\n    deprecated(\"10.6.0\", \"initHighlightingOnLoad() deprecated.  Use highlightAll() now.\");\n  }\n\n  let wantsHighlight = false;\n\n  /**\n   * auto-highlights all pre>code elements on the page\n   */\n  function highlightAll() {\n    // if we are called too early in the loading process\n    if (document.readyState === \"loading\") {\n      wantsHighlight = true;\n      return;\n    }\n\n    const blocks = document.querySelectorAll(options.cssSelector);\n    blocks.forEach(highlightElement);\n  }\n\n  function boot() {\n    // if a highlight was requested before DOM was loaded, do now\n    if (wantsHighlight) highlightAll();\n  }\n\n  // make sure we are in the browser environment\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('DOMContentLoaded', boot, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    let lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error$1) {\n      error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error$1; } else { error(error$1); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * Remove a language grammar module\n   *\n   * @param {string} languageName\n   */\n  function unregisterLanguage(languageName) {\n    delete languages[languageName];\n    for (const alias of Object.keys(aliases)) {\n      if (aliases[alias] === languageName) {\n        delete aliases[alias];\n      }\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias.toLowerCase()] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    const lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * Upgrades the old highlightBlock plugins to the new\n   * highlightElement API\n   * @param {HLJSPlugin} plugin\n   */\n  function upgradePluginAPI(plugin) {\n    // TODO: remove with v12\n    if (plugin[\"before:highlightBlock\"] && !plugin[\"before:highlightElement\"]) {\n      plugin[\"before:highlightElement\"] = (data) => {\n        plugin[\"before:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n    if (plugin[\"after:highlightBlock\"] && !plugin[\"after:highlightElement\"]) {\n      plugin[\"after:highlightElement\"] = (data) => {\n        plugin[\"after:highlightBlock\"](\n          Object.assign({ block: data.el }, data)\n        );\n      };\n    }\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    upgradePluginAPI(plugin);\n    plugins.push(plugin);\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function removePlugin(plugin) {\n    const index = plugins.indexOf(plugin);\n    if (index !== -1) {\n      plugins.splice(index, 1);\n    }\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    const cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /**\n   * DEPRECATED\n   * @param {HighlightedHTMLElement} el\n   */\n  function deprecateHighlightBlock(el) {\n    deprecated(\"10.7.0\", \"highlightBlock will be removed entirely in v12.0\");\n    deprecated(\"10.7.0\", \"Please use highlightElement now.\");\n\n    return highlightElement(el);\n  }\n\n  /* Interface definition */\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    highlightAll,\n    highlightElement,\n    // TODO: Remove with v12 API\n    highlightBlock: deprecateHighlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    unregisterLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    autoDetection,\n    inherit,\n    addPlugin,\n    removePlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  hljs.regex = {\n    concat: concat,\n    lookahead: lookahead,\n    either: either,\n    optional: optional,\n    anyNumberOfTimes: anyNumberOfTimes\n  };\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexes into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// Other names for the variable may break build script\nconst highlight = HLJS({});\n\n// returns a new instance of the highlighter to be used for extensions\n// check https://github.com/wooorm/lowlight/issues/47\nhighlight.newInstance = () => HLJS({});\n\nmodule.exports = highlight;\nhighlight.HighlightJS = highlight;\nhighlight.default = highlight;\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects\nconst TYPES = [\n  // Fundamental objects\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Symbol\",\n  // numbers and dates\n  \"Math\",\n  \"Date\",\n  \"Number\",\n  \"BigInt\",\n  // text\n  \"String\",\n  \"RegExp\",\n  // Indexed collections\n  \"Array\",\n  \"Float32Array\",\n  \"Float64Array\",\n  \"Int8Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"BigInt64Array\",\n  \"BigUint64Array\",\n  // Keyed collections\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  // Structured data\n  \"ArrayBuffer\",\n  \"SharedArrayBuffer\",\n  \"Atomics\",\n  \"DataView\",\n  \"JSON\",\n  // Control abstraction objects\n  \"Promise\",\n  \"Generator\",\n  \"GeneratorFunction\",\n  \"AsyncFunction\",\n  // Reflection\n  \"Reflect\",\n  \"Proxy\",\n  // Internationalization\n  \"Intl\",\n  // WebAssembly\n  \"WebAssembly\"\n];\n\nconst ERROR_TYPES = [\n  \"Error\",\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"sessionStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  TYPES,\n  ERROR_TYPES\n);\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\n/** @type LanguageFn */\nfunction javascript(hljs) {\n  const regex = hljs.regex;\n  /**\n   * Takes a string like \"<Booger\" and checks to see\n   * if we can find a matching \"</Booger\" later in the\n   * content.\n   * @param {RegExpMatchArray} match\n   * @param {{after:number}} param1\n   */\n  const hasClosingTag = (match, { after }) => {\n    const tag = \"</\" + match[0].slice(1);\n    const pos = match.input.indexOf(tag, after);\n    return pos !== -1;\n  };\n\n  const IDENT_RE$1 = IDENT_RE;\n  const FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  // to avoid some special cases inside isTrulyOpeningTag\n  const XML_SELF_CLOSING = /<[A-Za-z0-9\\\\._:-]+\\s*\\/>/;\n  const XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/,\n    /**\n     * @param {RegExpMatchArray} match\n     * @param {CallbackResponse} response\n     */\n    isTrulyOpeningTag: (match, response) => {\n      const afterMatchIndex = match[0].length + match.index;\n      const nextChar = match.input[afterMatchIndex];\n      if (\n        // HTML should not include another raw `<` inside a tag\n        // nested type?\n        // `<Array<Array<number>>`, etc.\n        nextChar === \"<\" ||\n        // the , gives away that this is not HTML\n        // `<T, A extends keyof T, V>`\n        nextChar === \",\"\n        ) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<something>`\n      // Quite possibly a tag, lets look for a matching closing tag...\n      if (nextChar === \">\") {\n        // if we cannot find a matching closing tag, then we\n        // will ignore it\n        if (!hasClosingTag(match, { after: afterMatchIndex })) {\n          response.ignoreMatch();\n        }\n      }\n\n      // `<blah />` (self-closing)\n      // handled by simpleSelfClosing rule\n\n      let m;\n      const afterMatch = match.input.substring(afterMatchIndex);\n\n      // some more template typing stuff\n      //  <T = any>(key?: string) => Modify<\n      if ((m = afterMatch.match(/^\\s*=/))) {\n        response.ignoreMatch();\n        return;\n      }\n\n      // `<From extends string>`\n      // technically this could be HTML, but it smells like a type\n      // NOTE: This is ugh, but added specifically for https://github.com/highlightjs/highlight.js/issues/3276\n      if ((m = afterMatch.match(/^\\s+extends\\s+/))) {\n        if (m.index === 0) {\n          response.ignoreMatch();\n          // eslint-disable-next-line no-useless-return\n          return;\n        }\n      }\n    }\n  };\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS,\n    literal: LITERALS,\n    built_in: BUILT_INS,\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n\n  // https://tc39.es/ecma262/#sec-literals-numeric-literals\n  const decimalDigits = '[0-9](_?[0-9])*';\n  const frac = `\\\\.(${decimalDigits})`;\n  // DecimalIntegerLiteral, including Annex B NonOctalDecimalIntegerLiteral\n  // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n  const decimalInteger = `0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*`;\n  const NUMBER = {\n    className: 'number',\n    variants: [\n      // DecimalLiteral\n      { begin: `(\\\\b(${decimalInteger})((${frac})|\\\\.)?|(${frac}))` +\n        `[eE][+-]?(${decimalDigits})\\\\b` },\n      { begin: `\\\\b(${decimalInteger})\\\\b((${frac})\\\\b|\\\\.)?|(${frac})\\\\b` },\n\n      // DecimalBigIntegerLiteral\n      { begin: `\\\\b(0|[1-9](_?[0-9])*)n\\\\b` },\n\n      // NonDecimalIntegerLiteral\n      { begin: \"\\\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\\\b\" },\n      { begin: \"\\\\b0[bB][0-1](_?[0-1])*n?\\\\b\" },\n      { begin: \"\\\\b0[oO][0-7](_?[0-7])*n?\\\\b\" },\n\n      // LegacyOctalIntegerLiteral (does not include underscore separators)\n      // https://tc39.es/ecma262/#sec-additional-syntax-numeric-literals\n      { begin: \"\\\\b0[0-7]+n?\\\\b\" },\n    ],\n    relevance: 0\n  };\n\n  const SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{',\n    end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: [] // defined later\n  };\n  const HTML_TEMPLATE = {\n    begin: 'html`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml'\n    }\n  };\n  const CSS_TEMPLATE = {\n    begin: 'css`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css'\n    }\n  };\n  const GRAPHQL_TEMPLATE = {\n    begin: 'gql`',\n    end: '',\n    starts: {\n      end: '`',\n      returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'graphql'\n    }\n  };\n  const TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`',\n    end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  const JSDOC_COMMENT = hljs.COMMENT(\n    /\\/\\*\\*(?!\\/)/,\n    '\\\\*/',\n    {\n      relevance: 0,\n      contains: [\n        {\n          begin: '(?=@[A-Za-z]+)',\n          relevance: 0,\n          contains: [\n            {\n              className: 'doctag',\n              begin: '@[A-Za-z]+'\n            },\n            {\n              className: 'type',\n              begin: '\\\\{',\n              end: '\\\\}',\n              excludeEnd: true,\n              excludeBegin: true,\n              relevance: 0\n            },\n            {\n              className: 'variable',\n              begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n              endsParent: true,\n              relevance: 0\n            },\n            // eat spaces (not newlines) so we can find\n            // types or variables\n            {\n              begin: /(?=[^\\n])\\s/,\n              relevance: 0\n            }\n          ]\n        }\n      ]\n    }\n  );\n  const COMMENT = {\n    className: \"comment\",\n    variants: [\n      JSDOC_COMMENT,\n      hljs.C_BLOCK_COMMENT_MODE,\n      hljs.C_LINE_COMMENT_MODE\n    ]\n  };\n  const SUBST_INTERNALS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    GRAPHQL_TEMPLATE,\n    TEMPLATE_STRING,\n    // Skip numbers when they are part of a variable name\n    { match: /\\$\\d+/ },\n    NUMBER,\n    // This is intentional:\n    // See https://github.com/highlightjs/highlight.js/issues/3288\n    // hljs.REGEXP_MODE\n  ];\n  SUBST.contains = SUBST_INTERNALS\n    .concat({\n      // we need to pair up {} inside our subst to prevent\n      // it from ending too early by matching another }\n      begin: /\\{/,\n      end: /\\}/,\n      keywords: KEYWORDS$1,\n      contains: [\n        \"self\"\n      ].concat(SUBST_INTERNALS)\n    });\n  const SUBST_AND_COMMENTS = [].concat(COMMENT, SUBST.contains);\n  const PARAMS_CONTAINS = SUBST_AND_COMMENTS.concat([\n    // eat recursive parens in sub expressions\n    {\n      begin: /\\(/,\n      end: /\\)/,\n      keywords: KEYWORDS$1,\n      contains: [\"self\"].concat(SUBST_AND_COMMENTS)\n    }\n  ]);\n  const PARAMS = {\n    className: 'params',\n    begin: /\\(/,\n    end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    keywords: KEYWORDS$1,\n    contains: PARAMS_CONTAINS\n  };\n\n  // ES6 classes\n  const CLASS_OR_EXTENDS = {\n    variants: [\n      // class Car extends vehicle\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1,\n          /\\s+/,\n          /extends/,\n          /\\s+/,\n          regex.concat(IDENT_RE$1, \"(\", regex.concat(/\\./, IDENT_RE$1), \")*\")\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\",\n          5: \"keyword\",\n          7: \"title.class.inherited\"\n        }\n      },\n      // class Car\n      {\n        match: [\n          /class/,\n          /\\s+/,\n          IDENT_RE$1\n        ],\n        scope: {\n          1: \"keyword\",\n          3: \"title.class\"\n        }\n      },\n\n    ]\n  };\n\n  const CLASS_REFERENCE = {\n    relevance: 0,\n    match:\n    regex.either(\n      // Hard coded exceptions\n      /\\bJSON/,\n      // Float32Array, OutT\n      /\\b[A-Z][a-z]+([A-Z][a-z]*|\\d)*/,\n      // CSSFactory, CSSFactoryT\n      /\\b[A-Z]{2,}([A-Z][a-z]+|\\d)+([A-Z][a-z]*)*/,\n      // FPs, FPsT\n      /\\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\\d)*([A-Z][a-z]*)*/,\n      // P\n      // single letters are not highlighted\n      // BLAH\n      // this will be flagged as a UPPER_CASE_CONSTANT instead\n    ),\n    className: \"title.class\",\n    keywords: {\n      _: [\n        // se we still get relevance credit for JS library classes\n        ...TYPES,\n        ...ERROR_TYPES\n      ]\n    }\n  };\n\n  const USE_STRICT = {\n    label: \"use_strict\",\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use (strict|asm)['\"]/\n  };\n\n  const FUNCTION_DEFINITION = {\n    variants: [\n      {\n        match: [\n          /function/,\n          /\\s+/,\n          IDENT_RE$1,\n          /(?=\\s*\\()/\n        ]\n      },\n      // anonymous function\n      {\n        match: [\n          /function/,\n          /\\s*(?=\\()/\n        ]\n      }\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    label: \"func.def\",\n    contains: [ PARAMS ],\n    illegal: /%/\n  };\n\n  const UPPER_CASE_CONSTANT = {\n    relevance: 0,\n    match: /\\b[A-Z][A-Z_0-9]+\\b/,\n    className: \"variable.constant\"\n  };\n\n  function noneOf(list) {\n    return regex.concat(\"(?!\", list.join(\"|\"), \")\");\n  }\n\n  const FUNCTION_CALL = {\n    match: regex.concat(\n      /\\b/,\n      noneOf([\n        ...BUILT_IN_GLOBALS,\n        \"super\",\n        \"import\"\n      ]),\n      IDENT_RE$1, regex.lookahead(/\\(/)),\n    className: \"title.function\",\n    relevance: 0\n  };\n\n  const PROPERTY_ACCESS = {\n    begin: regex.concat(/\\./, regex.lookahead(\n      regex.concat(IDENT_RE$1, /(?![0-9A-Za-z$_(])/)\n    )),\n    end: IDENT_RE$1,\n    excludeBegin: true,\n    keywords: \"prototype\",\n    className: \"property\",\n    relevance: 0\n  };\n\n  const GETTER_OR_SETTER = {\n    match: [\n      /get|set/,\n      /\\s+/,\n      IDENT_RE$1,\n      /(?=\\()/\n    ],\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      { // eat to avoid empty params\n        begin: /\\(\\)/\n      },\n      PARAMS\n    ]\n  };\n\n  const FUNC_LEAD_IN_RE = '(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*(\\\\(' +\n    '[^()]*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)[^()]*)*' +\n    '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>';\n\n  const FUNCTION_VARIABLE = {\n    match: [\n      /const|var|let/, /\\s+/,\n      IDENT_RE$1, /\\s*/,\n      /=\\s*/,\n      /(async\\s*)?/, // async is optional\n      regex.lookahead(FUNC_LEAD_IN_RE)\n    ],\n    keywords: \"async\",\n    className: {\n      1: \"keyword\",\n      3: \"title.function\"\n    },\n    contains: [\n      PARAMS\n    ]\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    // this will be extended by TypeScript\n    exports: { PARAMS_CONTAINS, CLASS_REFERENCE },\n    illegal: /#(?![$_A-z])/,\n    contains: [\n      hljs.SHEBANG({\n        label: \"shebang\",\n        binary: \"node\",\n        relevance: 5\n      }),\n      USE_STRICT,\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      GRAPHQL_TEMPLATE,\n      TEMPLATE_STRING,\n      COMMENT,\n      // Skip numbers when they are part of a variable name\n      { match: /\\$\\d+/ },\n      NUMBER,\n      CLASS_REFERENCE,\n      {\n        className: 'attr',\n        begin: IDENT_RE$1 + regex.lookahead(':'),\n        relevance: 0\n      },\n      FUNCTION_VARIABLE,\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        relevance: 0,\n        contains: [\n          COMMENT,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: FUNC_LEAD_IN_RE,\n            returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE,\n                    relevance: 0\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/,\n                    end: /\\)/,\n                    excludeBegin: true,\n                    excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/,\n            relevance: 0\n          },\n          {\n            match: /\\s+/,\n            relevance: 0\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { match: XML_SELF_CLOSING },\n              {\n                begin: XML_TAG.begin,\n                // we carefully check the opening tag to see if it truly\n                // is a tag and not a false positive\n                'on:begin': XML_TAG.isTrulyOpeningTag,\n                end: XML_TAG.end\n              }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin,\n                end: XML_TAG.end,\n                skip: true,\n                contains: ['self']\n              }\n            ]\n          }\n        ],\n      },\n      FUNCTION_DEFINITION,\n      {\n        // prevent this from getting swallowed up by function\n        // since they appear \"function like\"\n        beginKeywords: \"while if switch catch for\"\n      },\n      {\n        // we have to count the parens to make sure we actually have the correct\n        // bounding ( ).  There could be any number of sub-expressions inside\n        // also surrounded by parens.\n        begin: '\\\\b(?!function)' + hljs.UNDERSCORE_IDENT_RE +\n          '\\\\(' + // first parens\n          '[^()]*(\\\\(' +\n            '[^()]*(\\\\(' +\n              '[^()]*' +\n            '\\\\)[^()]*)*' +\n          '\\\\)[^()]*)*' +\n          '\\\\)\\\\s*\\\\{', // end parens\n        returnBegin:true,\n        label: \"func.def\",\n        contains: [\n          PARAMS,\n          hljs.inherit(hljs.TITLE_MODE, { begin: IDENT_RE$1, className: \"title.function\" })\n        ]\n      },\n      // catch ... so it won't trigger the property rule below\n      {\n        match: /\\.\\.\\./,\n        relevance: 0\n      },\n      PROPERTY_ACCESS,\n      // hack: prevents detection of keywords in some circumstances\n      // .keyword()\n      // $keyword = x\n      {\n        match: '\\\\$' + IDENT_RE$1,\n        relevance: 0\n      },\n      {\n        match: [ /\\bconstructor(?=\\s*\\()/ ],\n        className: { 1: \"title.function\" },\n        contains: [ PARAMS ]\n      },\n      FUNCTION_CALL,\n      UPPER_CASE_CONSTANT,\n      CLASS_OR_EXTENDS,\n      GETTER_OR_SETTER,\n      {\n        match: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      }\n    ]\n  };\n}\n\n/*\nLanguage: TypeScript\nAuthor: Panu Horsmalahti <panu.horsmalahti@iki.fi>\nContributors: Ike Ku <dempfi@yahoo.com>\nDescription: TypeScript is a strict superset of JavaScript\nWebsite: https://www.typescriptlang.org\nCategory: common, scripting\n*/\n\n/** @type LanguageFn */\nfunction typescript(hljs) {\n  const tsLanguage = javascript(hljs);\n\n  const IDENT_RE$1 = IDENT_RE;\n  const TYPES = [\n    \"any\",\n    \"void\",\n    \"number\",\n    \"boolean\",\n    \"string\",\n    \"object\",\n    \"never\",\n    \"symbol\",\n    \"bigint\",\n    \"unknown\"\n  ];\n  const NAMESPACE = {\n    beginKeywords: 'namespace',\n    end: /\\{/,\n    excludeEnd: true,\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const INTERFACE = {\n    beginKeywords: 'interface',\n    end: /\\{/,\n    excludeEnd: true,\n    keywords: {\n      keyword: 'interface extends',\n      built_in: TYPES\n    },\n    contains: [ tsLanguage.exports.CLASS_REFERENCE ]\n  };\n  const USE_STRICT = {\n    className: 'meta',\n    relevance: 10,\n    begin: /^\\s*['\"]use strict['\"]/\n  };\n  const TS_SPECIFIC_KEYWORDS = [\n    \"type\",\n    \"namespace\",\n    \"interface\",\n    \"public\",\n    \"private\",\n    \"protected\",\n    \"implements\",\n    \"declare\",\n    \"abstract\",\n    \"readonly\",\n    \"enum\",\n    \"override\"\n  ];\n  const KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.concat(TS_SPECIFIC_KEYWORDS),\n    literal: LITERALS,\n    built_in: BUILT_INS.concat(TYPES),\n    \"variable.language\": BUILT_IN_VARIABLES\n  };\n  const DECORATOR = {\n    className: 'meta',\n    begin: '@' + IDENT_RE$1,\n  };\n\n  const swapMode = (mode, label, replacement) => {\n    const indx = mode.contains.findIndex(m => m.label === label);\n    if (indx === -1) { throw new Error(\"can not find mode to replace\"); }\n\n    mode.contains.splice(indx, 1, replacement);\n  };\n\n\n  // this should update anywhere keywords is used since\n  // it will be the same actual JS object\n  Object.assign(tsLanguage.keywords, KEYWORDS$1);\n\n  tsLanguage.exports.PARAMS_CONTAINS.push(DECORATOR);\n  tsLanguage.contains = tsLanguage.contains.concat([\n    DECORATOR,\n    NAMESPACE,\n    INTERFACE,\n  ]);\n\n  // TS gets a simpler shebang rule than JS\n  swapMode(tsLanguage, \"shebang\", hljs.SHEBANG());\n  // JS use strict rule purposely excludes `asm` which makes no sense\n  swapMode(tsLanguage, \"use_strict\", USE_STRICT);\n\n  const functionDeclaration = tsLanguage.contains.find(m => m.label === \"func.def\");\n  functionDeclaration.relevance = 0; // () => {} is more typical in TypeScript\n\n  Object.assign(tsLanguage, {\n    name: 'TypeScript',\n    aliases: [\n      'ts',\n      'tsx',\n      'mts',\n      'cts'\n    ]\n  });\n\n  return tsLanguage;\n}\n\nexport { typescript as default };\n","/*\nLanguage: HTML, XML\nWebsite: https://www.w3.org/XML/\nCategory: common, web\nAudit: 2020\n*/\n\n/** @type LanguageFn */\nfunction xml(hljs) {\n  const regex = hljs.regex;\n  // XML names can have the following additional letters: https://www.w3.org/TR/xml/#NT-NameChar\n  // OTHER_NAME_CHARS = /[:\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]/;\n  // Element names start with NAME_START_CHAR followed by optional other Unicode letters, ASCII digits, hyphens, underscores, and periods\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);;\n  // const XML_IDENT_RE = /[A-Z_a-z:\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]+/;\n  // const TAG_NAME_RE = regex.concat(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/, regex.optional(/[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*:/), /[A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*/);\n  // however, to cater for performance and more Unicode support rely simply on the Unicode letter class\n  const TAG_NAME_RE = regex.concat(/[\\p{L}_]/u, regex.optional(/[\\p{L}0-9_.-]*:/u), /[\\p{L}0-9_.-]*/u);\n  const XML_IDENT_RE = /[\\p{L}0-9._:-]+/u;\n  const XML_ENTITIES = {\n    className: 'symbol',\n    begin: /&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/\n  };\n  const XML_META_KEYWORDS = {\n    begin: /\\s/,\n    contains: [\n      {\n        className: 'keyword',\n        begin: /#?[a-z_][a-z1-9_-]+/,\n        illegal: /\\n/\n      }\n    ]\n  };\n  const XML_META_PAR_KEYWORDS = hljs.inherit(XML_META_KEYWORDS, {\n    begin: /\\(/,\n    end: /\\)/\n  });\n  const APOS_META_STRING_MODE = hljs.inherit(hljs.APOS_STRING_MODE, { className: 'string' });\n  const QUOTE_META_STRING_MODE = hljs.inherit(hljs.QUOTE_STRING_MODE, { className: 'string' });\n  const TAG_INTERNALS = {\n    endsWithParent: true,\n    illegal: /</,\n    relevance: 0,\n    contains: [\n      {\n        className: 'attr',\n        begin: XML_IDENT_RE,\n        relevance: 0\n      },\n      {\n        begin: /=\\s*/,\n        relevance: 0,\n        contains: [\n          {\n            className: 'string',\n            endsParent: true,\n            variants: [\n              {\n                begin: /\"/,\n                end: /\"/,\n                contains: [ XML_ENTITIES ]\n              },\n              {\n                begin: /'/,\n                end: /'/,\n                contains: [ XML_ENTITIES ]\n              },\n              { begin: /[^\\s\"'=<>`]+/ }\n            ]\n          }\n        ]\n      }\n    ]\n  };\n  return {\n    name: 'HTML, XML',\n    aliases: [\n      'html',\n      'xhtml',\n      'rss',\n      'atom',\n      'xjb',\n      'xsd',\n      'xsl',\n      'plist',\n      'wsf',\n      'svg'\n    ],\n    case_insensitive: true,\n    unicodeRegex: true,\n    contains: [\n      {\n        className: 'meta',\n        begin: /<![a-z]/,\n        end: />/,\n        relevance: 10,\n        contains: [\n          XML_META_KEYWORDS,\n          QUOTE_META_STRING_MODE,\n          APOS_META_STRING_MODE,\n          XML_META_PAR_KEYWORDS,\n          {\n            begin: /\\[/,\n            end: /\\]/,\n            contains: [\n              {\n                className: 'meta',\n                begin: /<![a-z]/,\n                end: />/,\n                contains: [\n                  XML_META_KEYWORDS,\n                  XML_META_PAR_KEYWORDS,\n                  QUOTE_META_STRING_MODE,\n                  APOS_META_STRING_MODE\n                ]\n              }\n            ]\n          }\n        ]\n      },\n      hljs.COMMENT(\n        /<!--/,\n        /-->/,\n        { relevance: 10 }\n      ),\n      {\n        begin: /<!\\[CDATA\\[/,\n        end: /\\]\\]>/,\n        relevance: 10\n      },\n      XML_ENTITIES,\n      // xml processing instructions\n      {\n        className: 'meta',\n        end: /\\?>/,\n        variants: [\n          {\n            begin: /<\\?xml/,\n            relevance: 10,\n            contains: [\n              QUOTE_META_STRING_MODE\n            ]\n          },\n          {\n            begin: /<\\?[a-z][a-z0-9]+/,\n          }\n        ]\n\n      },\n      {\n        className: 'tag',\n        /*\n        The lookahead pattern (?=...) ensures that 'begin' only matches\n        '<style' as a single word, followed by a whitespace or an\n        ending bracket.\n        */\n        begin: /<style(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'style' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/style>/,\n          returnEnd: true,\n          subLanguage: [\n            'css',\n            'xml'\n          ]\n        }\n      },\n      {\n        className: 'tag',\n        // See the comment in the <style tag about the lookahead pattern\n        begin: /<script(?=\\s|>)/,\n        end: />/,\n        keywords: { name: 'script' },\n        contains: [ TAG_INTERNALS ],\n        starts: {\n          end: /<\\/script>/,\n          returnEnd: true,\n          subLanguage: [\n            'javascript',\n            'handlebars',\n            'xml'\n          ]\n        }\n      },\n      // we need this for now for jSX\n      {\n        className: 'tag',\n        begin: /<>|<\\/>/\n      },\n      // open tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /</,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE,\n            // <tag/>\n            // <tag>\n            // <tag ...\n            regex.either(/\\/>/, />/, /\\s/)\n          ))\n        ),\n        end: /\\/?>/,\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0,\n            starts: TAG_INTERNALS\n          }\n        ]\n      },\n      // close tag\n      {\n        className: 'tag',\n        begin: regex.concat(\n          /<\\//,\n          regex.lookahead(regex.concat(\n            TAG_NAME_RE, />/\n          ))\n        ),\n        contains: [\n          {\n            className: 'name',\n            begin: TAG_NAME_RE,\n            relevance: 0\n          },\n          {\n            begin: />/,\n            relevance: 0,\n            endsParent: true\n          }\n        ]\n      }\n    ]\n  };\n}\n\nexport { xml as default };\n","/*\nLanguage: Bash\nAuthor: vah <vahtenberg@gmail.com>\nContributrors: Benjamin Pannell <contact@sierrasoftworks.com>\nWebsite: https://www.gnu.org/software/bash/\nCategory: common\n*/\n\n/** @type LanguageFn */\nfunction bash(hljs) {\n  const regex = hljs.regex;\n  const VAR = {};\n  const BRACED_VAR = {\n    begin: /\\$\\{/,\n    end: /\\}/,\n    contains: [\n      \"self\",\n      {\n        begin: /:-/,\n        contains: [ VAR ]\n      } // default values\n    ]\n  };\n  Object.assign(VAR, {\n    className: 'variable',\n    variants: [\n      { begin: regex.concat(/\\$[\\w\\d#@][\\w\\d_]*/,\n        // negative look-ahead tries to avoid matching patterns that are not\n        // Perl at all like $ident$, @ident@, etc.\n        `(?![\\\\w\\\\d])(?![$])`) },\n      BRACED_VAR\n    ]\n  });\n\n  const SUBST = {\n    className: 'subst',\n    begin: /\\$\\(/,\n    end: /\\)/,\n    contains: [ hljs.BACKSLASH_ESCAPE ]\n  };\n  const HERE_DOC = {\n    begin: /<<-?\\s*(?=\\w+)/,\n    starts: { contains: [\n      hljs.END_SAME_AS_BEGIN({\n        begin: /(\\w+)/,\n        end: /(\\w+)/,\n        className: 'string'\n      })\n    ] }\n  };\n  const QUOTE_STRING = {\n    className: 'string',\n    begin: /\"/,\n    end: /\"/,\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      VAR,\n      SUBST\n    ]\n  };\n  SUBST.contains.push(QUOTE_STRING);\n  const ESCAPED_QUOTE = {\n    className: '',\n    begin: /\\\\\"/\n\n  };\n  const APOS_STRING = {\n    className: 'string',\n    begin: /'/,\n    end: /'/\n  };\n  const ARITHMETIC = {\n    begin: /\\$?\\(\\(/,\n    end: /\\)\\)/,\n    contains: [\n      {\n        begin: /\\d+#[0-9a-f]+/,\n        className: \"number\"\n      },\n      hljs.NUMBER_MODE,\n      VAR\n    ]\n  };\n  const SH_LIKE_SHELLS = [\n    \"fish\",\n    \"bash\",\n    \"zsh\",\n    \"sh\",\n    \"csh\",\n    \"ksh\",\n    \"tcsh\",\n    \"dash\",\n    \"scsh\",\n  ];\n  const KNOWN_SHEBANG = hljs.SHEBANG({\n    binary: `(${SH_LIKE_SHELLS.join(\"|\")})`,\n    relevance: 10\n  });\n  const FUNCTION = {\n    className: 'function',\n    begin: /\\w[\\w\\d_]*\\s*\\(\\s*\\)\\s*\\{/,\n    returnBegin: true,\n    contains: [ hljs.inherit(hljs.TITLE_MODE, { begin: /\\w[\\w\\d_]*/ }) ],\n    relevance: 0\n  };\n\n  const KEYWORDS = [\n    \"if\",\n    \"then\",\n    \"else\",\n    \"elif\",\n    \"fi\",\n    \"for\",\n    \"while\",\n    \"until\",\n    \"in\",\n    \"do\",\n    \"done\",\n    \"case\",\n    \"esac\",\n    \"function\",\n    \"select\"\n  ];\n\n  const LITERALS = [\n    \"true\",\n    \"false\"\n  ];\n\n  // to consume paths to prevent keyword matches inside them\n  const PATH_MODE = { match: /(\\/[a-z._-]+)+/ };\n\n  // http://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n  const SHELL_BUILT_INS = [\n    \"break\",\n    \"cd\",\n    \"continue\",\n    \"eval\",\n    \"exec\",\n    \"exit\",\n    \"export\",\n    \"getopts\",\n    \"hash\",\n    \"pwd\",\n    \"readonly\",\n    \"return\",\n    \"shift\",\n    \"test\",\n    \"times\",\n    \"trap\",\n    \"umask\",\n    \"unset\"\n  ];\n\n  const BASH_BUILT_INS = [\n    \"alias\",\n    \"bind\",\n    \"builtin\",\n    \"caller\",\n    \"command\",\n    \"declare\",\n    \"echo\",\n    \"enable\",\n    \"help\",\n    \"let\",\n    \"local\",\n    \"logout\",\n    \"mapfile\",\n    \"printf\",\n    \"read\",\n    \"readarray\",\n    \"source\",\n    \"type\",\n    \"typeset\",\n    \"ulimit\",\n    \"unalias\"\n  ];\n\n  const ZSH_BUILT_INS = [\n    \"autoload\",\n    \"bg\",\n    \"bindkey\",\n    \"bye\",\n    \"cap\",\n    \"chdir\",\n    \"clone\",\n    \"comparguments\",\n    \"compcall\",\n    \"compctl\",\n    \"compdescribe\",\n    \"compfiles\",\n    \"compgroups\",\n    \"compquote\",\n    \"comptags\",\n    \"comptry\",\n    \"compvalues\",\n    \"dirs\",\n    \"disable\",\n    \"disown\",\n    \"echotc\",\n    \"echoti\",\n    \"emulate\",\n    \"fc\",\n    \"fg\",\n    \"float\",\n    \"functions\",\n    \"getcap\",\n    \"getln\",\n    \"history\",\n    \"integer\",\n    \"jobs\",\n    \"kill\",\n    \"limit\",\n    \"log\",\n    \"noglob\",\n    \"popd\",\n    \"print\",\n    \"pushd\",\n    \"pushln\",\n    \"rehash\",\n    \"sched\",\n    \"setcap\",\n    \"setopt\",\n    \"stat\",\n    \"suspend\",\n    \"ttyctl\",\n    \"unfunction\",\n    \"unhash\",\n    \"unlimit\",\n    \"unsetopt\",\n    \"vared\",\n    \"wait\",\n    \"whence\",\n    \"where\",\n    \"which\",\n    \"zcompile\",\n    \"zformat\",\n    \"zftp\",\n    \"zle\",\n    \"zmodload\",\n    \"zparseopts\",\n    \"zprof\",\n    \"zpty\",\n    \"zregexparse\",\n    \"zsocket\",\n    \"zstyle\",\n    \"ztcp\"\n  ];\n\n  const GNU_CORE_UTILS = [\n    \"chcon\",\n    \"chgrp\",\n    \"chown\",\n    \"chmod\",\n    \"cp\",\n    \"dd\",\n    \"df\",\n    \"dir\",\n    \"dircolors\",\n    \"ln\",\n    \"ls\",\n    \"mkdir\",\n    \"mkfifo\",\n    \"mknod\",\n    \"mktemp\",\n    \"mv\",\n    \"realpath\",\n    \"rm\",\n    \"rmdir\",\n    \"shred\",\n    \"sync\",\n    \"touch\",\n    \"truncate\",\n    \"vdir\",\n    \"b2sum\",\n    \"base32\",\n    \"base64\",\n    \"cat\",\n    \"cksum\",\n    \"comm\",\n    \"csplit\",\n    \"cut\",\n    \"expand\",\n    \"fmt\",\n    \"fold\",\n    \"head\",\n    \"join\",\n    \"md5sum\",\n    \"nl\",\n    \"numfmt\",\n    \"od\",\n    \"paste\",\n    \"ptx\",\n    \"pr\",\n    \"sha1sum\",\n    \"sha224sum\",\n    \"sha256sum\",\n    \"sha384sum\",\n    \"sha512sum\",\n    \"shuf\",\n    \"sort\",\n    \"split\",\n    \"sum\",\n    \"tac\",\n    \"tail\",\n    \"tr\",\n    \"tsort\",\n    \"unexpand\",\n    \"uniq\",\n    \"wc\",\n    \"arch\",\n    \"basename\",\n    \"chroot\",\n    \"date\",\n    \"dirname\",\n    \"du\",\n    \"echo\",\n    \"env\",\n    \"expr\",\n    \"factor\",\n    // \"false\", // keyword literal already\n    \"groups\",\n    \"hostid\",\n    \"id\",\n    \"link\",\n    \"logname\",\n    \"nice\",\n    \"nohup\",\n    \"nproc\",\n    \"pathchk\",\n    \"pinky\",\n    \"printenv\",\n    \"printf\",\n    \"pwd\",\n    \"readlink\",\n    \"runcon\",\n    \"seq\",\n    \"sleep\",\n    \"stat\",\n    \"stdbuf\",\n    \"stty\",\n    \"tee\",\n    \"test\",\n    \"timeout\",\n    // \"true\", // keyword literal already\n    \"tty\",\n    \"uname\",\n    \"unlink\",\n    \"uptime\",\n    \"users\",\n    \"who\",\n    \"whoami\",\n    \"yes\"\n  ];\n\n  return {\n    name: 'Bash',\n    aliases: [ 'sh' ],\n    keywords: {\n      $pattern: /\\b[a-z][a-z0-9._-]+\\b/,\n      keyword: KEYWORDS,\n      literal: LITERALS,\n      built_in: [\n        ...SHELL_BUILT_INS,\n        ...BASH_BUILT_INS,\n        // Shell modifiers\n        \"set\",\n        \"shopt\",\n        ...ZSH_BUILT_INS,\n        ...GNU_CORE_UTILS\n      ]\n    },\n    contains: [\n      KNOWN_SHEBANG, // to catch known shells and boost relevancy\n      hljs.SHEBANG(), // to catch unknown shells but still highlight the shebang\n      FUNCTION,\n      ARITHMETIC,\n      hljs.HASH_COMMENT_MODE,\n      HERE_DOC,\n      PATH_MODE,\n      QUOTE_STRING,\n      ESCAPED_QUOTE,\n      APOS_STRING,\n      VAR\n    ]\n  };\n}\n\nexport { bash as default };\n","const MODES = (hljs) => {\n  return {\n    IMPORTANT: {\n      scope: 'meta',\n      begin: '!important'\n    },\n    BLOCK_COMMENT: hljs.C_BLOCK_COMMENT_MODE,\n    HEXCOLOR: {\n      scope: 'number',\n      begin: /#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\\b/\n    },\n    FUNCTION_DISPATCH: {\n      className: \"built_in\",\n      begin: /[\\w-]+(?=\\()/\n    },\n    ATTRIBUTE_SELECTOR_MODE: {\n      scope: 'selector-attr',\n      begin: /\\[/,\n      end: /\\]/,\n      illegal: '$',\n      contains: [\n        hljs.APOS_STRING_MODE,\n        hljs.QUOTE_STRING_MODE\n      ]\n    },\n    CSS_NUMBER_MODE: {\n      scope: 'number',\n      begin: hljs.NUMBER_RE + '(' +\n        '%|em|ex|ch|rem' +\n        '|vw|vh|vmin|vmax' +\n        '|cm|mm|in|pt|pc|px' +\n        '|deg|grad|rad|turn' +\n        '|s|ms' +\n        '|Hz|kHz' +\n        '|dpi|dpcm|dppx' +\n        ')?',\n      relevance: 0\n    },\n    CSS_VARIABLE: {\n      className: \"attr\",\n      begin: /--[A-Za-z][A-Za-z0-9_-]*/\n    }\n  };\n};\n\nconst TAGS = [\n  'a',\n  'abbr',\n  'address',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'blockquote',\n  'body',\n  'button',\n  'canvas',\n  'caption',\n  'cite',\n  'code',\n  'dd',\n  'del',\n  'details',\n  'dfn',\n  'div',\n  'dl',\n  'dt',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'header',\n  'hgroup',\n  'html',\n  'i',\n  'iframe',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'mark',\n  'menu',\n  'nav',\n  'object',\n  'ol',\n  'p',\n  'q',\n  'quote',\n  'samp',\n  'section',\n  'span',\n  'strong',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'ul',\n  'var',\n  'video'\n];\n\nconst MEDIA_FEATURES = [\n  'any-hover',\n  'any-pointer',\n  'aspect-ratio',\n  'color',\n  'color-gamut',\n  'color-index',\n  'device-aspect-ratio',\n  'device-height',\n  'device-width',\n  'display-mode',\n  'forced-colors',\n  'grid',\n  'height',\n  'hover',\n  'inverted-colors',\n  'monochrome',\n  'orientation',\n  'overflow-block',\n  'overflow-inline',\n  'pointer',\n  'prefers-color-scheme',\n  'prefers-contrast',\n  'prefers-reduced-motion',\n  'prefers-reduced-transparency',\n  'resolution',\n  'scan',\n  'scripting',\n  'update',\n  'width',\n  // TODO: find a better solution?\n  'min-width',\n  'max-width',\n  'min-height',\n  'max-height'\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes\nconst PSEUDO_CLASSES = [\n  'active',\n  'any-link',\n  'blank',\n  'checked',\n  'current',\n  'default',\n  'defined',\n  'dir', // dir()\n  'disabled',\n  'drop',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'future',\n  'focus',\n  'focus-visible',\n  'focus-within',\n  'has', // has()\n  'host', // host or host()\n  'host-context', // host-context()\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'is', // is()\n  'lang', // lang()\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'local-link',\n  'not', // not()\n  'nth-child', // nth-child()\n  'nth-col', // nth-col()\n  'nth-last-child', // nth-last-child()\n  'nth-last-col', // nth-last-col()\n  'nth-last-of-type', //nth-last-of-type()\n  'nth-of-type', //nth-of-type()\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'past',\n  'placeholder-shown',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'target-within',\n  'user-invalid',\n  'valid',\n  'visited',\n  'where' // where()\n];\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-elements\nconst PSEUDO_ELEMENTS = [\n  'after',\n  'backdrop',\n  'before',\n  'cue',\n  'cue-region',\n  'first-letter',\n  'first-line',\n  'grammar-error',\n  'marker',\n  'part',\n  'placeholder',\n  'selection',\n  'slotted',\n  'spelling-error'\n];\n\nconst ATTRIBUTES = [\n  'align-content',\n  'align-items',\n  'align-self',\n  'all',\n  'animation',\n  'animation-delay',\n  'animation-direction',\n  'animation-duration',\n  'animation-fill-mode',\n  'animation-iteration-count',\n  'animation-name',\n  'animation-play-state',\n  'animation-timing-function',\n  'backface-visibility',\n  'background',\n  'background-attachment',\n  'background-blend-mode',\n  'background-clip',\n  'background-color',\n  'background-image',\n  'background-origin',\n  'background-position',\n  'background-repeat',\n  'background-size',\n  'block-size',\n  'border',\n  'border-block',\n  'border-block-color',\n  'border-block-end',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-block-start',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'border-block-style',\n  'border-block-width',\n  'border-bottom',\n  'border-bottom-color',\n  'border-bottom-left-radius',\n  'border-bottom-right-radius',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-collapse',\n  'border-color',\n  'border-image',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-slice',\n  'border-image-source',\n  'border-image-width',\n  'border-inline',\n  'border-inline-color',\n  'border-inline-end',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-inline-start',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-inline-style',\n  'border-inline-width',\n  'border-left',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'border-radius',\n  'border-right',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'border-spacing',\n  'border-style',\n  'border-top',\n  'border-top-color',\n  'border-top-left-radius',\n  'border-top-right-radius',\n  'border-top-style',\n  'border-top-width',\n  'border-width',\n  'bottom',\n  'box-decoration-break',\n  'box-shadow',\n  'box-sizing',\n  'break-after',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'caret-color',\n  'clear',\n  'clip',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'column-count',\n  'column-fill',\n  'column-gap',\n  'column-rule',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'column-span',\n  'column-width',\n  'columns',\n  'contain',\n  'content',\n  'content-visibility',\n  'counter-increment',\n  'counter-reset',\n  'cue',\n  'cue-after',\n  'cue-before',\n  'cursor',\n  'direction',\n  'display',\n  'empty-cells',\n  'filter',\n  'flex',\n  'flex-basis',\n  'flex-direction',\n  'flex-flow',\n  'flex-grow',\n  'flex-shrink',\n  'flex-wrap',\n  'float',\n  'flow',\n  'font',\n  'font-display',\n  'font-family',\n  'font-feature-settings',\n  'font-kerning',\n  'font-language-override',\n  'font-size',\n  'font-size-adjust',\n  'font-smoothing',\n  'font-stretch',\n  'font-style',\n  'font-synthesis',\n  'font-variant',\n  'font-variant-caps',\n  'font-variant-east-asian',\n  'font-variant-ligatures',\n  'font-variant-numeric',\n  'font-variant-position',\n  'font-variation-settings',\n  'font-weight',\n  'gap',\n  'glyph-orientation-vertical',\n  'grid',\n  'grid-area',\n  'grid-auto-columns',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-column',\n  'grid-column-end',\n  'grid-column-start',\n  'grid-gap',\n  'grid-row',\n  'grid-row-end',\n  'grid-row-start',\n  'grid-template',\n  'grid-template-areas',\n  'grid-template-columns',\n  'grid-template-rows',\n  'hanging-punctuation',\n  'height',\n  'hyphens',\n  'icon',\n  'image-orientation',\n  'image-rendering',\n  'image-resolution',\n  'ime-mode',\n  'inline-size',\n  'isolation',\n  'justify-content',\n  'left',\n  'letter-spacing',\n  'line-break',\n  'line-height',\n  'list-style',\n  'list-style-image',\n  'list-style-position',\n  'list-style-type',\n  'margin',\n  'margin-block',\n  'margin-block-end',\n  'margin-block-start',\n  'margin-bottom',\n  'margin-inline',\n  'margin-inline-end',\n  'margin-inline-start',\n  'margin-left',\n  'margin-right',\n  'margin-top',\n  'marks',\n  'mask',\n  'mask-border',\n  'mask-border-mode',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-slice',\n  'mask-border-source',\n  'mask-border-width',\n  'mask-clip',\n  'mask-composite',\n  'mask-image',\n  'mask-mode',\n  'mask-origin',\n  'mask-position',\n  'mask-repeat',\n  'mask-size',\n  'mask-type',\n  'max-block-size',\n  'max-height',\n  'max-inline-size',\n  'max-width',\n  'min-block-size',\n  'min-height',\n  'min-inline-size',\n  'min-width',\n  'mix-blend-mode',\n  'nav-down',\n  'nav-index',\n  'nav-left',\n  'nav-right',\n  'nav-up',\n  'none',\n  'normal',\n  'object-fit',\n  'object-position',\n  'opacity',\n  'order',\n  'orphans',\n  'outline',\n  'outline-color',\n  'outline-offset',\n  'outline-style',\n  'outline-width',\n  'overflow',\n  'overflow-wrap',\n  'overflow-x',\n  'overflow-y',\n  'padding',\n  'padding-block',\n  'padding-block-end',\n  'padding-block-start',\n  'padding-bottom',\n  'padding-inline',\n  'padding-inline-end',\n  'padding-inline-start',\n  'padding-left',\n  'padding-right',\n  'padding-top',\n  'page-break-after',\n  'page-break-before',\n  'page-break-inside',\n  'pause',\n  'pause-after',\n  'pause-before',\n  'perspective',\n  'perspective-origin',\n  'pointer-events',\n  'position',\n  'quotes',\n  'resize',\n  'rest',\n  'rest-after',\n  'rest-before',\n  'right',\n  'row-gap',\n  'scroll-margin',\n  'scroll-margin-block',\n  'scroll-margin-block-end',\n  'scroll-margin-block-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-margin-inline-end',\n  'scroll-margin-inline-start',\n  'scroll-margin-left',\n  'scroll-margin-right',\n  'scroll-margin-top',\n  'scroll-padding',\n  'scroll-padding-block',\n  'scroll-padding-block-end',\n  'scroll-padding-block-start',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'scroll-padding-inline-end',\n  'scroll-padding-inline-start',\n  'scroll-padding-left',\n  'scroll-padding-right',\n  'scroll-padding-top',\n  'scroll-snap-align',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scrollbar-color',\n  'scrollbar-gutter',\n  'scrollbar-width',\n  'shape-image-threshold',\n  'shape-margin',\n  'shape-outside',\n  'speak',\n  'speak-as',\n  'src', // @font-face\n  'tab-size',\n  'table-layout',\n  'text-align',\n  'text-align-all',\n  'text-align-last',\n  'text-combine-upright',\n  'text-decoration',\n  'text-decoration-color',\n  'text-decoration-line',\n  'text-decoration-style',\n  'text-emphasis',\n  'text-emphasis-color',\n  'text-emphasis-position',\n  'text-emphasis-style',\n  'text-indent',\n  'text-justify',\n  'text-orientation',\n  'text-overflow',\n  'text-rendering',\n  'text-shadow',\n  'text-transform',\n  'text-underline-position',\n  'top',\n  'transform',\n  'transform-box',\n  'transform-origin',\n  'transform-style',\n  'transition',\n  'transition-delay',\n  'transition-duration',\n  'transition-property',\n  'transition-timing-function',\n  'unicode-bidi',\n  'vertical-align',\n  'visibility',\n  'voice-balance',\n  'voice-duration',\n  'voice-family',\n  'voice-pitch',\n  'voice-range',\n  'voice-rate',\n  'voice-stress',\n  'voice-volume',\n  'white-space',\n  'widows',\n  'width',\n  'will-change',\n  'word-break',\n  'word-spacing',\n  'word-wrap',\n  'writing-mode',\n  'z-index'\n  // reverse makes sure longer attributes `font-weight` are matched fully\n  // instead of getting false positives on say `font`\n].reverse();\n\n/*\nLanguage: CSS\nCategory: common, css, web\nWebsite: https://developer.mozilla.org/en-US/docs/Web/CSS\n*/\n\n/** @type LanguageFn */\nfunction css(hljs) {\n  const regex = hljs.regex;\n  const modes = MODES(hljs);\n  const VENDOR_PREFIX = { begin: /-(webkit|moz|ms|o)-(?=[a-z])/ };\n  const AT_MODIFIERS = \"and or not only\";\n  const AT_PROPERTY_RE = /@-?\\w[\\w]*(-\\w+)*/; // @-webkit-keyframes\n  const IDENT_RE = '[a-zA-Z-][a-zA-Z0-9_-]*';\n  const STRINGS = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE\n  ];\n\n  return {\n    name: 'CSS',\n    case_insensitive: true,\n    illegal: /[=|'\\$]/,\n    keywords: { keyframePosition: \"from to\" },\n    classNameAliases: {\n      // for visual continuity with `tag {}` and because we\n      // don't have a great class for this?\n      keyframePosition: \"selector-tag\" },\n    contains: [\n      modes.BLOCK_COMMENT,\n      VENDOR_PREFIX,\n      // to recognize keyframe 40% etc which are outside the scope of our\n      // attribute value mode\n      modes.CSS_NUMBER_MODE,\n      {\n        className: 'selector-id',\n        begin: /#[A-Za-z0-9_-]+/,\n        relevance: 0\n      },\n      {\n        className: 'selector-class',\n        begin: '\\\\.' + IDENT_RE,\n        relevance: 0\n      },\n      modes.ATTRIBUTE_SELECTOR_MODE,\n      {\n        className: 'selector-pseudo',\n        variants: [\n          { begin: ':(' + PSEUDO_CLASSES.join('|') + ')' },\n          { begin: ':(:)?(' + PSEUDO_ELEMENTS.join('|') + ')' }\n        ]\n      },\n      // we may actually need this (12/2020)\n      // { // pseudo-selector params\n      //   begin: /\\(/,\n      //   end: /\\)/,\n      //   contains: [ hljs.CSS_NUMBER_MODE ]\n      // },\n      modes.CSS_VARIABLE,\n      {\n        className: 'attribute',\n        begin: '\\\\b(' + ATTRIBUTES.join('|') + ')\\\\b'\n      },\n      // attribute values\n      {\n        begin: /:/,\n        end: /[;}{]/,\n        contains: [\n          modes.BLOCK_COMMENT,\n          modes.HEXCOLOR,\n          modes.IMPORTANT,\n          modes.CSS_NUMBER_MODE,\n          ...STRINGS,\n          // needed to highlight these as strings and to avoid issues with\n          // illegal characters that might be inside urls that would tigger the\n          // languages illegal stack\n          {\n            begin: /(url|data-uri)\\(/,\n            end: /\\)/,\n            relevance: 0, // from keywords\n            keywords: { built_in: \"url data-uri\" },\n            contains: [\n              ...STRINGS,\n              {\n                className: \"string\",\n                // any character other than `)` as in `url()` will be the start\n                // of a string, which ends with `)` (from the parent mode)\n                begin: /[^)]/,\n                endsWithParent: true,\n                excludeEnd: true\n              }\n            ]\n          },\n          modes.FUNCTION_DISPATCH\n        ]\n      },\n      {\n        begin: regex.lookahead(/@/),\n        end: '[{;]',\n        relevance: 0,\n        illegal: /:/, // break on Less variables @var: ...\n        contains: [\n          {\n            className: 'keyword',\n            begin: AT_PROPERTY_RE\n          },\n          {\n            begin: /\\s/,\n            endsWithParent: true,\n            excludeEnd: true,\n            relevance: 0,\n            keywords: {\n              $pattern: /[a-z-]+/,\n              keyword: AT_MODIFIERS,\n              attribute: MEDIA_FEATURES.join(\" \")\n            },\n            contains: [\n              {\n                begin: /[a-z-]+(?=:)/,\n                className: \"attribute\"\n              },\n              ...STRINGS,\n              modes.CSS_NUMBER_MODE\n            ]\n          }\n        ]\n      },\n      {\n        className: 'selector-tag',\n        begin: '\\\\b(' + TAGS.join('|') + ')\\\\b'\n      }\n    ]\n  };\n}\n\nexport { css as default };\n","import{defineComponent as e,ref as l,watch as a,computed as t,h as n}from\"vue\";import u from\"highlight.js/lib/core\";var r=e({props:{code:{type:String,required:!0},language:{type:String,default:\"\"},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var n=l(e.language);a((function(){return e.language}),(function(e){n.value=e}));var r=t((function(){return e.autodetect||!n.value})),o=t((function(){return!r.value&&!u.getLanguage(n.value)}));return{className:t((function(){return o.value?\"\":\"hljs \"+n.value})),highlightedCode:t((function(){var l;if(o.value)return console.warn('The language \"'+n.value+'\" you specified could not be found.'),e.code.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#x27;\");if(r.value){var a=u.highlightAuto(e.code);return n.value=null!==(l=a.language)&&void 0!==l?l:\"\",a.value}return(a=u.highlight(e.code,{language:n.value,ignoreIllegals:e.ignoreIllegals})).value}))}},render:function(){return n(\"pre\",{},[n(\"code\",{class:this.className,innerHTML:this.highlightedCode})])}}),o={install:function(e){e.component(\"highlightjs\",r)},component:r};export default o;\n","import { createApp } from 'vue';\nimport App from './App.vue';\n\nimport './assets/vue-peaks-mods.css';\n\n// Syntax highlighter\nimport hljs from 'highlight.js/lib/core';\n\nimport typescript from 'highlight.js/lib/languages/typescript';\nhljs.registerLanguage('vue-typescript', typescript);\n\nimport xml from 'highlight.js/lib/languages/xml';\nhljs.registerLanguage('vue-template', xml);\nhljs.registerLanguage('vue-sfc', xml);\n\nimport bash from 'highlight.js/lib/languages/bash';\nhljs.registerLanguage('bash', bash);\n\nimport css from 'highlight.js/lib/languages/css';\nhljs.registerLanguage('css', css);\n\nimport hljsVuePlugin from '@highlightjs/vue-plugin';\n\n// The style to use (see https://highlightjs.org/static/demo/ to choose)\nimport 'highlight.js/styles/base16/decaf.css';\n\ncreateApp(App).use(hljsVuePlugin).mount('#app');\n"],"names":["relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","makeMap","str","expectsLowerCase","map","list","i","val","EMPTY_OBJ","EMPTY_ARR","NOOP","NO","onRE","isOn","key","isModelListener","extend","remove","arr","el","hasOwnProperty","hasOwn","isArray","isMap","toTypeString","isSet","isDate","isFunction","isString","isSymbol","isObject","isPromise","objectToString","value","toRawType","isPlainObject","isIntegerKey","isReservedProp","cacheStringFunction","fn","cache","camelizeRE","camelize","_","c","hyphenateRE","hyphenate","capitalize","toHandlerKey","hasChanged","oldValue","invokeArrayFns","fns","arg","def","obj","looseToNumber","n","_globalThis","getGlobalThis","normalizeStyle","res","item","normalized","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","cssText","ret","tmp","normalizeClass","name","specialBooleanAttrs","isSpecialBooleanAttr","includeBooleanAttr","looseCompareArrays","a","b","equal","looseEqual","aValidType","bValidType","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","toDisplayString","replacer","_key","entries","val2","activeEffectScope","EffectScope","detached","currentEffectScope","fromParent","l","last","recordEffectScope","effect","scope","getCurrentScope","onScopeDispose","createDep","effects","dep","wasTracked","trackOpBit","newTracked","initDepMarkers","deps","finalizeDepMarkers","ptr","targetMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ReactiveEffect","scheduler","parent","lastShouldTrack","shouldTrack","cleanupEffect","effect2","trackStack","pauseTracking","resetTracking","track","target","type","depsMap","trackEffects","debuggerEventExtraInfo","shouldTrack2","trigger","newValue","oldTarget","newLength","key2","triggerEffects","triggerEffect","isNonTrackableKeys","builtInSymbols","get$1","createGetter","shallowGet","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","toRaw","isReadonly2","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","isRef","readonly","reactive","set$1","createSetter","shallowSet","isReadonly","isShallow","hadKey","result","deleteProperty","has$1","ownKeys","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","v","get","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","has","size","add","set","get2","deleteEntry","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","isKeyOnly","innerIterator","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","isProxy","raw","markRaw","trackRefValue","ref2","triggerRefValue","newVal","r","ref","createRef","shallowRef","rawValue","RefImpl","__v_isShallow","useDirectValue","unref","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ComputedRefImpl","getter","_setter","isSSR","self","computed","getterOrOptions","debugOptions","setter","onlyGetter","callWithErrorHandling","instance","err","handleError","callWithAsyncErrorHandling","values","throwInDev","contextVNode","cur","exposedInstance","errorInfo","errorCapturedHooks","appErrorHandler","logError","isFlushing","isFlushPending","queue","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","p","findInsertionIndex","id","start","end","middle","getId","queueJob","job","queueFlush","flushJobs","invalidateJob","queuePostFlushCb","cb","flushPreFlushCbs","seen","flushPostFlushCbs","deduped","comparator","diff","check","emit","event","rawArgs","props","modelArg","modifiersKey","number","trim","handlerName","handler","onceHandler","normalizeEmitsOptions","comp","appContext","asMixin","cached","hasExtends","extendEmits","raw2","normalizedFromExtend","isEmitListener","options","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","prev","pushScopeId","popScopeId","withCtx","ctx","isNonScopedSlot","renderFnWithContext","setBlockTracking","prevInstance","renderComponentRoot","Component","vnode","withProxy","propsOptions","slots","attrs","render","renderCache","data","setupState","inheritAttrs","fallthroughAttrs","proxyToUse","normalizeVNode","render2","getFunctionalFallthrough","blockStack","createVNode","Comment","root","keys","shapeFlag","filterModelListeners","cloneVNode","shouldUpdateComponent","prevVNode","nextVNode","optimized","prevProps","prevChildren","component","nextProps","nextChildren","patchFlag","emits","hasPropsChanged","dynamicProps","emitsOptions","nextKeys","updateHOCHostEl","isSuspense","queueEffectWithSuspense","suspense","watchPostEffect","doWatch","INITIAL_WATCHER_VALUE","watch","source","immediate","deep","flush","onTrack","onTrigger","_a","currentInstance","forceTrigger","isMultiSource","isShallow$1","s","traverse","cleanup","onCleanup","baseGetter","ssrCleanup","isInSSRComponentSetup","useSSRContext","queuePostRenderEffect","unwatch","instanceWatch","publicThis","createPathGetter","setCurrentInstance","unsetCurrentInstance","path","segments","withDirectives","directives","internalInstance","getExposeProxy","bindings","dir","modifiers","invokeDirectiveHook","oldBindings","binding","hook","defineComponent","extraOptions","isAsyncWrapper","isKeepAlive","onActivated","registerKeepAliveHook","onDeactivated","wrappedHook","current","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","prepend","hooks","createHook","lifecycle","onBeforeMount","onMounted","onBeforeUpdate","onUpdated","onBeforeUnmount","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","warnMissing","selfName","getComponentName","resolve","registry","renderSlot","fallback","noSlotted","slot","openBlock","validSlotContent","ensureValidVNode","rendered","createBlock","Fragment","vnodes","child","isVNode","getPublicInstance","isStatefulComponent","publicPropertiesMap","resolveMergedOptions","hasSetupBinding","state","PublicInstanceProxyHandlers","accessCache","normalizedProps","shouldCacheAccess","publicGetter","cssModule","globalProperties","descriptor","normalizePropsOrEmits","applyOptions","callHook","dataOptions","computedOptions","methods","watchOptions","provideOptions","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","components","filters","resolveInjections","methodHandler","opt","createWatcher","provides","provide","registerLifecycleHook","register","_hook","exposed","checkDuplicateProperties","normalizeInject","inject","h","base","mixins","extendsOptions","globalMixins","optionMergeStrategies","resolved","m","mergeOptions","to","from","strats","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","isMounted","app","version","plugin","mixin","directive","rootContainer","isHydrate","isSVG","currentApp","parentProvides","defaultValue","treatDefaultAsFactory","initProps","rawProps","isStateful","InternalObjectKey","setFullProps","updateProps","rawPrevProps","rawCurrentProps","hasAttrsChanged","propsToUpdate","camelizedKey","resolvePropValue","kebabKey","needCastKeys","rawCastValues","camelKey","castValues","isAbsent","hasDefault","propsDefaults","normalizePropsOptions","extendProps","normalizedKey","validatePropName","prop","booleanIndex","getTypeIndex","stringIndex","getType","ctor","match","isSameType","expectedTypes","t","isInternalKey","normalizeSlotValue","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","normalizeVNodeSlots","children","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","refValue","owner","oldRef","refs","_isString","_isRef","doSet","existing","createRenderer","baseCreateRenderer","createHydrationFns","hostInsert","hostRemove","hostPatchProp","hostCreateElement","hostCreateText","hostCreateComment","hostSetText","hostSetElementText","hostParentNode","hostNextSibling","hostSetScopeId","hostInsertStaticContent","patch","n1","n2","container","anchor","parentComponent","slotScopeIds","isSameVNodeType","getNextHostNode","unmount","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","nextSibling","next","removeStaticNode","mountElement","patchElement","vnodeHook","transition","dirs","mountChildren","setScopeId","unmountChildren","invokeVNodeHook","needCallTransitionHooks","scopeId","subTree","parentVNode","cloneIfMounted","dynamicChildren","oldProps","newProps","toggleRecurse","areChildrenSVG","patchBlockChildren","patchChildren","patchProps","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","mountComponent","updateComponent","initialVNode","createComponentInstance","setupComponent","setupRenderEffect","placeholder","updateComponentPreRender","componentUpdateFn","bu","u","originNext","nextTree","prevTree","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","scopedInitialVNode","update","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","oldLength","commonLength","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","leave","delayLeave","afterLeave","remove2","performLeave","doRemove","shouldInvokeDirs","shouldInvokeVnodeHook","unmountComponent","removeFragment","performRemove","bum","um","allowed","ch1","ch2","len","arrI","isTeleport","currentBlock","disableTracking","closeBlock","isBlockTreeEnabled","setupBlock","createElementBlock","createBaseVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","normalizeChildren","_createVNode","cloned","isClassComponent","guardReactiveProps","klass","style","extraProps","mergeRef","mergedProps","mergeProps","createTextVNode","text","flag","createStaticVNode","content","numberOfNodes","createCommentVNode","asBlock","slotFlag","toMerge","incoming","emptyAppContext","uid","getCurrentInstance","internalSetCurrentInstance","globalCurrentInstanceSetters","settersKey","setupResult","setupStatefulComponent","setup","setupContext","createSetupContext","resolvedResult","handleSetupResult","e","finishComponentSetup","compile","skipOptions","template","isCustomElement","compilerOptions","delimiters","componentCompilerOptions","finalCompilerOptions","getAttrsProxy","includeInferred","computed$1","propsOrChildren","ssrContextKey","svgNS","doc","templateContainer","nodeOps","tag","is","selector","before","wrapper","patchClass","transitionClasses","patchStyle","isCssString","setStyle","currentDisplay","importantRE","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","isBoolean","patchDOMProp","needRemove","addEventListener","removeEventListener","patchEvent","prevValue","nextValue","invokers","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","patchStopImmediatePropagation","originalStop","nativeOnRE","patchProp","shouldSetAsProp","useCssVars","updateTeleports","vars","setVarsOnNode","setVars","setVarsOnVNode","ob","getModelAssigner","onCompositionStart","onCompositionEnd","vModelText","lazy","castToNumber","domValue","vModelSelect","isSetModel","selectedVal","o","getValue","setSelected","_binding","isMultiple","option","optionValue","rendererOptions","renderer","ensureRenderer","createApp","mount","containerOrSelector","normalizeContainer","_imports_0","_createElementVNode","_createTextVNode","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_component_highlightjs","tryOnScopeDispose","toValue","isClient","notNullish","noop","createFilterWrapper","filter","reject","debounceFilter","ms","timer","maxTimer","lastRejector","_clearTimeout","timer2","invoke","duration","maxDuration","useDebounceFn","unrefElement","elRef","plain","defaultWindow","useMounted","useSupported","useResizeObserver","window","observerOptions","observer","isSupported","targets","stopWatch","els","_el","stop","useIntersectionObserver","rootMargin","threshold","_target","isActive","targets2","root2","useElementVisibility","element","scrollTarget","elementIsVisible","isIntersecting","exports","PI_OVER_180","detectBrowser","global","param","angle","Konva","_registerNode","NodeClass","Global_1","require$$0","Transform","tr","point","x","y","sx","sy","rad","m11","m12","m21","m22","matrix","dx","dy","d","m0","m1","m2","m3","m4","m5","f","delta","OBJECT_ARRAY","OBJECT_NUMBER","OBJECT_STRING","OBJECT_BOOLEAN","PI_OVER_DEG180","DEG180_OVER_PI","HASH","EMPTY_STRING","ZERO","KONVA_WARNING","KONVA_ERROR","RGB_PAREN","COLORS","RGB_REGEX","animQueue","req","firstChar","canvas","url","imageObj","g","hex","bigint","randColor","color","rgb","parts","index","hsl","t2","t3","t1","r1","r2","retObj","deg","radians","func","left","right","x1","y1","x2","y2","x3","y3","dist","pd2","pt","line","isClosed","pc","p1","p2","proj","px","py","pdist","startArray","endArray","temp","newStart","pr","desc","evt","canvases","width","height","cornerRadius","topLeft","topRight","bottomLeft","bottomRight","Validators","Util_1","require$$1","_formatValue","RGBComponent","alphaComponent","getNumberValidator","attr","getNumberOrArrayOfNumbersValidator","noOfElements","isNumber","isValidArray","getNumberOrAutoValidator","isAuto","getStringValidator","getStringOrGradientValidator","isGradient","getFunctionValidator","getNumberArrayValidator","TypedArray","getBooleanValidator","isBool","getComponentValidator","Validators_1","GET","SET","constructor","validator","after","basicValidator","oldVal","capitalizedAttr","message","oldMethodName","newMethodName","oldGetter","oldSetter","deprecated","Context_1","simplifyArray","retArr","util","COMMA","OPEN_PAREN","CLOSE_PAREN","OPEN_PAREN_BRACKET","CLOSE_BRACKET_PAREN","SEMICOLON","DOUBLE_PAREN","EQUALS","CONTEXT_METHODS","CONTEXT_PROPERTIES","traceArrMax","Context","shape","relaxed","rounded","traceArr","trace","pixelRatio","bounds","lineCap","absOpacity","lineJoin","a0","a1","a2","a3","a4","a5","a6","a7","a8","_context","fillRule","maxWidth","path2d","that","origSetter","methodName","origMethod","op","SceneContext","willReadFrequently","fill","grd","hasColor","fillPriority","hasPattern","hasLinearGradient","hasRadialGradient","colorStops","dash","strokeScaleEnabled","_b","_c","blur","offset","scale","ratio","scaleX","scaleY","HitContext","hitStrokeWidth","strokeWidth","Canvas_1","require$$2","Factory_1","require$$3","require$$4","_pixelRatio","getDevicePixelRatio","devicePixelRatio","backingStoreRatio","Canvas","config","conf","previousRatio","mimeType","quality","SceneCanvas","HitCanvas","elem","nodesToFireEvents","stage","pos","dragDistance","distance","drawNodes","drawNode","Node_1","DragAndDrop_1","require$$5","ABSOLUTE_OPACITY","ALL_LISTENERS","ABSOLUTE_TRANSFORM","ABSOLUTE_SCALE","CANVAS","CHANGE","CHILDREN","KONVA","LISTENING","MOUSEENTER","MOUSELEAVE","SHAPE","SPACE","STAGE","TRANSFORM","UPPER_STAGE","VISIBLE","TRANSFORM_CHANGE_STR","idCounter","Node","privateGetter","isTransform","invalid","depsString","scene","hit","rect","drawBorder","hitCanvasPixelRatio","cachedSceneCanvas","cachedFilterCanvas","cachedHitCanvas","sceneContext","hitContext","top","points","minX","minY","maxX","maxY","trans","transformed","canvasCache","cacheCanvas","hitCanvas","cachedCanvas","sceneCanvas","filterCanvas","filterContext","imageData","evtStr","events","baseEvent","stopNode","ancestors","relativeTo","skipDragCheck","layer","layerUnderDrag","dragSkip","depth","nodes","addChildren","transform","haveCachedParent","absoluteMatrix","absoluteTransform","origTrans","it","change","changeX","changeY","family","theta","zIndex","newContainer","nonPlainObject","includeSelf","ancestor","selectorArr","sel","eventType","bubble","at","transformsEnabled","offsetX","offsetY","rotation","skewX","skewY","allListeners","listener","box","img","blob","evtListeners","evtName","oldName","newName","fullName","names","compareShape","shouldStop","stopBubble","hierarchyEvents","topListeners","selfListeners","pointerId","ap","bubbleEvent","newNodePos","dbf","bounded","draggable","shouldCheckButton","canDrag","hasDraggingChild","dragElement","isDragging","isReady","margin","screenRect","className","no","Class","addGetterSetter","Container_1","Container","filterFunc","results","findOne","valid","can","caching","drawMethod","clipWidth","clipHeight","clipFunc","hasClip","selfCache","clipArgs","clipX","clipY","hasComposition","skipTransform","selfRect","shapes","hasVisible","PointerEvents","Captures","SUPPORT_POINTER_EVENTS","getCapturedShape","createEvent","hasPointerCapture","setPointerCapture","releaseCapture","Global_2","require$$6","STRING","PX","MOUSEOUT","MOUSEOVER","MOUSEMOVE","MOUSEDOWN","MOUSEUP","POINTERMOVE","POINTERDOWN","POINTERUP","POINTERCANCEL","LOSTPOINTERCAPTURE","POINTEROUT","POINTERLEAVE","POINTEROVER","POINTERENTER","CONTEXTMENU","TOUCHSTART","TOUCHEND","TOUCHMOVE","TOUCHCANCEL","WHEEL","MAX_LAYERS_NUMBER","EVENTS","EVENTS_MAP","getEventType","getEventsMap","checkNoClip","NO_POINTERS_MESSAGE","Stage","isLayer","isFastLayer","layers","layerCanvas","rest","length","evenType","targetShape","eventsEnabled","triggeredOnShape","isTouch","processedShapesIds","differentTarget","clickStartShape","clickEndShape","fireDblClick","contentPosition","touch","HAS_SHADOW","SHADOW_RGBA","patternImage","linearGradient","radialGradient","dummyContext","getDummyContext","_fillFunc","_strokeFunc","_fillFuncHit","_strokeFuncHit","_clearHasShadowCache","_clearGetShadowRGBACache","_clearFillPatternCache","_clearLinearGradientCache","_clearRadialGradientCache","Shape","pattern","rgba","bufferHitCanvas","forceFill","hasFill","hasStroke","isTransparent","hasShadow","strokeForShadow","fillRect","fillAndStrokeWidth","fillAndStrokeHeight","applyShadow","shadowOffsetX","shadowOffsetY","preWidth","preHeight","blurRadius","drawFunc","bufferCanvas","bufferContext","skipBuffer","cachingSelf","alphaThreshold","hitWidth","hitHeight","hitImageData","hitData","rgbColorKey","alpha","Layer_1","Shape_1","require$$7","BEFORE_DRAW","DRAW","INTERSECTION_OFFSETS","INTERSECTION_OFFSETS_LEN","Layer","_canvas","spiralSearchDistance","continueSearch","intersectionOffset","p3","colorKey","added","FastLayer_1","FastLayer","Group_1","Group","Animation_1","Animation_2","now","Animation","lays","animations","time","anim","layerHash","layersLen","needRedraw","Anim","blacklist","PAUSED","PLAYING","REVERSING","colorAttrs","TweenEngine","propFunc","begin","finish","yoyo","Tween","nodeId","easing","tweenId","trueEnd","trueStart","endRGBA","startRGBA","thisId","params","onFinish","tween","Stage_1","require$$8","require$$9","require$$10","Tween_1","require$$11","require$$12","require$$13","_CoreInternals_1","_CoreInternals_2","module","Line_1","Line_2","getControlPoints","x0","y0","d01","d12","fa","fb","p1x","p1y","p2x","p2y","expandPoints","tension","allPoints","cp","Line","closed","bezier","tp","firstControlPoints","lastControlPoints","Rect_1","Rect_2","Rect","Text_1","Text_2","stringToArray","string","AUTO","CENTER","JUSTIFY","CHANGE_KONVA","CONTEXT_2D","DASH","LEFT","TEXT","TEXT_UPPER","TOP","BOTTOM","MIDDLE","NORMAL","PX_SPACE","RIGHT","WORD","CHAR","NONE","ELLIPSIS","ATTR_CHANGE_LIST","attrChangeListLen","normalizeFontFamily","fontFamily","hasSpace","hasQuotes","checkDefaultFill","textArr","textArrLen","padding","fontSize","lineHeightPx","verticalAlign","alignY","align","totalWidth","letterSpacing","textDecoration","shouldUnderline","shouldLineThrough","translateY","lineTranslateX","lineTranslateY","lastLine","spacesNumber","oneWord","lineWidth","gradient","array","li","letter","metrics","lines","textWidth","fixedWidth","fixedHeight","maxHeightPx","currentHeightPx","shouldWrap","wrapAtWord","shouldAddEllipsis","additionalWidth","max","low","high","matchWidth","mid","substr","substrWidth","wrapIndex","nextChar","nextIsSpaceOrDash","shouldHandleEllipsis","haveSpace","WaveformDataChannel","waveformData","channelIndex","sample","INT8_MAX","INT8_MIN","calculateWaveformDataLength","audio_sample_count","data_length","samples_remaining","generateWaveformData","amplitude_scale","split_channels","sample_rate","channels","channel","output_channels","header_size","total_size","buffer","data_view","scale_counter","min_value","max_value","_typeof","isJsonWaveformData","isBinaryWaveformData","isCompatible","view","convertJsonToBinary","bytes_per_sample","expected_length","array_buffer","data_object","decodeBase64","base64","enableUnicode","binaryString","binaryView","createURL","sourcemapArg","enableUnicodeArg","sourcemap","body","createBase64WorkerFactory","WorkerFactory","WaveformData","defaultOptions","getOptions","opts","getChannelData","audio_buffer","createFromAudioBuffer","worker","createFromArrayBuffer","audioContext","audioData","errorCallback","error","output_samples_per_pixel","input_buffer_size","input_buffer_length_samples","output_buffer_length_samples","output_header_size","output_data","output_dataview","waveform_data","input_index","output_index","min","where","prev_where","last_input_index","sample_at_pixel","otherWaveforms","otherWaveform","combinedBuffer","headerSize","totalSize","totalDataLength","bufferCollection","w","dataSize","totalBuffer","sourceHeader","totalBufferView","dataOfTotalBuffer","correction","bits","waveform","eventemitter3","prefix","Events","EE","once","addListener","emitter","clearEvent","EventEmitter","handlers","ee","listeners","Cue","zeroPad","precision","formatTime","fractionSeconds","seconds","minutes","hours","roundUpToNearest","multiple","multiplier","roundedUp","clamp","objectHasProperty","object","field","isInAscendingOrder","isFinite","isValidTime","isArrayBuffer","isNullOrUndefined","isHTMLElement","isLinearGradientColor","getMarkerObject","isHeadless","windowIsVisible","requestAnimationFrame","cancelAnimationFrame","eventTypes","EVENT_TYPE_POINT","EVENT_TYPE_SEGMENT_ENTER","EVENT_TYPE_SEGMENT_EXIT","eventNames","eventAttributes","getPointOrSegment","peaks","cue","CueEmitter","segment","previousTime","isForward","step","marker","getSegmentIdComparator","activeSegments","pointOptions","invalidOptions$1","setDefaultPointOptions","peaksOptions","validatePointOptions","updating","Point","pid","startTime","endTime","WaveformPoints","arrayArgs","newPointId","predicate","indexes","removed","itemRemoved","pointId","segmentOptions","invalidOptions","setDefaultSegmentOptions","globalSegmentOptions","validateSegmentOptions","Segment","WaveformSegments","sortedSegments","newSegmentId","segmentId","TAB","LEFT_ARROW","RIGHT_ARROW","KeyboardHandler","eventEmitter","mediaElementHasSource","mediaElement","MediaElementPlayer","eventHandler","SetSourceHandler","setSourceHandler","getAllPropertiesFrom","adapter","allProperties","validateAdapter","publicAdapterMethods","Player","loop","DefaultPointMarker","group","handleWidth","handleHeight","handleX","DefaultSegmentMarker","xPosition","createSegmentMarker","createSegmentLabel","createPointMarker","HighlightLayer","startOffset","endOffset","PlayheadLayer","pixelsPerSecond","pixelIndex","frameOffset","isVisible","playheadX","playheadTextWidth","lastPlayheadPosition","playheadPosition","show","PointMarker","defaultFontFamily$1","defaultFontSize$1","defaultFontShape$1","PointsLayer","allowEditing","enable","frameStartTime","frameEndTime","pointMarker","pointMarkerOffset","pointMarkerX","editable","markerX","pointPid","visible","OverlaySegmentMarker","viewHeight","overlayOffset","overlayRectHeight","SegmentMarker","WaveformShape","shapeOptions","startY","endY","startPixels","endPixels","limit","waveformTop","waveformHeight","amplitude","amplitudeScale","lineX","lineY","defaultFontFamily","defaultFontSize","defaultFontShape","SegmentShape","segmentStartOffset","segmentEndOffset","overlayBorderColor","overlayBorderWidth","overlayColor","overlayOpacity","overlayCornerRadius","createOverlayMarker","startMarker","endMarker","eventName","timeOffset","segmentDuration","dragMode","minSegmentWidth","minSegmentDuration","previousSegmentUpdated","nextSegmentUpdated","previousSegmentEndX","previousSegmentEndTime","minPreviousSegmentEndTime","nextSegmentStartX","nextSegmentStartTime","maxNextSegmentStartTime","segmentMarker","getDuration","startMarkerX","endMarkerX","upperLimit","previousSegmentVisible","fixedPreviousSegment","compressPreviousSegment","previousSegmentDuration","lowerLimit","nextSegmentVisible","fixedNextSegment","compressNextSegment","nextSegmentDuration","SegmentsLayer","segmentPid","segmentShape","WaveformAxis","fontStyle","baseSecs","steps","minSpacing","secs","pixels","currentFrameStartTime","markerHeight","axisLabelIntervalSecs","firstAxisLabelSecs","axisLabelOffsetSecs","axisLabelOffsetPixels","label","labelWidth","labelX","labelY","MouseDragHandler","mouseDownPosX","clientX","mousePosX","containerPos","SeekMouseDragHandler","WaveformOverview","emitViewEvent","clickEvent","playheadTime","updateWaveform","InsertSegmentMouseDragHandler","ScrollMouseDragHandler","playheadOffset","newFrameOffset","WaveformZoomView","initialZoomLevel","mode","wheelEvent","direction","large","increment","endThreshold","isAutoScale","currentTime","apexTime","playheadOffsetPixels","prevScale","apexPixel","sourceWaveform","scrollAmount","playheadPixel","resample","resampleOptions","Scrollbar","zoomview","range","zoomviewRange","scrollBoxPos","ViewController","ZoomController","zoomLevels","zoomLevelIndex","forceUpdate","isXhr2","WaveformBuilder","dataUri","requestType","connector","createdWaveformData","webAudioOptions","mediaSourceUrl","webAudioBuilderOptions","webAudio","withCredentials","onLoad","onError","onAbort","xhr","Peaks","defaultViewOptions","defaultZoomviewOptions","defaultOverviewOptions","defaultSegmentOptions","defaultScrollbarOptions","getOverviewOptions","overviewOptions","optNames","optName","getZoomviewOptions","zoomviewOptions","getScrollbarOptions","scrollbarOptions","extendOptions","addSegmentOptions","checkContainerElements","zoomviewContainer","overviewContainer","scrollbarContainer","player","viewName","resizeRateMilliseconds","peaksInstance","audioPeaks","overview","overviewSlot","zoomviewSlot","media","mediaSlot","zoomLevel","__expose","createPeaksInstance","destroyPeaksInstance","audioPeaksIsVisible","overviewElement","zoomviewElement","debouncedOverviewResize","elm","htmlElementId","slotRef","slotRefHtmlTagName","elementByRef","externalSlot","elementByFirstInSlot","zoomIn","zoomOut","zoomviewWaveformProgressColor","overviewWaveformProgressColor","audio","togglePlayback","setBookmark","seekBookmark","toggleRendering","currentState","_createStaticVNode","_sfc_render","_ctx","_cache","deepFreeze","Response","escapeHTML","inherit$1","original","objects","SPAN_CLOSE","emitsWrappingTags","scopeToCSSClass","pieces","HTMLRenderer","parseTree","newNode","TokenTree","builder","TokenTreeEmitter","re","lookahead","concat","anyNumberOfTimes","optional","stripOptionsFromArgs","either","countMatchGroups","startsWith","lexeme","BACKREF_RE","_rewriteBackreferences","regexps","joinWith","numCaptures","regex","out","MATCH_NOTHING_RE","IDENT_RE","UNDERSCORE_IDENT_RE","NUMBER_RE","C_NUMBER_RE","BINARY_NUMBER_RE","RE_STARTERS_RE","SHEBANG","beginShebang","resp","BACKSLASH_ESCAPE","APOS_STRING_MODE","QUOTE_STRING_MODE","PHRASAL_WORDS_MODE","COMMENT","modeOptions","ENGLISH_WORD","C_LINE_COMMENT_MODE","C_BLOCK_COMMENT_MODE","HASH_COMMENT_MODE","NUMBER_MODE","C_NUMBER_MODE","BINARY_NUMBER_MODE","REGEXP_MODE","TITLE_MODE","UNDERSCORE_TITLE_MODE","METHOD_GUARD","END_SAME_AS_BEGIN","MODES","skipIfHasPrecedingDot","response","scopeClassName","_parent","beginKeywords","compileIllegal","compileMatch","compileRelevance","beforeMatchExt","originalMode","COMMON_KEYWORDS","DEFAULT_KEYWORD_SCOPE","compileKeywords","rawKeywords","caseInsensitive","scopeName","compiledKeywords","compileList","keywordList","keyword","pair","scoreForKeyword","providedScore","commonKeyword","seenDeprecations","warn","MultiClassError","remapScopeNames","regexes","scopeNames","positions","beginMultiClass","endMultiClass","scopeSugar","MultiClass","compileLanguage","language","langRe","MultiRegex","terminators","matchData","ResumableMultiRegex","matcher","buildModeRegex","mm","term","compileMode","cmode","ext","keywordPattern","expandOrCloneMode","dependencyOnParent","variant","HTMLInjectionError","reason","html","escape","inherit","NO_MATCH","MAX_KEYWORD_HITS","HLJS","hljs","languages","aliases","plugins","SAFE_MODE","LANGUAGE_NOT_FOUND","PLAINTEXT_LANGUAGE","shouldNotHighlight","languageName","blockLanguage","block","classes","getLanguage","_class","highlight","codeOrLanguageName","optionsOrCode","ignoreIllegals","code","fire","_highlight","codeToHighlight","continuation","keywordHits","keywordData","matchText","processKeywords","modeBuffer","lastIndex","buf","word","kind","keywordRelevance","relevance","cssClass","emitKeyword","processSubLanguage","continuations","highlightAuto","processBuffer","emitMultiClass","startNewMode","endOfMode","matchPlusRemainder","matched","doIgnore","resumeScanAtSamePosition","doBeginMatch","newMode","beforeCallbacks","doEndMatch","endMode","origin","processContinuations","lastMatch","processLexeme","textBeforeMatch","processed","iterations","md","beforeMatch","processedCount","justTextHighlightResult","languageSubset","plaintext","autoDetection","sorted","best","secondBest","updateClassName","currentLang","resultLang","highlightElement","configure","userOptions","initHighlighting","highlightAll","initHighlightingOnLoad","wantsHighlight","boot","registerLanguage","languageDefinition","lang","error$1","registerAliases","unregisterLanguage","alias","listLanguages","aliasList","upgradePluginAPI","addPlugin","removePlugin","deprecateHighlightBlock","core","KEYWORDS","LITERALS","TYPES","ERROR_TYPES","BUILT_IN_GLOBALS","BUILT_IN_VARIABLES","BUILT_INS","javascript","hasClosingTag","IDENT_RE$1","FRAGMENT","XML_SELF_CLOSING","XML_TAG","afterMatchIndex","afterMatch","KEYWORDS$1","decimalDigits","frac","decimalInteger","NUMBER","SUBST","HTML_TEMPLATE","CSS_TEMPLATE","GRAPHQL_TEMPLATE","TEMPLATE_STRING","SUBST_INTERNALS","SUBST_AND_COMMENTS","PARAMS_CONTAINS","PARAMS","CLASS_OR_EXTENDS","CLASS_REFERENCE","USE_STRICT","FUNCTION_DEFINITION","UPPER_CASE_CONSTANT","noneOf","FUNCTION_CALL","PROPERTY_ACCESS","GETTER_OR_SETTER","FUNC_LEAD_IN_RE","FUNCTION_VARIABLE","typescript","tsLanguage","NAMESPACE","INTERFACE","TS_SPECIFIC_KEYWORDS","DECORATOR","swapMode","replacement","indx","functionDeclaration","xml","TAG_NAME_RE","XML_IDENT_RE","XML_ENTITIES","XML_META_KEYWORDS","XML_META_PAR_KEYWORDS","APOS_META_STRING_MODE","QUOTE_META_STRING_MODE","TAG_INTERNALS","bash","VAR","BRACED_VAR","HERE_DOC","QUOTE_STRING","ESCAPED_QUOTE","APOS_STRING","ARITHMETIC","SH_LIKE_SHELLS","KNOWN_SHEBANG","FUNCTION","PATH_MODE","SHELL_BUILT_INS","BASH_BUILT_INS","ZSH_BUILT_INS","GNU_CORE_UTILS","TAGS","MEDIA_FEATURES","PSEUDO_CLASSES","PSEUDO_ELEMENTS","ATTRIBUTES","css","modes","VENDOR_PREFIX","AT_MODIFIERS","AT_PROPERTY_RE","STRINGS","App","hljsVuePlugin"],"mappings":"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C9CJ,EAAK,cAAgBhlD,GAErBglD,EAAK,MAAQ,CACX,OAAQzG,GACR,UAAWD,GACX,OAAQK,GACR,SAAUF,GACV,iBAAkBD,EACtB,EAEE,UAAW/gE,KAAOyjE,GAEZ,OAAOA,GAAMzjE,IAAS,UAExB4/D,GAAW6D,GAAMzjE,EAAI,EAKzB,cAAO,OAAOunE,EAAM9D,EAAK,EAElB8D,CACT,EAGMc,GAAYf,GAAK,CAAA,CAAE,EAIzBe,GAAU,YAAc,IAAMf,GAAK,CAAA,CAAE,MAErC8F,GAAiB/E,GACjBA,GAAU,YAAcA,GACxBA,GAAU,QAAUA,eCviFdvG,GAAW,2BACXuL,GAAW,CACf,KACA,KACA,KACA,KACA,MACA,QACA,UACA,MACA,MACA,WACA,KACA,SACA,OACA,OACA,QACA,QACA,aACA,OACA,QACA,OACA,UACA,MACA,SACA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,SACF,EACMC,GAAW,CACf,OACA,QACA,OACA,YACA,MACA,UACF,EAGMC,GAAQ,CAEZ,SACA,WACA,UACA,SAEA,OACA,OACA,SACA,SAEA,SACA,SAEA,QACA,eACA,eACA,YACA,aACA,oBACA,aACA,aACA,cACA,cACA,gBACA,iBAEA,MACA,MACA,UACA,UAEA,cACA,oBACA,UACA,WACA,OAEA,UACA,YACA,oBACA,gBAEA,UACA,QAEA,OAEA,aACF,EAEMC,GAAc,CAClB,QACA,YACA,gBACA,aACA,iBACA,cACA,YACA,UACF,EAEMC,GAAmB,CACvB,cACA,aACA,gBACA,eAEA,UACA,UAEA,OACA,WACA,QACA,aACA,WACA,YACA,qBACA,YACA,qBACA,SACA,UACF,EAEMC,GAAqB,CACzB,YACA,OACA,QACA,UACA,SACA,WACA,eACA,iBACA,SACA,QACF,EAEMC,GAAY,CAAE,EAAC,OACnBF,GACAF,GACAC,EACF,EAUA,SAASI,GAAWrG,EAAM,CACxB,MAAM5F,EAAQ4F,EAAK,MAQbsG,EAAgB,CAAC7oD,EAAO,CAAE,MAAAif,CAAK,IAAO,CAC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CA,OACA,MACA,MACA,MACA,QACA,MACA,KACD,EACD,iBAAkB,GAClB,aAAc,GACd,SAAU,CACR,CACE,UAAW,OACX,MAAO,UACP,IAAK,IACL,UAAW,GACX,SAAU,CACRC,EACAG,EACAD,EACAD,EACA,CACE,MAAO,KACP,IAAK,KACL,SAAU,CACR,CACE,UAAW,OACX,MAAO,UACP,IAAK,IACL,SAAU,CACRD,EACAC,EACAE,EACAD,CACD,CACF,CACF,CACF,CACF,CACF,EACDtJ,EAAK,QACH,OACA,MACA,CAAE,UAAW,EAAI,CAClB,EACD,CACE,MAAO,cACP,IAAK,QACL,UAAW,EACZ,EACDmJ,EAEA,CACE,UAAW,OACX,IAAK,MACL,SAAU,CACR,CACE,MAAO,SACP,UAAW,GACX,SAAU,CACRI,CACD,CACF,EACD,CACE,MAAO,mBACR,CACF,CAEF,EACD,CACE,UAAW,MAMX,MAAO,iBACP,IAAK,IACL,SAAU,CAAE,KAAM,OAAS,EAC3B,SAAU,CAAEC,CAAe,EAC3B,OAAQ,CACN,IAAK,YACL,UAAW,GACX,YAAa,CACX,MACA,KACD,CACF,CACF,EACD,CACE,UAAW,MAEX,MAAO,kBACP,IAAK,IACL,SAAU,CAAE,KAAM,QAAU,EAC5B,SAAU,CAAEA,CAAe,EAC3B,OAAQ,CACN,IAAK,aACL,UAAW,GACX,YAAa,CACX,aACA,aACA,KACD,CACF,CACF,EAED,CACE,UAAW,MACX,MAAO,SACR,EAED,CACE,UAAW,MACX,MAAOpP,EAAM,OACX,IACAA,EAAM,UAAUA,EAAM,OACpB6O,EAIA7O,EAAM,OAAO,MAAO,IAAK,IAAI,CACzC,CAAW,CACF,EACD,IAAK,OACL,SAAU,CACR,CACE,UAAW,OACX,MAAO6O,EACP,UAAW,EACX,OAAQO,CACT,CACF,CACF,EAED,CACE,UAAW,MACX,MAAOpP,EAAM,OACX,MACAA,EAAM,UAAUA,EAAM,OACpB6O,EAAa,GACzB,CAAW,CACF,EACD,SAAU,CACR,CACE,UAAW,OACX,MAAOA,EACP,UAAW,CACZ,EACD,CACE,MAAO,IACP,UAAW,EACX,WAAY,EACb,CACF,CACF,CACF,CACL,CACA,CCrOA,SAASQ,GAAKzJ,EAAM,CAClB,MAAM5F,EAAQ4F,EAAK,MACb0J,EAAM,CAAA,EACNC,EAAa,CACjB,MAAO,OACP,IAAK,KACL,SAAU,CACR,OACA,CACE,MAAO,KACP,SAAU,CAAED,CAAK,CAClB,CACF,CACL,EACE,OAAO,OAAOA,EAAK,CACjB,UAAW,WACX,SAAU,CACR,CAAE,MAAOtP,EAAM,OAAO,qBAGpB,qBAAqB,CAAG,EAC1BuP,CACD,CACL,CAAG,EAED,MAAMzC,EAAQ,CACZ,UAAW,QACX,MAAO,OACP,IAAK,KACL,SAAU,CAAElH,EAAK,gBAAkB,CACvC,EACQ4J,EAAW,CACf,MAAO,iBACP,OAAQ,CAAE,SAAU,CAClB5J,EAAK,kBAAkB,CACrB,MAAO,QACP,IAAK,QACL,UAAW,QACnB,CAAO,CACP,CAAO,CACP,EACQ6J,EAAe,CACnB,UAAW,SACX,MAAO,IACP,IAAK,IACL,SAAU,CACR7J,EAAK,iBACL0J,EACAxC,CACD,CACL,EACEA,EAAM,SAAS,KAAK2C,CAAY,EAChC,MAAMC,EAAgB,CACpB,UAAW,GACX,MAAO,KAEX,EACQC,EAAc,CAClB,UAAW,SACX,MAAO,IACP,IAAK,GACT,EACQC,EAAa,CACjB,MAAO,UACP,IAAK,OACL,SAAU,CACR,CACE,MAAO,gBACP,UAAW,QACZ,EACDhK,EAAK,YACL0J,CACD,CACL,EACQO,EAAiB,CACrB,OACA,OACA,MACA,KACA,MACA,MACA,OACA,OACA,MACJ,EACQC,EAAgBlK,EAAK,QAAQ,CACjC,OAAQ,IAAIiK,EAAe,KAAK,GAAG,KACnC,UAAW,EACf,CAAG,EACKE,EAAW,CACf,UAAW,WACX,MAAO,4BACP,YAAa,GACb,SAAU,CAAEnK,EAAK,QAAQA,EAAK,WAAY,CAAE,MAAO,YAAY,CAAE,CAAG,EACpE,UAAW,CACf,EAEQ8F,EAAW,CACf,KACA,OACA,OACA,OACA,KACA,MACA,QACA,QACA,KACA,KACA,OACA,OACA,OACA,WACA,QACJ,EAEQC,EAAW,CACf,OACA,OACJ,EAGQqE,EAAY,CAAE,MAAO,kBAGrBC,EAAkB,CACtB,QACA,KACA,WACA,OACA,OACA,OACA,SACA,UACA,OACA,MACA,WACA,SACA,QACA,OACA,QACA,OACA,QACA,OACJ,EAEQC,EAAiB,CACrB,QACA,OACA,UACA,SACA,UACA,UACA,OACA,SACA,OACA,MACA,QACA,SACA,UACA,SACA,OACA,YACA,SACA,OACA,UACA,SACA,SACJ,EAEQC,EAAgB,CACpB,WACA,KACA,UACA,MACA,MACA,QACA,QACA,gBACA,WACA,UACA,eACA,YACA,aACA,YACA,WACA,UACA,aACA,OACA,UACA,SACA,SACA,SACA,UACA,KACA,KACA,QACA,YACA,SACA,QACA,UACA,UACA,OACA,OACA,QACA,MACA,SACA,OACA,QACA,QACA,SACA,SACA,QACA,SACA,SACA,OACA,UACA,SACA,aACA,SACA,UACA,WACA,QACA,OACA,SACA,QACA,QACA,WACA,UACA,OACA,MACA,WACA,aACA,QACA,OACA,cACA,UACA,SACA,MACJ,EAEQC,EAAiB,CACrB,QACA,QACA,QACA,QACA,KACA,KACA,KACA,MACA,YACA,KACA,KACA,QACA,SACA,QACA,SACA,KACA,WACA,KACA,QACA,QACA,OACA,QACA,WACA,OACA,QACA,SACA,SACA,MACA,QACA,OACA,SACA,MACA,SACA,MACA,OACA,OACA,OACA,SACA,KACA,SACA,KACA,QACA,MACA,KACA,UACA,YACA,YACA,YACA,YACA,OACA,OACA,QACA,MACA,MACA,OACA,KACA,QACA,WACA,OACA,KACA,OACA,WACA,SACA,OACA,UACA,KACA,OACA,MACA,OACA,SAEA,SACA,SACA,KACA,OACA,UACA,OACA,QACA,QACA,UACA,QACA,WACA,SACA,MACA,WACA,SACA,MACA,QACA,OACA,SACA,OACA,MACA,OACA,UAEA,MACA,QACA,SACA,SACA,QACA,MACA,SACA,KACJ,EAEE,MAAO,CACL,KAAM,OACN,QAAS,CAAE,IAAM,EACjB,SAAU,CACR,SAAU,wBACV,QAAS1E,EACT,QAASC,EACT,SAAU,CACR,GAAGsE,EACH,GAAGC,EAEH,MACA,QACA,GAAGC,EACH,GAAGC,CACJ,CACF,EACD,SAAU,CACRN,EACAlK,EAAK,QAAS,EACdmK,EACAH,EACAhK,EAAK,kBACL4J,EACAQ,EACAP,EACAC,EACAC,EACAL,CACD,CACL,CACA,CClYA,MAAMxN,GAAS8D,IACN,CACL,UAAW,CACT,MAAO,OACP,MAAO,YACR,EACD,cAAeA,EAAK,qBACpB,SAAU,CACR,MAAO,SACP,MAAO,iDACR,EACD,kBAAmB,CACjB,UAAW,WACX,MAAO,cACR,EACD,wBAAyB,CACvB,MAAO,gBACP,MAAO,KACP,IAAK,KACL,QAAS,IACT,SAAU,CACRA,EAAK,iBACLA,EAAK,iBACN,CACF,EACD,gBAAiB,CACf,MAAO,SACP,MAAOA,EAAK,UAAY,kGASxB,UAAW,CACZ,EACD,aAAc,CACZ,UAAW,OACX,MAAO,0BACR,CACL,GAGMyK,GAAO,CACX,IACA,OACA,UACA,UACA,QACA,QACA,IACA,aACA,OACA,SACA,SACA,UACA,OACA,OACA,KACA,MACA,UACA,MACA,MACA,KACA,KACA,KACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,OACA,OACA,MACA,SACA,KACA,IACA,IACA,QACA,OACA,UACA,OACA,SACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,KACA,KACA,MACA,OACF,EAEMC,GAAiB,CACrB,YACA,cACA,eACA,QACA,cACA,cACA,sBACA,gBACA,eACA,eACA,gBACA,OACA,SACA,QACA,kBACA,aACA,cACA,iBACA,kBACA,UACA,uBACA,mBACA,yBACA,+BACA,aACA,OACA,YACA,SACA,QAEA,YACA,YACA,aACA,YACF,EAGMC,GAAiB,CACrB,SACA,WACA,QACA,UACA,UACA,UACA,UACA,MACA,WACA,OACA,QACA,UACA,QACA,cACA,gBACA,aACA,SACA,QACA,gBACA,eACA,MACA,OACA,eACA,QACA,gBACA,WACA,UACA,KACA,OACA,aACA,eACA,OACA,OACA,aACA,MACA,YACA,UACA,iBACA,eACA,mBACA,cACA,aACA,eACA,WACA,eACA,OACA,oBACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,gBACA,eACA,QACA,UACA,OACF,EAGMC,GAAkB,CACtB,QACA,WACA,SACA,MACA,aACA,eACA,aACA,gBACA,SACA,OACA,cACA,YACA,UACA,gBACF,EAEMC,GAAa,CACjB,gBACA,cACA,aACA,MACA,YACA,kBACA,sBACA,qBACA,sBACA,4BACA,iBACA,uBACA,4BACA,sBACA,aACA,wBACA,wBACA,kBACA,mBACA,mBACA,oBACA,sBACA,oBACA,kBACA,aACA,SACA,eACA,qBACA,mBACA,yBACA,yBACA,yBACA,qBACA,2BACA,2BACA,2BACA,qBACA,qBACA,gBACA,sBACA,4BACA,6BACA,sBACA,sBACA,kBACA,eACA,eACA,sBACA,sBACA,qBACA,sBACA,qBACA,gBACA,sBACA,oBACA,0BACA,0BACA,0BACA,sBACA,4BACA,4BACA,4BACA,sBACA,sBACA,cACA,oBACA,oBACA,oBACA,gBACA,eACA,qBACA,qBACA,qBACA,iBACA,eACA,aACA,mBACA,yBACA,0BACA,mBACA,mBACA,eACA,SACA,uBACA,aACA,aACA,cACA,eACA,eACA,eACA,cACA,QACA,OACA,YACA,YACA,QACA,eACA,cACA,aACA,cACA,oBACA,oBACA,oBACA,cACA,eACA,UACA,UACA,UACA,qBACA,oBACA,gBACA,MACA,YACA,aACA,SACA,YACA,UACA,cACA,SACA,OACA,aACA,iBACA,YACA,YACA,cACA,YACA,QACA,OACA,OACA,eACA,cACA,wBACA,eACA,yBACA,YACA,mBACA,iBACA,eACA,aACA,iBACA,eACA,oBACA,0BACA,yBACA,uBACA,wBACA,0BACA,cACA,MACA,6BACA,OACA,YACA,oBACA,iBACA,iBACA,cACA,kBACA,oBACA,WACA,WACA,eACA,iBACA,gBACA,sBACA,wBACA,qBACA,sBACA,SACA,UACA,OACA,oBACA,kBACA,mBACA,WACA,cACA,YACA,kBACA,OACA,iBACA,aACA,cACA,aACA,mBACA,sBACA,kBACA,SACA,eACA,mBACA,qBACA,gBACA,gBACA,oBACA,sBACA,cACA,eACA,aACA,QACA,OACA,cACA,mBACA,qBACA,qBACA,oBACA,qBACA,oBACA,YACA,iBACA,aACA,YACA,cACA,gBACA,cACA,YACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,aACA,kBACA,YACA,iBACA,WACA,YACA,WACA,YACA,SACA,OACA,SACA,aACA,kBACA,UACA,QACA,UACA,UACA,gBACA,iBACA,gBACA,gBACA,WACA,gBACA,aACA,aACA,UACA,gBACA,oBACA,sBACA,iBACA,iBACA,qBACA,uBACA,eACA,gBACA,cACA,mBACA,oBACA,oBACA,QACA,cACA,eACA,cACA,qBACA,iBACA,WACA,SACA,SACA,OACA,aACA,cACA,QACA,UACA,gBACA,sBACA,0BACA,4BACA,uBACA,uBACA,2BACA,6BACA,qBACA,sBACA,oBACA,iBACA,uBACA,2BACA,6BACA,wBACA,wBACA,4BACA,8BACA,sBACA,uBACA,qBACA,oBACA,mBACA,mBACA,kBACA,mBACA,kBACA,wBACA,eACA,gBACA,QACA,WACA,MACA,WACA,eACA,aACA,iBACA,kBACA,uBACA,kBACA,wBACA,uBACA,wBACA,gBACA,sBACA,yBACA,sBACA,cACA,eACA,mBACA,gBACA,iBACA,cACA,iBACA,0BACA,MACA,YACA,gBACA,mBACA,kBACA,aACA,mBACA,sBACA,sBACA,6BACA,eACA,iBACA,aACA,gBACA,iBACA,eACA,cACA,cACA,aACA,eACA,eACA,cACA,SACA,QACA,cACA,aACA,eACA,YACA,eACA,SAGF,EAAE,QAAO,EAST,SAASC,GAAI9K,EAAM,CACjB,MAAM5F,EAAQ4F,E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"}