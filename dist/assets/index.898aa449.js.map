{"version":3,"file":"index.898aa449.js","sources":["../../vite/modulepreload-polyfill","../../src/assets/peaks-logo.svg","../../src/components/WelcomeItem.vue","../../src/components/icons/IconDocumentation.vue","../../src/components/icons/IconEcosystem.vue","../../src/components/AudioPeaks.vue","../../src/examples/UsingPeaksConfiguration.vue","../../src/components/AudioPeaksWidget.vue","../../src/examples/UsingReactivity.vue","../../src/main.ts"],"sourcesContent":["__VITE_IS_MODERN__&&(function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n}());","export default \"__VITE_ASSET__72e98b64__\"","<template>\n  <div class=\"item\">\n    <i>\n      <slot name=\"icon\"></slot>\n    </i>\n    <div class=\"details\">\n      <h3>\n        <slot name=\"heading\"></slot>\n      </h3>\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.item {\n  margin-top: 2rem;\n  display: flex;\n}\n\n.details {\n  flex: 1;\n  margin-left: 1rem;\n}\n\ni {\n  display: flex;\n  place-items: center;\n  place-content: center;\n  width: 32px;\n  height: 32px;\n\n  color: var(--color-text);\n}\n\nh3 {\n  font-size: 1.2rem;\n  font-weight: 500;\n  margin-bottom: 0.4rem;\n  color: var(--color-heading);\n}\n\n@media (min-width: 1024px) {\n  .item {\n    margin-top: 0;\n    padding: 0.4rem 0 1rem calc(var(--section-gap) / 2);\n  }\n\n  i {\n    top: calc(50% - 25px);\n    left: -26px;\n    position: absolute;\n    border: 1px solid var(--color-border);\n    background: var(--color-background);\n    border-radius: 8px;\n    width: 50px;\n    height: 50px;\n  }\n\n  .item:before {\n    content: ' ';\n    border-left: 1px solid var(--color-border);\n    position: absolute;\n    left: 0;\n    bottom: calc(50% + 25px);\n    height: calc(50% - 25px);\n  }\n\n  .item:after {\n    content: ' ';\n    border-left: 1px solid var(--color-border);\n    position: absolute;\n    left: 0;\n    top: calc(50% + 25px);\n    height: calc(50% - 25px);\n  }\n\n  .item:first-of-type:before {\n    display: none;\n  }\n\n  .item:last-of-type:after {\n    display: none;\n  }\n}\n</style>\n","<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"17\" fill=\"currentColor\">\n    <path\n      d=\"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"20\" fill=\"currentColor\">\n    <path\n      d=\"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z\"\n    />\n  </svg>\n</template>\n","<script setup lang=\"ts\">\nimport {\n  shallowRef,\n  onMounted,\n  type ShallowRef,\n  onBeforeUnmount,\n} from 'vue';\nimport Peaks, { type PeaksInstance, type PeaksOptions as PeaksOptions } from 'peaks.js';\n\nconst props = defineProps<{\n  /** The audio source URL (for the \"simple\" mode)\n   * @remarks This URL is to be used internally with the default media slot\n   * (no slot template or external media element id is expected)\n   */\n  src?: string;\n\n  /** The unique identifier of an external zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElementId?: string;\n\n  /** The zoomview element to use.\n   * @remarks Allows the use of an external zoomview element.\n   * (no slot template is expected or used for the zoomview)\n   */\n  zoomviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElementId?: string;\n\n  /** The overview element to use.\n   * @remarks Allows the use of an external overview element.\n   * (no slot template is expected or used for the overview)\n   */\n  overviewElement?: HTMLDivElement;\n\n  /** The unique identifier of an external media element to use. (for the \"external\" mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElementId?: string;\n\n  /** The external media element to use. (for the \"external\" mode)\n   * @remarks Allows the use of an external media element.\n   * (no slot template or audio source URL is expected)\n   */\n  mediaElement?: HTMLMediaElement;\n\n  /** The peaks options to use.\n   * @remarks The element references to the overview, zoomview and media element\n   * should not be provided, because these are handled internally by AudioPeaks.\n   * This removes the burden of management of the Vue ref lifecycle from the user.\n   * @devdoc Refs to HTML elements can only be accessed after mount.\n   * See https://vuejs.org/guide/essentials/template-refs.html#accessing-the-refs\n   */\n  options?: PeaksOptions;\n}>();\n\n/** The peaks instance MUST NOT be deeply reactive for performance reasons.\n * @devdoc See https://github.com/bbc/peaks.js/issues/406#issuecomment-1225885020 in peaks.js\n * and this documentation https://vuejs.org/api/reactivity-advanced.html#shallowref about shallow references\n */\nconst peaksInstance = shallowRef<PeaksInstance | undefined>(undefined);\nconst overview = shallowRef(null);\nconst overviewSlot = shallowRef(null);\nconst zoomview = shallowRef(null);\nconst zoomviewSlot = shallowRef(null);\nconst audio = shallowRef(null);\nconst audioSlot = shallowRef(null);\nconst zoomLevel = shallowRef<number | undefined>(undefined);\n\n\ndefineExpose({\n  /** The peaks.js instance is deliberately exposed, to allow direct use of the various APIs.\n   * @remarks The instance is only available after the mounted lifecycle event and once\n   * peaks.js has properly initialized. \n   */\n  peaksInstance\n})\n\nonMounted(() => {\n  createPeaksInstance();\n});\n\nonBeforeUnmount(() => {\n  destroyPeaksInstance();\n});\n\n/** Initializes the peaks instance\n * @remarks If no options are provided by the respective component property, some default options are used.\n * @devdoc Must be called only after mount, because the expected HTML elements must be addressable already by their id.\n * @devdoc A currently unused variant for referencing an audio element from the template via reference uses\n * // reference on the component level\n * const audio = shallowRef(null);\n * // getting the element\n * (audio.value as unknown as HTMLAudioElement)\n */\nfunction createPeaksInstance() {\n  console.debug('AudioPeaks::createPeaksInstance:options:', props.options);\n\n  const overviewElement = get<HTMLDivElement>(\n    props.overviewElement,\n    props.overviewElementId,\n    overview,\n    overviewSlot,\n    'div'\n  );\n  const zoomviewElement = get<HTMLDivElement>(\n    props.zoomviewElement,\n    props.zoomviewElementId,\n    zoomview,\n    zoomviewSlot,\n    'div'\n  );\n  const mediaElement = get<HTMLMediaElement>(\n    props.mediaElement,\n    props.mediaElementId,\n    audio,\n    audioSlot,\n    'audio'\n  );\n\n  if (props.options) {\n    (props.options.containers = {\n      overview: overviewElement,\n      zoomview: zoomviewElement,\n    }),\n      (props.options.mediaElement = mediaElement);\n  }\n\n  const options: PeaksOptions = props.options\n    ? props.options\n    : {\n      containers: {\n        overview: overviewElement,\n        zoomview: zoomviewElement,\n      },\n      mediaElement: mediaElement,\n      webAudio: {\n        audioContext: new AudioContext(),\n      },\n      zoomLevels: [256, 512, 1024, 2048, 4096],\n    };\n\n  Peaks.init(options, function (err, peaks) {\n    if (err) {\n      console.error(err);\n    }\n    peaksInstance.value = peaks;\n    zoomLevel.value = peaks?.zoom.getZoom();\n  });\n}\n\n/** Destroys the peaks instance\n */\nfunction destroyPeaksInstance() {\n  peaksInstance.value?.destroy();\n}\n\n\n/** Gets the HTML element to act upon, using the first of the provided options\n * @remarks This is either (first in the following order)\n * - the element provided as object\n * - the element provided by id\n * - the element from the (internal) slot template\n * - the first element from a provided external slot template\n * If none is found 'undefined' is returned, which will throw an error in peaks.js\n * @param elm The element\n * @param htmlElementId The HTML element id\n * @param ref The reference to the element\n * @param slotRef The reference to the slot containing the element\n * @param slotRefHtmlTagName The required tag name of the element in the slot\n * @return The found element or undefined if none is found\n */\nfunction get<HEType extends HTMLElement>(\n  elm: HEType | undefined,\n  htmlElementId: string | undefined,\n  ref: ShallowRef,\n  slotRef: ShallowRef,\n  slotRefHtmlTagName: string\n): HEType | undefined {\n  if (elm) {\n    console.debug('AudioPeaks::Found elm: ', elm);\n    return elm;\n  }\n  if (htmlElementId) {\n    console.debug('AudioPeaks::Found element by id: ', htmlElementId);\n    return document.getElementById('' + htmlElementId) as unknown as HEType;\n  }\n\n  // The reference can be used only with the default slot\n  const elementByRef = ref.value as unknown as HEType;\n  if (elementByRef) {\n    console.debug('AudioPeaks::Found element by Ref: ', elementByRef);\n    return elementByRef;\n  }\n\n  // With external slot templates, the element can not be referenced with a ref directly\n  // (because external slot templates can not set refs to enclosed elements from the outside)\n  // First get a reference to the slot then find the first element of the given type\n  const externalSlot = slotRef.value as unknown as HTMLElement;\n  if (externalSlot) {\n    const elementByFirstInSlot = externalSlot.getElementsByTagName(\n      slotRefHtmlTagName\n    )[0] as unknown as HEType;\n    if (elementByFirstInSlot) {\n      console.debug(\n        'AudioPeaks::Found element by first in slot: ',\n        elementByFirstInSlot\n      );\n      return elementByFirstInSlot;\n    }\n  }\n}\n\nfunction zoomIn(): void {\n  peaksInstance.value?.zoom.zoomIn();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\nfunction zoomOut(): void {\n  peaksInstance.value?.zoom.zoomOut();\n  zoomLevel.value = peaksInstance.value?.zoom.getZoom();\n}\n</script>\n\n<template>\n  <div ref=\"overviewSlot\">\n    <!-- If an external overview element is referenced, the overview slot is not used -->\n    <slot name=\"overview\" v-if=\"!props.overviewElementId && !props.overviewElement\">\n      <div class=\"peaks-overview\" ref=\"overview\"></div>\n    </slot>\n  </div>\n\n  <div ref=\"zoomviewSlot\">\n    <!-- If an external zoomview element is referenced, the zoomview slot is not used -->\n    <slot name=\"zoomview\" v-if=\"!props.zoomviewElementId && !props.zoomviewElement\">\n      <div class=\"peaks-zoomview\" ref=\"zoomview\"></div>\n    </slot>\n  </div>\n\n  <div ref=\"audioSlot\">\n    <!-- If an external media element is referenced, the default slot is not used -->\n    <slot name=\"default\" v-if=\"!props.mediaElementId && !props.mediaElement\">\n      <!-- The default content slot for the \"slot\" mode -->\n      <audio class=\"peaks-audio\" ref=\"audio\" controls>\n        <source :src=\"src\" />\n      </audio>\n    </slot>\n  </div>\n  <slot name=\"controls\">\n    <div class=\"peaks-controls\">\n      <button @click=\"zoomIn()\">Zoom in</button>&nbsp;\n      <button @click=\"zoomOut()\">Zoom out</button>&nbsp;\n      <span>Zoom level: {{ zoomLevel }}</span>\n    </div>\n  </slot>\n</template>\n\n<style scoped>\n.peaks-audio,\n.peaks-overview,\n.peaks-zoomview {\n  width: 100%;\n}\n\n.peaks-overview,\n.peaks-zoomview {\n  height: 100px;\n}\n</style>\n","<script setup lang=\"ts\">\nimport type { PeaksOptions } from 'peaks.js';\nimport { reactive } from 'vue';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\n/** The configuration options \n* @remarks The colors are taken from the Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is provided and handled internally by AudioPeaks */\n    waveformColor: 'hsl(204, 86%, 53%)',\n    playedWaveformColor: 'hsl(204, 71%, 39%)',\n    highlightColor: 'hsl(206, 70%, 96%)',\n    highlightOffset: 0,\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  zoomview: {\n    /* container is provided and handled internally by AudioPeaks */\n    waveformColor: 'hsl(48, 71%, 48%)',\n    playedWaveformColor: 'hsl(48, 53%, 31%)',\n    axisGridlineColor: 'hsl(0, 0%, 29%)',\n    axisLabelColor: 'hsl(0, 0%, 29%)',\n  },\n  /* mediaElement is provided and handled internally by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [256],\n  playheadColor: 'hsl(348, 100%, 61%)'\n}\n\n\n</script>\n\n<template>\n  <h1>Using a Peaks.js configuration</h1>\n  <pre><code>\n    //TODO\n  </code>\n      </pre>\n  <p>\n    To fully customize the appearance and behavior, the Peaks.js <a\n      href=\"https://github.com/bbc/peaks.js#Configuration\">configuration options</a> can be provided.\n  </p>\n  <p> Note, that you should omit the the\n    <span class=\"code\">containers.overview</span>,\n    <span class=\"code\">containers.zoomview</span> and\n    <span class=\"code\">mediaElement</span> options, since these are set internally, depending on the view mode\n    (explained\n    with the basic examples).\n  </p>\n  <p>The options allow you for example to\n  <ul>\n    <li>customize the waveform styles</li>\n    <li>define scrolling behavior</li>\n    <li>use precomputed waveform data</li>\n  </ul>\n  </p>\n  <div class=\"example-display\">\n    <AudioPeaks :options=\"options\">\n      <audio controls>\n        <source src=\"https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3\" />\n      </audio>\n      <template #controls><template /></template>\n    </AudioPeaks>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { PeaksOptions } from 'peaks.js';\nimport { reactive, shallowRef } from 'vue';\nimport AudioPeaks from './AudioPeaks.vue';\n\nconst props = defineProps<{\n  /** The audio source URL\n   */\n  src?: string;\n}>();\n\n/** The configuration options \n* @remarks The colors are taken from the Bulma color scheme.\n*/\nconst options: PeaksOptions = {\n  overview: {\n    /* container is provided and handled internally by AudioPeaks */\n    waveformColor: 'hsl(141, 53%, 53%)',\n    playedWaveformColor: 'hsl(141, 53%, 31%)',\n    showAxisLabels: false,\n    axisGridlineColor: 'hsl(0, 0%, 100%)',\n  },\n\n  /* mediaElement is provided and handled internally by AudioPeaks */\n  webAudio: { audioContext: new AudioContext() },\n  zoomLevels: [0],\n  playheadColor: 'hsl(348, 100%, 61%)'\n}\n\nconst audio = shallowRef<HTMLAudioElement | null>(null)\nconst state = reactive({ isPlaying: false, canPlay: false });\n\nfunction togglePlayback() {\n  state.isPlaying = !state.isPlaying;\n  if (state.isPlaying) {\n    audio.value?.play();\n  }\n  else {\n    audio.value?.pause();\n  }\n}\n</script>\n<template>\n\n  <div class=\"widget\">\n    <button class=\"item\" @click=\"togglePlayback()\" :disabled=\"!state.canPlay\">\n      <!-- pause icon -->\n      <svg v-if=\"state.isPlaying\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M14,19H18V5H14M6,19H10V5H6V19Z\" />\n      </svg>\n      <!-- play icon -->\n      <svg v-else style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M8,5.14V19.14L19,12.14L8,5.14Z\" />\n      </svg>\n    </button>\n    <AudioPeaks overviewElementId=\"widgetOverview\" ref=\"audioPeaksWidget\" :options=\"options\">\n      <template #zoomview>\n        <template />\n      </template>\n      <template #default>\n        <audio ref=\"audio\" @canplay=\"()=>{state.canPlay = true}\">\n          <source :src=\"props.src\" />\n        </audio>\n      </template>\n      <template #controls>\n        <template />\n      </template>\n    </AudioPeaks>\n    <div class=\"item peaks-overview\" id=\"widgetOverview\">\n      <!-- spinner icon -->\n      <svg class=\"spin\" style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\"\n          d=\"M12 19C13.1 19 14 19.9 14 21S13.1 23 12 23 10 22.1 10 21 10.9 19 12 19M12 1C13.1 1 14 1.9 14 3S13.1 5 12 5 10 4.1 10 3 10.9 1 12 1M6 16C7.1 16 8 16.9 8 18S7.1 20 6 20 4 19.1 4 18 4.9 16 6 16M3 10C4.1 10 5 10.9 5 12S4.1 14 3 14 1 13.1 1 12 1.9 10 3 10M6 4C7.1 4 8 4.9 8 6S7.1 8 6 8 4 7.1 4 6 4.9 4 6 4M18 16C19.1 16 20 16.9 20 18S19.1 20 18 20 16 19.1 16 18 16.9 16 18 16M21 10C22.1 10 23 10.9 23 12S22.1 14 21 14 19 13.1 19 12 19.9 10 21 10M18 4C19.1 4 20 4.9 20 6S19.1 8 18 8 16 7.1 16 6 16.9 4 18 4Z\" />\n      </svg>\n    </div>\n  </div>\n</template>\n<style scoped>\n.widget {\n  height: 48px;\n  align-items: center;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-start;\n}\n\n.item {\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid var(--color-border);\n  background: var(--color-background);\n  border-radius: 8px;\n  cursor: pointer;\n  padding-left: 1em;\n  padding-right: 1em;\n  text-align: center;\n}\n\n/** The overview item should use all available space, including in the item itself */\n.item.peaks-overview {\n  flex-grow: 1;\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.widget .item:not(:last-child) {\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  margin-right: -1px;\n}\n\n.widget .item:not(:first-child) {\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n}\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(359deg);\n  }\n}\n\n.spin {\n  animation: spin 6s linear infinite;\n}\n</style>","<script setup lang=\"ts\">\nimport { reactive } from 'vue';\nimport AudioPeaks from './../components/AudioPeaks.vue';\n\nconst state = reactive({\n  isRendered: true,\n  mediaSource: \"https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3\"\n})\n\nfunction toggleRendering() {\n  const currentState = state.isRendered;\n  console.log(\"CurrentState\", currentState);\n  state.isRendered = !currentState;\n}\n</script>\n  \n<template>\n  <h1>Using reactivity</h1>\n  <p>\n    AudioPeaks currently does not support reactivity for the options. Still, you can use Vue's reactivity on the\n    component\n    itself. You can for example:\n  </p>\n  <p>\n  <ul>\n    <li>Conditionally render the component (by using Vue's built-in\n      <span class=\"code\">v-if</span> directive). This also releases memory used.\n    </li>\n    <li>Replace the media source by setting the <span class=\"code\">src</span> attribute of the audio element. When you\n      also set the <span class=\"code\">:key</span> property to a new value, the component re-renders. This is called the\n      key-changing\n      technique</li>\n  </ul>\n  </p>\n  <div class=\"example-display\">\n    <div>\n      <label>Example button to create and destroy an AudioPeaks instance:\n        <button @click=\"toggleRendering()\" class=\"highlight\">\n          <span>{{ state.isRendered ? 'Destroy' : 'Render' }}</span>\n        </button>\n      </label>\n    </div>\n    <div>\n      <label>Example menu to change the media URL, with automatic re-rendering of the component.\n        <select v-model=\"state.mediaSource\" class=\"highlight\">\n          <option value=\"https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3\">An MP3 music file</option>\n          <option value=\"https://suterma.github.io/vue-peaks/lidija_roos-decisions.ogg\">An OGG music file</option>\n          <option value=\"https://media.grc.com/sn/sn-886-lq.mp3\">Security Now! Podcast, Episode #886: Wacky Data\n            Exfiltration, 112 min, 13MB MP3 (16kbps)</option>\n          <option value=\"https://pdst.fm/e/cdn.twit.tv/audio/sn/sn0886/sn0886.mp3\">Security Now! Podcast, Episode #886:\n            Wacky Data\n            Exfiltration, 112 min, 55.5MB MP3</option>\n          <option value=\"\">none</option>\n        </select>\n      </label>\n    </div>\n    <AudioPeaks v-if=\"state.isRendered\" :key=\"state.mediaSource\">\n      <audio controls :src=\"state.mediaSource\"></audio>\n    </AudioPeaks>\n  </div>\n  <pre>\n&lt;div&gt;\n  &lt;label&gt;Example button to create and destroy an AudioPeaks instance:\n    &lt;button @click=&quot;toggleRendering()&quot; class=&quot;highlight&quot;&gt;\n      &lt;span&gt;{{ state.isRendered ? 'Destroy' : 'Render' }}&lt;/span&gt;\n    &lt;/button&gt;\n  &lt;/label&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;label&gt;Example menu to change the media URL, with automatic re-rendering of the component.\n    &lt;select v-model=&quot;state.mediaSource&quot; class=&quot;highlight&quot;&gt;\n      &lt;option value=&quot;https://suterma.github.io/vue-peaks/lidija_roos-not_for_sale.mp3&quot;&gt;An MP3 music file&lt;/option&gt;\n      &lt;option value=&quot;https://suterma.github.io/vue-peaks/lidija_roos-decisions.ogg&quot;&gt;An OGG music file&lt;/option&gt;\n      &lt;option value=&quot;https://media.grc.com/sn/sn-886-lq.mp3&quot;&gt;Security Now! Podcast, Episode #886: Wacky Data\n        Exfiltration, 112 min, 13MB MP3 (16kbps)&lt;/option&gt;\n      &lt;option value=&quot;https://pdst.fm/e/cdn.twit.tv/audio/sn/sn0886/sn0886.mp3&quot;&gt;Security Now! Podcast, Episode #886:\n        Wacky Data\n        Exfiltration, 112 min, 55.5MB MP3&lt;/option&gt;\n      &lt;option value=&quot;&quot;&gt;none&lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/label&gt;\n&lt;/div&gt;\n&lt;AudioPeaks v-if=&quot;state.isRendered&quot; :key=&quot;state.mediaSource&quot;&gt;\n  &lt;audio controls :src=&quot;state.mediaSource&quot;&gt;&lt;/audio&gt;\n&lt;/AudioPeaks&gt;</pre>\n</template>\n  ","import { createApp } from 'vue'\nimport App from './App.vue'\n\nimport './assets/main.css'\n\ncreateApp(App).mount('#app')\n"],"names":["relList","link","processPreload","mutations","mutation","node","getFetchOpts","script","fetchOpts","_imports_0","_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_2","_hoisted_3","peaksInstance","shallowRef","overview","overviewSlot","zoomview","zoomviewSlot","audio","audioSlot","zoomLevel","expose","onMounted","createPeaksInstance","onBeforeUnmount","destroyPeaksInstance","props","overviewElement","get","zoomviewElement","mediaElement","options","Peaks","err","peaks","_a","elm","htmlElementId","ref","slotRef","slotRefHtmlTagName","elementByRef","externalSlot","elementByFirstInSlot","zoomIn","_b","zoomOut","state","reactive","togglePlayback","toggleRendering","currentState","createApp","App"],"mappings":"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"}