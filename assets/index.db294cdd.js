(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();function Gr(e,t){const i=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)i[n[s]]=!0;return t?s=>!!i[s.toLowerCase()]:s=>!!i[s]}const Ie={},Ui=[],St=()=>{},xh=()=>!1,Ah=/^on[^a-z]/,Ps=e=>Ah.test(e),Ur=e=>e.startsWith("onUpdate:"),$e=Object.assign,Hr=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Ph=Object.prototype.hasOwnProperty,ye=(e,t)=>Ph.call(e,t),le=Array.isArray,Hi=e=>On(e)==="[object Map]",Is=e=>On(e)==="[object Set]",Ca=e=>On(e)==="[object Date]",pe=e=>typeof e=="function",Xe=e=>typeof e=="string",bn=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",Ro=e=>Me(e)&&pe(e.then)&&pe(e.catch),Fo=Object.prototype.toString,On=e=>Fo.call(e),Ih=e=>On(e).slice(8,-1),No=e=>On(e)==="[object Object]",Vr=e=>Xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,as=Gr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Mh=/-(\w)/g,Rt=Ms(e=>e.replace(Mh,(t,i)=>i?i.toUpperCase():"")),Oh=/\B([A-Z])/g,Yi=Ms(e=>e.replace(Oh,"-$1").toLowerCase()),Os=Ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),ar=Ms(e=>e?`on${Os(e)}`:""),wn=(e,t)=>!Object.is(e,t),os=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},fs=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},ps=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ta;const vr=()=>Ta||(Ta=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ds(e){if(le(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],s=Xe(n)?Fh(n):Ds(n);if(s)for(const r in s)t[r]=s[r]}return t}else{if(Xe(e))return e;if(Me(e))return e}}const Dh=/;(?![^(]*\))/g,Lh=/:([^]+)/,Rh=/\/\*[^]*?\*\//g;function Fh(e){const t={};return e.replace(Rh,"").split(Dh).forEach(i=>{if(i){const n=i.split(Lh);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ls(e){let t="";if(Xe(e))t=e;else if(le(e))for(let i=0;i<e.length;i++){const n=Ls(e[i]);n&&(t+=n+" ")}else if(Me(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Nh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bh=Gr(Nh);function Bo(e){return!!e||e===""}function Wh(e,t){if(e.length!==t.length)return!1;let i=!0;for(let n=0;i&&n<e.length;n++)i=Rs(e[n],t[n]);return i}function Rs(e,t){if(e===t)return!0;let i=Ca(e),n=Ca(t);if(i||n)return i&&n?e.getTime()===t.getTime():!1;if(i=bn(e),n=bn(t),i||n)return e===t;if(i=le(e),n=le(t),i||n)return i&&n?Wh(e,t):!1;if(i=Me(e),n=Me(t),i||n){if(!i||!n)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const a in e){const o=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(o&&!l||!o&&l||!Rs(e[a],t[a]))return!1}}return String(e)===String(t)}function Gh(e,t){return e.findIndex(i=>Rs(i,t))}const zr=e=>Xe(e)?e:e==null?"":le(e)||Me(e)&&(e.toString===Fo||!pe(e.toString))?JSON.stringify(e,Wo,2):String(e),Wo=(e,t)=>t&&t.__v_isRef?Wo(e,t.value):Hi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,s])=>(i[`${n} =>`]=s,i),{})}:Is(t)?{[`Set(${t.size})`]:[...t.values()]}:Me(t)&&!le(t)&&!No(t)?String(t):t;let lt;class Uh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=lt;try{return lt=this,t()}finally{lt=i}}}on(){lt=this}off(){lt=this.parent}stop(t){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Hh(e,t=lt){t&&t.active&&t.effects.push(e)}function Go(){return lt}function Vh(e){lt&&lt.cleanups.push(e)}const $r=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Uo=e=>(e.w&ii)>0,Ho=e=>(e.n&ii)>0,zh=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ii},$h=e=>{const{deps:t}=e;if(t.length){let i=0;for(let n=0;n<t.length;n++){const s=t[n];Uo(s)&&!Ho(s)?s.delete(e):t[i++]=s,s.w&=~ii,s.n&=~ii}t.length=i}},yr=new WeakMap;let ln=0,ii=1;const br=30;let yt;const Ci=Symbol(""),wr=Symbol("");class Xr{constructor(t,i=null,n){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Hh(this,n)}run(){if(!this.active)return this.fn();let t=yt,i=Qt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yt,yt=this,Qt=!0,ii=1<<++ln,ln<=br?zh(this):Ea(this),this.fn()}finally{ln<=br&&$h(this),ii=1<<--ln,yt=this.parent,Qt=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yt===this?this.deferStop=!0:this.active&&(Ea(this),this.onStop&&this.onStop(),this.active=!1)}}function Ea(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let Qt=!0;const Vo=[];function Zi(){Vo.push(Qt),Qt=!1}function qi(){const e=Vo.pop();Qt=e===void 0?!0:e}function st(e,t,i){if(Qt&&yt){let n=yr.get(e);n||yr.set(e,n=new Map);let s=n.get(i);s||n.set(i,s=$r()),zo(s)}}function zo(e,t){let i=!1;ln<=br?Ho(e)||(e.n|=ii,i=!Uo(e)):i=!e.has(yt),i&&(e.add(yt),yt.deps.push(e))}function Vt(e,t,i,n,s,r){const a=yr.get(e);if(!a)return;let o=[];if(t==="clear")o=[...a.values()];else if(i==="length"&&le(e)){const l=Number(n);a.forEach((h,d)=>{(d==="length"||d>=l)&&o.push(h)})}else switch(i!==void 0&&o.push(a.get(i)),t){case"add":le(e)?Vr(i)&&o.push(a.get("length")):(o.push(a.get(Ci)),Hi(e)&&o.push(a.get(wr)));break;case"delete":le(e)||(o.push(a.get(Ci)),Hi(e)&&o.push(a.get(wr)));break;case"set":Hi(e)&&o.push(a.get(Ci));break}if(o.length===1)o[0]&&Sr(o[0]);else{const l=[];for(const h of o)h&&l.push(...h);Sr($r(l))}}function Sr(e,t){const i=le(e)?e:[...e];for(const n of i)n.computed&&ka(n);for(const n of i)n.computed||ka(n)}function ka(e,t){(e!==yt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Xh=Gr("__proto__,__v_isRef,__isVue"),$o=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(bn)),jh=jr(),Kh=jr(!1,!0),Yh=jr(!0),xa=Zh();function Zh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const n=Se(this);for(let r=0,a=this.length;r<a;r++)st(n,"get",r+"");const s=n[t](...i);return s===-1||s===!1?n[t](...i.map(Se)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Zi();const n=Se(this)[t].apply(this,i);return qi(),n}}),e}function qh(e){const t=Se(this);return st(t,"has",e),t.hasOwnProperty(e)}function jr(e=!1,t=!1){return function(n,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?fc:Zo:t?Yo:Ko).get(n))return n;const a=le(n);if(!e){if(a&&ye(xa,s))return Reflect.get(xa,s,r);if(s==="hasOwnProperty")return qh}const o=Reflect.get(n,s,r);return(bn(s)?$o.has(s):Xh(s))||(e||st(n,"get",s),t)?o:Je(o)?a&&Vr(s)?o:o.value:Me(o)?e?qo(o):Ji(o):o}}const Jh=Xo(),Qh=Xo(!0);function Xo(e=!1){return function(i,n,s,r){let a=i[n];if($i(a)&&Je(a)&&!Je(s))return!1;if(!e&&(!gs(s)&&!$i(s)&&(a=Se(a),s=Se(s)),!le(i)&&Je(a)&&!Je(s)))return a.value=s,!0;const o=le(i)&&Vr(n)?Number(n)<i.length:ye(i,n),l=Reflect.set(i,n,s,r);return i===Se(r)&&(o?wn(s,a)&&Vt(i,"set",n,s):Vt(i,"add",n,s)),l}}function ec(e,t){const i=ye(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&Vt(e,"delete",t,void 0),n}function tc(e,t){const i=Reflect.has(e,t);return(!bn(t)||!$o.has(t))&&st(e,"has",t),i}function ic(e){return st(e,"iterate",le(e)?"length":Ci),Reflect.ownKeys(e)}const jo={get:jh,set:Jh,deleteProperty:ec,has:tc,ownKeys:ic},nc={get:Yh,set(e,t){return!0},deleteProperty(e,t){return!0}},sc=$e({},jo,{get:Kh,set:Qh}),Kr=e=>e,Fs=e=>Reflect.getPrototypeOf(e);function $n(e,t,i=!1,n=!1){e=e.__v_raw;const s=Se(e),r=Se(t);i||(t!==r&&st(s,"get",t),st(s,"get",r));const{has:a}=Fs(s),o=n?Kr:i?qr:Sn;if(a.call(s,t))return o(e.get(t));if(a.call(s,r))return o(e.get(r));e!==s&&e.get(t)}function Xn(e,t=!1){const i=this.__v_raw,n=Se(i),s=Se(e);return t||(e!==s&&st(n,"has",e),st(n,"has",s)),e===s?i.has(e):i.has(e)||i.has(s)}function jn(e,t=!1){return e=e.__v_raw,!t&&st(Se(e),"iterate",Ci),Reflect.get(e,"size",e)}function Aa(e){e=Se(e);const t=Se(this);return Fs(t).has.call(t,e)||(t.add(e),Vt(t,"add",e,e)),this}function Pa(e,t){t=Se(t);const i=Se(this),{has:n,get:s}=Fs(i);let r=n.call(i,e);r||(e=Se(e),r=n.call(i,e));const a=s.call(i,e);return i.set(e,t),r?wn(t,a)&&Vt(i,"set",e,t):Vt(i,"add",e,t),this}function Ia(e){const t=Se(this),{has:i,get:n}=Fs(t);let s=i.call(t,e);s||(e=Se(e),s=i.call(t,e)),n&&n.call(t,e);const r=t.delete(e);return s&&Vt(t,"delete",e,void 0),r}function Ma(){const e=Se(this),t=e.size!==0,i=e.clear();return t&&Vt(e,"clear",void 0,void 0),i}function Kn(e,t){return function(n,s){const r=this,a=r.__v_raw,o=Se(a),l=t?Kr:e?qr:Sn;return!e&&st(o,"iterate",Ci),a.forEach((h,d)=>n.call(s,l(h),l(d),r))}}function Yn(e,t,i){return function(...n){const s=this.__v_raw,r=Se(s),a=Hi(r),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=s[e](...n),d=i?Kr:t?qr:Sn;return!t&&st(r,"iterate",l?wr:Ci),{next(){const{value:p,done:y}=h.next();return y?{value:p,done:y}:{value:o?[d(p[0]),d(p[1])]:d(p),done:y}},[Symbol.iterator](){return this}}}}function Yt(e){return function(...t){return e==="delete"?!1:this}}function rc(){const e={get(r){return $n(this,r)},get size(){return jn(this)},has:Xn,add:Aa,set:Pa,delete:Ia,clear:Ma,forEach:Kn(!1,!1)},t={get(r){return $n(this,r,!1,!0)},get size(){return jn(this)},has:Xn,add:Aa,set:Pa,delete:Ia,clear:Ma,forEach:Kn(!1,!0)},i={get(r){return $n(this,r,!0)},get size(){return jn(this,!0)},has(r){return Xn.call(this,r,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Kn(!0,!1)},n={get(r){return $n(this,r,!0,!0)},get size(){return jn(this,!0)},has(r){return Xn.call(this,r,!0)},add:Yt("add"),set:Yt("set"),delete:Yt("delete"),clear:Yt("clear"),forEach:Kn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Yn(r,!1,!1),i[r]=Yn(r,!0,!1),t[r]=Yn(r,!1,!0),n[r]=Yn(r,!0,!0)}),[e,i,t,n]}const[ac,oc,lc,hc]=rc();function Yr(e,t){const i=t?e?hc:lc:e?oc:ac;return(n,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(ye(i,s)&&s in n?i:n,s,r)}const cc={get:Yr(!1,!1)},dc={get:Yr(!1,!0)},uc={get:Yr(!0,!1)},Ko=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,fc=new WeakMap;function pc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gc(e){return e.__v_skip||!Object.isExtensible(e)?0:pc(Ih(e))}function Ji(e){return $i(e)?e:Zr(e,!1,jo,cc,Ko)}function _c(e){return Zr(e,!1,sc,dc,Yo)}function qo(e){return Zr(e,!0,nc,uc,Zo)}function Zr(e,t,i,n,s){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const a=gc(e);if(a===0)return e;const o=new Proxy(e,a===2?n:i);return s.set(e,o),o}function Vi(e){return $i(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function $i(e){return!!(e&&e.__v_isReadonly)}function gs(e){return!!(e&&e.__v_isShallow)}function Jo(e){return Vi(e)||$i(e)}function Se(e){const t=e&&e.__v_raw;return t?Se(t):e}function Qo(e){return fs(e,"__v_skip",!0),e}const Sn=e=>Me(e)?Ji(e):e,qr=e=>Me(e)?qo(e):e;function el(e){Qt&&yt&&(e=Se(e),zo(e.dep||(e.dep=$r())))}function tl(e,t){e=Se(e);const i=e.dep;i&&Sr(i)}function Je(e){return!!(e&&e.__v_isRef===!0)}function Dn(e){return il(e,!1)}function vt(e){return il(e,!0)}function il(e,t){return Je(e)?e:new mc(e,t)}class mc{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:Se(t),this._value=i?t:Sn(t)}get value(){return el(this),this._value}set value(t){const i=this.__v_isShallow||gs(t)||$i(t);t=i?t:Se(t),wn(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Sn(t),tl(this))}}function nl(e){return Je(e)?e.value:e}const vc={get:(e,t,i)=>nl(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const s=e[t];return Je(s)&&!Je(i)?(s.value=i,!0):Reflect.set(e,t,i,n)}};function sl(e){return Vi(e)?e:new Proxy(e,vc)}class yc{constructor(t,i,n,s){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Xr(t,()=>{this._dirty||(this._dirty=!0,tl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=Se(this);return el(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function bc(e,t,i=!1){let n,s;const r=pe(e);return r?(n=e,s=St):(n=e.get,s=e.set),new yc(n,s,r||!s,i)}function ei(e,t,i,n){let s;try{s=n?e(...n):e()}catch(r){Ns(r,t,i)}return s}function Ct(e,t,i,n){if(pe(e)){const r=ei(e,t,i,n);return r&&Ro(r)&&r.catch(a=>{Ns(a,t,i)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(Ct(e[r],t,i,n));return s}function Ns(e,t,i,n=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const a=t.proxy,o=i;for(;r;){const h=r.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,o)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){ei(l,null,10,[e,a,o]);return}}wc(e,i,s,n)}function wc(e,t,i,n=!0){console.error(e)}let Cn=!1,Cr=!1;const qe=[];let Dt=0;const zi=[];let Ut=null,yi=0;const rl=Promise.resolve();let Jr=null;function Sc(e){const t=Jr||rl;return e?t.then(this?e.bind(this):e):t}function Cc(e){let t=Dt+1,i=qe.length;for(;t<i;){const n=t+i>>>1;Tn(qe[n])<e?t=n+1:i=n}return t}function Qr(e){(!qe.length||!qe.includes(e,Cn&&e.allowRecurse?Dt+1:Dt))&&(e.id==null?qe.push(e):qe.splice(Cc(e.id),0,e),al())}function al(){!Cn&&!Cr&&(Cr=!0,Jr=rl.then(ll))}function Tc(e){const t=qe.indexOf(e);t>Dt&&qe.splice(t,1)}function Ec(e){le(e)?zi.push(...e):(!Ut||!Ut.includes(e,e.allowRecurse?yi+1:yi))&&zi.push(e),al()}function Oa(e,t=Cn?Dt+1:0){for(;t<qe.length;t++){const i=qe[t];i&&i.pre&&(qe.splice(t,1),t--,i())}}function ol(e){if(zi.length){const t=[...new Set(zi)];if(zi.length=0,Ut){Ut.push(...t);return}for(Ut=t,Ut.sort((i,n)=>Tn(i)-Tn(n)),yi=0;yi<Ut.length;yi++)Ut[yi]();Ut=null,yi=0}}const Tn=e=>e.id==null?1/0:e.id,kc=(e,t)=>{const i=Tn(e)-Tn(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function ll(e){Cr=!1,Cn=!0,qe.sort(kc);const t=St;try{for(Dt=0;Dt<qe.length;Dt++){const i=qe[Dt];i&&i.active!==!1&&ei(i,null,14)}}finally{Dt=0,qe.length=0,ol(),Cn=!1,Jr=null,(qe.length||zi.length)&&ll()}}function xc(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||Ie;let s=i;const r=t.startsWith("update:"),a=r&&t.slice(7);if(a&&a in n){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:p,trim:y}=n[d]||Ie;y&&(s=i.map(g=>Xe(g)?g.trim():g)),p&&(s=i.map(ps))}let o,l=n[o=ar(t)]||n[o=ar(Rt(t))];!l&&r&&(l=n[o=ar(Yi(t))]),l&&Ct(l,e,6,s);const h=n[o+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Ct(h,e,6,s)}}function hl(e,t,i=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const r=e.emits;let a={},o=!1;if(!pe(e)){const l=h=>{const d=hl(h,t,!0);d&&(o=!0,$e(a,d))};!i&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!o?(Me(e)&&n.set(e,null),null):(le(r)?r.forEach(l=>a[l]=null):$e(a,r),Me(e)&&n.set(e,a),a)}function Bs(e,t){return!e||!Ps(t)?!1:(t=t.slice(2).replace(/Once$/,""),ye(e,t[0].toLowerCase()+t.slice(1))||ye(e,Yi(t))||ye(e,t))}let Ke=null,Ws=null;function _s(e){const t=Ke;return Ke=e,Ws=e&&e.type.__scopeId||null,t}function ea(e){Ws=e}function ta(){Ws=null}function ze(e,t=Ke,i){if(!t||e._n)return e;const n=(...s)=>{n._d&&Va(-1);const r=_s(t);let a;try{a=e(...s)}finally{_s(r),n._d&&Va(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function or(e){const{type:t,vnode:i,proxy:n,withProxy:s,props:r,propsOptions:[a],slots:o,attrs:l,emit:h,render:d,renderCache:p,data:y,setupState:g,ctx:m,inheritAttrs:b}=e;let v,x;const k=_s(e);try{if(i.shapeFlag&4){const u=s||n;v=Ot(d.call(u,u,p,r,g,y,m)),x=l}else{const u=t;v=Ot(u.length>1?u(r,{attrs:l,slots:o,emit:h}):u(r,null)),x=t.props?l:Ac(l)}}catch(u){fn.length=0,Ns(u,e,1),v=ee(ni)}let c=v;if(x&&b!==!1){const u=Object.keys(x),{shapeFlag:C}=c;u.length&&C&7&&(a&&u.some(Ur)&&(x=Pc(x,a)),c=Xi(c,x))}return i.dirs&&(c=Xi(c),c.dirs=c.dirs?c.dirs.concat(i.dirs):i.dirs),i.transition&&(c.transition=i.transition),v=c,_s(k),v}const Ac=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ps(i))&&((t||(t={}))[i]=e[i]);return t},Pc=(e,t)=>{const i={};for(const n in e)(!Ur(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function Ic(e,t,i){const{props:n,children:s,component:r}=e,{props:a,children:o,patchFlag:l}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?Da(n,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const y=d[p];if(a[y]!==n[y]&&!Bs(h,y))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:n===a?!1:n?a?Da(n,a,h):!0:!!a;return!1}function Da(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(t[r]!==e[r]&&!Bs(i,r))return!0}return!1}function Mc({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const Oc=e=>e.__isSuspense;function Dc(e,t){t&&t.pendingBranch?le(e)?t.effects.push(...e):t.effects.push(e):Ec(e)}function Lc(e,t){return ia(e,null,{flush:"post"})}const Zn={};function Ti(e,t,i){return ia(e,t,i)}function ia(e,t,{immediate:i,deep:n,flush:s,onTrack:r,onTrigger:a}=Ie){var o;const l=Go()===((o=Ve)==null?void 0:o.scope)?Ve:null;let h,d=!1,p=!1;if(Je(e)?(h=()=>e.value,d=gs(e)):Vi(e)?(h=()=>e,n=!0):le(e)?(p=!0,d=e.some(u=>Vi(u)||gs(u)),h=()=>e.map(u=>{if(Je(u))return u.value;if(Vi(u))return Si(u);if(pe(u))return ei(u,l,2)})):pe(e)?t?h=()=>ei(e,l,2):h=()=>{if(!(l&&l.isUnmounted))return y&&y(),Ct(e,l,3,[g])}:h=St,t&&n){const u=h;h=()=>Si(u())}let y,g=u=>{y=k.onStop=()=>{ei(u,l,4)}},m;if(kn)if(g=St,t?i&&Ct(t,l,3,[h(),p?[]:void 0,g]):h(),s==="sync"){const u=kd();m=u.__watcherHandles||(u.__watcherHandles=[])}else return St;let b=p?new Array(e.length).fill(Zn):Zn;const v=()=>{if(!!k.active)if(t){const u=k.run();(n||d||(p?u.some((C,D)=>wn(C,b[D])):wn(u,b)))&&(y&&y(),Ct(t,l,3,[u,b===Zn?void 0:p&&b[0]===Zn?[]:b,g]),b=u)}else k.run()};v.allowRecurse=!!t;let x;s==="sync"?x=v:s==="post"?x=()=>nt(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),x=()=>Qr(v));const k=new Xr(h,x);t?i?v():b=k.run():s==="post"?nt(k.run.bind(k),l&&l.suspense):k.run();const c=()=>{k.stop(),l&&l.scope&&Hr(l.scope.effects,k)};return m&&m.push(c),c}function Rc(e,t,i){const n=this.proxy,s=Xe(e)?e.includes(".")?cl(n,e):()=>n[e]:e.bind(n,n);let r;pe(t)?r=t:(r=t.handler,i=t);const a=Ve;ji(this);const o=ia(s,r.bind(n),i);return a?ji(a):Ei(),o}function cl(e,t){const i=t.split(".");return()=>{let n=e;for(let s=0;s<i.length&&n;s++)n=n[i[s]];return n}}function Si(e,t){if(!Me(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Je(e))Si(e.value,t);else if(le(e))for(let i=0;i<e.length;i++)Si(e[i],t);else if(Is(e)||Hi(e))e.forEach(i=>{Si(i,t)});else if(No(e))for(const i in e)Si(e[i],t);return e}function Tr(e,t){const i=Ke;if(i===null)return e;const n=$s(i)||i.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[a,o,l,h=Ie]=t[r];a&&(pe(a)&&(a={mounted:a,updated:a}),a.deep&&Si(o),s.push({dir:a,instance:n,value:o,oldValue:void 0,arg:l,modifiers:h}))}return e}function gi(e,t,i,n){const s=e.dirs,r=t&&t.dirs;for(let a=0;a<s.length;a++){const o=s[a];r&&(o.oldValue=r[a].value);let l=o.dir[n];l&&(Zi(),Ct(l,i,8,[e.el,o,e,t]),qi())}}function Et(e,t){return pe(e)?(()=>$e({name:e.name},t,{setup:e}))():e}const cn=e=>!!e.type.__asyncLoader,dl=e=>e.type.__isKeepAlive;function Fc(e,t){ul(e,"a",t)}function Nc(e,t){ul(e,"da",t)}function ul(e,t,i=Ve){const n=e.__wdc||(e.__wdc=()=>{let s=i;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Gs(t,n,i),i){let s=i.parent;for(;s&&s.parent;)dl(s.parent.vnode)&&Bc(n,t,i,s),s=s.parent}}function Bc(e,t,i,n){const s=Gs(t,e,n,!0);na(()=>{Hr(n[t],s)},i)}function Gs(e,t,i=Ve,n=!1){if(i){const s=i[e]||(i[e]=[]),r=t.__weh||(t.__weh=(...a)=>{if(i.isUnmounted)return;Zi(),ji(i);const o=Ct(t,i,e,a);return Ei(),qi(),o});return n?s.unshift(r):s.push(r),r}}const zt=e=>(t,i=Ve)=>(!kn||e==="sp")&&Gs(e,(...n)=>t(...n),i),Wc=zt("bm"),Us=zt("m"),Gc=zt("bu"),Uc=zt("u"),fl=zt("bum"),na=zt("um"),Hc=zt("sp"),Vc=zt("rtg"),zc=zt("rtc");function $c(e,t=Ve){Gs("ec",e,t)}const pl="components";function kt(e,t){return jc(pl,e,!0,t)||e}const Xc=Symbol.for("v-ndc");function jc(e,t,i=!0,n=!1){const s=Ke||Ve;if(s){const r=s.type;if(e===pl){const o=Cd(r,!1);if(o&&(o===t||o===Rt(t)||o===Os(Rt(t))))return r}const a=La(s[e]||r[e],t)||La(s.appContext[e],t);return!a&&n?r:a}}function La(e,t){return e&&(e[t]||e[Rt(t)]||e[Os(Rt(t))])}function qn(e,t,i={},n,s){if(Ke.isCE||Ke.parent&&cn(Ke.parent)&&Ke.parent.isCE)return t!=="default"&&(i.name=t),ee("slot",i,n&&n());let r=e[t];r&&r._c&&(r._d=!1),Ee();const a=r&&gl(r(i)),o=Vs(je,{key:i.key||a&&a.key||`_${t}`},a||(n?n():[]),a&&e._===1?64:-2);return!s&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),r&&r._c&&(r._d=!0),o}function gl(e){return e.some(t=>ys(t)?!(t.type===ni||t.type===je&&!gl(t.children)):!0)?e:null}const Er=e=>e?xl(e)?$s(e)||e.proxy:Er(e.parent):null,dn=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Er(e.parent),$root:e=>Er(e.root),$emit:e=>e.emit,$options:e=>sa(e),$forceUpdate:e=>e.f||(e.f=()=>Qr(e.update)),$nextTick:e=>e.n||(e.n=Sc.bind(e.proxy)),$watch:e=>Rc.bind(e)}),lr=(e,t)=>e!==Ie&&!e.__isScriptSetup&&ye(e,t),Kc={get({_:e},t){const{ctx:i,setupState:n,data:s,props:r,accessCache:a,type:o,appContext:l}=e;let h;if(t[0]!=="$"){const g=a[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return s[t];case 4:return i[t];case 3:return r[t]}else{if(lr(n,t))return a[t]=1,n[t];if(s!==Ie&&ye(s,t))return a[t]=2,s[t];if((h=e.propsOptions[0])&&ye(h,t))return a[t]=3,r[t];if(i!==Ie&&ye(i,t))return a[t]=4,i[t];kr&&(a[t]=0)}}const d=dn[t];let p,y;if(d)return t==="$attrs"&&st(e,"get",t),d(e);if((p=o.__cssModules)&&(p=p[t]))return p;if(i!==Ie&&ye(i,t))return a[t]=4,i[t];if(y=l.config.globalProperties,ye(y,t))return y[t]},set({_:e},t,i){const{data:n,setupState:s,ctx:r}=e;return lr(s,t)?(s[t]=i,!0):n!==Ie&&ye(n,t)?(n[t]=i,!0):ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:s,propsOptions:r}},a){let o;return!!i[a]||e!==Ie&&ye(e,a)||lr(t,a)||(o=r[0])&&ye(o,a)||ye(n,a)||ye(dn,a)||ye(s.config.globalProperties,a)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:ye(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function Ra(e){return le(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let kr=!0;function Yc(e){const t=sa(e),i=e.proxy,n=e.ctx;kr=!1,t.beforeCreate&&Fa(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:a,watch:o,provide:l,inject:h,created:d,beforeMount:p,mounted:y,beforeUpdate:g,updated:m,activated:b,deactivated:v,beforeDestroy:x,beforeUnmount:k,destroyed:c,unmounted:u,render:C,renderTracked:D,renderTriggered:V,errorCaptured:E,serverPrefetch:G,expose:S,inheritAttrs:O,components:U,directives:j,filters:J}=t;if(h&&Zc(h,n,null),a)for(const P in a){const F=a[P];pe(F)&&(n[P]=F.bind(i))}if(s){const P=s.call(i,i);Me(P)&&(e.data=Ji(P))}if(kr=!0,r)for(const P in r){const F=r[P],K=pe(F)?F.bind(i,i):pe(F.get)?F.get.bind(i,i):St,ne=!pe(F)&&pe(F.set)?F.set.bind(i):St,ie=wt({get:K,set:ne});Object.defineProperty(n,P,{enumerable:!0,configurable:!0,get:()=>ie.value,set:ue=>ie.value=ue})}if(o)for(const P in o)_l(o[P],n,i,P);if(l){const P=pe(l)?l.call(i):l;Reflect.ownKeys(P).forEach(F=>{id(F,P[F])})}d&&Fa(d,e,"c");function oe(P,F){le(F)?F.forEach(K=>P(K.bind(i))):F&&P(F.bind(i))}if(oe(Wc,p),oe(Us,y),oe(Gc,g),oe(Uc,m),oe(Fc,b),oe(Nc,v),oe($c,E),oe(zc,D),oe(Vc,V),oe(fl,k),oe(na,u),oe(Hc,G),le(S))if(S.length){const P=e.exposed||(e.exposed={});S.forEach(F=>{Object.defineProperty(P,F,{get:()=>i[F],set:K=>i[F]=K})})}else e.exposed||(e.exposed={});C&&e.render===St&&(e.render=C),O!=null&&(e.inheritAttrs=O),U&&(e.components=U),j&&(e.directives=j)}function Zc(e,t,i=St){le(e)&&(e=xr(e));for(const n in e){const s=e[n];let r;Me(s)?"default"in s?r=ls(s.from||n,s.default,!0):r=ls(s.from||n):r=ls(s),Je(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[n]=r}}function Fa(e,t,i){Ct(le(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function _l(e,t,i,n){const s=n.includes(".")?cl(i,n):()=>i[n];if(Xe(e)){const r=t[e];pe(r)&&Ti(s,r)}else if(pe(e))Ti(s,e.bind(i));else if(Me(e))if(le(e))e.forEach(r=>_l(r,t,i,n));else{const r=pe(e.handler)?e.handler.bind(i):t[e.handler];pe(r)&&Ti(s,r,e)}}function sa(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,o=r.get(t);let l;return o?l=o:!s.length&&!i&&!n?l=t:(l={},s.length&&s.forEach(h=>ms(l,h,a,!0)),ms(l,t,a)),Me(t)&&r.set(t,l),l}function ms(e,t,i,n=!1){const{mixins:s,extends:r}=t;r&&ms(e,r,i,!0),s&&s.forEach(a=>ms(e,a,i,!0));for(const a in t)if(!(n&&a==="expose")){const o=qc[a]||i&&i[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const qc={data:Na,props:Ba,emits:Ba,methods:hn,computed:hn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:hn,directives:hn,watch:Qc,provide:Na,inject:Jc};function Na(e,t){return t?e?function(){return $e(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function Jc(e,t){return hn(xr(e),xr(t))}function xr(e){if(le(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function hn(e,t){return e?$e(Object.create(null),e,t):t}function Ba(e,t){return e?le(e)&&le(t)?[...new Set([...e,...t])]:$e(Object.create(null),Ra(e),Ra(t!=null?t:{})):t}function Qc(e,t){if(!e)return t;if(!t)return e;const i=$e(Object.create(null),e);for(const n in t)i[n]=et(e[n],t[n]);return i}function ml(){return{app:null,config:{isNativeTag:xh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ed=0;function td(e,t){return function(n,s=null){pe(n)||(n=$e({},n)),s!=null&&!Me(s)&&(s=null);const r=ml(),a=new Set;let o=!1;const l=r.app={_uid:ed++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:xd,get config(){return r.config},set config(h){},use(h,...d){return a.has(h)||(h&&pe(h.install)?(a.add(h),h.install(l,...d)):pe(h)&&(a.add(h),h(l,...d))),l},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),l},component(h,d){return d?(r.components[h]=d,l):r.components[h]},directive(h,d){return d?(r.directives[h]=d,l):r.directives[h]},mount(h,d,p){if(!o){const y=ee(n,s);return y.appContext=r,d&&t?t(y,h):e(y,h,p),o=!0,l._container=h,h.__vue_app__=l,$s(y.component)||y.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return r.provides[h]=d,l},runWithContext(h){vs=l;try{return h()}finally{vs=null}}};return l}}let vs=null;function id(e,t){if(Ve){let i=Ve.provides;const n=Ve.parent&&Ve.parent.provides;n===i&&(i=Ve.provides=Object.create(n)),i[e]=t}}function ls(e,t,i=!1){const n=Ve||Ke;if(n||vs){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:vs._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return i&&pe(t)?t.call(n&&n.proxy):t}}function nd(e,t,i,n=!1){const s={},r={};fs(r,zs,1),e.propsDefaults=Object.create(null),vl(e,t,s,r);for(const a in e.propsOptions[0])a in s||(s[a]=void 0);i?e.props=n?s:_c(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function sd(e,t,i,n){const{props:s,attrs:r,vnode:{patchFlag:a}}=e,o=Se(s),[l]=e.propsOptions;let h=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let y=d[p];if(Bs(e.emitsOptions,y))continue;const g=t[y];if(l)if(ye(r,y))g!==r[y]&&(r[y]=g,h=!0);else{const m=Rt(y);s[m]=Ar(l,o,m,g,e,!1)}else g!==r[y]&&(r[y]=g,h=!0)}}}else{vl(e,t,s,r)&&(h=!0);let d;for(const p in o)(!t||!ye(t,p)&&((d=Yi(p))===p||!ye(t,d)))&&(l?i&&(i[p]!==void 0||i[d]!==void 0)&&(s[p]=Ar(l,o,p,void 0,e,!0)):delete s[p]);if(r!==o)for(const p in r)(!t||!ye(t,p)&&!0)&&(delete r[p],h=!0)}h&&Vt(e,"set","$attrs")}function vl(e,t,i,n){const[s,r]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(as(l))continue;const h=t[l];let d;s&&ye(s,d=Rt(l))?!r||!r.includes(d)?i[d]=h:(o||(o={}))[d]=h:Bs(e.emitsOptions,l)||(!(l in n)||h!==n[l])&&(n[l]=h,a=!0)}if(r){const l=Se(i),h=o||Ie;for(let d=0;d<r.length;d++){const p=r[d];i[p]=Ar(s,l,p,h[p],e,!ye(h,p))}}return a}function Ar(e,t,i,n,s,r){const a=e[i];if(a!=null){const o=ye(a,"default");if(o&&n===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&pe(l)){const{propsDefaults:h}=s;i in h?n=h[i]:(ji(s),n=h[i]=l.call(null,t),Ei())}else n=l}a[0]&&(r&&!o?n=!1:a[1]&&(n===""||n===Yi(i))&&(n=!0))}return n}function yl(e,t,i=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const r=e.props,a={},o=[];let l=!1;if(!pe(e)){const d=p=>{l=!0;const[y,g]=yl(p,t,!0);$e(a,y),g&&o.push(...g)};!i&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!r&&!l)return Me(e)&&n.set(e,Ui),Ui;if(le(r))for(let d=0;d<r.length;d++){const p=Rt(r[d]);Wa(p)&&(a[p]=Ie)}else if(r)for(const d in r){const p=Rt(d);if(Wa(p)){const y=r[d],g=a[p]=le(y)||pe(y)?{type:y}:$e({},y);if(g){const m=Ha(Boolean,g.type),b=Ha(String,g.type);g[0]=m>-1,g[1]=b<0||m<b,(m>-1||ye(g,"default"))&&o.push(p)}}}const h=[a,o];return Me(e)&&n.set(e,h),h}function Wa(e){return e[0]!=="$"}function Ga(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ua(e,t){return Ga(e)===Ga(t)}function Ha(e,t){return le(t)?t.findIndex(i=>Ua(i,e)):pe(t)&&Ua(t,e)?0:-1}const bl=e=>e[0]==="_"||e==="$stable",ra=e=>le(e)?e.map(Ot):[Ot(e)],rd=(e,t,i)=>{if(t._n)return t;const n=ze((...s)=>ra(t(...s)),i);return n._c=!1,n},wl=(e,t,i)=>{const n=e._ctx;for(const s in e){if(bl(s))continue;const r=e[s];if(pe(r))t[s]=rd(s,r,n);else if(r!=null){const a=ra(r);t[s]=()=>a}}},Sl=(e,t)=>{const i=ra(t);e.slots.default=()=>i},ad=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=Se(t),fs(t,"_",i)):wl(t,e.slots={})}else e.slots={},t&&Sl(e,t);fs(e.slots,zs,1)},od=(e,t,i)=>{const{vnode:n,slots:s}=e;let r=!0,a=Ie;if(n.shapeFlag&32){const o=t._;o?i&&o===1?r=!1:($e(s,t),!i&&o===1&&delete s._):(r=!t.$stable,wl(t,s)),a=t}else t&&(Sl(e,t),a={default:1});if(r)for(const o in s)!bl(o)&&!(o in a)&&delete s[o]};function Pr(e,t,i,n,s=!1){if(le(e)){e.forEach((y,g)=>Pr(y,t&&(le(t)?t[g]:t),i,n,s));return}if(cn(n)&&!s)return;const r=n.shapeFlag&4?$s(n.component)||n.component.proxy:n.el,a=s?null:r,{i:o,r:l}=e,h=t&&t.r,d=o.refs===Ie?o.refs={}:o.refs,p=o.setupState;if(h!=null&&h!==l&&(Xe(h)?(d[h]=null,ye(p,h)&&(p[h]=null)):Je(h)&&(h.value=null)),pe(l))ei(l,o,12,[a,d]);else{const y=Xe(l),g=Je(l);if(y||g){const m=()=>{if(e.f){const b=y?ye(p,l)?p[l]:d[l]:l.value;s?le(b)&&Hr(b,r):le(b)?b.includes(r)||b.push(r):y?(d[l]=[r],ye(p,l)&&(p[l]=d[l])):(l.value=[r],e.k&&(d[e.k]=l.value))}else y?(d[l]=a,ye(p,l)&&(p[l]=a)):g&&(l.value=a,e.k&&(d[e.k]=a))};a?(m.id=-1,nt(m,i)):m()}}}const nt=Dc;function ld(e){return hd(e)}function hd(e,t){const i=vr();i.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:a,createText:o,createComment:l,setText:h,setElementText:d,parentNode:p,nextSibling:y,setScopeId:g=St,insertStaticContent:m}=e,b=(_,w,A,I=null,L=null,B=null,z=!1,M=null,$=!!w.dynamicChildren)=>{if(_===w)return;_&&!an(_,w)&&(I=T(_),ue(_,L,B,!0),_=null),w.patchFlag===-2&&($=!1,w.dynamicChildren=null);const{type:R,ref:X,shapeFlag:q}=w;switch(R){case Hs:v(_,w,A,I);break;case ni:x(_,w,A,I);break;case un:_==null&&k(w,A,I,z);break;case je:U(_,w,A,I,L,B,z,M,$);break;default:q&1?C(_,w,A,I,L,B,z,M,$):q&6?j(_,w,A,I,L,B,z,M,$):(q&64||q&128)&&R.process(_,w,A,I,L,B,z,M,$,Z)}X!=null&&L&&Pr(X,_&&_.ref,B,w||_,!w)},v=(_,w,A,I)=>{if(_==null)n(w.el=o(w.children),A,I);else{const L=w.el=_.el;w.children!==_.children&&h(L,w.children)}},x=(_,w,A,I)=>{_==null?n(w.el=l(w.children||""),A,I):w.el=_.el},k=(_,w,A,I)=>{[_.el,_.anchor]=m(_.children,w,A,I,_.el,_.anchor)},c=({el:_,anchor:w},A,I)=>{let L;for(;_&&_!==w;)L=y(_),n(_,A,I),_=L;n(w,A,I)},u=({el:_,anchor:w})=>{let A;for(;_&&_!==w;)A=y(_),s(_),_=A;s(w)},C=(_,w,A,I,L,B,z,M,$)=>{z=z||w.type==="svg",_==null?D(w,A,I,L,B,z,M,$):G(_,w,L,B,z,M,$)},D=(_,w,A,I,L,B,z,M)=>{let $,R;const{type:X,props:q,shapeFlag:Q,transition:ce,dirs:ge}=_;if($=_.el=a(_.type,B,q&&q.is,q),Q&8?d($,_.children):Q&16&&E(_.children,$,null,I,L,B&&X!=="foreignObject",z,M),ge&&gi(_,null,I,"created"),V($,_,_.scopeId,z,I),q){for(const H in q)H!=="value"&&!as(H)&&r($,H,null,q[H],B,_.children,I,L,me);"value"in q&&r($,"value",null,q.value),(R=q.onVnodeBeforeMount)&&Mt(R,I,_)}ge&&gi(_,null,I,"beforeMount");const N=(!L||L&&!L.pendingBranch)&&ce&&!ce.persisted;N&&ce.beforeEnter($),n($,w,A),((R=q&&q.onVnodeMounted)||N||ge)&&nt(()=>{R&&Mt(R,I,_),N&&ce.enter($),ge&&gi(_,null,I,"mounted")},L)},V=(_,w,A,I,L)=>{if(A&&g(_,A),I)for(let B=0;B<I.length;B++)g(_,I[B]);if(L){let B=L.subTree;if(w===B){const z=L.vnode;V(_,z,z.scopeId,z.slotScopeIds,L.parent)}}},E=(_,w,A,I,L,B,z,M,$=0)=>{for(let R=$;R<_.length;R++){const X=_[R]=M?qt(_[R]):Ot(_[R]);b(null,X,w,A,I,L,B,z,M)}},G=(_,w,A,I,L,B,z)=>{const M=w.el=_.el;let{patchFlag:$,dynamicChildren:R,dirs:X}=w;$|=_.patchFlag&16;const q=_.props||Ie,Q=w.props||Ie;let ce;A&&_i(A,!1),(ce=Q.onVnodeBeforeUpdate)&&Mt(ce,A,w,_),X&&gi(w,_,A,"beforeUpdate"),A&&_i(A,!0);const ge=L&&w.type!=="foreignObject";if(R?S(_.dynamicChildren,R,M,A,I,ge,B):z||F(_,w,M,null,A,I,ge,B,!1),$>0){if($&16)O(M,w,q,Q,A,I,L);else if($&2&&q.class!==Q.class&&r(M,"class",null,Q.class,L),$&4&&r(M,"style",q.style,Q.style,L),$&8){const N=w.dynamicProps;for(let H=0;H<N.length;H++){const te=N[H],fe=q[te],Le=Q[te];(Le!==fe||te==="value")&&r(M,te,fe,Le,L,_.children,A,I,me)}}$&1&&_.children!==w.children&&d(M,w.children)}else!z&&R==null&&O(M,w,q,Q,A,I,L);((ce=Q.onVnodeUpdated)||X)&&nt(()=>{ce&&Mt(ce,A,w,_),X&&gi(w,_,A,"updated")},I)},S=(_,w,A,I,L,B,z)=>{for(let M=0;M<w.length;M++){const $=_[M],R=w[M],X=$.el&&($.type===je||!an($,R)||$.shapeFlag&70)?p($.el):A;b($,R,X,null,I,L,B,z,!0)}},O=(_,w,A,I,L,B,z)=>{if(A!==I){if(A!==Ie)for(const M in A)!as(M)&&!(M in I)&&r(_,M,A[M],null,z,w.children,L,B,me);for(const M in I){if(as(M))continue;const $=I[M],R=A[M];$!==R&&M!=="value"&&r(_,M,R,$,z,w.children,L,B,me)}"value"in I&&r(_,"value",A.value,I.value)}},U=(_,w,A,I,L,B,z,M,$)=>{const R=w.el=_?_.el:o(""),X=w.anchor=_?_.anchor:o("");let{patchFlag:q,dynamicChildren:Q,slotScopeIds:ce}=w;ce&&(M=M?M.concat(ce):ce),_==null?(n(R,A,I),n(X,A,I),E(w.children,A,X,L,B,z,M,$)):q>0&&q&64&&Q&&_.dynamicChildren?(S(_.dynamicChildren,Q,A,L,B,z,M),(w.key!=null||L&&w===L.subTree)&&Cl(_,w,!0)):F(_,w,A,X,L,B,z,M,$)},j=(_,w,A,I,L,B,z,M,$)=>{w.slotScopeIds=M,_==null?w.shapeFlag&512?L.ctx.activate(w,A,I,z,$):J(w,A,I,L,B,z,$):se(_,w,$)},J=(_,w,A,I,L,B,z)=>{const M=_.component=vd(_,I,L);if(dl(_)&&(M.ctx.renderer=Z),yd(M),M.asyncDep){if(L&&L.registerDep(M,oe),!_.el){const $=M.subTree=ee(ni);x(null,$,w,A)}return}oe(M,_,w,A,L,B,z)},se=(_,w,A)=>{const I=w.component=_.component;if(Ic(_,w,A))if(I.asyncDep&&!I.asyncResolved){P(I,w,A);return}else I.next=w,Tc(I.update),I.update();else w.el=_.el,I.vnode=w},oe=(_,w,A,I,L,B,z)=>{const M=()=>{if(_.isMounted){let{next:X,bu:q,u:Q,parent:ce,vnode:ge}=_,N=X,H;_i(_,!1),X?(X.el=ge.el,P(_,X,z)):X=ge,q&&os(q),(H=X.props&&X.props.onVnodeBeforeUpdate)&&Mt(H,ce,X,ge),_i(_,!0);const te=or(_),fe=_.subTree;_.subTree=te,b(fe,te,p(fe.el),T(fe),_,L,B),X.el=te.el,N===null&&Mc(_,te.el),Q&&nt(Q,L),(H=X.props&&X.props.onVnodeUpdated)&&nt(()=>Mt(H,ce,X,ge),L)}else{let X;const{el:q,props:Q}=w,{bm:ce,m:ge,parent:N}=_,H=cn(w);if(_i(_,!1),ce&&os(ce),!H&&(X=Q&&Q.onVnodeBeforeMount)&&Mt(X,N,w),_i(_,!0),q&&ve){const te=()=>{_.subTree=or(_),ve(q,_.subTree,_,L,null)};H?w.type.__asyncLoader().then(()=>!_.isUnmounted&&te()):te()}else{const te=_.subTree=or(_);b(null,te,A,I,_,L,B),w.el=te.el}if(ge&&nt(ge,L),!H&&(X=Q&&Q.onVnodeMounted)){const te=w;nt(()=>Mt(X,N,te),L)}(w.shapeFlag&256||N&&cn(N.vnode)&&N.vnode.shapeFlag&256)&&_.a&&nt(_.a,L),_.isMounted=!0,w=A=I=null}},$=_.effect=new Xr(M,()=>Qr(R),_.scope),R=_.update=()=>$.run();R.id=_.uid,_i(_,!0),R()},P=(_,w,A)=>{w.component=_;const I=_.vnode.props;_.vnode=w,_.next=null,sd(_,w.props,I,A),od(_,w.children,A),Zi(),Oa(),qi()},F=(_,w,A,I,L,B,z,M,$=!1)=>{const R=_&&_.children,X=_?_.shapeFlag:0,q=w.children,{patchFlag:Q,shapeFlag:ce}=w;if(Q>0){if(Q&128){ne(R,q,A,I,L,B,z,M,$);return}else if(Q&256){K(R,q,A,I,L,B,z,M,$);return}}ce&8?(X&16&&me(R,L,B),q!==R&&d(A,q)):X&16?ce&16?ne(R,q,A,I,L,B,z,M,$):me(R,L,B,!0):(X&8&&d(A,""),ce&16&&E(q,A,I,L,B,z,M,$))},K=(_,w,A,I,L,B,z,M,$)=>{_=_||Ui,w=w||Ui;const R=_.length,X=w.length,q=Math.min(R,X);let Q;for(Q=0;Q<q;Q++){const ce=w[Q]=$?qt(w[Q]):Ot(w[Q]);b(_[Q],ce,A,null,L,B,z,M,$)}R>X?me(_,L,B,!0,!1,q):E(w,A,I,L,B,z,M,$,q)},ne=(_,w,A,I,L,B,z,M,$)=>{let R=0;const X=w.length;let q=_.length-1,Q=X-1;for(;R<=q&&R<=Q;){const ce=_[R],ge=w[R]=$?qt(w[R]):Ot(w[R]);if(an(ce,ge))b(ce,ge,A,null,L,B,z,M,$);else break;R++}for(;R<=q&&R<=Q;){const ce=_[q],ge=w[Q]=$?qt(w[Q]):Ot(w[Q]);if(an(ce,ge))b(ce,ge,A,null,L,B,z,M,$);else break;q--,Q--}if(R>q){if(R<=Q){const ce=Q+1,ge=ce<X?w[ce].el:I;for(;R<=Q;)b(null,w[R]=$?qt(w[R]):Ot(w[R]),A,ge,L,B,z,M,$),R++}}else if(R>Q)for(;R<=q;)ue(_[R],L,B,!0),R++;else{const ce=R,ge=R,N=new Map;for(R=ge;R<=Q;R++){const ot=w[R]=$?qt(w[R]):Ot(w[R]);ot.key!=null&&N.set(ot.key,R)}let H,te=0;const fe=Q-ge+1;let Le=!1,ut=0;const pi=new Array(fe);for(R=0;R<fe;R++)pi[R]=0;for(R=ce;R<=q;R++){const ot=_[R];if(te>=fe){ue(ot,L,B,!0);continue}let It;if(ot.key!=null)It=N.get(ot.key);else for(H=ge;H<=Q;H++)if(pi[H-ge]===0&&an(ot,w[H])){It=H;break}It===void 0?ue(ot,L,B,!0):(pi[It-ge]=R+1,It>=ut?ut=It:Le=!0,b(ot,w[It],A,null,L,B,z,M,$),te++)}const zn=Le?cd(pi):Ui;for(H=zn.length-1,R=fe-1;R>=0;R--){const ot=ge+R,It=w[ot],Sa=ot+1<X?w[ot+1].el:I;pi[R]===0?b(null,It,A,Sa,L,B,z,M,$):Le&&(H<0||R!==zn[H]?ie(It,A,Sa,2):H--)}}},ie=(_,w,A,I,L=null)=>{const{el:B,type:z,transition:M,children:$,shapeFlag:R}=_;if(R&6){ie(_.component.subTree,w,A,I);return}if(R&128){_.suspense.move(w,A,I);return}if(R&64){z.move(_,w,A,Z);return}if(z===je){n(B,w,A);for(let q=0;q<$.length;q++)ie($[q],w,A,I);n(_.anchor,w,A);return}if(z===un){c(_,w,A);return}if(I!==2&&R&1&&M)if(I===0)M.beforeEnter(B),n(B,w,A),nt(()=>M.enter(B),L);else{const{leave:q,delayLeave:Q,afterLeave:ce}=M,ge=()=>n(B,w,A),N=()=>{q(B,()=>{ge(),ce&&ce()})};Q?Q(B,ge,N):N()}else n(B,w,A)},ue=(_,w,A,I=!1,L=!1)=>{const{type:B,props:z,ref:M,children:$,dynamicChildren:R,shapeFlag:X,patchFlag:q,dirs:Q}=_;if(M!=null&&Pr(M,null,A,_,!0),X&256){w.ctx.deactivate(_);return}const ce=X&1&&Q,ge=!cn(_);let N;if(ge&&(N=z&&z.onVnodeBeforeUnmount)&&Mt(N,w,_),X&6)Pe(_.component,A,I);else{if(X&128){_.suspense.unmount(A,I);return}ce&&gi(_,null,w,"beforeUnmount"),X&64?_.type.remove(_,w,A,L,Z,I):R&&(B!==je||q>0&&q&64)?me(R,w,A,!1,!0):(B===je&&q&384||!L&&X&16)&&me($,w,A),I&&we(_)}(ge&&(N=z&&z.onVnodeUnmounted)||ce)&&nt(()=>{N&&Mt(N,w,_),ce&&gi(_,null,w,"unmounted")},A)},we=_=>{const{type:w,el:A,anchor:I,transition:L}=_;if(w===je){Oe(A,I);return}if(w===un){u(_);return}const B=()=>{s(A),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(_.shapeFlag&1&&L&&!L.persisted){const{leave:z,delayLeave:M}=L,$=()=>z(A,B);M?M(_.el,B,$):$()}else B()},Oe=(_,w)=>{let A;for(;_!==w;)A=y(_),s(_),_=A;s(w)},Pe=(_,w,A)=>{const{bum:I,scope:L,update:B,subTree:z,um:M}=_;I&&os(I),L.stop(),B&&(B.active=!1,ue(z,_,w,A)),M&&nt(M,w),nt(()=>{_.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},me=(_,w,A,I=!1,L=!1,B=0)=>{for(let z=B;z<_.length;z++)ue(_[z],w,A,I,L)},T=_=>_.shapeFlag&6?T(_.component.subTree):_.shapeFlag&128?_.suspense.next():y(_.anchor||_.el),W=(_,w,A)=>{_==null?w._vnode&&ue(w._vnode,null,null,!0):b(w._vnode||null,_,w,null,null,null,A),Oa(),ol(),w._vnode=_},Z={p:b,um:ue,m:ie,r:we,mt:J,mc:E,pc:F,pbc:S,n:T,o:e};let Te,ve;return t&&([Te,ve]=t(Z)),{render:W,hydrate:Te,createApp:td(W,Te)}}function _i({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function Cl(e,t,i=!1){const n=e.children,s=t.children;if(le(n)&&le(s))for(let r=0;r<n.length;r++){const a=n[r];let o=s[r];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[r]=qt(s[r]),o.el=a.el),i||Cl(a,o)),o.type===Hs&&(o.el=a.el)}}function cd(e){const t=e.slice(),i=[0];let n,s,r,a,o;const l=e.length;for(n=0;n<l;n++){const h=e[n];if(h!==0){if(s=i[i.length-1],e[s]<h){t[n]=s,i.push(n);continue}for(r=0,a=i.length-1;r<a;)o=r+a>>1,e[i[o]]<h?r=o+1:a=o;h<e[i[r]]&&(r>0&&(t[n]=i[r-1]),i[r]=n)}}for(r=i.length,a=i[r-1];r-- >0;)i[r]=a,a=t[a];return i}const dd=e=>e.__isTeleport,je=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),ni=Symbol.for("v-cmt"),un=Symbol.for("v-stc"),fn=[];let bt=null;function Ee(e=!1){fn.push(bt=e?null:[])}function ud(){fn.pop(),bt=fn[fn.length-1]||null}let En=1;function Va(e){En+=e}function Tl(e){return e.dynamicChildren=En>0?bt||Ui:null,ud(),En>0&&bt&&bt.push(e),e}function De(e,t,i,n,s,r){return Tl(f(e,t,i,n,s,r,!0))}function Vs(e,t,i,n,s){return Tl(ee(e,t,i,n,s,!0))}function ys(e){return e?e.__v_isVNode===!0:!1}function an(e,t){return e.type===t.type&&e.key===t.key}const zs="__vInternal",El=({key:e})=>e!=null?e:null,hs=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Xe(e)||Je(e)||pe(e)?{i:Ke,r:e,k:t,f:!!i}:e:null);function f(e,t=null,i=null,n=0,s=null,r=e===je?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&El(t),ref:t&&hs(t),scopeId:Ws,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ke};return o?(aa(l,i),r&128&&e.normalize(l)):i&&(l.shapeFlag|=Xe(i)?8:16),En>0&&!a&&bt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&bt.push(l),l}const ee=fd;function fd(e,t=null,i=null,n=0,s=null,r=!1){if((!e||e===Xc)&&(e=ni),ys(e)){const o=Xi(e,t,!0);return i&&aa(o,i),En>0&&!r&&bt&&(o.shapeFlag&6?bt[bt.indexOf(e)]=o:bt.push(o)),o.patchFlag|=-2,o}if(Td(e)&&(e=e.__vccOpts),t){t=pd(t);let{class:o,style:l}=t;o&&!Xe(o)&&(t.class=Ls(o)),Me(l)&&(Jo(l)&&!le(l)&&(l=$e({},l)),t.style=Ds(l))}const a=Xe(e)?1:Oc(e)?128:dd(e)?64:Me(e)?4:pe(e)?2:0;return f(e,t,i,n,s,a,r,!0)}function pd(e){return e?Jo(e)||zs in e?$e({},e):e:null}function Xi(e,t,i=!1){const{props:n,ref:s,patchFlag:r,children:a}=e,o=t?gd(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&El(o),ref:t&&t.ref?i&&s?le(s)?s.concat(hs(t)):[s,hs(t)]:hs(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xi(e.ssContent),ssFallback:e.ssFallback&&Xi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ae(e=" ",t=0){return ee(Hs,null,e,t)}function Ft(e,t){const i=ee(un,null,e);return i.staticCount=t,i}function pn(e="",t=!1){return t?(Ee(),Vs(ni,null,e)):ee(ni,null,e)}function Ot(e){return e==null||typeof e=="boolean"?ee(ni):le(e)?ee(je,null,e.slice()):typeof e=="object"?qt(e):ee(Hs,null,String(e))}function qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Xi(e)}function aa(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(le(t))i=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),aa(e,s()),s._c&&(s._d=!0));return}else{i=32;const s=t._;!s&&!(zs in t)?t._ctx=Ke:s===3&&Ke&&(Ke.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:Ke},i=32):(t=String(t),n&64?(i=16,t=[ae(t)]):i=8);e.children=t,e.shapeFlag|=i}function gd(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Ls([t.class,n.class]));else if(s==="style")t.style=Ds([t.style,n.style]);else if(Ps(s)){const r=t[s],a=n[s];a&&r!==a&&!(le(r)&&r.includes(a))&&(t[s]=r?[].concat(r,a):a)}else s!==""&&(t[s]=n[s])}return t}function Mt(e,t,i,n=null){Ct(e,t,7,[i,n])}const _d=ml();let md=0;function vd(e,t,i){const n=e.type,s=(t?t.appContext:e.appContext)||_d,r={uid:md++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yl(n,s),emitsOptions:hl(n,s),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:n.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=xc.bind(null,r),e.ce&&e.ce(r),r}let Ve=null;const kl=()=>Ve||Ke;let oa,Fi,za="__VUE_INSTANCE_SETTERS__";(Fi=vr()[za])||(Fi=vr()[za]=[]),Fi.push(e=>Ve=e),oa=e=>{Fi.length>1?Fi.forEach(t=>t(e)):Fi[0](e)};const ji=e=>{oa(e),e.scope.on()},Ei=()=>{Ve&&Ve.scope.off(),oa(null)};function xl(e){return e.vnode.shapeFlag&4}let kn=!1;function yd(e,t=!1){kn=t;const{props:i,children:n}=e.vnode,s=xl(e);nd(e,i,s,t),ad(e,n);const r=s?bd(e,t):void 0;return kn=!1,r}function bd(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Qo(new Proxy(e.ctx,Kc));const{setup:n}=i;if(n){const s=e.setupContext=n.length>1?Sd(e):null;ji(e),Zi();const r=ei(n,e,0,[e.props,s]);if(qi(),Ei(),Ro(r)){if(r.then(Ei,Ei),t)return r.then(a=>{$a(e,a,t)}).catch(a=>{Ns(a,e,0)});e.asyncDep=r}else $a(e,r,t)}else Al(e,t)}function $a(e,t,i){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=sl(t)),Al(e,i)}let Xa;function Al(e,t,i){const n=e.type;if(!e.render){if(!t&&Xa&&!n.render){const s=n.template||sa(e).template;if(s){const{isCustomElement:r,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:l}=n,h=$e($e({isCustomElement:r,delimiters:o},a),l);n.render=Xa(s,h)}}e.render=n.render||St}ji(e),Zi(),Yc(e),qi(),Ei()}function wd(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return st(e,"get","$attrs"),t[i]}}))}function Sd(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return wd(e)},slots:e.slots,emit:e.emit,expose:t}}function $s(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(sl(Qo(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in dn)return dn[i](e)},has(t,i){return i in t||i in dn}}))}function Cd(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Td(e){return pe(e)&&"__vccOpts"in e}const wt=(e,t)=>bc(e,t,kn);function ja(e,t,i){const n=arguments.length;return n===2?Me(t)&&!le(t)?ys(t)?ee(e,null,[t]):ee(e,t):ee(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&ys(i)&&(i=[i]),ee(e,t,i))}const Ed=Symbol.for("v-scx"),kd=()=>ls(Ed),xd="3.3.4",Ad="http://www.w3.org/2000/svg",bi=typeof document<"u"?document:null,Ka=bi&&bi.createElement("template"),Pd={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const s=t?bi.createElementNS(Ad,e):bi.createElement(e,i?{is:i}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>bi.createTextNode(e),createComment:e=>bi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,s,r){const a=i?i.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),!(s===r||!(s=s.nextSibling)););else{Ka.innerHTML=n?`<svg>${e}</svg>`:e;const o=Ka.content;if(n){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,i)}return[a?a.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function Id(e,t,i){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function Md(e,t,i){const n=e.style,s=Xe(i);if(i&&!s){if(t&&!Xe(t))for(const r in t)i[r]==null&&Ir(n,r,"");for(const r in i)Ir(n,r,i[r])}else{const r=n.display;s?t!==i&&(n.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=r)}}const Ya=/\s*!important$/;function Ir(e,t,i){if(le(i))i.forEach(n=>Ir(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=Od(e,t);Ya.test(i)?e.setProperty(Yi(n),i.replace(Ya,""),"important"):e[n]=i}}const Za=["Webkit","Moz","ms"],hr={};function Od(e,t){const i=hr[t];if(i)return i;let n=Rt(t);if(n!=="filter"&&n in e)return hr[t]=n;n=Os(n);for(let s=0;s<Za.length;s++){const r=Za[s]+n;if(r in e)return hr[t]=r}return t}const qa="http://www.w3.org/1999/xlink";function Dd(e,t,i,n,s){if(n&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(qa,t.slice(6,t.length)):e.setAttributeNS(qa,t,i);else{const r=Bh(t);i==null||r&&!Bo(i)?e.removeAttribute(t):e.setAttribute(t,r?"":i)}}function Ld(e,t,i,n,s,r,a){if(t==="innerHTML"||t==="textContent"){n&&a(n,s,r),e[t]=i==null?"":i;return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){e._value=i;const h=o==="OPTION"?e.getAttribute("value"):e.value,d=i==null?"":i;h!==d&&(e.value=d),i==null&&e.removeAttribute(t);return}let l=!1;if(i===""||i==null){const h=typeof e[t];h==="boolean"?i=Bo(i):i==null&&h==="string"?(i="",l=!0):h==="number"&&(i=0,l=!0)}try{e[t]=i}catch{}l&&e.removeAttribute(t)}function wi(e,t,i,n){e.addEventListener(t,i,n)}function Rd(e,t,i,n){e.removeEventListener(t,i,n)}function Fd(e,t,i,n,s=null){const r=e._vei||(e._vei={}),a=r[t];if(n&&a)a.value=n;else{const[o,l]=Nd(t);if(n){const h=r[t]=Gd(n,s);wi(e,o,h,l)}else a&&(Rd(e,o,a,l),r[t]=void 0)}}const Ja=/(?:Once|Passive|Capture)$/;function Nd(e){let t;if(Ja.test(e)){t={};let n;for(;n=e.match(Ja);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yi(e.slice(2)),t]}let cr=0;const Bd=Promise.resolve(),Wd=()=>cr||(Bd.then(()=>cr=0),cr=Date.now());function Gd(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;Ct(Ud(n,i.value),t,5,[n])};return i.value=e,i.attached=Wd(),i}function Ud(e,t){if(le(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Qa=/^on[a-z]/,Hd=(e,t,i,n,s=!1,r,a,o,l)=>{t==="class"?Id(e,n,s):t==="style"?Md(e,i,n):Ps(t)?Ur(t)||Fd(e,t,i,n,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Vd(e,t,n,s))?Ld(e,t,n,r,a,o,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Dd(e,t,n,s))};function Vd(e,t,i,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Qa.test(t)&&pe(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Qa.test(t)&&Xe(i)?!1:t in e}function zd(e){const t=kl();if(!t)return;const i=t.ut=(s=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>Or(r,s))},n=()=>{const s=e(t.proxy);Mr(t.subTree,s),i(s)};Lc(n),Us(()=>{const s=new MutationObserver(n);s.observe(t.subTree.el.parentNode,{childList:!0}),na(()=>s.disconnect())})}function Mr(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{Mr(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Or(e.el,t);else if(e.type===je)e.children.forEach(i=>Mr(i,t));else if(e.type===un){let{el:i,anchor:n}=e;for(;i&&(Or(i,t),i!==n);)i=i.nextSibling}}function Or(e,t){if(e.nodeType===1){const i=e.style;for(const n in t)i.setProperty(`--${n}`,t[n])}}const bs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return le(t)?i=>os(t,i):t};function $d(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pl={created(e,{modifiers:{lazy:t,trim:i,number:n}},s){e._assign=bs(s);const r=n||s.props&&s.props.type==="number";wi(e,t?"change":"input",a=>{if(a.target.composing)return;let o=e.value;i&&(o=o.trim()),r&&(o=ps(o)),e._assign(o)}),i&&wi(e,"change",()=>{e.value=e.value.trim()}),t||(wi(e,"compositionstart",$d),wi(e,"compositionend",eo),wi(e,"change",eo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:n,number:s}},r){if(e._assign=bs(r),e.composing||document.activeElement===e&&e.type!=="range"&&(i||n&&e.value.trim()===t||(s||e.type==="number")&&ps(e.value)===t))return;const a=t==null?"":t;e.value!==a&&(e.value=a)}},Xd={deep:!0,created(e,{value:t,modifiers:{number:i}},n){const s=Is(t);wi(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>i?ps(ws(a)):ws(a));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=bs(n)},mounted(e,{value:t}){to(e,t)},beforeUpdate(e,t,i){e._assign=bs(i)},updated(e,{value:t}){to(e,t)}};function to(e,t){const i=e.multiple;if(!(i&&!le(t)&&!Is(t))){for(let n=0,s=e.options.length;n<s;n++){const r=e.options[n],a=ws(r);if(i)le(t)?r.selected=Gh(t,a)>-1:r.selected=t.has(a);else if(Rs(ws(r),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ws(e){return"_value"in e?e._value:e.value}const jd=$e({patchProp:Hd},Pd);let io;function Kd(){return io||(io=ld(jd))}const Yd=(...e)=>{const t=Kd().createApp(...e),{mount:i}=t;return t.mount=n=>{const s=Zd(n);if(!s)return;const r=t._component;!pe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const a=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},t};function Zd(e){return Xe(e)?document.querySelector(e):e}const qd="/vue-peaks/assets/peaks-logo.72e98b64.svg",oi=(e,t)=>{const i=e.__vccOpts||e;for(const[n,s]of t)i[n]=s;return i},Jd={},Qd={class:"columns"},eu=f("div",{class:"column"},[f("p",null,[ae(" The "),f("span",{class:"code"},"AudioPeaks"),ae(" component has it's own CSS class, plus each generated pane (overview, zoomview, audio/video element, controls) also has a dedicated CSS class which you can select for your styles. Note however, that you can not style the waveforms themselves this way. ")]),f("p",null," To use the default style also for external or slotted panes, you need to set the corresponding classes yourself. "),f("p",null,"The following selectors are available:")],-1),tu={class:"column"};function iu(e,t){const i=kt("highlightjs");return Ee(),De("div",Qd,[eu,f("div",tu,[ee(i,{language:"css",code:`div.peaks { 
    /* The div with the whole AudioPeaks component */ }
div.peaks.hasError { 
    /* When vue-peaks has reported an error */ }    
div.peaks-overview { 
    /* The div with the overview waveform */ }
div.peaks-zoomview { 
    /* The div with the zoom waveform */ }
div.peaks-controls { 
    /* The div with the zoom controls */ }
audio.peaks { 
    /* The audio element, when provided by vue-peaks 
       (in the 'simple' mode) */ }
video.peaks { 
    /* The video element, when provided by vue-peaks 
       (in the 'simple' mode) */ }
div.peaks-overview:empty,
div.peaks-zoomview:empty {       
    /* The overview and zommview pane, respectively, as long as data is loading.
    You can use this to show you own custom progress indication */ }
    `})])])}const nu=oi(Jd,[["render",iu]]);function Il(e){return Go()?(Vh(e),!0):!1}function Ss(e){return typeof e=="function"?e():nl(e)}const su=typeof window<"u"&&typeof document<"u",ru=e=>e!=null,gn=()=>{};function au(e,t){function i(...n){return new Promise((s,r)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(s).catch(r)})}return i}function ou(e,t={}){let i,n,s=gn;const r=o=>{clearTimeout(o),s(),s=gn};return o=>{const l=Ss(e),h=Ss(t.maxWait);return i&&r(i),l<=0||h!==void 0&&h<=0?(n&&(r(n),n=null),Promise.resolve(o())):new Promise((d,p)=>{s=t.rejectOnCancel?p:d,h&&!n&&(n=setTimeout(()=>{i&&r(i),n=null,d(o())},h)),i=setTimeout(()=>{n&&r(n),n=null,d(o())},l)})}}function lu(e,t=200,i={}){return au(ou(t,i),e)}function _n(e){var t;const i=Ss(e);return(t=i==null?void 0:i.$el)!=null?t:i}const la=su?window:void 0;function hu(){const e=Dn(!1);return kl()&&Us(()=>{e.value=!0}),e}function Ml(e){const t=hu();return wt(()=>(t.value,Boolean(e())))}function cu(e,t,i={}){const{window:n=la,...s}=i;let r;const a=Ml(()=>n&&"ResizeObserver"in n),o=()=>{r&&(r.disconnect(),r=void 0)},l=wt(()=>Array.isArray(e)?e.map(p=>_n(p)):[_n(e)]),h=Ti(l,p=>{if(o(),a.value&&n){r=new ResizeObserver(t);for(const y of p)y&&r.observe(y,s)}},{immediate:!0,flush:"post",deep:!0}),d=()=>{o(),h()};return Il(d),{isSupported:a,stop:d}}function du(e,t,i={}){const{root:n,rootMargin:s="0px",threshold:r=.1,window:a=la,immediate:o=!0}=i,l=Ml(()=>a&&"IntersectionObserver"in a),h=wt(()=>{const m=Ss(e);return(Array.isArray(m)?m:[m]).map(_n).filter(ru)});let d=gn;const p=Dn(o),y=l.value?Ti(()=>[h.value,_n(n),p.value],([m,b])=>{if(d(),!p.value||!m.length)return;const v=new IntersectionObserver(t,{root:_n(b),rootMargin:s,threshold:r});m.forEach(x=>x&&v.observe(x)),d=()=>{v.disconnect(),d=gn}},{immediate:o,flush:"post"}):gn,g=()=>{d(),y(),p.value=!1};return Il(g),{isSupported:l,isActive:p,pause(){d(),p.value=!1},resume(){p.value=!0},stop:g}}function uu(e,{window:t=la,scrollTarget:i}={}){const n=Dn(!1);return du(e,([{isIntersecting:s}])=>{n.value=s},{root:i,window:t,threshold:0}),n}var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dr={exports:{}},Lr={},Be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof no<"u"?no:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.2.1",isBrowser:i(),isUnminified:/param/.test(function(s){}.toString()),dblClickWindow:400,getAngle(s){return e.Konva.angleDeg?s*t:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(s){e.glob.Konva=s}};const n=s=>{e.Konva[s.prototype.getClassName()]=s};e._registerNode=n,e.Konva._injectGlobal(e.Konva)})(Be);var Ye={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Be;class i{constructor(u=[1,0,0,1,0,0]){this.dirty=!1,this.m=u&&u.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(u){u.m[0]=this.m[0],u.m[1]=this.m[1],u.m[2]=this.m[2],u.m[3]=this.m[3],u.m[4]=this.m[4],u.m[5]=this.m[5]}point(u){var C=this.m;return{x:C[0]*u.x+C[2]*u.y+C[4],y:C[1]*u.x+C[3]*u.y+C[5]}}translate(u,C){return this.m[4]+=this.m[0]*u+this.m[2]*C,this.m[5]+=this.m[1]*u+this.m[3]*C,this}scale(u,C){return this.m[0]*=u,this.m[1]*=u,this.m[2]*=C,this.m[3]*=C,this}rotate(u){var C=Math.cos(u),D=Math.sin(u),V=this.m[0]*C+this.m[2]*D,E=this.m[1]*C+this.m[3]*D,G=this.m[0]*-D+this.m[2]*C,S=this.m[1]*-D+this.m[3]*C;return this.m[0]=V,this.m[1]=E,this.m[2]=G,this.m[3]=S,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(u,C){var D=this.m[0]+this.m[2]*C,V=this.m[1]+this.m[3]*C,E=this.m[2]+this.m[0]*u,G=this.m[3]+this.m[1]*u;return this.m[0]=D,this.m[1]=V,this.m[2]=E,this.m[3]=G,this}multiply(u){var C=this.m[0]*u.m[0]+this.m[2]*u.m[1],D=this.m[1]*u.m[0]+this.m[3]*u.m[1],V=this.m[0]*u.m[2]+this.m[2]*u.m[3],E=this.m[1]*u.m[2]+this.m[3]*u.m[3],G=this.m[0]*u.m[4]+this.m[2]*u.m[5]+this.m[4],S=this.m[1]*u.m[4]+this.m[3]*u.m[5]+this.m[5];return this.m[0]=C,this.m[1]=D,this.m[2]=V,this.m[3]=E,this.m[4]=G,this.m[5]=S,this}invert(){var u=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*u,D=-this.m[1]*u,V=-this.m[2]*u,E=this.m[0]*u,G=u*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),S=u*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=D,this.m[2]=V,this.m[3]=E,this.m[4]=G,this.m[5]=S,this}getMatrix(){return this.m}decompose(){var u=this.m[0],C=this.m[1],D=this.m[2],V=this.m[3],E=this.m[4],G=this.m[5],S=u*V-C*D;let O={x:E,y:G,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(u!=0||C!=0){var U=Math.sqrt(u*u+C*C);O.rotation=C>0?Math.acos(u/U):-Math.acos(u/U),O.scaleX=U,O.scaleY=S/U,O.skewX=(u*D+C*V)/S,O.skewY=0}else if(D!=0||V!=0){var j=Math.sqrt(D*D+V*V);O.rotation=Math.PI/2-(V>0?Math.acos(-D/j):-Math.acos(D/j)),O.scaleX=S/j,O.scaleY=j,O.skewX=0,O.skewY=(u*D+C*V)/S}return O.rotation=e.Util._getRotation(O.rotation),O}}e.Transform=i;var n="[object Array]",s="[object Number]",r="[object String]",a="[object Boolean]",o=Math.PI/180,l=180/Math.PI,h="#",d="",p="0",y="Konva warning: ",g="Konva error: ",m="rgb(",b={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},v=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,x=[];const k=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(c){setTimeout(c,60)};e.Util={_isElement(c){return!!(c&&c.nodeType==1)},_isFunction(c){return!!(c&&c.constructor&&c.call&&c.apply)},_isPlainObject(c){return!!c&&c.constructor===Object},_isArray(c){return Object.prototype.toString.call(c)===n},_isNumber(c){return Object.prototype.toString.call(c)===s&&!isNaN(c)&&isFinite(c)},_isString(c){return Object.prototype.toString.call(c)===r},_isBoolean(c){return Object.prototype.toString.call(c)===a},isObject(c){return c instanceof Object},isValidSelector(c){if(typeof c!="string")return!1;var u=c[0];return u==="#"||u==="."||u===u.toUpperCase()},_sign(c){return c===0||c>0?1:-1},requestAnimFrame(c){x.push(c),x.length===1&&k(function(){const u=x;x=[],u.forEach(function(C){C()})})},createCanvasElement(){var c=document.createElement("canvas");try{c.style=c.style||{}}catch{}return c},createImageElement(){return document.createElement("img")},_isInDocument(c){for(;c=c.parentNode;)if(c==document)return!0;return!1},_urlToImage(c,u){var C=e.Util.createImageElement();C.onload=function(){u(C)},C.src=c},_rgbToHex(c,u,C){return((1<<24)+(c<<16)+(u<<8)+C).toString(16).slice(1)},_hexToRgb(c){c=c.replace(h,d);var u=parseInt(c,16);return{r:u>>16&255,g:u>>8&255,b:u&255}},getRandomColor(){for(var c=(Math.random()*16777215<<0).toString(16);c.length<6;)c=p+c;return h+c},getRGB(c){var u;return c in b?(u=b[c],{r:u[0],g:u[1],b:u[2]}):c[0]===h?this._hexToRgb(c.substring(1)):c.substr(0,4)===m?(u=v.exec(c.replace(/ /g,"")),{r:parseInt(u[1],10),g:parseInt(u[2],10),b:parseInt(u[3],10)}):{r:0,g:0,b:0}},colorToRGBA(c){return c=c||"black",e.Util._namedColorToRBA(c)||e.Util._hex3ColorToRGBA(c)||e.Util._hex4ColorToRGBA(c)||e.Util._hex6ColorToRGBA(c)||e.Util._hex8ColorToRGBA(c)||e.Util._rgbColorToRGBA(c)||e.Util._rgbaColorToRGBA(c)||e.Util._hslColorToRGBA(c)},_namedColorToRBA(c){var u=b[c.toLowerCase()];return u?{r:u[0],g:u[1],b:u[2],a:1}:null},_rgbColorToRGBA(c){if(c.indexOf("rgb(")===0){c=c.match(/rgb\(([^)]+)\)/)[1];var u=c.split(/ *, */).map(Number);return{r:u[0],g:u[1],b:u[2],a:1}}},_rgbaColorToRGBA(c){if(c.indexOf("rgba(")===0){c=c.match(/rgba\(([^)]+)\)/)[1];var u=c.split(/ *, */).map((C,D)=>C.slice(-1)==="%"?D===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:u[0],g:u[1],b:u[2],a:u[3]}}},_hex8ColorToRGBA(c){if(c[0]==="#"&&c.length===9)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:parseInt(c.slice(7,9),16)/255}},_hex6ColorToRGBA(c){if(c[0]==="#"&&c.length===7)return{r:parseInt(c.slice(1,3),16),g:parseInt(c.slice(3,5),16),b:parseInt(c.slice(5,7),16),a:1}},_hex4ColorToRGBA(c){if(c[0]==="#"&&c.length===5)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:parseInt(c[4]+c[4],16)/255}},_hex3ColorToRGBA(c){if(c[0]==="#"&&c.length===4)return{r:parseInt(c[1]+c[1],16),g:parseInt(c[2]+c[2],16),b:parseInt(c[3]+c[3],16),a:1}},_hslColorToRGBA(c){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(c)){const[u,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(c),D=Number(C[0])/360,V=Number(C[1])/100,E=Number(C[2])/100;let G,S,O;if(V===0)return O=E*255,{r:Math.round(O),g:Math.round(O),b:Math.round(O),a:1};E<.5?G=E*(1+V):G=E+V-E*V;const U=2*E-G,j=[0,0,0];for(let J=0;J<3;J++)S=D+1/3*-(J-1),S<0&&S++,S>1&&S--,6*S<1?O=U+(G-U)*6*S:2*S<1?O=G:3*S<2?O=U+(G-U)*(2/3-S)*6:O=U,j[J]=O*255;return{r:Math.round(j[0]),g:Math.round(j[1]),b:Math.round(j[2]),a:1}}},haveIntersection(c,u){return!(u.x>c.x+c.width||u.x+u.width<c.x||u.y>c.y+c.height||u.y+u.height<c.y)},cloneObject(c){var u={};for(var C in c)this._isPlainObject(c[C])?u[C]=this.cloneObject(c[C]):this._isArray(c[C])?u[C]=this.cloneArray(c[C]):u[C]=c[C];return u},cloneArray(c){return c.slice(0)},degToRad(c){return c*o},radToDeg(c){return c*l},_degToRad(c){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(c)},_radToDeg(c){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(c)},_getRotation(c){return t.Konva.angleDeg?e.Util.radToDeg(c):c},_capitalize(c){return c.charAt(0).toUpperCase()+c.slice(1)},throw(c){throw new Error(g+c)},error(c){console.error(g+c)},warn(c){!t.Konva.showWarnings||console.warn(y+c)},each(c,u){for(var C in c)u(C,c[C])},_inRange(c,u,C){return u<=c&&c<C},_getProjectionToSegment(c,u,C,D,V,E){var G,S,O,U=(c-C)*(c-C)+(u-D)*(u-D);if(U==0)G=c,S=u,O=(V-C)*(V-C)+(E-D)*(E-D);else{var j=((V-c)*(C-c)+(E-u)*(D-u))/U;j<0?(G=c,S=u,O=(c-V)*(c-V)+(u-E)*(u-E)):j>1?(G=C,S=D,O=(C-V)*(C-V)+(D-E)*(D-E)):(G=c+j*(C-c),S=u+j*(D-u),O=(G-V)*(G-V)+(S-E)*(S-E))}return[G,S,O]},_getProjectionToLine(c,u,C){var D=e.Util.cloneObject(c),V=Number.MAX_VALUE;return u.forEach(function(E,G){if(!(!C&&G===u.length-1)){var S=u[(G+1)%u.length],O=e.Util._getProjectionToSegment(E.x,E.y,S.x,S.y,c.x,c.y),U=O[0],j=O[1],J=O[2];J<V&&(D.x=U,D.y=j,V=J)}}),D},_prepareArrayForTween(c,u,C){var D,V=[],E=[];if(c.length>u.length){var G=u;u=c,c=G}for(D=0;D<c.length;D+=2)V.push({x:c[D],y:c[D+1]});for(D=0;D<u.length;D+=2)E.push({x:u[D],y:u[D+1]});var S=[];return E.forEach(function(O){var U=e.Util._getProjectionToLine(O,V,C);S.push(U.x),S.push(U.y)}),S},_prepareToStringify(c){var u;c.visitedByCircularReferenceRemoval=!0;for(var C in c)if(!!(c.hasOwnProperty(C)&&c[C]&&typeof c[C]=="object")){if(u=Object.getOwnPropertyDescriptor(c,C),c[C].visitedByCircularReferenceRemoval||e.Util._isElement(c[C]))if(u.configurable)delete c[C];else return null;else if(e.Util._prepareToStringify(c[C])===null)if(u.configurable)delete c[C];else return null}return delete c.visitedByCircularReferenceRemoval,c},_assign(c,u){for(var C in u)c[C]=u[C];return c},_getFirstPointerId(c){return c.touches?c.changedTouches[0].identifier:c.pointerId||999},releaseCanvas(...c){!t.Konva.releaseCanvasOnDestroy||c.forEach(u=>{u.width=0,u.height=0})},drawRoundedRectPath(c,u,C,D){let V=0,E=0,G=0,S=0;typeof D=="number"?V=E=G=S=Math.min(D,u/2,C/2):(V=Math.min(D[0]||0,u/2,C/2),E=Math.min(D[1]||0,u/2,C/2),S=Math.min(D[2]||0,u/2,C/2),G=Math.min(D[3]||0,u/2,C/2)),c.moveTo(V,0),c.lineTo(u-E,0),c.arc(u-E,E,E,Math.PI*3/2,0,!1),c.lineTo(u,C-S),c.arc(u-S,C-S,S,0,Math.PI/2,!1),c.lineTo(G,C),c.arc(G,C-G,G,Math.PI/2,Math.PI,!1),c.lineTo(0,V),c.arc(V,V,V,Math.PI,Math.PI*3/2,!1)}}})(Ye);var li={},Nt={},be={};Object.defineProperty(be,"__esModule",{value:!0});be.getComponentValidator=be.getBooleanValidator=be.getNumberArrayValidator=be.getFunctionValidator=be.getStringOrGradientValidator=be.getStringValidator=be.getNumberOrAutoValidator=be.getNumberOrArrayOfNumbersValidator=be.getNumberValidator=be.alphaComponent=be.RGBComponent=void 0;const $t=Be,Ne=Ye;function Xt(e){return Ne.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Ne.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function pu(e){return e>255?255:e<0?0:Math.round(e)}be.RGBComponent=pu;function gu(e){return e>1?1:e<1e-4?1e-4:e}be.alphaComponent=gu;function _u(){if($t.Konva.isUnminified)return function(e,t){return Ne.Util._isNumber(e)||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}be.getNumberValidator=_u;function mu(e){if($t.Konva.isUnminified)return function(t,i){let n=Ne.Util._isNumber(t),s=Ne.Util._isArray(t)&&t.length==e;return!n&&!s&&Ne.Util.warn(Xt(t)+' is a not valid value for "'+i+'" attribute. The value should be a number or Array<number>('+e+")"),t}}be.getNumberOrArrayOfNumbersValidator=mu;function vu(){if($t.Konva.isUnminified)return function(e,t){var i=Ne.Util._isNumber(e),n=e==="auto";return i||n||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}be.getNumberOrAutoValidator=vu;function yu(){if($t.Konva.isUnminified)return function(e,t){return Ne.Util._isString(e)||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}be.getStringValidator=yu;function bu(){if($t.Konva.isUnminified)return function(e,t){const i=Ne.Util._isString(e),n=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return i||n||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}be.getStringOrGradientValidator=bu;function wu(){if($t.Konva.isUnminified)return function(e,t){return Ne.Util._isFunction(e)||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}be.getFunctionValidator=wu;function Su(){if($t.Konva.isUnminified)return function(e,t){const i=Int8Array?Object.getPrototypeOf(Int8Array):null;return i&&e instanceof i||(Ne.Util._isArray(e)?e.forEach(function(n){Ne.Util._isNumber(n)||Ne.Util.warn('"'+t+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}be.getNumberArrayValidator=Su;function Cu(){if($t.Konva.isUnminified)return function(e,t){var i=e===!0||e===!1;return i||Ne.Util.warn(Xt(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}be.getBooleanValidator=Cu;function Tu(e){if($t.Konva.isUnminified)return function(t,i){return t==null||Ne.Util.isObject(t)||Ne.Util.warn(Xt(t)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+e),t}}be.getComponentValidator=Tu;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Ye,i=be;var n="get",s="set";e.Factory={addGetterSetter(r,a,o,l,h){e.Factory.addGetter(r,a,o),e.Factory.addSetter(r,a,l,h),e.Factory.addOverloadedGetterSetter(r,a)},addGetter(r,a,o){var l=n+t.Util._capitalize(a);r.prototype[l]=r.prototype[l]||function(){var h=this.attrs[a];return h===void 0?o:h}},addSetter(r,a,o,l){var h=s+t.Util._capitalize(a);r.prototype[h]||e.Factory.overWriteSetter(r,a,o,l)},overWriteSetter(r,a,o,l){var h=s+t.Util._capitalize(a);r.prototype[h]=function(d){return o&&d!==void 0&&d!==null&&(d=o.call(this,d,a)),this._setAttr(a,d),l&&l.call(this),this}},addComponentsGetterSetter(r,a,o,l,h){var d=o.length,p=t.Util._capitalize,y=n+p(a),g=s+p(a),m,b;r.prototype[y]=function(){var x={};for(m=0;m<d;m++)b=o[m],x[b]=this.getAttr(a+p(b));return x};var v=(0,i.getComponentValidator)(o);r.prototype[g]=function(x){var k=this.attrs[a],c;l&&(x=l.call(this,x)),v&&v.call(this,x,a);for(c in x)!x.hasOwnProperty(c)||this._setAttr(a+p(c),x[c]);return x||o.forEach(u=>{this._setAttr(a+p(u),void 0)}),this._fireChangeEvent(a,k,x),h&&h.call(this),this},e.Factory.addOverloadedGetterSetter(r,a)},addOverloadedGetterSetter(r,a){var o=t.Util._capitalize(a),l=s+o,h=n+o;r.prototype[a]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(r,a,o,l){t.Util.error("Adding deprecated "+a);var h=n+t.Util._capitalize(a),d=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";r.prototype[h]=function(){t.Util.error(d);var p=this.attrs[a];return p===void 0?o:p},e.Factory.addSetter(r,a,l,function(){t.Util.error(d)}),e.Factory.addOverloadedGetterSetter(r,a)},backCompat(r,a){t.Util.each(a,function(o,l){var h=r.prototype[l],d=n+t.Util._capitalize(o),p=s+t.Util._capitalize(o);function y(){h.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}r.prototype[o]=y,r.prototype[d]=y,r.prototype[p]=y})},afterSetFilter(){this._filterUpToDate=!1}}})(Nt);var Tt={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.HitContext=Ht.SceneContext=Ht.Context=void 0;const Ol=Ye,Eu=Be;function ku(e){var t=[],i=e.length,n=Ol.Util,s,r;for(s=0;s<i;s++)r=e[s],n._isNumber(r)?r=Math.round(r*1e3)/1e3:n._isString(r)||(r=r+""),t.push(r);return t}var so=",",xu="(",Au=")",Pu="([",Iu="])",Mu=";",Ou="()",Du="=",ro=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Lu=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const Ru=100;class Xs{constructor(t){this.canvas=t,Eu.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,i){var n=this.traceArr,s=n.length,r="",a,o,l,h;for(a=0;a<s;a++)o=n[a],l=o.method,l?(h=o.args,r+=l,t?r+=Ou:Ol.Util._isArray(h[0])?r+=Pu+h.join(so)+Iu:(i&&(h=h.map(d=>typeof d=="number"?Math.floor(d):d)),r+=xu+h.join(so)+Au)):(r+=o.property,t||(r+=Du+o.val)),r+=Mu;return r}clearTrace(){this.traceArr=[]}_trace(t){var i=this.traceArr,n;i.push(t),n=i.length,n>=Ru&&i.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var i=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,i.getWidth()/i.pixelRatio,i.getHeight()/i.pixelRatio)}_applyLineCap(t){const i=t.attrs.lineCap;i&&this.setAttr("lineCap",i)}_applyOpacity(t){var i=t.getAbsoluteOpacity();i!==1&&this.setAttr("globalAlpha",i)}_applyLineJoin(t){const i=t.attrs.lineJoin;i&&this.setAttr("lineJoin",i)}setAttr(t,i){this._context[t]=i}arc(t,i,n,s,r,a){this._context.arc(t,i,n,s,r,a)}arcTo(t,i,n,s,r){this._context.arcTo(t,i,n,s,r)}beginPath(){this._context.beginPath()}bezierCurveTo(t,i,n,s,r,a){this._context.bezierCurveTo(t,i,n,s,r,a)}clearRect(t,i,n,s){this._context.clearRect(t,i,n,s)}clip(...t){this._context.clip.apply(this._context,t)}closePath(){this._context.closePath()}createImageData(t,i){var n=arguments;if(n.length===2)return this._context.createImageData(t,i);if(n.length===1)return this._context.createImageData(t)}createLinearGradient(t,i,n,s){return this._context.createLinearGradient(t,i,n,s)}createPattern(t,i){return this._context.createPattern(t,i)}createRadialGradient(t,i,n,s,r,a){return this._context.createRadialGradient(t,i,n,s,r,a)}drawImage(t,i,n,s,r,a,o,l,h){var d=arguments,p=this._context;d.length===3?p.drawImage(t,i,n):d.length===5?p.drawImage(t,i,n,s,r):d.length===9&&p.drawImage(t,i,n,s,r,a,o,l,h)}ellipse(t,i,n,s,r,a,o,l){this._context.ellipse(t,i,n,s,r,a,o,l)}isPointInPath(t,i,n,s){return n?this._context.isPointInPath(n,t,i,s):this._context.isPointInPath(t,i,s)}fill(...t){this._context.fill.apply(this._context,t)}fillRect(t,i,n,s){this._context.fillRect(t,i,n,s)}strokeRect(t,i,n,s){this._context.strokeRect(t,i,n,s)}fillText(t,i,n,s){s?this._context.fillText(t,i,n,s):this._context.fillText(t,i,n)}measureText(t){return this._context.measureText(t)}getImageData(t,i,n,s){return this._context.getImageData(t,i,n,s)}lineTo(t,i){this._context.lineTo(t,i)}moveTo(t,i){this._context.moveTo(t,i)}rect(t,i,n,s){this._context.rect(t,i,n,s)}putImageData(t,i,n){this._context.putImageData(t,i,n)}quadraticCurveTo(t,i,n,s){this._context.quadraticCurveTo(t,i,n,s)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,i){this._context.scale(t,i)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,i,n,s,r,a){this._context.setTransform(t,i,n,s,r,a)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,i,n,s){this._context.strokeText(t,i,n,s)}transform(t,i,n,s,r,a){this._context.transform(t,i,n,s,r,a)}translate(t,i){this._context.translate(t,i)}_enableTrace(){var t=this,i=ro.length,n=this.setAttr,s,r,a=function(o){var l=t[o],h;t[o]=function(){return r=ku(Array.prototype.slice.call(arguments,0)),h=l.apply(t,arguments),t._trace({method:o,args:r}),h}};for(s=0;s<i;s++)a(ro[s]);t.setAttr=function(){n.apply(t,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:o,val:l})}}_applyGlobalCompositeOperation(t){const i=t.attrs.globalCompositeOperation;var n=!i||i==="source-over";n||this.setAttr("globalCompositeOperation",i)}}Ht.Context=Xs;Lu.forEach(function(e){Object.defineProperty(Xs.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class Fu extends Xs{constructor(t,{willReadFrequently:i=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:i})}_fillColor(t){var i=t.fill();this.setAttr("fillStyle",i),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var i=t._getLinearGradient();i&&(this.setAttr("fillStyle",i),t._fillFunc(this))}_fillRadialGradient(t){const i=t._getRadialGradient();i&&(this.setAttr("fillStyle",i),t._fillFunc(this))}_fill(t){const i=t.fill(),n=t.getFillPriority();if(i&&n==="color"){this._fillColor(t);return}const s=t.getFillPatternImage();if(s&&n==="pattern"){this._fillPattern(t);return}const r=t.getFillLinearGradientColorStops();if(r&&n==="linear-gradient"){this._fillLinearGradient(t);return}const a=t.getFillRadialGradientColorStops();if(a&&n==="radial-gradient"){this._fillRadialGradient(t);return}i?this._fillColor(t):s?this._fillPattern(t):r?this._fillLinearGradient(t):a&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const i=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),s=t.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(i.x,i.y,n.x,n.y);if(s){for(var a=0;a<s.length;a+=2)r.addColorStop(s[a],s[a+1]);this.setAttr("strokeStyle",r)}}_stroke(t){var i=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t),i&&t.dashEnabled()&&(this.setLineDash(i),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var r=t.getStrokeLinearGradientColorStops();r?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}}_applyShadow(t){var i,n,s,r=(i=t.getShadowRGBA())!==null&&i!==void 0?i:"black",a=(n=t.getShadowBlur())!==null&&n!==void 0?n:5,o=(s=t.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},l=t.getAbsoluteScale(),h=this.canvas.getPixelRatio(),d=l.x*h,p=l.y*h;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",a*Math.min(Math.abs(d),Math.abs(p))),this.setAttr("shadowOffsetX",o.x*d),this.setAttr("shadowOffsetY",o.y*p)}}Ht.SceneContext=Fu;class Nu extends Xs{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const r=t.getStrokeScaleEnabled();if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var n=t.hitStrokeWidth(),s=n==="auto"?t.strokeWidth():n;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),r||this.restore()}}}Ht.HitContext=Nu;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.HitCanvas=Tt.SceneCanvas=Tt.Canvas=void 0;const Cs=Ye,Dl=Ht,Ll=Be,Bu=Nt,Wu=be;var Jn;function Gu(){if(Jn)return Jn;var e=Cs.Util.createCanvasElement(),t=e.getContext("2d");return Jn=function(){var i=Ll.Konva._global.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return i/n}(),Cs.Util.releaseCanvas(e),Jn}class js{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var i=t||{},n=i.pixelRatio||Ll.Konva.pixelRatio||Gu();this.pixelRatio=n,this._canvas=Cs.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var i=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/i,this.getHeight()/i)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var i=this.pixelRatio,n=this.getContext()._context;n.scale(i,i)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var i=this.pixelRatio,n=this.getContext()._context;n.scale(i,i)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,i){this.setWidth(t||0),this.setHeight(i||0)}toDataURL(t,i){try{return this._canvas.toDataURL(t,i)}catch{try{return this._canvas.toDataURL()}catch(s){return Cs.Util.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Tt.Canvas=js;Bu.Factory.addGetterSetter(js,"pixelRatio",void 0,(0,Wu.getNumberValidator)());class Uu extends js{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new Dl.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}Tt.SceneCanvas=Uu;class Hu extends js{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new Dl.HitContext(this),this.setSize(t.width,t.height)}}Tt.HitCanvas=Hu;var Ks={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Be,i=Ye;e.DD={get isDragging(){var n=!1;return e.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return e.DD._dragElements.forEach(s=>{n=s.node}),n},_dragElements:new Map,_drag(n){const s=[];e.DD._dragElements.forEach((r,a)=>{const{node:o}=r,l=o.getStage();l.setPointersPositions(n),r.pointerId===void 0&&(r.pointerId=i.Util._getFirstPointerId(n));const h=l._changedPointerPositions.find(y=>y.id===r.pointerId);if(!!h){if(r.dragStatus!=="dragging"){var d=o.dragDistance(),p=Math.max(Math.abs(h.x-r.startPointerPos.x),Math.abs(h.y-r.startPointerPos.y));if(p<d||(o.startDrag({evt:n}),!o.isDragging()))return}o._setDragPosition(n,r),s.push(o)}}),s.forEach(r=>{r.fire("dragmove",{type:"dragmove",target:r,evt:n},!0)})},_endDragBefore(n){const s=[];e.DD._dragElements.forEach(r=>{const{node:a}=r,o=a.getStage();if(n&&o.setPointersPositions(n),!o._changedPointerPositions.find(d=>d.id===r.pointerId))return;(r.dragStatus==="dragging"||r.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,r.dragStatus="stopped");const h=r.node.getLayer()||r.node instanceof t.Konva.Stage&&r.node;h&&s.indexOf(h)===-1&&s.push(h)}),s.forEach(r=>{r.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((s,r)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:n},!0),s.dragStatus!=="dragging"&&e.DD._dragElements.delete(r)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))})(Ks);Object.defineProperty(li,"__esModule",{value:!0});li.Node=void 0;const _e=Ye,Ln=Nt,Qn=Tt,mi=Be,ft=Ks,We=be;var cs="absoluteOpacity",es="allEventListeners",Gt="absoluteTransform",ao="absoluteScale",vi="canvas",Vu="Change",zu="children",$u="konva",Rr="listening",oo="mouseenter",lo="mouseleave",ho="set",co="Shape",ds=" ",uo="stage",Zt="transform",Xu="Stage",Fr="visible",ju=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(ds);let Ku=1;class de{constructor(t){this._id=Ku++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Zt||t===Gt)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,i){var n=this._cache.get(t),s=t===Zt||t===Gt,r=n===void 0||s&&n.dirty===!0;return r&&(n=i.call(this),this._cache.set(t,n)),n}_calculate(t,i,n){if(!this._attachedDepsListeners.get(t)){const s=i.map(r=>r+"Change.konva").join(ds);this.on(s,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)}_getCanvasCache(){return this._cache.get(vi)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Gt&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(vi)){const{scene:t,filter:i,hit:n}=this._cache.get(vi);_e.Util.releaseCanvas(t,i,n),this._cache.delete(vi)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var i=t||{},n={};(i.x===void 0||i.y===void 0||i.width===void 0||i.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var s=Math.ceil(i.width||n.width),r=Math.ceil(i.height||n.height),a=i.pixelRatio,o=i.x===void 0?Math.floor(n.x):i.x,l=i.y===void 0?Math.floor(n.y):i.y,h=i.offset||0,d=i.drawBorder||!1,p=i.hitCanvasPixelRatio||1;if(!s||!r){_e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}s+=h*2+1,r+=h*2+1,o-=h,l-=h;var y=new Qn.SceneCanvas({pixelRatio:a,width:s,height:r}),g=new Qn.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),m=new Qn.HitCanvas({pixelRatio:p,width:s,height:r}),b=y.getContext(),v=m.getContext();return m.isCache=!0,y.isCache=!0,this._cache.delete(vi),this._filterUpToDate=!1,i.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,g.getContext()._context.imageSmoothingEnabled=!1),b.save(),v.save(),b.translate(-o,-l),v.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(cs),this._clearSelfAndDescendantCache(ao),this.drawScene(y,this),this.drawHit(m,this),this._isUnderCache=!1,b.restore(),v.restore(),d&&(b.save(),b.beginPath(),b.rect(0,0,s,r),b.closePath(),b.setAttr("strokeStyle","red"),b.setAttr("lineWidth",5),b.stroke(),b.restore()),this._cache.set(vi,{scene:y,filter:g,hit:m,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(vi)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,i){var n=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=1/0,r=1/0,a=-1/0,o=-1/0,l=this.getAbsoluteTransform(i);return n.forEach(function(h){var d=l.point(h);s===void 0&&(s=a=d.x,r=o=d.y),s=Math.min(s,d.x),r=Math.min(r,d.y),a=Math.max(a,d.x),o=Math.max(o,d.y)}),{x:s,y:r,width:a-s,height:o-r}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const i=this._getCanvasCache();t.translate(i.x,i.y);var n=this._getCachedSceneCanvas(),s=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/s,n.height/s),t.restore()}_drawCachedHitCanvas(t){var i=this._getCanvasCache(),n=i.hit;t.save(),t.translate(i.x,i.y),t.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),i=this._getCanvasCache(),n=i.scene,s=i.filter,r=s.getContext(),a,o,l,h;if(t){if(!this._filterUpToDate){var d=n.pixelRatio;s.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(a=t.length,r.clear(),r.drawImage(n._canvas,0,0,n.getWidth()/d,n.getHeight()/d),o=r.getImageData(0,0,s.getWidth(),s.getHeight()),l=0;l<a;l++){if(h=t[l],typeof h!="function"){_e.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),r.putImageData(o,0,0)}}catch(p){_e.Util.error("Unable to apply filter. "+p.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return n}on(t,i){if(this._cache&&this._cache.delete(es),arguments.length===3)return this._delegate.apply(this,arguments);var n=t.split(ds),s=n.length,r,a,o,l,h;for(r=0;r<s;r++)a=n[r],o=a.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:i});return this}off(t,i){var n=(t||"").split(ds),s=n.length,r,a,o,l,h,d;if(this._cache&&this._cache.delete(es),!t)for(a in this.eventListeners)this._off(a);for(r=0;r<s;r++)if(o=n[r],l=o.split("."),h=l[0],d=l[1],h)this.eventListeners[h]&&this._off(h,d,i);else for(a in this.eventListeners)this._off(a,d,i);return this}dispatchEvent(t){var i={target:this,type:t.type,evt:t};return this.fire(t.type,i),this}addEventListener(t,i){return this.on(t,function(n){i.call(this,n.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,i,n){var s=this;this.on(t,function(r){for(var a=r.target.findAncestors(i,!0,s),o=0;o<a.length;o++)r=_e.Util.cloneObject(r),r.currentTarget=a[o],n.call(a[o],r)})}remove(){return this.isDragging()&&this.stopDrag(),ft.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Gt),this._clearSelfAndDescendantCache(cs),this._clearSelfAndDescendantCache(ao),this._clearSelfAndDescendantCache(uo),this._clearSelfAndDescendantCache(Fr),this._clearSelfAndDescendantCache(Rr)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var i="get"+_e.Util._capitalize(t);return _e.Util._isFunction(this[i])?this[i]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),i=[];t;)i.push(t),t=t.getParent();return i}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var i,n;if(!t)return this;for(i in t)i!==zu&&(n=ho+_e.Util._capitalize(i),_e.Util._isFunction(this[n])?this[n](t[i]):this._setAttr(i,t[i]))}),this}isListening(){return this._getCache(Rr,this._isListening)}_isListening(t){if(!this.listening())return!1;const n=this.getParent();return n&&n!==t&&this!==t?n._isListening(t):!0}isVisible(){return this._getCache(Fr,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const n=this.getParent();return n&&n!==t&&this!==t?n._isVisible(t):!0}shouldDrawHit(t,i=!1){if(t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),s=!1;ft.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===n)&&(s=!0)});var r=!i&&!mi.Konva.hitOnDragEnabled&&s;return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),i=this,n=0,s,r,a,o;function l(d){for(s=[],r=d.length,a=0;a<r;a++)o=d[a],n++,o.nodeType!==co&&(s=s.concat(o.getChildren().slice())),o._id===i._id&&(a=r);s.length>0&&s[0].getDepth()<=t&&l(s)}const h=this.getStage();return i.nodeType!==Xu&&h&&l(h.getChildren()),n}getDepth(){for(var t=0,i=this.parent;i;)t++,i=i.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Zt),this._clearSelfAndDescendantCache(Gt)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const t=this.getStage();if(!t)return null;var i=t.getPointerPosition();if(!i)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(i)}getAbsolutePosition(t){let i=!1,n=this.parent;for(;n;){if(n.isCached()){i=!0;break}n=n.parent}i&&!t&&(t=!0);var s=this.getAbsoluteTransform(t).getMatrix(),r=new _e.Transform,a=this.offset();return r.m=s.slice(),r.translate(a.x,a.y),r.getTranslation()}setAbsolutePosition(t){const{x:i,y:n,...s}=this._clearTransform();this.attrs.x=i,this.attrs.y=n,this._clearCache(Zt);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(t.x,t.y),t={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(s),this.setPosition({x:t.x,y:t.y}),this._clearCache(Zt),this._clearSelfAndDescendantCache(Gt),this}_setTransform(t){var i;for(i in t)this.attrs[i]=t[i]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var i=t.x,n=t.y,s=this.x(),r=this.y();return i!==void 0&&(s+=i),n!==void 0&&(r+=n),this.setPosition({x:s,y:r}),this}_eachAncestorReverse(t,i){var n=[],s=this.getParent(),r,a;if(!(i&&i._id===this._id)){for(n.unshift(this);s&&(!i||s._id!==i._id);)n.unshift(s),s=s.parent;for(r=n.length,a=0;a<r;a++)t(n[a])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return _e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,i=this.parent.getChildren().length;return t<i-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return _e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,i=this.parent.getChildren().length;return t<i-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return _e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return _e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return _e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&_e.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var i=this.index;return this.parent.children.splice(i,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(cs,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),i=this.getParent();return i&&!i._isUnderCache&&(t*=i.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},i=this.getAttrs(),n,s,r,a,o;t.attrs={};for(n in i)s=i[n],o=_e.Util.isObject(s)&&!_e.Util._isPlainObject(s)&&!_e.Util._isArray(s),!o&&(r=typeof this[n]=="function"&&this[n],delete i[n],a=r?r.call(this):null,i[n]=s,a!==s&&(t.attrs[n]=s));return t.className=this.getClassName(),_e.Util._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,i,n){var s=[];i&&this._isMatch(t)&&s.push(this);for(var r=this.parent;r;){if(r===n)return s;r._isMatch(t)&&s.push(r),r=r.parent}return s}isAncestorOf(t){return!1}findAncestor(t,i,n){return this.findAncestors(t,i,n)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var i=t.replace(/ /g,"").split(","),n=i.length,s,r;for(s=0;s<n;s++)if(r=i[s],_e.Util.isValidSelector(r)||(_e.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),_e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),_e.Util.warn("Konva is awesome, right?")),r.charAt(0)==="#"){if(this.id()===r.slice(1))return!0}else if(r.charAt(0)==="."){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(uo,this._getStage)}_getStage(){var t=this.getParent();return t?t.getStage():null}fire(t,i={},n){return i.target=i.target||this,n?this._fireAndBubble(t,i):this._fire(t,i),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Gt,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var i;if(t)return i=new _e.Transform,this._eachAncestorReverse(function(s){var r=s.transformsEnabled();r==="all"?i.multiply(s.getTransform()):r==="position"&&i.translate(s.x()-s.offsetX(),s.y()-s.offsetY())},t),i;i=this._cache.get(Gt)||new _e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(i):i.reset();var n=this.transformsEnabled();if(n==="all")i.multiply(this.getTransform());else if(n==="position"){const s=this.attrs.x||0,r=this.attrs.y||0,a=this.attrs.offsetX||0,o=this.attrs.offsetY||0;i.translate(s-a,r-o)}return i.dirty=!1,i}getAbsoluteScale(t){for(var i=this;i;)i._isUnderCache&&(t=i),i=i.getParent();const s=this.getAbsoluteTransform(t).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Zt,this._getTransform)}_getTransform(){var t,i,n=this._cache.get(Zt)||new _e.Transform;n.reset();var s=this.x(),r=this.y(),a=mi.Konva.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(i=this.attrs.scaleY)!==null&&i!==void 0?i:1,h=this.attrs.skewX||0,d=this.attrs.skewY||0,p=this.attrs.offsetX||0,y=this.attrs.offsetY||0;return(s!==0||r!==0)&&n.translate(s,r),a!==0&&n.rotate(a),(h!==0||d!==0)&&n.skew(h,d),(o!==1||l!==1)&&n.scale(o,l),(p!==0||y!==0)&&n.translate(-1*p,-1*y),n.dirty=!1,n}clone(t){var i=_e.Util.cloneObject(this.attrs),n,s,r,a,o;for(n in t)i[n]=t[n];var l=new this.constructor(i);for(n in this.eventListeners)for(s=this.eventListeners[n],r=s.length,a=0;a<r;a++)o=s[a],o.name.indexOf($u)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(o));return l}_toKonvaCanvas(t){t=t||{};var i=this.getClientRect(),n=this.getStage(),s=t.x!==void 0?t.x:Math.floor(i.x),r=t.y!==void 0?t.y:Math.floor(i.y),a=t.pixelRatio||1,o=new Qn.SceneCanvas({width:t.width||Math.ceil(i.width)||(n?n.width():0),height:t.height||Math.ceil(i.height)||(n?n.height():0),pixelRatio:a}),l=o.getContext();return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(s||r)&&l.translate(-1*s,-1*r),this.drawScene(o),l.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var i=t.mimeType||null,n=t.quality||null,s=this._toKonvaCanvas(t).toDataURL(i,n);return t.callback&&t.callback(s),s}toImage(t){return new Promise((i,n)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,_e.Util._urlToImage(this.toDataURL(t),function(r){i(r),s==null||s(r)})}catch(s){n(s)}})}toBlob(t){return new Promise((i,n)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,this.toCanvas(t).toBlob(r=>{i(r),s==null||s(r)})}catch(s){n(s)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():mi.Konva.dragDistance}_off(t,i,n){var s=this.eventListeners[t],r,a,o;for(r=0;r<s.length;r++)if(a=s[r].name,o=s[r].handler,(a!=="konva"||i==="konva")&&(!i||a===i)&&(!n||n===o)){if(s.splice(r,1),s.length===0){delete this.eventListeners[t];break}r--}}_fireChangeEvent(t,i,n){this._fire(t+Vu,{oldVal:i,newVal:n})}addName(t){if(!this.hasName(t)){var i=this.name(),n=i?i+" "+t:t;this.name(n)}return this}hasName(t){if(!t)return!1;const i=this.name();if(!i)return!1;var n=(i||"").split(/\s/g);return n.indexOf(t)!==-1}removeName(t){var i=(this.name()||"").split(/\s/g),n=i.indexOf(t);return n!==-1&&(i.splice(n,1),this.name(i.join(" "))),this}setAttr(t,i){var n=this[ho+_e.Util._capitalize(t)];return _e.Util._isFunction(n)?n.call(this,i):this._setAttr(t,i),this}_requestDraw(){if(mi.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,i){var n=this.attrs[t];n===i&&!_e.Util.isObject(i)||(i==null?delete this.attrs[t]:this.attrs[t]=i,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,i),this._requestDraw())}_setComponentAttr(t,i,n){var s;n!==void 0&&(s=this.attrs[t],s||(this.attrs[t]=this.getAttr(t)),this.attrs[t][i]=n,this._fireChangeEvent(t,s,n))}_fireAndBubble(t,i,n){i&&this.nodeType===co&&(i.target=this);var s=(t===oo||t===lo)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n);if(!s){this._fire(t,i);var r=(t===oo||t===lo)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(i&&!i.cancelBubble||!i)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,i,n):this._fireAndBubble.call(this.parent,t,i))}}_getProtoListeners(t){var i,n,s;const r=(i=this._cache.get(es))!==null&&i!==void 0?i:{};let a=r==null?void 0:r[t];if(a===void 0){a=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(s=(n=o.eventListeners)===null||n===void 0?void 0:n[t])!==null&&s!==void 0?s:[];a.push(...l),o=Object.getPrototypeOf(o)}r[t]=a,this._cache.set(es,r)}return a}_fire(t,i){i=i||{},i.currentTarget=this,i.type=t;const n=this._getProtoListeners(t);if(n)for(var s=0;s<n.length;s++)n[s].handler.call(this,i);const r=this.eventListeners[t];if(r)for(var s=0;s<r.length;s++)r[s].handler.call(this,i)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var i=t?t.pointerId:void 0,n=this.getStage(),s=this.getAbsolutePosition();if(!!n){var r=n._getPointerById(i)||n._changedPointerPositions[0]||s;ft.DD._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-s.x,y:r.y-s.y},dragStatus:"ready",pointerId:i})}}startDrag(t,i=!0){ft.DD._dragElements.has(this._id)||this._createDragElement(t);const n=ft.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},i)}_setDragPosition(t,i){const n=this.getStage()._getPointerById(i.pointerId);if(!!n){var s={x:n.x-i.offset.x,y:n.y-i.offset.y},r=this.dragBoundFunc();if(r!==void 0){const a=r.call(this,s,t);a?s=a:_e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}}stopDrag(t){const i=ft.DD._dragElements.get(this._id);i&&(i.dragStatus="stopped"),ft.DD._endDragBefore(t),ft.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=ft.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var i=t.evt.button!==void 0,n=!i||mi.Konva.dragButtons.indexOf(t.evt.button)>=0;if(!!n&&!this.isDragging()){var s=!1;ft.DD._dragElements.forEach(r=>{this.isAncestorOf(r.node)&&(s=!0)}),s||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const i=ft.DD._dragElements.get(this._id),n=i&&i.dragStatus==="dragging",s=i&&i.dragStatus==="ready";n?this.stopDrag():s&&ft.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const i=this.getStage();if(!i)return!1;const n={x:-t.x,y:-t.y,width:i.width()+2*t.x,height:i.height()+2*t.y};return _e.Util.haveIntersection(n,this.getClientRect())}static create(t,i){return _e.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,i)}static _createNode(t,i){var n=de.prototype.getClassName.call(t),s=t.children,r,a,o;i&&(t.attrs.container=i),mi.Konva[n]||(_e.Util.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const l=mi.Konva[n];if(r=new l(t.attrs),s)for(a=s.length,o=0;o<a;o++)r.add(de._createNode(s[o]));return r}}li.Node=de;de.prototype.nodeType="Node";de.prototype._attrsAffectingSize=[];de.prototype.eventListeners={};de.prototype.on.call(de.prototype,ju,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Zt),this._clearSelfAndDescendantCache(Gt)});de.prototype.on.call(de.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Fr)});de.prototype.on.call(de.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Rr)});de.prototype.on.call(de.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(cs)});const xe=Ln.Factory.addGetterSetter;xe(de,"zIndex");xe(de,"absolutePosition");xe(de,"position");xe(de,"x",0,(0,We.getNumberValidator)());xe(de,"y",0,(0,We.getNumberValidator)());xe(de,"globalCompositeOperation","source-over",(0,We.getStringValidator)());xe(de,"opacity",1,(0,We.getNumberValidator)());xe(de,"name","",(0,We.getStringValidator)());xe(de,"id","",(0,We.getStringValidator)());xe(de,"rotation",0,(0,We.getNumberValidator)());Ln.Factory.addComponentsGetterSetter(de,"scale",["x","y"]);xe(de,"scaleX",1,(0,We.getNumberValidator)());xe(de,"scaleY",1,(0,We.getNumberValidator)());Ln.Factory.addComponentsGetterSetter(de,"skew",["x","y"]);xe(de,"skewX",0,(0,We.getNumberValidator)());xe(de,"skewY",0,(0,We.getNumberValidator)());Ln.Factory.addComponentsGetterSetter(de,"offset",["x","y"]);xe(de,"offsetX",0,(0,We.getNumberValidator)());xe(de,"offsetY",0,(0,We.getNumberValidator)());xe(de,"dragDistance",null,(0,We.getNumberValidator)());xe(de,"width",0,(0,We.getNumberValidator)());xe(de,"height",0,(0,We.getNumberValidator)());xe(de,"listening",!0,(0,We.getBooleanValidator)());xe(de,"preventDefault",!0,(0,We.getBooleanValidator)());xe(de,"filters",null,function(e){return this._filterUpToDate=!1,e});xe(de,"visible",!0,(0,We.getBooleanValidator)());xe(de,"transformsEnabled","all",(0,We.getStringValidator)());xe(de,"size");xe(de,"dragBoundFunc");xe(de,"draggable",!1,(0,We.getBooleanValidator)());Ln.Factory.backCompat(de,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Container=void 0;const Qi=Nt,dr=li,Ys=be;class Ii extends dr.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const i=this.children||[];var n=[];return i.forEach(function(s){t(s)&&n.push(s)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(var i=0;i<t.length;i++)this.add(t[i]);return this}const n=t[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var i=this._generalFind(t,!0);return i.length>0?i[0]:void 0}_generalFind(t,i){var n=[];return this._descendants(s=>{const r=s._isMatch(t);return r&&n.push(s),!!(r&&i)}),n}_descendants(t){let i=!1;const n=this.getChildren();for(const s of n){if(i=t(s),i)return!0;if(!!s.hasChildren()&&(i=s._descendants(t),i))return!0}return!1}toObject(){var t=dr.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(i=>{t.children.push(i.toObject())}),t}isAncestorOf(t){for(var i=t.getParent();i;){if(i._id===this._id)return!0;i=i.getParent()}return!1}clone(t){var i=dr.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(n){i.add(n.clone())}),i}getAllIntersections(t){var i=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(t)&&i.push(n)}),i}_clearSelfAndDescendantCache(t){var i;super._clearSelfAndDescendantCache(t),!this.isCached()&&((i=this.children)===null||i===void 0||i.forEach(function(n){n._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(i,n){i.index=n}),this._requestDraw()}drawScene(t,i){var n=this.getLayer(),s=t||n&&n.getCanvas(),r=s&&s.getContext(),a=this._getCanvasCache(),o=a&&a.scene,l=s&&s.isCache;if(!this.isVisible()&&!l)return this;if(o){r.save();var h=this.getAbsoluteTransform(i).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(r),r.restore()}else this._drawChildren("drawScene",s,i);return this}drawHit(t,i){if(!this.shouldDrawHit(i))return this;var n=this.getLayer(),s=t||n&&n.hitCanvas,r=s&&s.getContext(),a=this._getCanvasCache(),o=a&&a.hit;if(o){r.save();var l=this.getAbsoluteTransform(i).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",s,i);return this}_drawChildren(t,i,n){var s,r=i&&i.getContext(),a=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),h=a&&o||l;const d=n===this;if(h){r.save();var p=this.getAbsoluteTransform(n),y=p.getMatrix();r.transform(y[0],y[1],y[2],y[3],y[4],y[5]),r.beginPath();let v;if(l)v=l.call(this,r,this);else{var g=this.clipX(),m=this.clipY();r.rect(g,m,a,o)}r.clip.apply(r,v),y=p.copy().invert().getMatrix(),r.transform(y[0],y[1],y[2],y[3],y[4],y[5])}var b=!d&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";b&&(r.save(),r._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(v){v[t](i,n)}),b&&r.restore(),h&&r.restore()}getClientRect(t={}){var i,n=t.skipTransform,s=t.relativeTo,r,a,o,l,h={x:1/0,y:1/0,width:0,height:0},d=this;(i=this.children)===null||i===void 0||i.forEach(function(b){if(!!b.visible()){var v=b.getClientRect({relativeTo:d,skipShadow:t.skipShadow,skipStroke:t.skipStroke});v.width===0&&v.height===0||(r===void 0?(r=v.x,a=v.y,o=v.x+v.width,l=v.y+v.height):(r=Math.min(r,v.x),a=Math.min(a,v.y),o=Math.max(o,v.x+v.width),l=Math.max(l,v.y+v.height)))}});for(var p=this.find("Shape"),y=!1,g=0;g<p.length;g++){var m=p[g];if(m._isVisible(this)){y=!0;break}}return y&&r!==void 0?h={x:r,y:a,width:o-r,height:l-a}:h={x:0,y:0,width:0,height:0},n?h:this._transformedRect(h,s)}}Pi.Container=Ii;Qi.Factory.addComponentsGetterSetter(Ii,"clip",["x","y","width","height"]);Qi.Factory.addGetterSetter(Ii,"clipX",void 0,(0,Ys.getNumberValidator)());Qi.Factory.addGetterSetter(Ii,"clipY",void 0,(0,Ys.getNumberValidator)());Qi.Factory.addGetterSetter(Ii,"clipWidth",void 0,(0,Ys.getNumberValidator)());Qi.Factory.addGetterSetter(Ii,"clipHeight",void 0,(0,Ys.getNumberValidator)());Qi.Factory.addGetterSetter(Ii,"clipFunc");var Rl={},ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.releaseCapture=ht.setPointerCapture=ht.hasPointerCapture=ht.createEvent=ht.getCapturedShape=void 0;const Yu=Be,xn=new Map,Fl=Yu.Konva._global.PointerEvent!==void 0;function Zu(e){return xn.get(e)}ht.getCapturedShape=Zu;function ha(e){return{evt:e,pointerId:e.pointerId}}ht.createEvent=ha;function qu(e,t){return xn.get(e)===t}ht.hasPointerCapture=qu;function Ju(e,t){Nl(e),t.getStage()&&(xn.set(e,t),Fl&&t._fire("gotpointercapture",ha(new PointerEvent("gotpointercapture"))))}ht.setPointerCapture=Ju;function Nl(e,t){const i=xn.get(e);if(!i)return;const n=i.getStage();n&&n.content,xn.delete(e),Fl&&i._fire("lostpointercapture",ha(new PointerEvent("lostpointercapture")))}ht.releaseCapture=Nl;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Ye,i=Nt,n=Pi,s=Be,r=Tt,a=Ks,o=Be,l=ht;var h="Stage",d="string",p="px",y="mouseout",g="mouseleave",m="mouseover",b="mouseenter",v="mousemove",x="mousedown",k="mouseup",c="pointermove",u="pointerdown",C="pointerup",D="pointercancel",V="lostpointercapture",E="pointerout",G="pointerleave",S="pointerover",O="pointerenter",U="contextmenu",j="touchstart",J="touchend",se="touchmove",oe="touchcancel",P="wheel",F=5,K=[[b,"_pointerenter"],[x,"_pointerdown"],[v,"_pointermove"],[k,"_pointerup"],[g,"_pointerleave"],[j,"_pointerdown"],[se,"_pointermove"],[J,"_pointerup"],[oe,"_pointercancel"],[m,"_pointerover"],[P,"_wheel"],[U,"_contextmenu"],[u,"_pointerdown"],[c,"_pointermove"],[C,"_pointerup"],[D,"_pointercancel"],[V,"_lostpointercapture"]];const ne={mouse:{[E]:y,[G]:g,[S]:m,[O]:b,[c]:v,[u]:x,[C]:k,[D]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[G]:"touchleave",[S]:"touchover",[O]:"touchenter",[c]:se,[u]:j,[C]:J,[D]:oe,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[G]:G,[S]:S,[O]:O,[c]:c,[u]:u,[C]:C,[D]:D,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ie=me=>me.indexOf("pointer")>=0?"pointer":me.indexOf("touch")>=0?"touch":"mouse",ue=me=>{const T=ie(me);if(T==="pointer")return s.Konva.pointerEventsEnabled&&ne.pointer;if(T==="touch")return ne.touch;if(T==="mouse")return ne.mouse};function we(me={}){return(me.clipFunc||me.clipWidth||me.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),me}const Oe="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Pe extends n.Container{constructor(T){super(we(T)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{we(this.attrs)}),this._checkVisibility()}_validateAdd(T){const W=T.getType()==="Layer",Z=T.getType()==="FastLayer";W||Z||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const T=this.visible()?"":"none";this.content.style.display=T}setContainer(T){if(typeof T===d){if(T.charAt(0)==="."){var W=T.slice(1);T=document.getElementsByClassName(W)[0]}else{var Z;T.charAt(0)!=="#"?Z=T:Z=T.slice(1),T=document.getElementById(Z)}if(!T)throw"Can not find container in document with id "+Z}return this._setAttr("container",T),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),T.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var T=this.children,W=T.length,Z;for(Z=0;Z<W;Z++)T[Z].clear();return this}clone(T){return T||(T={}),T.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,T)}destroy(){super.destroy();var T=this.content;T&&t.Util._isInDocument(T)&&this.container().removeChild(T);var W=e.stages.indexOf(this);return W>-1&&e.stages.splice(W,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const T=this._pointerPositions[0]||this._changedPointerPositions[0];return T?{x:T.x,y:T.y}:(t.Util.warn(Oe),null)}_getPointerById(T){return this._pointerPositions.find(W=>W.id===T)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(T){T=T||{},T.x=T.x||0,T.y=T.y||0,T.width=T.width||this.width(),T.height=T.height||this.height();var W=new r.SceneCanvas({width:T.width,height:T.height,pixelRatio:T.pixelRatio||1}),Z=W.getContext()._context,Te=this.children;return(T.x||T.y)&&Z.translate(-1*T.x,-1*T.y),Te.forEach(function(ve){if(!!ve.isVisible()){var _=ve._toKonvaCanvas(T);Z.drawImage(_._canvas,T.x,T.y,_.getWidth()/_.getPixelRatio(),_.getHeight()/_.getPixelRatio())}}),W}getIntersection(T){if(!T)return null;var W=this.children,Z=W.length,Te=Z-1,ve;for(ve=Te;ve>=0;ve--){const _=W[ve].getIntersection(T);if(_)return _}return null}_resizeDOM(){var T=this.width(),W=this.height();this.content&&(this.content.style.width=T+p,this.content.style.height=W+p),this.bufferCanvas.setSize(T,W),this.bufferHitCanvas.setSize(T,W),this.children.forEach(Z=>{Z.setSize({width:T,height:W}),Z.draw()})}add(T,...W){if(arguments.length>1){for(var Z=0;Z<arguments.length;Z++)this.add(arguments[Z]);return this}super.add(T);var Te=this.children.length;return Te>F&&t.Util.warn("The stage has "+Te+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),T.setSize({width:this.width(),height:this.height()}),T.draw(),s.Konva.isBrowser&&this.content.appendChild(T.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(T){return l.hasPointerCapture(T,this)}setPointerCapture(T){l.setPointerCapture(T,this)}releaseCapture(T){l.releaseCapture(T,this)}getLayers(){return this.children}_bindContentEvents(){!s.Konva.isBrowser||K.forEach(([T,W])=>{this.content.addEventListener(T,Z=>{this[W](Z)},{passive:!1})})}_pointerenter(T){this.setPointersPositions(T);const W=ue(T.type);W&&this._fire(W.pointerenter,{evt:T,target:this,currentTarget:this})}_pointerover(T){this.setPointersPositions(T);const W=ue(T.type);W&&this._fire(W.pointerover,{evt:T,target:this,currentTarget:this})}_getTargetShape(T){let W=this[T+"targetShape"];return W&&!W.getStage()&&(W=null),W}_pointerleave(T){const W=ue(T.type),Z=ie(T.type);if(!!W){this.setPointersPositions(T);var Te=this._getTargetShape(Z),ve=!a.DD.isDragging||s.Konva.hitOnDragEnabled;Te&&ve?(Te._fireAndBubble(W.pointerout,{evt:T}),Te._fireAndBubble(W.pointerleave,{evt:T}),this._fire(W.pointerleave,{evt:T,target:this,currentTarget:this}),this[Z+"targetShape"]=null):ve&&(this._fire(W.pointerleave,{evt:T,target:this,currentTarget:this}),this._fire(W.pointerout,{evt:T,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(T){const W=ue(T.type),Z=ie(T.type);if(!!W){this.setPointersPositions(T);var Te=!1;this._changedPointerPositions.forEach(ve=>{var _=this.getIntersection(ve);if(a.DD.justDragged=!1,s.Konva["_"+Z+"ListenClick"]=!0,!_||!_.isListening())return;s.Konva.capturePointerEventsEnabled&&_.setPointerCapture(ve.id),this[Z+"ClickStartShape"]=_,_._fireAndBubble(W.pointerdown,{evt:T,pointerId:ve.id}),Te=!0;const w=T.type.indexOf("touch")>=0;_.preventDefault()&&T.cancelable&&w&&T.preventDefault()}),Te||this._fire(W.pointerdown,{evt:T,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(T){const W=ue(T.type),Z=ie(T.type);if(!W)return;a.DD.isDragging&&a.DD.node.preventDefault()&&T.cancelable&&T.preventDefault(),this.setPointersPositions(T);var Te=!a.DD.isDragging||s.Konva.hitOnDragEnabled;if(!Te)return;var ve={};let _=!1;var w=this._getTargetShape(Z);this._changedPointerPositions.forEach(A=>{const I=l.getCapturedShape(A.id)||this.getIntersection(A),L=A.id,B={evt:T,pointerId:L};var z=w!==I;if(z&&w&&(w._fireAndBubble(W.pointerout,{...B},I),w._fireAndBubble(W.pointerleave,{...B},I)),I){if(ve[I._id])return;ve[I._id]=!0}I&&I.isListening()?(_=!0,z&&(I._fireAndBubble(W.pointerover,{...B},w),I._fireAndBubble(W.pointerenter,{...B},w),this[Z+"targetShape"]=I),I._fireAndBubble(W.pointermove,{...B})):w&&(this._fire(W.pointerover,{evt:T,target:this,currentTarget:this,pointerId:L}),this[Z+"targetShape"]=null)}),_||this._fire(W.pointermove,{evt:T,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(T){const W=ue(T.type),Z=ie(T.type);if(!W)return;this.setPointersPositions(T);const Te=this[Z+"ClickStartShape"],ve=this[Z+"ClickEndShape"];var _={};let w=!1;this._changedPointerPositions.forEach(A=>{const I=l.getCapturedShape(A.id)||this.getIntersection(A);if(I){if(I.releaseCapture(A.id),_[I._id])return;_[I._id]=!0}const L=A.id,B={evt:T,pointerId:L};let z=!1;s.Konva["_"+Z+"InDblClickWindow"]?(z=!0,clearTimeout(this[Z+"DblTimeout"])):a.DD.justDragged||(s.Konva["_"+Z+"InDblClickWindow"]=!0,clearTimeout(this[Z+"DblTimeout"])),this[Z+"DblTimeout"]=setTimeout(function(){s.Konva["_"+Z+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),I&&I.isListening()?(w=!0,this[Z+"ClickEndShape"]=I,I._fireAndBubble(W.pointerup,{...B}),s.Konva["_"+Z+"ListenClick"]&&Te&&Te===I&&(I._fireAndBubble(W.pointerclick,{...B}),z&&ve&&ve===I&&I._fireAndBubble(W.pointerdblclick,{...B}))):(this[Z+"ClickEndShape"]=null,s.Konva["_"+Z+"ListenClick"]&&this._fire(W.pointerclick,{evt:T,target:this,currentTarget:this,pointerId:L}),z&&this._fire(W.pointerdblclick,{evt:T,target:this,currentTarget:this,pointerId:L}))}),w||this._fire(W.pointerup,{evt:T,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+Z+"ListenClick"]=!1,T.cancelable&&Z!=="touch"&&T.preventDefault()}_contextmenu(T){this.setPointersPositions(T);var W=this.getIntersection(this.getPointerPosition());W&&W.isListening()?W._fireAndBubble(U,{evt:T}):this._fire(U,{evt:T,target:this,currentTarget:this})}_wheel(T){this.setPointersPositions(T);var W=this.getIntersection(this.getPointerPosition());W&&W.isListening()?W._fireAndBubble(P,{evt:T}):this._fire(P,{evt:T,target:this,currentTarget:this})}_pointercancel(T){this.setPointersPositions(T);const W=l.getCapturedShape(T.pointerId)||this.getIntersection(this.getPointerPosition());W&&W._fireAndBubble(C,l.createEvent(T)),l.releaseCapture(T.pointerId)}_lostpointercapture(T){l.releaseCapture(T.pointerId)}setPointersPositions(T){var W=this._getContentPosition(),Z=null,Te=null;T=T||window.event,T.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(T.touches,ve=>{this._pointerPositions.push({id:ve.identifier,x:(ve.clientX-W.left)/W.scaleX,y:(ve.clientY-W.top)/W.scaleY})}),Array.prototype.forEach.call(T.changedTouches||T.touches,ve=>{this._changedPointerPositions.push({id:ve.identifier,x:(ve.clientX-W.left)/W.scaleX,y:(ve.clientY-W.top)/W.scaleY})})):(Z=(T.clientX-W.left)/W.scaleX,Te=(T.clientY-W.top)/W.scaleY,this.pointerPos={x:Z,y:Te},this._pointerPositions=[{x:Z,y:Te,id:t.Util._getFirstPointerId(T)}],this._changedPointerPositions=[{x:Z,y:Te,id:t.Util._getFirstPointerId(T)}])}_setPointerPosition(T){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(T)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var T=this.content.getBoundingClientRect();return{top:T.top,left:T.left,scaleX:T.width/this.content.clientWidth||1,scaleY:T.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new r.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new r.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!s.Konva.isBrowser){var T=this.container();if(!T)throw"Stage has no container. A container is required.";T.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),T.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(T){T.batchDraw()}),this}}e.Stage=Pe,Pe.prototype.nodeType=h,(0,o._registerNode)(Pe),i.Factory.addGetterSetter(Pe,"container")})(Rl);var Rn={},en={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Be,i=Ye,n=Nt,s=li,r=be,a=Be,o=ht;var l="hasShadow",h="shadowRGBA",d="patternImage",p="linearGradient",y="radialGradient";let g;function m(){return g||(g=i.Util.createCanvasElement().getContext("2d"),g)}e.shapes={};function b(G){const S=this.attrs.fillRule;S?G.fill(S):G.fill()}function v(G){G.stroke()}function x(G){G.fill()}function k(G){G.stroke()}function c(){this._clearCache(l)}function u(){this._clearCache(h)}function C(){this._clearCache(d)}function D(){this._clearCache(p)}function V(){this._clearCache(y)}class E extends s.Node{constructor(S){super(S);let O;for(;O=i.Util.getRandomColor(),!(O&&!(O in e.shapes)););this.colorKey=O,e.shapes[O]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var S=m();const O=S.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(O&&O.setTransform){const U=new i.Transform;U.translate(this.fillPatternX(),this.fillPatternY()),U.rotate(t.Konva.getAngle(this.fillPatternRotation())),U.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),U.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const j=U.getMatrix(),J=typeof DOMMatrix>"u"?{a:j[0],b:j[1],c:j[2],d:j[3],e:j[4],f:j[5]}:new DOMMatrix(j);O.setTransform(J)}return O}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){var S=this.fillLinearGradientColorStops();if(S){for(var O=m(),U=this.fillLinearGradientStartPoint(),j=this.fillLinearGradientEndPoint(),J=O.createLinearGradient(U.x,U.y,j.x,j.y),se=0;se<S.length;se+=2)J.addColorStop(S[se],S[se+1]);return J}}_getRadialGradient(){return this._getCache(y,this.__getRadialGradient)}__getRadialGradient(){var S=this.fillRadialGradientColorStops();if(S){for(var O=m(),U=this.fillRadialGradientStartPoint(),j=this.fillRadialGradientEndPoint(),J=O.createRadialGradient(U.x,U.y,this.fillRadialGradientStartRadius(),j.x,j.y,this.fillRadialGradientEndRadius()),se=0;se<S.length;se+=2)J.addColorStop(S[se],S[se+1]);return J}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var S=i.Util.colorToRGBA(this.shadowColor());if(S)return"rgba("+S.r+","+S.g+","+S.b+","+S.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const S=this.hitStrokeWidth();return S==="auto"?this.hasStroke():this.strokeEnabled()&&!!S}intersects(S){var O=this.getStage();if(!O)return!1;const U=O.bufferHitCanvas;return U.getContext().clear(),this.drawHit(U,void 0,!0),U.context.getImageData(Math.round(S.x),Math.round(S.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(S){var O;if(!this.getStage()||!((O=this.attrs.perfectDrawEnabled)!==null&&O!==void 0?O:!0))return!1;const j=S||this.hasFill(),J=this.hasStroke(),se=this.getAbsoluteOpacity()!==1;if(j&&J&&se)return!0;const oe=this.hasShadow(),P=this.shadowForStrokeEnabled();return!!(j&&J&&oe&&P)}setStrokeHitEnabled(S){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),S?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var S=this.size();return{x:this._centroid?-S.width/2:0,y:this._centroid?-S.height/2:0,width:S.width,height:S.height}}getClientRect(S={}){const O=S.skipTransform,U=S.relativeTo,j=this.getSelfRect(),se=!S.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,oe=j.width+se,P=j.height+se,F=!S.skipShadow&&this.hasShadow(),K=F?this.shadowOffsetX():0,ne=F?this.shadowOffsetY():0,ie=oe+Math.abs(K),ue=P+Math.abs(ne),we=F&&this.shadowBlur()||0,Oe=ie+we*2,Pe=ue+we*2,me={width:Oe,height:Pe,x:-(se/2+we)+Math.min(K,0)+j.x,y:-(se/2+we)+Math.min(ne,0)+j.y};return O?me:this._transformedRect(me,U)}drawScene(S,O){var U=this.getLayer(),j=S||U.getCanvas(),J=j.getContext(),se=this._getCanvasCache(),oe=this.getSceneFunc(),P=this.hasShadow(),F,K,ne,ie=j.isCache,ue=O===this;if(!this.isVisible()&&!ue)return this;if(se){J.save();var we=this.getAbsoluteTransform(O).getMatrix();return J.transform(we[0],we[1],we[2],we[3],we[4],we[5]),this._drawCachedSceneCanvas(J),J.restore(),this}if(!oe)return this;if(J.save(),this._useBufferCanvas()&&!ie){F=this.getStage(),K=F.bufferCanvas,ne=K.getContext(),ne.clear(),ne.save(),ne._applyLineJoin(this);var Oe=this.getAbsoluteTransform(O).getMatrix();ne.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]),oe.call(this,ne,this),ne.restore();var Pe=K.pixelRatio;P&&J._applyShadow(this),J._applyOpacity(this),J._applyGlobalCompositeOperation(this),J.drawImage(K._canvas,0,0,K.width/Pe,K.height/Pe)}else{if(J._applyLineJoin(this),!ue){var Oe=this.getAbsoluteTransform(O).getMatrix();J.transform(Oe[0],Oe[1],Oe[2],Oe[3],Oe[4],Oe[5]),J._applyOpacity(this),J._applyGlobalCompositeOperation(this)}P&&J._applyShadow(this),oe.call(this,J,this)}return J.restore(),this}drawHit(S,O,U=!1){if(!this.shouldDrawHit(O,U))return this;var j=this.getLayer(),J=S||j.hitCanvas,se=J&&J.getContext(),oe=this.hitFunc()||this.sceneFunc(),P=this._getCanvasCache(),F=P&&P.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),F){se.save();var K=this.getAbsoluteTransform(O).getMatrix();return se.transform(K[0],K[1],K[2],K[3],K[4],K[5]),this._drawCachedHitCanvas(se),se.restore(),this}if(!oe)return this;if(se.save(),se._applyLineJoin(this),!(this===O)){var ie=this.getAbsoluteTransform(O).getMatrix();se.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5])}return oe.call(this,se,this),se.restore(),this}drawHitFromCache(S=0){var O=this._getCanvasCache(),U=this._getCachedSceneCanvas(),j=O.hit,J=j.getContext(),se=j.getWidth(),oe=j.getHeight(),P,F,K,ne,ie,ue;J.clear(),J.drawImage(U._canvas,0,0,se,oe);try{for(P=J.getImageData(0,0,se,oe),F=P.data,K=F.length,ne=i.Util._hexToRgb(this.colorKey),ie=0;ie<K;ie+=4)ue=F[ie+3],ue>S?(F[ie]=ne.r,F[ie+1]=ne.g,F[ie+2]=ne.b,F[ie+3]=255):F[ie+3]=0;J.putImageData(P,0,0)}catch(we){i.Util.error("Unable to draw hit graph from cached scene canvas. "+we.message)}return this}hasPointerCapture(S){return o.hasPointerCapture(S,this)}setPointerCapture(S){o.setPointerCapture(S,this)}releaseCapture(S){o.releaseCapture(S,this)}}e.Shape=E,E.prototype._fillFunc=b,E.prototype._strokeFunc=v,E.prototype._fillFuncHit=x,E.prototype._strokeFuncHit=k,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,a._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",u),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",D),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",V),n.Factory.addGetterSetter(E,"stroke",void 0,(0,r.getStringOrGradientValidator)()),n.Factory.addGetterSetter(E,"strokeWidth",2,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,r.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,r.getBooleanValidator)()),n.Factory.addGetterSetter(E,"lineJoin"),n.Factory.addGetterSetter(E,"lineCap"),n.Factory.addGetterSetter(E,"sceneFunc"),n.Factory.addGetterSetter(E,"hitFunc"),n.Factory.addGetterSetter(E,"dash"),n.Factory.addGetterSetter(E,"dashOffset",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowColor",void 0,(0,r.getStringValidator)()),n.Factory.addGetterSetter(E,"shadowBlur",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowOpacity",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternImage"),n.Factory.addGetterSetter(E,"fill",void 0,(0,r.getStringOrGradientValidator)()),n.Factory.addGetterSetter(E,"fillPatternX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternY",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(E,"fillEnabled",!0),n.Factory.addGetterSetter(E,"strokeEnabled",!0),n.Factory.addGetterSetter(E,"shadowEnabled",!0),n.Factory.addGetterSetter(E,"dashEnabled",!0),n.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(E,"fillPriority","color"),n.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,r.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(E,"fillPatternRotation",0),n.Factory.addGetterSetter(E,"fillRule",void 0,(0,r.getStringValidator)()),n.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(en);Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Layer=void 0;const Wt=Ye,ur=Pi,Ni=li,ca=Nt,fo=Tt,Qu=be,ef=en,tf=Be;var nf="#",sf="beforeDraw",rf="draw",Bl=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],af=Bl.length;class tn extends ur.Container{constructor(t){super(t),this.canvas=new fo.SceneCanvas,this.hitCanvas=new fo.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),t<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[t+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ni.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=Ni.Node.prototype.moveUp.call(this);if(!t)return!1;var i=this.getStage();return!i||!i.content?!1:(i.content.removeChild(this.getNativeCanvasElement()),this.index<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[this.index+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ni.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var i=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),i[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ni.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var i=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),i[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Ni.Node.prototype.remove.call(this),t&&t.parentNode&&Wt.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:i}){return this.canvas.setSize(t,i),this.hitCanvas.setSize(t,i),this._setSmoothEnabled(),this}_validateAdd(t){var i=t.getType();i!=="Group"&&i!=="Shape"&&Wt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Ni.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Wt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Wt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Wt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var i=1,n=!1;;){for(let s=0;s<af;s++){const r=Bl[s],a=this._getIntersection({x:t.x+r.x*i,y:t.y+r.y*i}),o=a.shape;if(o)return o;if(n=!!a.antialiased,!a.antialiased)break}if(n)i+=1;else return null}}_getIntersection(t){const i=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*i),Math.round(t.y*i),1,1).data,s=n[3];if(s===255){const r=Wt.Util._rgbToHex(n[0],n[1],n[2]),a=ef.shapes[nf+r];return a?{shape:a}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(t,i){var n=this.getLayer(),s=t||n&&n.getCanvas();return this._fire(sf,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),ur.Container.prototype.drawScene.call(this,s,i),this._fire(rf,{node:this}),this}drawHit(t,i){var n=this.getLayer(),s=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),ur.Container.prototype.drawHit.call(this,s,i),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){Wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return Wt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,i=!!this.hitCanvas._canvas.parentNode;i?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Wt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Rn.Layer=tn;tn.prototype.nodeType="Layer";(0,tf._registerNode)(tn);ca.Factory.addGetterSetter(tn,"imageSmoothingEnabled",!0);ca.Factory.addGetterSetter(tn,"clearBeforeDraw",!0);ca.Factory.addGetterSetter(tn,"hitGraphEnabled",!0,(0,Qu.getBooleanValidator)());var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.FastLayer=void 0;const of=Ye,lf=Rn,hf=Be;class da extends lf.Layer{constructor(t){super(t),this.listening(!1),of.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Zs.FastLayer=da;da.prototype.nodeType="FastLayer";(0,hf._registerNode)(da);var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.Group=void 0;const cf=Ye,df=Pi,uf=Be;class ua extends df.Container{_validateAdd(t){var i=t.getType();i!=="Group"&&i!=="Shape"&&cf.Util.throw("You may only add groups and shapes to groups.")}}qs.Group=ua;ua.prototype.nodeType="Group";(0,uf._registerNode)(ua);var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});var Wl=Fn.Animation=void 0;const fr=Be,po=Ye,pr=function(){return fr.glob.performance&&fr.glob.performance.now?function(){return fr.glob.performance.now()}:function(){return new Date().getTime()}}();class Lt{constructor(t,i){this.id=Lt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:pr(),frameRate:0},this.func=t,this.setLayers(i)}setLayers(t){let i=[];return t&&(i=Array.isArray(t)?t:[t]),this.layers=i,this}getLayers(){return this.layers}addLayer(t){const i=this.layers,n=i.length;for(let s=0;s<n;s++)if(i[s]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){const i=Lt.animations,n=i.length;for(let s=0;s<n;s++)if(i[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=pr(),Lt._addAnimation(this),this}stop(){return Lt._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){const i=t.id,n=this.animations,s=n.length;for(let r=0;r<s;r++)if(n[r].id===i){this.animations.splice(r,1);break}}static _runFrames(){const t={},i=this.animations;for(let n=0;n<i.length;n++){const s=i[n],r=s.layers,a=s.func;s._updateFrameObject(pr());const o=r.length;let l;if(a?l=a.call(s,s.frame)!==!1:l=!0,!!l)for(let h=0;h<o;h++){const d=r[h];d._id!==void 0&&(t[d._id]=d)}}for(let n in t)!t.hasOwnProperty(n)||t[n].batchDraw()}static _animationLoop(){const t=Lt;t.animations.length?(t._runFrames(),po.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,po.Util.requestAnimFrame(this._animationLoop))}}Wl=Fn.Animation=Lt;Lt.animations=[];Lt.animIdCounter=0;Lt.animRunning=!1;var Gl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Ye,i=Fn,n=li,s=Be;var r={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,o=2,l=3,h=0,d=["fill","stroke","shadowColor"];class p{constructor(m,b,v,x,k,c,u){this.prop=m,this.propFunc=b,this.begin=x,this._pos=x,this.duration=c,this._change=0,this.prevPos=0,this.yoyo=u,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=v,this._change=k-this.begin,this.pause()}fire(m){var b=this[m];b&&b()}setTime(m){m>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():m<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=m,this.update())}getTime(){return this._time}setPosition(m){this.prevPos=this._pos,this.propFunc(m),this._pos=m}getPosition(m){return m===void 0&&(m=this._time),this.func(m,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(m){this.pause(),this._time=m,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var m=this.getTimer()-this._startTime;this.state===o?this.setTime(m):this.state===l&&this.setTime(this.duration-m)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class y{constructor(m){var b=this,v=m.node,x=v._id,k,c=m.easing||e.Easings.Linear,u=!!m.yoyo,C;typeof m.duration>"u"?k=.3:m.duration===0?k=.001:k=m.duration,this.node=v,this._id=h++;var D=v.getLayer()||(v instanceof s.Konva.Stage?v.getLayers():null);D||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){b.tween.onEnterFrame()},D),this.tween=new p(C,function(V){b._tweenFunc(V)},c,0,1,k*1e3,u),this._addListeners(),y.attrs[x]||(y.attrs[x]={}),y.attrs[x][this._id]||(y.attrs[x][this._id]={}),y.tweens[x]||(y.tweens[x]={});for(C in m)r[C]===void 0&&this._addAttr(C,m[C]);this.reset(),this.onFinish=m.onFinish,this.onReset=m.onReset,this.onUpdate=m.onUpdate}_addAttr(m,b){var v=this.node,x=v._id,k,c,u,C,D,V,E,G;if(u=y.tweens[x][m],u&&delete y.attrs[x][u][m],k=v.getAttr(m),t.Util._isArray(b))if(c=[],D=Math.max(b.length,k.length),m==="points"&&b.length!==k.length&&(b.length>k.length?(E=k,k=t.Util._prepareArrayForTween(k,b,v.closed())):(V=b,b=t.Util._prepareArrayForTween(b,k,v.closed()))),m.indexOf("fill")===0)for(C=0;C<D;C++)if(C%2===0)c.push(b[C]-k[C]);else{var S=t.Util.colorToRGBA(k[C]);G=t.Util.colorToRGBA(b[C]),k[C]=S,c.push({r:G.r-S.r,g:G.g-S.g,b:G.b-S.b,a:G.a-S.a})}else for(C=0;C<D;C++)c.push(b[C]-k[C]);else d.indexOf(m)!==-1?(k=t.Util.colorToRGBA(k),G=t.Util.colorToRGBA(b),c={r:G.r-k.r,g:G.g-k.g,b:G.b-k.b,a:G.a-k.a}):c=b-k;y.attrs[x][this._id][m]={start:k,diff:c,end:b,trueEnd:V,trueStart:E},y.tweens[x][m]=this._id}_tweenFunc(m){var b=this.node,v=y.attrs[b._id][this._id],x,k,c,u,C,D,V,E;for(x in v){if(k=v[x],c=k.start,u=k.diff,E=k.end,t.Util._isArray(c))if(C=[],V=Math.max(c.length,E.length),x.indexOf("fill")===0)for(D=0;D<V;D++)D%2===0?C.push((c[D]||0)+u[D]*m):C.push("rgba("+Math.round(c[D].r+u[D].r*m)+","+Math.round(c[D].g+u[D].g*m)+","+Math.round(c[D].b+u[D].b*m)+","+(c[D].a+u[D].a*m)+")");else for(D=0;D<V;D++)C.push((c[D]||0)+u[D]*m);else d.indexOf(x)!==-1?C="rgba("+Math.round(c.r+u.r*m)+","+Math.round(c.g+u.g*m)+","+Math.round(c.b+u.b*m)+","+(c.a+u.a*m)+")":C=c+u*m;b.setAttr(x,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var m=this.node,b=y.attrs[m._id][this._id];b.points&&b.points.trueEnd&&m.setAttr("points",b.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var m=this.node,b=y.attrs[m._id][this._id];b.points&&b.points.trueStart&&m.points(b.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(m){return this.tween.seek(m*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var m=this.node._id,b=this._id,v=y.tweens[m],x;this.pause();for(x in v)delete y.tweens[m][x];delete y.attrs[m][b]}}e.Tween=y,y.attrs={},y.tweens={},n.Node.prototype.to=function(g){var m=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),m&&m()};var b=new y(g);b.play()},e.Easings={BackEaseIn(g,m,b,v){var x=1.70158;return b*(g/=v)*g*((x+1)*g-x)+m},BackEaseOut(g,m,b,v){var x=1.70158;return b*((g=g/v-1)*g*((x+1)*g+x)+1)+m},BackEaseInOut(g,m,b,v){var x=1.70158;return(g/=v/2)<1?b/2*(g*g*(((x*=1.525)+1)*g-x))+m:b/2*((g-=2)*g*(((x*=1.525)+1)*g+x)+2)+m},ElasticEaseIn(g,m,b,v,x,k){var c=0;return g===0?m:(g/=v)===1?m+b:(k||(k=v*.3),!x||x<Math.abs(b)?(x=b,c=k/4):c=k/(2*Math.PI)*Math.asin(b/x),-(x*Math.pow(2,10*(g-=1))*Math.sin((g*v-c)*(2*Math.PI)/k))+m)},ElasticEaseOut(g,m,b,v,x,k){var c=0;return g===0?m:(g/=v)===1?m+b:(k||(k=v*.3),!x||x<Math.abs(b)?(x=b,c=k/4):c=k/(2*Math.PI)*Math.asin(b/x),x*Math.pow(2,-10*g)*Math.sin((g*v-c)*(2*Math.PI)/k)+b+m)},ElasticEaseInOut(g,m,b,v,x,k){var c=0;return g===0?m:(g/=v/2)===2?m+b:(k||(k=v*(.3*1.5)),!x||x<Math.abs(b)?(x=b,c=k/4):c=k/(2*Math.PI)*Math.asin(b/x),g<1?-.5*(x*Math.pow(2,10*(g-=1))*Math.sin((g*v-c)*(2*Math.PI)/k))+m:x*Math.pow(2,-10*(g-=1))*Math.sin((g*v-c)*(2*Math.PI)/k)*.5+b+m)},BounceEaseOut(g,m,b,v){return(g/=v)<1/2.75?b*(7.5625*g*g)+m:g<2/2.75?b*(7.5625*(g-=1.5/2.75)*g+.75)+m:g<2.5/2.75?b*(7.5625*(g-=2.25/2.75)*g+.9375)+m:b*(7.5625*(g-=2.625/2.75)*g+.984375)+m},BounceEaseIn(g,m,b,v){return b-e.Easings.BounceEaseOut(v-g,0,b,v)+m},BounceEaseInOut(g,m,b,v){return g<v/2?e.Easings.BounceEaseIn(g*2,0,b,v)*.5+m:e.Easings.BounceEaseOut(g*2-v,0,b,v)*.5+b*.5+m},EaseIn(g,m,b,v){return b*(g/=v)*g+m},EaseOut(g,m,b,v){return-b*(g/=v)*(g-2)+m},EaseInOut(g,m,b,v){return(g/=v/2)<1?b/2*g*g+m:-b/2*(--g*(g-2)-1)+m},StrongEaseIn(g,m,b,v){return b*(g/=v)*g*g*g*g+m},StrongEaseOut(g,m,b,v){return b*((g=g/v-1)*g*g*g*g+1)+m},StrongEaseInOut(g,m,b,v){return(g/=v/2)<1?b/2*g*g*g*g*g+m:b/2*((g-=2)*g*g*g*g+2)+m},Linear(g,m,b,v){return b*g/v+m}}})(Gl);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Be,i=Ye,n=li,s=Pi,r=Rl,a=Rn,o=Zs,l=qs,h=Ks,d=en,p=Fn,y=Gl,g=Ht,m=Tt;e.Konva=i.Util._assign(t.Konva,{Util:i.Util,Transform:i.Transform,Node:n.Node,Container:s.Container,Stage:r.Stage,stages:r.stages,Layer:a.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:p.Animation,Tween:y.Tween,Easings:y.Easings,Context:g.Context,Canvas:m.Canvas}),e.default=e.Konva})(Lr);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var i=Lr;Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return i.Konva}});const n=Lr;e.exports=n.Konva})(Dr,Dr.exports);const Re=fu(Dr.exports);var fa={};Object.defineProperty(fa,"__esModule",{value:!0});var Js=fa.Line=void 0;const Qs=Nt,ff=en,Ul=be,pf=Be;function Nr(e,t,i,n,s,r,a){var o=Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2)),l=Math.sqrt(Math.pow(s-i,2)+Math.pow(r-n,2)),h=a*o/(o+l),d=a*l/(o+l),p=i-h*(s-e),y=n-h*(r-t),g=i+d*(s-e),m=n+d*(r-t);return[p,y,g,m]}function go(e,t){var i=e.length,n=[],s,r;for(s=2;s<i-2;s+=2)r=Nr(e[s-2],e[s-1],e[s],e[s+1],e[s+2],e[s+3],t),!isNaN(r[0])&&(n.push(r[0]),n.push(r[1]),n.push(e[s]),n.push(e[s+1]),n.push(r[2]),n.push(r[3]));return n}class hi extends ff.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var i=this.points(),n=i.length,s=this.tension(),r=this.closed(),a=this.bezier(),o,l,h;if(!!n){if(t.beginPath(),t.moveTo(i[0],i[1]),s!==0&&n>4){for(o=this.getTensionPoints(),l=o.length,h=r?0:4,r||t.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)t.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);r||t.quadraticCurveTo(o[l-2],o[l-1],i[n-2],i[n-1])}else if(a)for(h=2;h<n;)t.bezierCurveTo(i[h++],i[h++],i[h++],i[h++],i[h++],i[h++]);else for(h=2;h<n;h+=2)t.lineTo(i[h],i[h+1]);r?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():go(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),i=t.length,n=this.tension(),s=Nr(t[i-2],t[i-1],t[0],t[1],t[2],t[3],n),r=Nr(t[i-4],t[i-3],t[i-2],t[i-1],t[0],t[1],n),a=go(t,n),o=[s[2],s[3]].concat(a).concat([r[0],r[1],t[i-2],t[i-1],r[2],r[3],s[0],s[1],t[0],t[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var i=t[0],n=t[0],s=t[1],r=t[1],a,o,l=0;l<t.length/2;l++)a=t[l*2],o=t[l*2+1],i=Math.min(i,a),n=Math.max(n,a),s=Math.min(s,o),r=Math.max(r,o);return{x:i,y:s,width:n-i,height:r-s}}}Js=fa.Line=hi;hi.prototype.className="Line";hi.prototype._attrsAffectingSize=["points","bezier","tension"];(0,pf._registerNode)(hi);Qs.Factory.addGetterSetter(hi,"closed",!1);Qs.Factory.addGetterSetter(hi,"bezier",!1);Qs.Factory.addGetterSetter(hi,"tension",0,(0,Ul.getNumberValidator)());Qs.Factory.addGetterSetter(hi,"points",[],(0,Ul.getNumberArrayValidator)());var pa={};Object.defineProperty(pa,"__esModule",{value:!0});var nn=pa.Rect=void 0;const gf=Nt,_f=en,mf=Be,vf=Ye,yf=be;class er extends _f.Shape{_sceneFunc(t){var i=this.cornerRadius(),n=this.width(),s=this.height();t.beginPath(),i?vf.Util.drawRoundedRectPath(t,n,s,i):t.rect(0,0,n,s),t.closePath(),t.fillStrokeShape(this)}}nn=pa.Rect=er;er.prototype.className="Rect";(0,mf._registerNode)(er);gf.Factory.addGetterSetter(er,"cornerRadius",0,(0,yf.getNumberOrArrayOfNumbersValidator)(4));var An={};Object.defineProperty(An,"__esModule",{value:!0});var Ai=An.Text=An.stringToArray=void 0;const Br=Ye,tt=Nt,bf=en,ci=be,wf=Be;function Hl(e){return Array.from(e)}An.stringToArray=Hl;var Bi="auto",Sf="center",on="justify",Cf="Change.konva",Tf="2d",_o="-",Vl="left",Ef="text",kf="Text",xf="top",Af="bottom",mo="middle",zl="normal",Pf="px ",ts=" ",If="right",Mf="word",Of="char",vo="none",gr="\u2026",$l=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Df=$l.length;function Lf(e){return e.split(",").map(t=>{t=t.trim();const i=t.indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return i&&!n&&(t=`"${t}"`),t}).join(", ")}var is;function _r(){return is||(is=Br.Util.createCanvasElement().getContext(Tf),is)}function Rf(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Ff(e){e.setAttr("miterLimit",2),e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Nf(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class Ge extends bf.Shape{constructor(t){super(Nf(t)),this._partialTextX=0,this._partialTextY=0;for(var i=0;i<Df;i++)this.on($l[i]+Cf,this._setTextData);this._setTextData()}_sceneFunc(t){var i=this.textArr,n=i.length;if(!!this.text()){var s=this.padding(),r=this.fontSize(),a=this.lineHeight()*r,o=this.verticalAlign(),l=0,h=this.align(),d=this.getWidth(),p=this.letterSpacing(),y=this.fill(),g=this.textDecoration(),m=g.indexOf("underline")!==-1,b=g.indexOf("line-through")!==-1,v,x=0,x=a/2,k=0,c=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",mo),t.setAttr("textAlign",Vl),o===mo?l=(this.getHeight()-n*a-s*2)/2:o===Af&&(l=this.getHeight()-n*a-s*2),t.translate(s,l+s),v=0;v<n;v++){var k=0,c=0,u=i[v],C=u.text,D=u.width,V=u.lastInParagraph,E,G,S;if(t.save(),h===If?k+=d-D-s*2:h===Sf&&(k+=(d-D-s*2)/2),m){t.save(),t.beginPath(),t.moveTo(k,x+c+Math.round(r/2)),E=C.split(" ").length-1,G=E===0,S=h===on&&!V?d-s*2:D,t.lineTo(k+Math.round(S),x+c+Math.round(r/2)),t.lineWidth=r/15;const oe=this._getLinearGradient();t.strokeStyle=oe||y,t.stroke(),t.restore()}if(b){t.save(),t.beginPath(),t.moveTo(k,x+c),E=C.split(" ").length-1,G=E===0,S=h===on&&V&&!G?d-s*2:D,t.lineTo(k+Math.round(S),x+c),t.lineWidth=r/15;const oe=this._getLinearGradient();t.strokeStyle=oe||y,t.stroke(),t.restore()}if(p!==0||h===on){E=C.split(" ").length-1;for(var O=Hl(C),U=0;U<O.length;U++){var j=O[U];j===" "&&!V&&h===on&&(k+=(d-s*2-D)/E),this._partialTextX=k,this._partialTextY=x+c,this._partialText=j,t.fillStrokeShape(this),k+=this.measureSize(j).width+p}}else this._partialTextX=k,this._partialTextY=x+c,this._partialText=C,t.fillStrokeShape(this);t.restore(),n>1&&(x+=a)}}}_hitFunc(t){var i=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}setText(t){var i=Br.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(Ef,i),this}getWidth(){var t=this.attrs.width===Bi||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Bi||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Br.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var i=_r(),n=this.fontSize(),s;return i.save(),i.font=this._getContextFont(),s=i.measureText(t),i.restore(),{width:s.width,height:n}}_getContextFont(){return this.fontStyle()+ts+this.fontVariant()+ts+(this.fontSize()+Pf)+Lf(this.fontFamily())}_addTextLine(t){this.align()===on&&(t=t.trim());var n=this._getTextWidth(t);return this.textArr.push({text:t,width:n,lastInParagraph:!1})}_getTextWidth(t){var i=this.letterSpacing(),n=t.length;return _r().measureText(t).width+(n?i*(n-1):0)}_setTextData(){var t=this.text().split(`
`),i=+this.fontSize(),n=0,s=this.lineHeight()*i,r=this.attrs.width,a=this.attrs.height,o=r!==Bi&&r!==void 0,l=a!==Bi&&a!==void 0,h=this.padding(),d=r-h*2,p=a-h*2,y=0,g=this.wrap(),m=g!==vo,b=g!==Of&&m,v=this.ellipsis();this.textArr=[],_r().font=this._getContextFont();for(var x=v?this._getTextWidth(gr):0,k=0,c=t.length;k<c;++k){var u=t[k],C=this._getTextWidth(u);if(o&&C>d)for(;u.length>0;){for(var D=0,V=u.length,E="",G=0;D<V;){var S=D+V>>>1,O=u.slice(0,S+1),U=this._getTextWidth(O)+x;U<=d?(D=S+1,E=O,G=U):V=S}if(E){if(b){var j,J=u[E.length],se=J===ts||J===_o;se&&G<=d?j=E.length:j=Math.max(E.lastIndexOf(ts),E.lastIndexOf(_o))+1,j>0&&(D=j,E=E.slice(0,D),G=this._getTextWidth(E))}E=E.trimRight(),this._addTextLine(E),n=Math.max(n,G),y+=s;var oe=this._shouldHandleEllipsis(y);if(oe){this._tryToAddEllipsisToLastLine();break}if(u=u.slice(D),u=u.trimLeft(),u.length>0&&(C=this._getTextWidth(u),C<=d)){this._addTextLine(u),y+=s,n=Math.max(n,C);break}}else break}else this._addTextLine(u),y+=s,n=Math.max(n,C),this._shouldHandleEllipsis(y)&&k<c-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&y+s>p)break}this.textHeight=i,this.textWidth=n}_shouldHandleEllipsis(t){var i=+this.fontSize(),n=this.lineHeight()*i,s=this.attrs.height,r=s!==Bi&&s!==void 0,a=this.padding(),o=s-a*2,l=this.wrap(),h=l!==vo;return!h||r&&t+n>o}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,i=t!==Bi&&t!==void 0,n=this.padding(),s=t-n*2,r=this.ellipsis(),a=this.textArr[this.textArr.length-1];if(!(!a||!r)){if(i){var o=this._getTextWidth(a.text+gr)<s;o||(a.text=a.text.slice(0,a.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+gr)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const t=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,i=this.hasShadow();return t&&i?!0:super._useBufferCanvas()}}Ai=An.Text=Ge;Ge.prototype._fillFunc=Rf;Ge.prototype._strokeFunc=Ff;Ge.prototype.className=kf;Ge.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,wf._registerNode)(Ge);tt.Factory.overWriteSetter(Ge,"width",(0,ci.getNumberOrAutoValidator)());tt.Factory.overWriteSetter(Ge,"height",(0,ci.getNumberOrAutoValidator)());tt.Factory.addGetterSetter(Ge,"fontFamily","Arial");tt.Factory.addGetterSetter(Ge,"fontSize",12,(0,ci.getNumberValidator)());tt.Factory.addGetterSetter(Ge,"fontStyle",zl);tt.Factory.addGetterSetter(Ge,"fontVariant",zl);tt.Factory.addGetterSetter(Ge,"padding",0,(0,ci.getNumberValidator)());tt.Factory.addGetterSetter(Ge,"align",Vl);tt.Factory.addGetterSetter(Ge,"verticalAlign",xf);tt.Factory.addGetterSetter(Ge,"lineHeight",1,(0,ci.getNumberValidator)());tt.Factory.addGetterSetter(Ge,"wrap",Mf);tt.Factory.addGetterSetter(Ge,"ellipsis",!1,(0,ci.getBooleanValidator)());tt.Factory.addGetterSetter(Ge,"letterSpacing",0,(0,ci.getNumberValidator)());tt.Factory.addGetterSetter(Ge,"text","",(0,ci.getStringValidator)());tt.Factory.addGetterSetter(Ge,"textDecoration","");function Mi(e,t){this._waveformData=e,this._channelIndex=t}Mi.prototype.min_sample=function(e){var t=(e*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._at(t)};Mi.prototype.max_sample=function(e){var t=(e*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._at(t)};Mi.prototype.set_min_sample=function(e,t){var i=(e*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._set_at(i,t)};Mi.prototype.set_max_sample=function(e,t){var i=(e*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._set_at(i,t)};Mi.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2)};Mi.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2+1)};var Wi=127,ns=-128;function Bf(e,t){var i=Math.floor(e/t),n=e-i*t;return n>0&&i++,i}function Wf(e){var t=e.scale,i=e.amplitude_scale,n=e.split_channels,s=e.length,r=e.sample_rate,a=e.channels.map(function(C){return new Float32Array(C)}),o=n?a.length:1,l=o===1?1:2,h=l===1?20:24,d=Bf(s,t),p=h+d*2*o,y=new ArrayBuffer(p),g=new DataView(y),m=0,b=h,v,x,k=new Array(o),c=new Array(o);for(v=0;v<o;v++)k[v]=1/0,c[v]=-1/0;for(g.setInt32(0,l,!0),g.setUint32(4,1,!0),g.setInt32(8,r,!0),g.setInt32(12,t,!0),g.setInt32(16,d,!0),l===2&&g.setInt32(20,o,!0),x=0;x<s;x++){var u=0;if(o===1){for(v=0;v<a.length;++v)u+=a[v][x];u=Math.floor(Wi*u*i/a.length),u<k[0]&&(k[0]=u,k[0]<ns&&(k[0]=ns)),u>c[0]&&(c[0]=u,c[0]>Wi&&(c[0]=Wi))}else for(v=0;v<o;++v)u=Math.floor(Wi*a[v][x]*i),u<k[v]&&(k[v]=u,k[v]<ns&&(k[v]=ns)),u>c[v]&&(c[v]=u,c[v]>Wi&&(c[v]=Wi));if(++m===t){for(v=0;v<o;v++)g.setInt8(b++,k[v]),g.setInt8(b++,c[v]),k[v]=1/0,c[v]=-1/0;m=0}}if(m>0)for(v=0;v<o;v++)g.setInt8(b++,k[v]),g.setInt8(b++,c[v]);return y}function mn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mn=function(t){return typeof t}:mn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mn(e)}function Gf(e){return e&&mn(e)==="object"&&"sample_rate"in e&&"samples_per_pixel"in e&&"bits"in e&&"length"in e&&"data"in e}function Uf(e){var t=e&&mn(e)==="object"&&"byteLength"in e;if(t){var i=new DataView(e),n=i.getInt32(0,!0);if(n!==1&&n!==2)throw new TypeError("WaveformData.create(): This waveform data version not supported")}return t}function Hf(e){var t=e.data,i=e.channels||1,n=24,s=e.bits===8?1:2,r=e.length*2*i;if(t.length!==r)throw new Error("WaveformData.create(): Length mismatch in JSON waveform data");var a=n+t.length*s,o=new ArrayBuffer(a),l=new DataView(o);l.setInt32(0,2,!0),l.setUint32(4,e.bits===8,!0),l.setInt32(8,e.sample_rate,!0),l.setInt32(12,e.samples_per_pixel,!0),l.setInt32(16,e.length,!0),l.setInt32(20,i,!0);var h=n,d;if(e.bits===8)for(d=0;d<t.length;d++)l.setInt8(h++,t[d],!0);else for(d=0;d<t.length;d++)l.setInt16(h,t[d],!0),h+=2;return o}function Vf(e,t){var i=atob(e);if(t){for(var n=new Uint8Array(i.length),s=0,r=i.length;s<r;++s)n[s]=i.charCodeAt(s);return String.fromCharCode.apply(null,new Uint16Array(n.buffer))}return i}function zf(e,t,i){var n=t===void 0?null:t,s=i===void 0?!1:i,r=Vf(e,s),a=r.indexOf(`
`,10)+1,o=r.substring(a)+(n?"//# sourceMappingURL="+n:""),l=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(l)}function $f(e,t,i){var n;return function(r){return n=n||zf(e,t,i),new Worker(n,r)}}var Xf=$f("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=",null,!1);function gt(e){if(Gf(e)&&(e=Hf(e)),Uf(e)){this._data=new DataView(e),this._offset=this._version()===2?24:20,this._channels=[];for(var t=0;t<this.channels;t++)this._channels[t]=new Mi(this,t)}else throw new TypeError("WaveformData.create(): Unknown data format")}var ss={scale:512,amplitude_scale:1,split_channels:!1,disable_worker:!1};function jf(e){var t={scale:e.scale||ss.scale,amplitude_scale:e.amplitude_scale||ss.amplitude_scale,split_channels:e.split_channels||ss.split_channels,disable_worker:e.disable_worker||ss.disable_worker};return t}function Kf(e){for(var t=[],i=0;i<e.numberOfChannels;++i)t.push(e.getChannelData(i).buffer);return t}function Xl(e,t,i){var n=Kf(e);if(t.disable_worker){var s=Wf({scale:t.scale,amplitude_scale:t.amplitude_scale,split_channels:t.split_channels,length:e.length,sample_rate:e.sampleRate,channels:n});i(null,new gt(s),e)}else{var r=new Xf;r.onmessage=function(a){i(null,new gt(a.data),e)},r.postMessage({scale:t.scale,amplitude_scale:t.amplitude_scale,split_channels:t.split_channels,length:e.length,sample_rate:e.sampleRate,channels:n},n)}}function Yf(e,t,i,n){function s(r){r||(r=new DOMException("EncodingError")),n(r)}e.decodeAudioData(t,function(r){Xl(r,i,n)},s)}gt.create=function(t){return new gt(t)};gt.createFromAudio=function(e,t){var i=jf(e);if(e.audio_context&&e.array_buffer)return Yf(e.audio_context,e.array_buffer,i,t);if(e.audio_buffer)return Xl(e.audio_buffer,i,t);throw new TypeError("WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")};gt.prototype={resample:function(t){if(t.scale=typeof t.scale=="number"?t.scale:null,t.width=typeof t.width=="number"?t.width:null,t.width!=null&&t.width<=0)throw new RangeError("WaveformData.resample(): width should be a positive integer value");if(t.scale!=null&&t.scale<=0)throw new RangeError("WaveformData.resample(): scale should be a positive integer value");if(!t.scale&&!t.width)throw new Error("WaveformData.resample(): Missing scale or width option");var i=t.scale||Math.floor(this.duration*this.sample_rate/t.width),n=this.scale,s=this.length,r=s*this.scale,a=Math.ceil(r/i),o=24,l=this.bits===8?1:2,h=o+a*2*this.channels*l,d=new ArrayBuffer(h),p=new DataView(d);p.setInt32(0,2,!0),p.setUint32(4,this.bits===8,!0),p.setInt32(8,this.sample_rate,!0),p.setInt32(12,i,!0),p.setInt32(16,a,!0),p.setInt32(20,this.channels,!0);var y=new gt(d),g=0,m=0,b=this.channels,v=new Array(b),x=new Array(b),k;for(k=0;k<b;++k)s>0?(v[k]=this.channel(k).min_sample(g),x[k]=this.channel(k).max_sample(g)):(v[k]=0,x[k]=0);var c=this.bits===8?-128:-32768,u=this.bits===8?127:32767;if(i<n)throw new Error("WaveformData.resample(): Zoom level "+i+" too low, minimum: "+n);var C,D,V,E,G;function S(O){return Math.floor(O*i)}for(;g<s;){for(;Math.floor(S(m)/n)===g;){if(m>0)for(k=0;k<b;++k)y.channel(k).set_min_sample(m-1,v[k]),y.channel(k).set_max_sample(m-1,x[k]);if(G=g,m++,C=S(m),D=S(m-1),C!==D)for(k=0;k<b;++k)v[k]=u,x[k]=c}for(C=S(m),V=Math.floor(C/n),V>s&&(V=s);g<V;){for(k=0;k<b;++k)E=this.channel(k).min_sample(g),E<v[k]&&(v[k]=E),E=this.channel(k).max_sample(g),E>x[k]&&(x[k]=E);g++}}if(g!==G)for(k=0;k<b;++k)y.channel(k).set_min_sample(m-1,v[k]),y.channel(k).set_max_sample(m-1,x[k]);return y},concat:function(){var t=this,i=Array.prototype.slice.call(arguments);i.forEach(function(s){if(t.channels!==s.channels||t.sample_rate!==s.sample_rate||t.bits!==s.bits||t.scale!==s.scale)throw new Error("WaveformData.concat(): Waveforms are incompatible")});var n=this._concatBuffers.apply(this,i);return gt.create(n)},_concatBuffers:function(){var t=Array.prototype.slice.call(arguments),i=this._offset,n=i,s=0,r=[this].concat(t).map(function(m){return m._data.buffer}),a,o;for(a=0;a<r.length;a++){o=r[a];var l=new DataView(o).getInt32(16,!0);n+=o.byteLength-i,s+=l}var h=new ArrayBuffer(n),d=new DataView(r[0]),p=new DataView(h);for(a=0;a<i;a++)p.setUint8(a,d.getUint8(a));p.setInt32(16,s,!0);var y=0,g=new Uint8Array(h,i);for(a=0;a<r.length;a++)o=r[a],g.set(new Uint8Array(o,i),y),y+=o.byteLength-i;return h},_offsetValues:function(t,i,n){var s=[],r=this.channels;n+=t*r*2;for(var a=0;a<i;a++)s.push(this._at(a*r*2+n));return s},_version:function(){return this._data.getInt32(0,!0)},get length(){return this._data.getUint32(16,!0)},get bits(){var e=Boolean(this._data.getUint32(4,!0));return e?8:16},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._version()===2?this._data.getInt32(20,!0):1},channel:function(t){if(t>=0&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},_at:function(t){return this.bits===8?this._data.getInt8(this._offset+t):this._data.getInt16(this._offset+t*2,!0)},_set_at:function(t,i){return this.bits===8?this._data.setInt8(this._offset+t,i):this._data.setInt16(this._offset+t*2,i,!0)},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate},toJSON:function(){for(var t={version:2,channels:this.channels,sample_rate:this.sample_rate,samples_per_pixel:this.scale,bits:this.bits,length:this.length,data:[]},i=0;i<this.length;i++)for(var n=0;n<this.channels;n++)t.data.push(this.channel(n).min_sample(i)),t.data.push(this.channel(n).max_sample(i));return t},toArrayBuffer:function(){return this._data.buffer}};var jl={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function s(l,h,d){this.fn=l,this.context=h,this.once=d||!1}function r(l,h,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new s(d,p||l,y),m=i?i+h:h;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],g]:l._events[m].push(g):(l._events[m]=g,l._eventsCount++),l}function a(l,h){--l._eventsCount===0?l._events=new n:delete l._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)t.call(d,p)&&h.push(i?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},o.prototype.listeners=function(h){var d=i?i+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,m=new Array(g);y<g;y++)m[y]=p[y].fn;return m},o.prototype.listenerCount=function(h){var d=i?i+h:h,p=this._events[d];return p?p.fn?1:p.length:0},o.prototype.emit=function(h,d,p,y,g,m){var b=i?i+h:h;if(!this._events[b])return!1;var v=this._events[b],x=arguments.length,k,c;if(v.fn){switch(v.once&&this.removeListener(h,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,p),!0;case 4:return v.fn.call(v.context,d,p,y),!0;case 5:return v.fn.call(v.context,d,p,y,g),!0;case 6:return v.fn.call(v.context,d,p,y,g,m),!0}for(c=1,k=new Array(x-1);c<x;c++)k[c-1]=arguments[c];v.fn.apply(v.context,k)}else{var u=v.length,C;for(c=0;c<u;c++)switch(v[c].once&&this.removeListener(h,v[c].fn,void 0,!0),x){case 1:v[c].fn.call(v[c].context);break;case 2:v[c].fn.call(v[c].context,d);break;case 3:v[c].fn.call(v[c].context,d,p);break;case 4:v[c].fn.call(v[c].context,d,p,y);break;default:if(!k)for(C=1,k=new Array(x-1);C<x;C++)k[C-1]=arguments[C];v[c].fn.apply(v[c].context,k)}}return!0},o.prototype.on=function(h,d,p){return r(this,h,d,p,!1)},o.prototype.once=function(h,d,p){return r(this,h,d,p,!0)},o.prototype.removeListener=function(h,d,p,y){var g=i?i+h:h;if(!this._events[g])return this;if(!d)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===d&&(!y||m.once)&&(!p||m.context===p)&&a(this,g);else{for(var b=0,v=[],x=m.length;b<x;b++)(m[b].fn!==d||y&&!m[b].once||p&&m[b].context!==p)&&v.push(m[b]);v.length?this._events[g]=v.length===1?v[0]:v:a(this,g)}return this},o.prototype.removeAllListeners=function(h){var d;return h?(d=i?i+h:h,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o})(jl);var Kl=jl.exports;function vn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vn=function(t){return typeof t}:vn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vn(e)}function Ue(e,t,i){this.time=e,this.type=t,this.id=i}Ue.POINT=0;Ue.SEGMENT_START=1;Ue.SEGMENT_END=2;Ue.sorter=function(e,t){return e.time-t.time};function yo(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}function ga(e,t){var i=[],n=Math.floor(e%1*Math.pow(10,t)),s=Math.floor(e),r=Math.floor(s/60),a=Math.floor(r/60);a>0&&i.push(a),i.push(r%60),i.push(s%60);for(var o=0;o<i.length;o++)i[o]=yo(i[o],2);return i=i.join(":"),t>0&&(i+="."+yo(n,t)),i}function Zf(e,t){if(t===0)return 0;var i=1;e<0&&(i=-1,e=-e);var n=Math.ceil(e);return i*((n+t-1)/t|0)*t}function _t(e,t,i){return e<t?t:e>i?i:e}function re(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function yn(e,t){for(var i in t)re(t,i)&&(e[i]=t[i]);return e}function qf(e){if(e.length===0)return!0;for(var t=e[0],i=1;i<e.length;i++){if(t>=e[i])return!1;t=e[i]}return!0}function Ts(e){return typeof e=="number"}function Yl(e){return!(typeof e!="number"||e!==e||e===1/0||e===-1/0)}function si(e){return typeof e=="number"&&Number.isFinite(e)}function Pn(e){return e!==null&&vn(e)==="object"&&!Array.isArray(e)}function ki(e){return typeof e=="string"}function Jf(e){return Object.prototype.toString.call(e).includes("ArrayBuffer")}function pt(e){return e==null}function Qf(e){return typeof e=="function"}function Zl(e){return e===!0||e===!1}function Wr(e){return e instanceof HTMLElement}function ep(e){return Array.isArray(e)}function tr(e){return Pn(e)&&re(e,"linearGradientStart")&&re(e,"linearGradientEnd")&&re(e,"linearGradientColorStops")&&Ts(e.linearGradientStart)&&Ts(e.linearGradientEnd)&&ep(e.linearGradientColorStops)&&e.linearGradientColorStops.length===2}function _a(e){for(;e.parent!==null;){if(e.parent instanceof Re.Layer)return e;e=e.parent}return null}var tp=/HeadlessChrome/.test(navigator.userAgent);function ip(){return tp||navigator.webdriver?!1:(typeof document>"u"?"undefined":vn(document))==="object"&&"visibilityState"in document&&document.visibilityState==="visible"}var ql=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,np=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,ri={forward:{},reverse:{}},ir=0,Nn=1,Bn=2;ri.forward[Ue.POINT]=ir;ri.forward[Ue.SEGMENT_START]=Nn;ri.forward[Ue.SEGMENT_END]=Bn;ri.reverse[Ue.POINT]=ir;ri.reverse[Ue.SEGMENT_START]=Bn;ri.reverse[Ue.SEGMENT_END]=Nn;var nr={};nr[ir]="points.enter";nr[Nn]="segments.enter";nr[Bn]="segments.exit";var sr={};sr[ir]="point";sr[Nn]="segment";sr[Bn]="segment";function sp(e,t){switch(t.type){case Ue.POINT:return e.points.getPoint(t.id);case Ue.SEGMENT_START:case Ue.SEGMENT_END:return e.segments.getSegment(t.id);default:throw new Error("getPointOrSegment: id not found?")}}function xt(e){this._cues=[],this._peaks=e,this._previousTime=-1,this._updateCues=this._updateCues.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onSeeked=this._onSeeked.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onAnimationFrame=this._onAnimationFrame.bind(this),this._rAFHandle=null,this._activeSegments={},this._attachEventHandlers()}xt.prototype._updateCues=function(){var e=this,t=e._peaks.points.getPoints(),i=e._peaks.segments.getSegments();e._cues.length=0,t.forEach(function(s){e._cues.push(new Ue(s.time,Ue.POINT,s.id))}),i.forEach(function(s){e._cues.push(new Ue(s.startTime,Ue.SEGMENT_START,s.id)),e._cues.push(new Ue(s.endTime,Ue.SEGMENT_END,s.id))}),e._cues.sort(Ue.sorter);var n=e._peaks.player.getCurrentTime();e._updateActiveSegments(n)};xt.prototype._onUpdate=function(e,t){var i=e>t,n,s,r;i?(n=0,s=this._cues.length,r=1):(n=this._cues.length-1,s=-1,r=-1);for(var a=n;i?a<s:a>s;a+=r){var o=this._cues[a];if(i?o.time>t:o.time<t){if(i?o.time>e:o.time<e)break;var l=sp(this._peaks,o),h=i?ri.forward[o.type]:ri.reverse[o.type];h===Nn?this._activeSegments[l.id]=l:h===Bn&&delete this._activeSegments[l.id];var d={time:e};d[sr[h]]=l,this._peaks.emit(nr[h],d)}}};xt.prototype._onTimeUpdate=function(e){ip()||(this._peaks.player.isPlaying()&&!this._peaks.player.isSeeking()&&this._onUpdate(e,this._previousTime),this._previousTime=e)};xt.prototype._onAnimationFrame=function(){var e=this._peaks.player.getCurrentTime();this._peaks.player.isSeeking()||this._onUpdate(e,this._previousTime),this._previousTime=e,this._peaks.player.isPlaying()&&(this._rAFHandle=ql(this._onAnimationFrame))};xt.prototype._onPlaying=function(){this._previousTime=this._peaks.player.getCurrentTime(),this._rAFHandle=ql(this._onAnimationFrame)};xt.prototype._onSeeked=function(e){this._previousTime=e,this._updateActiveSegments(e)};function rp(e){return function(i){return i.id===e}}xt.prototype._updateActiveSegments=function(e){var t=this,i=t._peaks.segments.getSegmentsAtTime(e);for(var n in t._activeSegments)if(re(t._activeSegments,n)){var s=i.find(rp(n));s||(t._peaks.emit("segments.exit",{segment:t._activeSegments[n],time:e}),delete t._activeSegments[n])}i.forEach(function(r){r.id in t._activeSegments||(t._activeSegments[r.id]=r,t._peaks.emit("segments.enter",{segment:r,time:e}))})};var Es=["points.update","points.dragmove","points.add","points.remove","points.remove_all","segments.update","segments.dragged","segments.add","segments.remove","segments.remove_all"];xt.prototype._attachEventHandlers=function(){this._peaks.on("player.timeupdate",this._onTimeUpdate),this._peaks.on("player.playing",this._onPlaying),this._peaks.on("player.seeked",this._onSeeked);for(var e=0;e<Es.length;e++)this._peaks.on(Es[e],this._updateCues);this._updateCues()};xt.prototype._detachEventHandlers=function(){this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.seeked",this._onSeeked);for(var e=0;e<Es.length;e++)this._peaks.off(Es[e],this._updateCues)};xt.prototype.destroy=function(){this._rAFHandle&&(np(this._rAFHandle),this._rAFHandle=null),this._detachEventHandlers(),this._previousTime=-1};var Jl=["id","pid","time","labelText","color","editable"],ap=["update","isVisible","peaks","pid"];function op(e,t){pt(e.labelText)&&(e.labelText=""),pt(e.editable)&&(e.editable=!1),pt(e.color)&&(e.color=t.pointMarkerColor)}function Ql(e,t){var i=t?"update()":"add()";if((!t||t&&re(e,"time"))&&!si(e.time))throw new TypeError("peaks.points."+i+": time should be a numeric value");if(e.time<0)throw new RangeError("peaks.points."+i+": time should not be negative");if(re(e,"labelText")&&!ki(e.labelText))throw new TypeError("peaks.points."+i+": labelText must be a string");if(re(e,"editable")&&!Zl(e.editable))throw new TypeError("peaks.points."+i+": editable must be true or false");if(re(e,"color")&&!ki(e.color)&&!tr(e.color))throw new TypeError("peaks.points."+i+": color must be a string or a valid linear gradient object");ap.forEach(function(n){if(re(e,n))throw new Error("peaks.points."+i+": invalid option name: "+n)}),Jl.forEach(function(n){if(re(e,"_"+n))throw new Error("peaks.points."+i+": invalid option name: _"+n)})}function sn(e,t,i){this._peaks=e,this._pid=t,this._setUserData(i)}sn.prototype._setUserData=function(e){for(var t in e)re(e,t)&&(Jl.indexOf(t)===-1?this[t]=e[t]:this["_"+t]=e[t])};Object.defineProperties(sn.prototype,{id:{enumerable:!0,get:function(){return this._id}},pid:{enumerable:!0,get:function(){return this._pid}},time:{enumerable:!0,get:function(){return this._time}},labelText:{get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},editable:{enumerable:!0,get:function(){return this._editable}}});sn.prototype.update=function(e){if(Ql(e,!0),re(e,"id")){if(pt(e.id))throw new TypeError("point.update(): invalid id");this._peaks.points.updatePointId(this,e.id)}this._setUserData(e),this._peaks.emit("points.update",this,e)};sn.prototype.isVisible=function(e,t){return this.time>=e&&this.time<t};sn.prototype._setTime=function(e){this._time=e};function Ze(e){this._peaks=e,this._points=[],this._pointsById={},this._pointsByPid={},this._pointIdCounter=0,this._pointPid=0}Ze.prototype._getNextPointId=function(){return"peaks.point."+this._pointIdCounter++};Ze.prototype._getNextPid=function(){return this._pointPid++};Ze.prototype._addPoint=function(e){this._points.push(e),this._pointsById[e.id]=e,this._pointsByPid[e.pid]=e};Ze.prototype._createPoint=function(e){var t={};yn(t,e),pt(t.id)&&(t.id=this._getNextPointId());var i=this._getNextPid();return op(t,this._peaks.options),Ql(t,!1),new sn(this._peaks,i,t)};Ze.prototype.getPoints=function(){return this._points};Ze.prototype.getPoint=function(e){return this._pointsById[e]};Ze.prototype.find=function(e,t){return this._points.filter(function(i){return i.isVisible(e,t)})};Ze.prototype.add=function(){var e=this,t=Array.isArray(arguments[0]),i=t?arguments[0]:Array.prototype.slice.call(arguments);return i=i.map(function(n){var s=e._createPoint(n);if(re(e._pointsById,s.id))throw new Error("peaks.points.add(): duplicate id");return s}),i.forEach(function(n){e._addPoint(n)}),this._peaks.emit("points.add",{points:i}),t?i:i[0]};Ze.prototype.updatePointId=function(e,t){if(this._pointsById[e.id]){if(this._pointsById[t])throw new Error("point.update(): duplicate id");delete this._pointsById[e.id],this._pointsById[t]=e}};Ze.prototype._findPoint=function(e){for(var t=[],i=0,n=this._points.length;i<n;i++)e(this._points[i])&&t.push(i);return t};Ze.prototype._removeIndexes=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i]-t.length,s=this._points.splice(n,1)[0];delete this._pointsById[s.id],delete this._pointsByPid[s.pid],t.push(s)}return t};Ze.prototype._removePoints=function(e){var t=this._findPoint(e),i=this._removeIndexes(t);return this._peaks.emit("points.remove",{points:i}),i};Ze.prototype.remove=function(e){return this._removePoints(function(t){return t===e})};Ze.prototype.removeById=function(e){return this._removePoints(function(t){return t.id===e})};Ze.prototype.removeByTime=function(e){return this._removePoints(function(t){return t.time===e})};Ze.prototype.removeAll=function(){this._points=[],this._pointsById={},this._pointsByPid={},this._peaks.emit("points.remove_all")};var eh=["id","pid","startTime","endTime","labelText","color","borderColor","editable"],lp=["update","isVisible","peaks","pid"];function hp(e,t){pt(e.color)&&(t.overlay?e.color=t.overlayColor:e.color=t.waveformColor),pt(e.borderColor)&&(e.borderColor=t.overlayBorderColor),pt(e.labelText)&&(e.labelText=""),pt(e.editable)&&(e.editable=!1)}function th(e,t){var i=t?"update()":"add()";if(re(e,"startTime")&&!si(e.startTime))throw new TypeError("peaks.segments."+i+": startTime should be a valid number");if(re(e,"endTime")&&!si(e.endTime))throw new TypeError("peaks.segments."+i+": endTime should be a valid number");if(!t&&(!re(e,"startTime")||!re(e,"endTime")))throw new TypeError("peaks.segments."+i+": missing startTime or endTime");if(e.startTime<0)throw new RangeError("peaks.segments."+i+": startTime should not be negative");if(e.endTime<0)throw new RangeError("peaks.segments."+i+": endTime should not be negative");if(e.endTime<e.startTime)throw new RangeError("peaks.segments."+i+": endTime should not be less than startTime");if(re(e,"labelText")&&!ki(e.labelText))throw new TypeError("peaks.segments."+i+": labelText must be a string");if(re(e,"editable")&&!Zl(e.editable))throw new TypeError("peaks.segments."+i+": editable must be true or false");if(re(e,"color")&&!ki(e.color)&&!tr(e.color))throw new TypeError("peaks.segments."+i+": color must be a string or a valid linear gradient object");if(re(e,"borderColor")&&!ki(e.borderColor))throw new TypeError("peaks.segments."+i+": borderColor must be a string");lp.forEach(function(n){if(re(e,n))throw new Error("peaks.segments."+i+": invalid option name: "+n)}),eh.forEach(function(n){if(re(e,"_"+n))throw new Error("peaks.segments."+i+": invalid option name: _"+n)})}function Oi(e,t,i){this._peaks=e,this._pid=t,this._id=i.id,this._startTime=i.startTime,this._endTime=i.endTime,this._labelText=i.labelText,this._color=i.color,this._borderColor=i.borderColor,this._editable=i.editable,this._setUserData(i)}Oi.prototype._setUserData=function(e){for(var t in e)re(e,t)&&(eh.indexOf(t)===-1?this[t]=e[t]:this["_"+t]=e[t])};Object.defineProperties(Oi.prototype,{id:{enumerable:!0,get:function(){return this._id}},pid:{enumerable:!0,get:function(){return this._pid}},startTime:{enumerable:!0,get:function(){return this._startTime}},endTime:{enumerable:!0,get:function(){return this._endTime}},labelText:{enumerable:!0,get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},borderColor:{enumerable:!0,get:function(){return this._borderColor}},editable:{enumerable:!0,get:function(){return this._editable}}});Oi.prototype.update=function(e){if(th(e,!0),re(e,"id")){if(pt(e.id))throw new TypeError("segment.update(): invalid id");this._peaks.segments.updateSegmentId(this,e.id)}this._setUserData(e),this._peaks.emit("segments.update",this,e)};Oi.prototype.isVisible=function(e,t){return this.startTime<t&&e<this.endTime};Oi.prototype._setStartTime=function(e){this._startTime=e};Oi.prototype._setEndTime=function(e){this._endTime=e};function Fe(e){this._peaks=e,this._segments=[],this._segmentsById={},this._segmentsByPid={},this._segmentIdCounter=0,this._segmentPid=0,this._isInserting=!1}Fe.prototype._getNextSegmentId=function(){return"peaks.segment."+this._segmentIdCounter++};Fe.prototype._getNextPid=function(){return this._segmentPid++};Fe.prototype._addSegment=function(e){this._segments.push(e),this._segmentsById[e.id]=e,this._segmentsByPid[e.pid]=e};Fe.prototype._createSegment=function(e){var t={};yn(t,e),pt(t.id)&&(t.id=this._getNextSegmentId());var i=this._getNextPid();return hp(t,this._peaks.options.segmentOptions),th(t,!1),new Oi(this._peaks,i,t)};Fe.prototype.getSegments=function(){return this._segments};Fe.prototype.getSegment=function(e){return this._segmentsById[e]};Fe.prototype.getSegmentsAtTime=function(e){return this._segments.filter(function(t){return e>=t.startTime&&e<t.endTime})};Fe.prototype.find=function(e,t){return this._segments.filter(function(i){return i.isVisible(e,t)})};Fe.prototype._getSortedSegments=function(){return this._segments.slice().sort(function(e,t){return e.startTime-t.startTime})};Fe.prototype.findPreviousSegment=function(e){var t=this._getSortedSegments(),i=t.findIndex(function(n){return n.id===e.id});if(i!==-1)return t[i-1]};Fe.prototype.findNextSegment=function(e){var t=this._getSortedSegments(),i=t.findIndex(function(n){return n.id===e.id});if(i!==-1)return t[i+1]};Fe.prototype.add=function(){var e=this,t=Array.isArray(arguments[0]),i=t?arguments[0]:Array.prototype.slice.call(arguments);return i=i.map(function(n){var s=e._createSegment(n);if(re(e._segmentsById,s.id))throw new Error("peaks.segments.add(): duplicate id");return s}),i.forEach(function(n){e._addSegment(n)}),this._peaks.emit("segments.add",{segments:i,insert:this._isInserting}),t?i:i[0]};Fe.prototype.updateSegmentId=function(e,t){if(this._segmentsById[e.id]){if(this._segmentsById[t])throw new Error("segment.update(): duplicate id");delete this._segmentsById[e.id],this._segmentsById[t]=e}};Fe.prototype._findSegment=function(e){for(var t=[],i=0,n=this._segments.length;i<n;i++)e(this._segments[i])&&t.push(i);return t};Fe.prototype._removeIndexes=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i]-t.length,s=this._segments.splice(n,1)[0];delete this._segmentsById[s.id],delete this._segmentsByPid[s.pid],t.push(s)}return t};Fe.prototype._removeSegments=function(e){var t=this._findSegment(e),i=this._removeIndexes(t);return this._peaks.emit("segments.remove",{segments:i}),i};Fe.prototype.remove=function(e){return this._removeSegments(function(t){return t===e})};Fe.prototype.removeById=function(e){return this._removeSegments(function(t){return t.id===e})};Fe.prototype.removeByTime=function(e,t){t=typeof t=="number"?t:0;var i;return t>0?i=function(s){return s.startTime===e&&s.endTime===t}:i=function(s){return s.startTime===e},this._removeSegments(i)};Fe.prototype.removeAll=function(){this._segments=[],this._segmentsById={},this._segmentsByPid={},this._peaks.emit("segments.remove_all")};Fe.prototype.setInserting=function(e){this._isInserting=e};Fe.prototype.isInserting=function(){return this._isInserting};var cp=["OBJECT","TEXTAREA","INPUT","SELECT","OPTION"],ih=32,nh=9,sh=37,rh=39,dp=[ih,nh,sh,rh];function ma(e){this.eventEmitter=e,this._handleKeyEvent=this._handleKeyEvent.bind(this),document.addEventListener("keydown",this._handleKeyEvent),document.addEventListener("keypress",this._handleKeyEvent),document.addEventListener("keyup",this._handleKeyEvent)}ma.prototype._handleKeyEvent=function(t){if(cp.indexOf(t.target.nodeName)===-1){if(dp.indexOf(t.type)>-1&&t.preventDefault(),t.type==="keydown"||t.type==="keypress")switch(t.keyCode){case ih:this.eventEmitter.emit("keyboard.space");break;case nh:this.eventEmitter.emit("keyboard.tab");break}else if(t.type==="keyup")switch(t.keyCode){case sh:t.shiftKey?this.eventEmitter.emit("keyboard.shift_left"):this.eventEmitter.emit("keyboard.left");break;case rh:t.shiftKey?this.eventEmitter.emit("keyboard.shift_right"):this.eventEmitter.emit("keyboard.right");break}}};ma.prototype.destroy=function(){document.removeEventListener("keydown",this._handleKeyEvent),document.removeEventListener("keypress",this._handleKeyEvent),document.removeEventListener("keyup",this._handleKeyEvent)};function up(e){return!!(e.src||e.querySelector("source"))}function mt(e){this._mediaElement=e}mt.prototype._addMediaListener=function(e,t){this._listeners.push({type:e,callback:t}),this._mediaElement.addEventListener(e,t)};mt.prototype.init=function(e){var t=this;return t._eventEmitter=e,t._listeners=[],t._duration=t.getDuration(),t._addMediaListener("timeupdate",function(){t._eventEmitter.emit("player.timeupdate",t.getCurrentTime())}),t._addMediaListener("playing",function(){t._eventEmitter.emit("player.playing",t.getCurrentTime())}),t._addMediaListener("pause",function(){t._eventEmitter.emit("player.pause",t.getCurrentTime())}),t._addMediaListener("ended",function(){t._eventEmitter.emit("player.ended")}),t._addMediaListener("seeked",function(){t._eventEmitter.emit("player.seeked",t.getCurrentTime())}),t._addMediaListener("canplay",function(){t._eventEmitter.emit("player.canplay")}),t._addMediaListener("error",function(i){t._eventEmitter.emit("player.error",i.target.error)}),t._interval=null,up(t._mediaElement)?new Promise(function(i,n){function s(r){t._mediaElement.removeEventListener("loadedmetadata",s),t._mediaElement.removeEventListener("error",s),r.type==="loadedmetadata"?i():n(r.target.error)}t._mediaElement.readyState===HTMLMediaElement.HAVE_NOTHING?(t._mediaElement.addEventListener("loadedmetadata",s),t._mediaElement.addEventListener("error",s),t._mediaElement.load()):i()}):Promise.resolve()};mt.prototype.destroy=function(){for(var e=0;e<this._listeners.length;e++){var t=this._listeners[e];this._mediaElement.removeEventListener(t.type,t.callback)}this._listeners.length=0,this._mediaElement=null};mt.prototype.play=function(){return this._mediaElement.play()};mt.prototype.pause=function(){this._mediaElement.pause()};mt.prototype.isPlaying=function(){return!this._mediaElement.paused};mt.prototype.isSeeking=function(){return this._mediaElement.seeking};mt.prototype.getCurrentTime=function(){return this._mediaElement.currentTime};mt.prototype.getDuration=function(){return this._mediaElement.duration};mt.prototype.seek=function(e){this._mediaElement.currentTime=e};function Wn(e,t){this._eventEmitter=e,this._mediaElement=t,this._playerCanPlayHandler=this._playerCanPlayHandler.bind(this),this._playerErrorHandler=this._playerErrorHandler.bind(this)}Wn.prototype.setSource=function(e,t){var i=this;return i._options=e,i._callback=t,i._eventEmitter.on("player.canplay",i._playerCanPlayHandler),i._eventEmitter.on("player.error",i._playerErrorHandler),new Promise(function(n,s){i._resolve=n,i._reject=s,i._eventEmitter.on("player.canplay",i._playerCanPlayHandler),i._eventEmitter.on("player.error",i._playerErrorHandler),i._mediaElement.setAttribute("src",e.mediaUrl),i._mediaElement.readyState===HTMLMediaElement.HAVE_NOTHING&&i._mediaElement.load()})};Wn.prototype._reset=function(){this._eventEmitter.removeListener("player.canplay",this._playerCanPlayHandler),this._eventEmitter.removeListener("player.error",this._playerErrorHandler)};Wn.prototype._playerCanPlayHandler=function(){this._reset(),this._resolve()};Wn.prototype._playerErrorHandler=function(e){this._reset(),this._reject(e)};mt.prototype.setSource=function(e){if(!e.mediaUrl)return Promise.reject(new Error("peaks.setSource(): options must contain a mediaUrl when using mediaElement"));var t=new Wn(this._eventEmitter,this._mediaElement);return t.setSource(e)};function fp(e){for(var t=[],i=e;i;)Object.getOwnPropertyNames(i).forEach(function(n){t.push(n)}),i=Object.getPrototypeOf(i);return t}function pp(e){var t=["init","destroy","play","pause","isPlaying","isSeeking","getCurrentTime","getDuration","seek"],i=fp(e);t.forEach(function(n){if(!i.includes(n))throw new TypeError("Peaks.init(): Player method "+n+" is undefined");if(typeof e[n]!="function")throw new TypeError("Peaks.init(): Player method "+n+" is not a function")})}function dt(e,t){this._peaks=e,this._playingSegment=!1,this._segment=null,this._loop=!1,this._playSegmentTimerCallback=this._playSegmentTimerCallback.bind(this),pp(t),this._adapter=t}dt.prototype.init=function(){return this._adapter.init(this._peaks)};dt.prototype.destroy=function(){this._adapter.destroy()};dt.prototype.play=function(){return this._adapter.play()};dt.prototype.pause=function(){this._adapter.pause()};dt.prototype.isPlaying=function(){return this._adapter.isPlaying()};dt.prototype.isSeeking=function(){return this._adapter.isSeeking()};dt.prototype.getCurrentTime=function(){return this._adapter.getCurrentTime()};dt.prototype.getDuration=function(){return this._adapter.getDuration()};dt.prototype.seek=function(e){if(!si(e)){this._peaks._logger("peaks.player.seek(): parameter must be a valid time, in seconds");return}this._adapter.seek(e)};dt.prototype.playSegment=function(e,t){var i=this;return!e||!si(e.startTime)||!si(e.endTime)?Promise.reject(new Error("peaks.player.playSegment(): parameter must be a segment object")):(i._segment=e,i._loop=t,i.seek(e.startTime),i._peaks.once("player.playing",function(){i._playingSegment||(i._playingSegment=!0,window.requestAnimationFrame(i._playSegmentTimerCallback))}),i.play())};dt.prototype._playSegmentTimerCallback=function(){if(this.isPlaying()){if(this.getCurrentTime()>=this._segment.endTime)if(this._loop)this.seek(this._segment.startTime);else{this.pause(),this._peaks.emit("player.ended"),this._playingSegment=!1;return}}else{this._playingSegment=!1;return}window.requestAnimationFrame(this._playSegmentTimerCallback)};dt.prototype._setSource=function(e){return this._adapter.setSource(e)};function Gn(e){this._options=e,this._draggable=e.editable}Gn.prototype.init=function(e){var t=10,i=20,n=-(t/2)+.5;this._options.view==="zoomview"&&(this._label=new Ai({x:2,y:0,text:this._options.point.labelText,textAlign:"left",fontFamily:this._options.fontFamily||"sans-serif",fontSize:this._options.fontSize||10,fontStyle:this._options.fontStyle||"normal",fill:"#000"})),this._handle=new nn({x:n,y:0,width:t,height:i,fill:this._options.color,visible:this._draggable}),this._line=new Js({x:0,y:0,stroke:this._options.color,strokeWidth:1}),this._time=new Ai({x:-24,y:0,text:this._options.layer.formatTime(this._options.point.time),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center"}),this._time.hide(),e.add(this._handle),e.add(this._line),this._label&&e.add(this._label),e.add(this._time),this.fitToView(),this.bindEventHandlers(e)};Gn.prototype.bindEventHandlers=function(e){var t=this;t._handle.on("mouseover touchstart",function(){t._draggable&&(t._time.setX(-24-t._time.getWidth()),t._time.show())}),t._handle.on("mouseout touchend",function(){t._draggable&&t._time.hide()}),e.on("dragstart",function(){t._time.setX(-24-t._time.getWidth()),t._time.show()}),e.on("dragend",function(){t._time.hide()})};Gn.prototype.fitToView=function(){var e=this._options.layer.getHeight();this._line.points([.5,0,.5,e]),this._label&&this._label.y(12),this._handle&&this._handle.y(e/2-10.5),this._time&&this._time.y(e/2-5)};Gn.prototype.update=function(e){e.time!==void 0&&this._time&&this._time.setText(this._options.layer.formatTime(e.time)),e.labelText!==void 0&&this._label&&this._label.text(e.labelText),e.color!==void 0&&(this._handle&&this._handle.fill(e.color),this._line.stroke(e.color)),e.editable!==void 0&&(this._draggable=e.editable,this._handle.visible(this._draggable))};function Un(e){this._options=e,this._editable=e.editable}Un.prototype.init=function(e){var t=10,i=20,n=-(t/2)+.5,s=this._options.startMarker?-24:24,r=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new Ai({x:s,y:0,text:this._options.layer.formatTime(r),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center",visible:this._editable}),this._label.hide(),this._handle=new nn({x:n,y:0,width:t,height:i,fill:this._options.color,stroke:this._options.color,strokeWidth:1,visible:this._editable}),this._line=new Js({x:0,y:0,stroke:this._options.color,strokeWidth:1,visible:this._editable}),e.add(this._label),e.add(this._line),e.add(this._handle),this.fitToView(),this.bindEventHandlers(e)};Un.prototype.bindEventHandlers=function(e){var t=this,i=t._options.startMarker?-24:24;e.on("dragstart",function(){t._options.startMarker&&t._label.setX(i-t._label.getWidth()),t._label.show()}),e.on("dragend",function(){t._label.hide()}),t._handle.on("mouseover touchstart",function(){t._options.startMarker&&t._label.setX(i-t._label.getWidth()),t._label.show()}),t._handle.on("mouseout touchend",function(){t._label.hide()})};Un.prototype.fitToView=function(){var e=this._options.layer.getHeight();this._label.y(e/2-5),this._handle.y(e/2-10.5),this._line.points([.5,0,.5,e])};Un.prototype.update=function(e){e.startTime!==void 0&&this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.startTime)),e.endTime!==void 0&&!this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.endTime)),e.editable!==void 0&&(this._editable=e.editable,this._label.visible(this._editable),this._handle.visible(this._editable),this._line.visible(this._editable))};function gp(e){return e.view==="zoomview"?new Un(e):null}function _p(e){return new Ai({x:12,y:12,text:e.segment.labelText,textAlign:"center",fontFamily:e.fontFamily||"sans-serif",fontSize:e.fontSize||12,fontStyle:e.fontStyle||"normal",fill:"#000"})}function mp(e){return new Gn(e)}function di(e,t){this._view=e,this._offset=t.highlightOffset,this._color=t.highlightColor,this._layer=new Re.Layer({listening:!1}),this._highlightRect=null,this._startTime=null,this._endTime=null,this._strokeColor=t.highlightStrokeColor,this._opacity=t.highlightOpacity,this._cornerRadius=t.highlightCornerRadius}di.prototype.addToStage=function(e){e.add(this._layer)};di.prototype.showHighlight=function(e,t){this._highlightRect||this._createHighlightRect(e,t),this._update(e,t)};di.prototype._update=function(e,t){this._startTime=e,this._endTime=t;var i=this._view.timeToPixels(e),n=this._view.timeToPixels(t);this._highlightRect.setAttrs({x:i,width:n-i})};di.prototype._createHighlightRect=function(e,t){this._startTime=e,this._endTime=t;var i=this._view.timeToPixels(e),n=this._view.timeToPixels(t);this._highlightRect=new nn({x:i,y:0,width:n-i,height:0,stroke:this._strokeColor,strokeWidth:1,fill:this._color,opacity:this._opacity,cornerRadius:this._cornerRadius}),this.fitToView(),this._layer.add(this._highlightRect)};di.prototype.removeHighlight=function(){this._highlightRect&&(this._highlightRect.destroy(),this._highlightRect=null)};di.prototype.updateHighlight=function(){this._highlightRect&&this._update(this._startTime,this._endTime)};di.prototype.fitToView=function(){if(this._highlightRect){var e=this._view.getHeight(),t=_t(this._offset,0,Math.floor(e/2));this._highlightRect.setAttrs({y:t,height:e-t*2})}};function it(e){this._player=e.player,this._view=e.view,this._playheadPixel=0,this._playheadLineAnimation=null,this._playheadVisible=!1,this._playheadColor=e.playheadColor,this._playheadTextColor=e.playheadTextColor,this._playheadFontFamily=e.playheadFontFamily,this._playheadFontSize=e.playheadFontSize,this._playheadFontStyle=e.playheadFontStyle,this._playheadLayer=new Re.Layer,this._createPlayhead(this._playheadColor),e.showPlayheadTime&&this._createPlayheadText(this._playheadTextColor),this.fitToView(),this.zoomLevelChanged()}it.prototype.addToStage=function(e){e.add(this._playheadLayer)};it.prototype.zoomLevelChanged=function(){var e=this._view.timeToPixels(1);if(this._useAnimation=e>=5,this._useAnimation)this._player.isPlaying()&&!this._playheadLineAnimation&&this._start();else if(this._playheadLineAnimation){var t=this._player.getCurrentTime();this.stop(t)}};it.prototype.fitToView=function(){var e=this._view.getHeight();this._playheadLine.points([.5,0,.5,e]),this._playheadText&&this._playheadText.y(12)};it.prototype._createPlayhead=function(e){this._playheadLine=new Js({stroke:e,strokeWidth:1}),this._playheadGroup=new Re.Group({x:0,y:0}),this._playheadGroup.add(this._playheadLine),this._playheadLayer.add(this._playheadGroup)};it.prototype._createPlayheadText=function(e){var t=this._player.getCurrentTime(),i=this._view.formatTime(t);this._playheadText=new Ai({x:2,y:0,text:i,fontSize:this._playheadFontSize,fontFamily:this._playheadFontFamily,fontStyle:this._playheadFontStyle,fill:e,align:"right"}),this._playheadGroup.add(this._playheadText)};it.prototype.updatePlayheadTime=function(e){this._syncPlayhead(e),this._player.isPlaying()&&this._start()};it.prototype._syncPlayhead=function(e){var t=this._view.timeToPixels(e),i=this._view.getFrameOffset(),n=this._view.getWidth(),s=t>=i&&t<=i+n;if(this._playheadPixel=t,s){var r=this._playheadPixel-i;if(this._playheadVisible||(this._playheadVisible=!0,this._playheadGroup.show()),this._playheadGroup.setX(r),this._playheadText){var a=this._view.formatTime(e),o=this._playheadText.getTextWidth();this._playheadText.setText(a),o+r>n-2?this._playheadText.setX(-o-2):o+r<n&&this._playheadText.setX(2)}}else this._playheadVisible&&(this._playheadVisible=!1,this._playheadGroup.hide());this._view.playheadPosChanged&&this._view.playheadPosChanged(e)};it.prototype._start=function(){var e=this;if(e._playheadLineAnimation&&(e._playheadLineAnimation.stop(),e._playheadLineAnimation=null),!!e._useAnimation){var t=null;e._playheadLineAnimation=new Wl(function(){var i=e._player.getCurrentTime(),n=e._view.timeToPixels(i);n!==t&&(e._syncPlayhead(i),t=n)},e._playheadLayer),e._playheadLineAnimation.start()}};it.prototype.stop=function(e){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null),this._syncPlayhead(e)};it.prototype.getPlayheadPixel=function(){return this._playheadPixel};it.prototype.showPlayheadTime=function(e){e?this._playheadText||(this._createPlayheadText(this._playheadTextColor),this.fitToView()):this._playheadText&&(this._playheadText.remove(),this._playheadText.destroy(),this._playheadText=null)};it.prototype.updatePlayheadText=function(){if(this._playheadText){var e=this._player.getCurrentTime(),t=this._view.formatTime(e);this._playheadText.setText(t)}};it.prototype.destroy=function(){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null)};function At(e){this._point=e.point,this._marker=e.marker,this._draggable=e.draggable,this._onDragStart=e.onDragStart,this._onDragMove=e.onDragMove,this._onDragEnd=e.onDragEnd,this._dragBoundFunc=e.dragBoundFunc,this._onMouseEnter=e.onMouseEnter,this._onMouseLeave=e.onMouseLeave,this._group=new Re.Group({name:"point-marker",point:this._point,draggable:this._draggable,dragBoundFunc:e.dragBoundFunc}),this._bindDefaultEventHandlers(),this._marker.init(this._group)}At.prototype._bindDefaultEventHandlers=function(){var e=this;e._group.on("dragstart",function(t){e._onDragStart(t,e._point)}),e._group.on("dragmove",function(t){e._onDragMove(t,e._point)}),e._group.on("dragend",function(t){e._onDragEnd(t,e._point)}),e._group.on("mouseenter",function(t){e._onMouseEnter(t,e._point)}),e._group.on("mouseleave",function(t){e._onMouseLeave(t,e._point)})};At.prototype.addToLayer=function(e){e.add(this._group)};At.prototype.fitToView=function(){this._marker.fitToView()};At.prototype.getPoint=function(){return this._point};At.prototype.getX=function(){return this._group.getX()};At.prototype.setX=function(e){this._group.setX(e)};At.prototype.getWidth=function(){return this._group.getWidth()};At.prototype.getAbsolutePosition=function(){return this._group.getAbsolutePosition()};At.prototype.update=function(e){e.editable!==void 0&&this._group.draggable(e.editable),this._marker.update&&this._marker.update(e)};At.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()};var vp="sans-serif",yp=10,bp="normal";function ke(e,t,i){this._peaks=e,this._view=t,this._allowEditing=i,this._pointMarkers={},this._layer=new Re.Layer,this._onPointsDrag=this._onPointsDrag.bind(this),this._onPointMarkerDragStart=this._onPointMarkerDragStart.bind(this),this._onPointMarkerDragMove=this._onPointMarkerDragMove.bind(this),this._onPointMarkerDragEnd=this._onPointMarkerDragEnd.bind(this),this._pointMarkerDragBoundFunc=this._pointMarkerDragBoundFunc.bind(this),this._onPointMarkerMouseEnter=this._onPointMarkerMouseEnter.bind(this),this._onPointMarkerMouseLeave=this._onPointMarkerMouseLeave.bind(this),this._onPointsUpdate=this._onPointsUpdate.bind(this),this._onPointsAdd=this._onPointsAdd.bind(this),this._onPointsRemove=this._onPointsRemove.bind(this),this._onPointsRemoveAll=this._onPointsRemoveAll.bind(this),this._peaks.on("points.update",this._onPointsUpdate),this._peaks.on("points.add",this._onPointsAdd),this._peaks.on("points.remove",this._onPointsRemove),this._peaks.on("points.remove_all",this._onPointsRemoveAll),this._peaks.on("points.dragstart",this._onPointsDrag),this._peaks.on("points.dragmove",this._onPointsDrag),this._peaks.on("points.dragend",this._onPointsDrag)}ke.prototype.addToStage=function(e){e.add(this._layer)};ke.prototype.enableEditing=function(e){this._allowEditing=e};ke.prototype.getPointMarker=function(e){return this._pointMarkers[e.pid]};ke.prototype.formatTime=function(e){return this._view.formatTime(e)};ke.prototype._onPointsUpdate=function(e,t){var i=this._view.getStartTime(),n=this._view.getEndTime(),s=this.getPointMarker(e),r=e.isVisible(i,n);if(s&&!r)this._removePoint(e);else if(!s&&r)this._updatePoint(e);else if(s&&r){if(re(t,"time")){var a=this._view.timeToPixels(e.time),o=a-this._view.getFrameOffset();s.setX(o)}s.update(t)}};ke.prototype._onPointsAdd=function(e){var t=this,i=t._view.getStartTime(),n=t._view.getEndTime();e.points.forEach(function(s){s.isVisible(i,n)&&t._updatePoint(s)})};ke.prototype._onPointsRemove=function(e){var t=this;e.points.forEach(function(i){t._removePoint(i)})};ke.prototype._onPointsRemoveAll=function(){this._layer.removeChildren(),this._pointMarkers={}};ke.prototype._createPointMarker=function(e){var t=this._allowEditing&&e.editable,i=this._peaks.options.createPointMarker({point:e,editable:t,color:e.color,fontFamily:this._peaks.options.fontFamily||vp,fontSize:this._peaks.options.fontSize||yp,fontStyle:this._peaks.options.fontStyle||bp,layer:this,view:this._view.getName()});return new At({point:e,draggable:t,marker:i,onDragStart:this._onPointMarkerDragStart,onDragMove:this._onPointMarkerDragMove,onDragEnd:this._onPointMarkerDragEnd,dragBoundFunc:this._pointMarkerDragBoundFunc,onMouseEnter:this._onPointMarkerMouseEnter,onMouseLeave:this._onPointMarkerMouseLeave})};ke.prototype.getHeight=function(){return this._view.getHeight()};ke.prototype._addPointMarker=function(e){var t=this._createPointMarker(e);return this._pointMarkers[e.pid]=t,t.addToLayer(this._layer),t};ke.prototype._onPointsDrag=function(e){var t=this._updatePoint(e.point);t.update({time:e.point.time})};ke.prototype._onPointMarkerMouseEnter=function(e,t){this._peaks.emit("points.mouseenter",{point:t,evt:e.evt})};ke.prototype._onPointMarkerMouseLeave=function(e,t){this._peaks.emit("points.mouseleave",{point:t,evt:e.evt})};ke.prototype._onPointMarkerDragStart=function(e,t){this._dragPointMarker=this.getPointMarker(t),this._peaks.emit("points.dragstart",{point:t,evt:e.evt})};ke.prototype._onPointMarkerDragMove=function(e,t){var i=this._pointMarkers[t.pid],n=i.getX(),s=n+i.getWidth();t._setTime(this._view.pixelOffsetToTime(s)),this._peaks.emit("points.dragmove",{point:t,evt:e.evt})};ke.prototype._onPointMarkerDragEnd=function(e,t){this._dragPointMarker=null,this._peaks.emit("points.dragend",{point:t,evt:e.evt})};ke.prototype._pointMarkerDragBoundFunc=function(e){return{x:_t(e.x,0,this._view.getWidth()),y:this._dragPointMarker.getAbsolutePosition().y}};ke.prototype.updatePoints=function(e,t){var i=this._peaks.points.find(e,t);i.forEach(this._updatePoint.bind(this)),this._removeInvisiblePoints(e,t)};ke.prototype._updatePoint=function(e){var t=this.getPointMarker(e);t||(t=this._addPointMarker(e));var i=this._view.timeToPixels(e.time),n=i-this._view.getFrameOffset();return t.setX(n),t};ke.prototype._removeInvisiblePoints=function(e,t){for(var i in this._pointMarkers)if(re(this._pointMarkers,i)){var n=this._pointMarkers[i].getPoint();n.isVisible(e,t)||this._removePoint(n)}};ke.prototype._removePoint=function(e){var t=this.getPointMarker(e);t&&(t.destroy(),delete this._pointMarkers[e.pid])};ke.prototype.setVisible=function(e){this._layer.setVisible(e)};ke.prototype.destroy=function(){this._peaks.off("points.update",this._onPointsUpdate),this._peaks.off("points.add",this._onPointsAdd),this._peaks.off("points.remove",this._onPointsRemove),this._peaks.off("points.remove_all",this._onPointsRemoveAll),this._peaks.off("points.dragstart",this._onPointsDrag),this._peaks.off("points.dragmove",this._onPointsDrag),this._peaks.off("points.dragend",this._onPointsDrag)};ke.prototype.fitToView=function(){for(var e in this._pointMarkers)if(re(this._pointMarkers,e)){var t=this._pointMarkers[e];t.fitToView()}};ke.prototype.draw=function(){this._layer.draw()};function Hn(e){this._options=e}Hn.prototype.init=function(e){var t=10,i=20,n=-(t/2)+.5,s=this._options.startMarker?-24:24,r=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new Ai({x:s,y:0,text:this._options.layer.formatTime(r),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center",visible:!1}),this._handle=new nn({x:n,y:0,width:t,height:i}),e.add(this._label),e.add(this._handle),this.fitToView(),this.bindEventHandlers(e)};Hn.prototype.bindEventHandlers=function(e){var t=this,i=t._options.startMarker?-24:24;e.on("dragstart",function(){t._options.startMarker&&t._label.setX(i-t._label.getWidth()),t._label.show()}),e.on("dragend",function(){t._label.hide()}),t._handle.on("mouseover touchstart",function(){t._options.startMarker&&t._label.setX(i-t._label.getWidth()),t._label.show(),document.body.style.cursor="ew-resize"}),t._handle.on("mouseout touchend",function(){t._label.hide(),document.body.style.cursor="default"})};Hn.prototype.fitToView=function(){var e=this._options.layer.getHeight(),t=this._options.segmentOptions.overlayOffset,i=_t(0,e-2*t);this._label.y(e/2-5),this._handle.y(t),this._handle.height(i)};Hn.prototype.update=function(e){e.startTime!==void 0&&this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.startTime)),e.endTime!==void 0&&!this._options.startMarker&&this._label.text(this._options.layer.formatTime(e.endTime))};function Qe(e){var t=this;t._segment=e.segment,t._marker=e.marker,t._segmentShape=e.segmentShape,t._editable=e.editable,t._startMarker=e.startMarker,t._onDragStart=e.onDragStart,t._onDragMove=e.onDragMove,t._onDragEnd=e.onDragEnd,t._group=new Re.Group({name:"segment-marker",segment:t._segment,draggable:t._editable,visible:t._editable,dragBoundFunc:function(n){return e.dragBoundFunc(t,n)}}),t._bindDefaultEventHandlers(),t._marker.init(t._group)}Qe.prototype._bindDefaultEventHandlers=function(){var e=this;e._group.on("dragstart",function(t){e._onDragStart(e,t)}),e._group.on("dragmove",function(t){e._onDragMove(e,t)}),e._group.on("dragend",function(t){e._onDragEnd(e,t)})};Qe.prototype.addToLayer=function(e){e.add(this._group)};Qe.prototype.moveToTop=function(){this._group.moveToTop()};Qe.prototype.fitToView=function(){this._marker.fitToView()};Qe.prototype.getSegment=function(){return this._segment};Qe.prototype.getX=function(){return this._group.getX()};Qe.prototype.setX=function(e){this._group.setX(e)};Qe.prototype.getWidth=function(){return this._group.getWidth()};Qe.prototype.getAbsolutePosition=function(){return this._group.getAbsolutePosition()};Qe.prototype.isStartMarker=function(){return this._startMarker};Qe.prototype.update=function(e){e.editable!==void 0&&(this._group.visible(e.editable),this._group.draggable(e.editable)),this._marker.update&&this._marker.update(e)};Qe.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()};Qe.prototype.startDrag=function(){this._group.startDrag()};Qe.prototype.stopDrag=function(){this._group.stopDrag()};function He(e){this._color=e.color;var t={};if(ki(e.color))t.fill=e.color;else if(tr(e.color)){var i=e.view._height*(e.color.linearGradientStart/100),n=e.view._height*(e.color.linearGradientEnd/100);t.fillLinearGradientStartPointY=i,t.fillLinearGradientEndPointY=n,t.fillLinearGradientColorStops=[0,e.color.linearGradientColorStops[0],1,e.color.linearGradientColorStops[1]]}else throw new TypeError("Unknown type for color property");this._shape=new Re.Shape(t),this._view=e.view,this._segment=e.segment,this._shape.sceneFunc(this._sceneFunc.bind(this))}He.prototype.getX=function(){return this._shape.getX()};He.prototype.setX=function(e){return this._shape.setX(e)};He.prototype.setSegment=function(e){this._segment=e};He.prototype.setWaveformColor=function(e){if(ki(e))this._shape.fill(e),this._shape.fillLinearGradientStartPointY(null),this._shape.fillLinearGradientEndPointY(null),this._shape.fillLinearGradientColorStops(null);else if(tr(e)){this._shape.fill(null);var t=this._view._height*(e.linearGradientStart/100),i=this._view._height*(e.linearGradientEnd/100);this._shape.fillLinearGradientStartPointY(t),this._shape.fillLinearGradientEndPointY(i),this._shape.fillLinearGradientColorStops([0,e.linearGradientColorStops[0],1,e.linearGradientColorStops[1]])}else throw new TypeError("Unknown type for color property")};He.prototype.fitToView=function(){this.setWaveformColor(this._color)};He.prototype._sceneFunc=function(e){var t=this._view.getFrameOffset(),i=this._view.getWidth(),n=this._view.getHeight();this._drawWaveform(e,this._view.getWaveformData(),t,this._segment?this._view.timeToPixels(this._segment.startTime):t,this._segment?this._view.timeToPixels(this._segment.endTime):t+i,i,n)};He.prototype._drawWaveform=function(e,t,i,n,s,r,a){n<i&&(n=i);var o=i+r;s>o&&(s=o),s>t.length-1&&(s=t.length-1);for(var l=t.channels,h=0,d=Math.floor(a/l),p=0;p<l;p++)p===l-1&&(d=a-(l-1)*d),this._drawChannel(e,t.channel(p),i,n,s,h,d),h+=d};He.prototype._drawChannel=function(e,t,i,n,s,r,a){var o,l,h=this._view.getAmplitudeScale(),d,p;for(e.beginPath(),o=n;o<=s;o++)l=t.min_sample(o),d=o-i+.5,p=r+He.scaleY(l,a,h)+.5,e.lineTo(d,p);for(o=s;o>=n;o--)l=t.max_sample(o),d=o-i+.5,p=r+He.scaleY(l,a,h)+1,e.lineTo(d,p);e.closePath(),e.fillShape(this._shape)};He.prototype.addToLayer=function(e){e.add(this._shape)};He.prototype.destroy=function(){this._shape.destroy(),this._shape=null};He.prototype.on=function(e,t){this._shape.on(e,t)};He.prototype.off=function(e,t){this._shape.off(e,t)};He.scaleY=function(e,t,i){var n=-(t-1)*(e*i+128)/255+(t-1);return _t(Math.floor(n),0,t-1)};var bo="sans-serif",wo=10,So="normal";function Ce(e,t,i,n){this._segment=e,this._peaks=t,this._layer=i,this._view=n,this._label=null,this._startMarker=null,this._endMarker=null,this._color=e.color,this._borderColor=e.borderColor,this._draggable=this._segment.editable&&this._view.isSegmentDraggingEnabled(),this._dragging=!1;var s=n.getViewOptions().segmentOptions;this._overlayOffset=s.overlayOffset,s.overlay||(this._waveformShape=new He({color:e.color,view:n,segment:e})),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._dragBoundFunc=this._dragBoundFunc.bind(this),this._onSegmentDragStart=this._onSegmentDragStart.bind(this),this._onSegmentDragMove=this._onSegmentDragMove.bind(this),this._onSegmentDragEnd=this._onSegmentDragEnd.bind(this),this._onSegmentMarkerDragStart=this._onSegmentMarkerDragStart.bind(this),this._onSegmentMarkerDragMove=this._onSegmentMarkerDragMove.bind(this),this._onSegmentMarkerDragEnd=this._onSegmentMarkerDragEnd.bind(this),this._segmentMarkerDragBoundFunc=this._segmentMarkerDragBoundFunc.bind(this),this._label=this._peaks.options.createSegmentLabel({segment:e,view:this._view.getName(),layer:this._layer,fontFamily:this._peaks.options.fontFamily,fontSize:this._peaks.options.fontSize,fontStyle:this._peaks.options.fontStyle}),this._label&&this._label.hide();var r=this._view.timeToPixelOffset(this._segment.startTime),a=this._view.timeToPixelOffset(this._segment.endTime),o=_t(0,this._view.getHeight()-2*this._overlayOffset);this._overlay=new Re.Group({name:"segment-overlay",segment:this._segment,x:r,y:0,width:a-r,height:this._view.getHeight(),clipX:0,clipY:this._overlayOffset,clipWidth:a-r,clipHeight:o,draggable:this._draggable,dragBoundFunc:this._dragBoundFunc});var l,h,d,p,y;s.overlay&&(l=this._borderColor||s.overlayBorderColor,h=s.overlayBorderWidth,d=this._color||s.overlayColor,p=s.overlayOpacity,y=s.overlayCornerRadius),this._overlayRect=new Re.Rect({x:0,y:this._overlayOffset,width:a-r,stroke:l,strokeWidth:h,height:o,fill:d,opacity:p,cornerRadius:y}),this._overlay.add(this._overlayRect),s.overlay&&(this._overlayText=new Re.Text({x:0,y:this._overlayOffset,text:this._segment.labelText,fontFamily:s.overlayFontFamily,fontSize:s.overlayFontSize,fontStyle:s.overlayFontStyle,fill:s.overlayLabelColor,listening:!1,align:s.overlayLabelAlign,width:a-r,verticalAlign:s.overlayLabelVerticalAlign,height:o,padding:s.overlayLabelPadding}),this._overlay.add(this._overlayText)),this._overlay.on("mouseenter",this._onMouseEnter),this._overlay.on("mouseleave",this._onMouseLeave),this._overlay.on("mousedown",this._onMouseDown),this._overlay.on("mouseup",this._onMouseUp),this._draggable&&(this._overlay.on("dragstart",this._onSegmentDragStart),this._overlay.on("dragmove",this._onSegmentDragMove),this._overlay.on("dragend",this._onSegmentDragEnd)),this._createMarkers()}function wp(e){return new Hn(e)}Ce.prototype._createMarkers=function(){var e=this._layer.isEditingEnabled()&&this._segment.editable,t=this._view.getViewOptions().segmentOptions,i=t.markers?this._peaks.options.createSegmentMarker:wp,n=i({segment:this._segment,editable:e,startMarker:!0,color:t.startMarkerColor,fontFamily:this._peaks.options.fontFamily||bo,fontSize:this._peaks.options.fontSize||wo,fontStyle:this._peaks.options.fontStyle||So,layer:this._layer,view:this._view.getName(),segmentOptions:this._view.getViewOptions().segmentOptions});n&&(this._startMarker=new Qe({segment:this._segment,segmentShape:this,editable:e,startMarker:!0,marker:n,onDragStart:this._onSegmentMarkerDragStart,onDragMove:this._onSegmentMarkerDragMove,onDragEnd:this._onSegmentMarkerDragEnd,dragBoundFunc:this._segmentMarkerDragBoundFunc}));var s=i({segment:this._segment,editable:e,startMarker:!1,color:t.endMarkerColor,fontFamily:this._peaks.options.fontFamily||bo,fontSize:this._peaks.options.fontSize||wo,fontStyle:this._peaks.options.fontStyle||So,layer:this._layer,view:this._view.getName(),segmentOptions:this._view.getViewOptions().segmentOptions});s&&(this._endMarker=new Qe({segment:this._segment,segmentShape:this,editable:e,startMarker:!1,marker:s,onDragStart:this._onSegmentMarkerDragStart,onDragMove:this._onSegmentMarkerDragMove,onDragEnd:this._onSegmentMarkerDragEnd,dragBoundFunc:this._segmentMarkerDragBoundFunc}))};Ce.prototype._dragBoundFunc=function(e){return{x:e.x,y:0}};Ce.prototype.update=function(e){var t=this._view.timeToPixelOffset(this._segment.startTime),i=this._view.timeToPixelOffset(this._segment.endTime),n=i-t,s;(s=this.getStartMarker())&&(s.setX(t-s.getWidth()),e&&s.update(e)),(s=this.getEndMarker())&&(s.setX(i),e&&s.update(e)),this._color=this._segment.color,this._borderColor=this._segment.bordercolor,this._overlayText&&this._overlayText.text(this._segment.labelText);var r=this._view.getViewOptions().segmentOptions;r.overlay?(this._color&&this._overlayRect.fill(this._color),this._borderColor&&this._overlayRect.stroke(this._borderColor)):this._waveformShape.setWaveformColor(this._segment.color),this._dragging||this._overlay&&(this._overlay.setAttrs({x:t,width:n,clipWidth:n<1?1:n}),this._overlayRect.setAttrs({x:0,width:n}),this._overlayText&&this._overlayText.setAttrs({width:n}))};Ce.prototype.getSegment=function(){return this._segment};Ce.prototype.getStartMarker=function(){return this._startMarker};Ce.prototype.getEndMarker=function(){return this._endMarker};Ce.prototype.addToLayer=function(e){this._waveformShape&&this._waveformShape.addToLayer(e),this._label&&e.add(this._label),this._overlay&&e.add(this._overlay),this._startMarker&&this._startMarker.addToLayer(e),this._endMarker&&this._endMarker.addToLayer(e)};Ce.prototype.isDragging=function(){return this._dragging};Ce.prototype._onMouseEnter=function(e){this._label&&(this._label.moveToTop(),this._label.show()),this._peaks.emit("segments.mouseenter",{segment:this._segment,evt:e.evt})};Ce.prototype._onMouseLeave=function(e){this._label&&this._label.hide(),this._peaks.emit("segments.mouseleave",{segment:this._segment,evt:e.evt})};Ce.prototype._onMouseDown=function(e){this._peaks.emit("segments.mousedown",{segment:this._segment,evt:e.evt})};Ce.prototype._onMouseUp=function(e){this._peaks.emit("segments.mouseup",{segment:this._segment,evt:e.evt})};Ce.prototype.segmentClicked=function(e,t){this._moveToTop(),this._peaks.emit("segments."+e,t)};Ce.prototype._moveToTop=function(){this._overlay.moveToTop(),this._layer.moveSegmentMarkersToTop()};Ce.prototype.enableSegmentDragging=function(e){!this._segment.editable||(!this._draggable&&e?(this._overlay.on("dragstart",this._onSegmentDragStart),this._overlay.on("dragmove",this._onSegmentDragMove),this._overlay.on("dragend",this._onSegmentDragEnd)):this._draggable&&!e&&(this._overlay.off("dragstart",this._onSegmentDragStart),this._overlay.off("dragmove",this._onSegmentDragMove),this._overlay.off("dragend",this._onSegmentDragEnd)),this._overlay.draggable(e),this._draggable=e)};Ce.prototype._setPreviousAndNextSegments=function(){this._view.getSegmentDragMode()!=="overlap"?(this._nextSegment=this._peaks.segments.findNextSegment(this._segment),this._previousSegment=this._peaks.segments.findPreviousSegment(this._segment)):(this._nextSegment=null,this._previousSegment=null)};Ce.prototype._onSegmentDragStart=function(e){this._setPreviousAndNextSegments(),this._dragging=!0,this._dragStartX=this._overlay.getX(),this._dragStartTime=this._segment.startTime,this._dragEndTime=this._segment.endTime,this._peaks.emit("segments.dragstart",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt})};Ce.prototype._onSegmentDragMove=function(e){var t=this._overlay.getX(),i=t-this._dragStartX,n=this._view.pixelsToTime(i),s=this._dragStartTime+n,r=this._dragEndTime+n,a=this._segment.endTime-this._segment.startTime,o,l=this._view.getMinSegmentDragWidth(),h=this._view.pixelsToTime(l),d=!1,p=!1;if(s<0&&(s=0,r=a,this._overlay.setX(this._view.timeToPixelOffset(s))),this._previousSegment){var y=this._view.timeToPixelOffset(this._previousSegment.endTime);if(s<this._previousSegment.endTime){if(o=this._view.getSegmentDragMode(),o==="no-overlap"||o==="compress"&&!this._previousSegment.editable)s=this._previousSegment.endTime,r=s+a,this._overlay.setX(y);else if(o==="compress"){var g=s,m=this._previousSegment.startTime+h;g<m&&(g=m,y=this._view.timeToPixelOffset(g),this._overlay.setX(y),s=g,r=s+a),this._previousSegment.update({endTime:g}),d=!0}}}if(this._nextSegment){var b=this._view.timeToPixelOffset(this._nextSegment.startTime);if(r>this._nextSegment.startTime){if(o=this._view.getSegmentDragMode(),o==="no-overlap"||o==="compress"&&!this._nextSegment.editable)r=this._nextSegment.startTime,s=r-a,this._overlay.setX(b-this._overlay.getWidth());else if(o==="compress"){var v=r,x=this._nextSegment.endTime-h;v>x&&(v=x,b=this._view.timeToPixelOffset(v),this._overlay.setX(b-this._overlay.getWidth()),r=v,s=r-a),this._nextSegment.update({startTime:v}),p=!0}}}this._segment._setStartTime(s),this._segment._setEndTime(r),this._peaks.emit("segments.dragged",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt}),d?this._peaks.emit("segments.dragged",{segment:this._previousSegment,marker:!1,startMarker:!1,evt:e.evt}):p&&this._peaks.emit("segments.dragged",{segment:this._nextSegment,marker:!1,startMarker:!1,evt:e.evt})};Ce.prototype._onSegmentDragEnd=function(e){this._dragging=!1,this._peaks.emit("segments.dragend",{segment:this._segment,marker:!1,startMarker:!1,evt:e.evt})};Ce.prototype.moveMarkersToTop=function(){this._startMarker&&this._startMarker.moveToTop(),this._endMarker&&this._endMarker.moveToTop()};Ce.prototype.startDrag=function(){this._endMarker&&this._endMarker.startDrag()};Ce.prototype.stopDrag=function(){this._endMarker&&this._endMarker.stopDrag()};Ce.prototype._onSegmentMarkerDragStart=function(e,t){this._setPreviousAndNextSegments(),this._moveToTop(),this._startMarkerX=this._startMarker.getX(),this._endMarkerX=this._endMarker.getX(),this._peaks.emit("segments.dragstart",{segment:this._segment,marker:!0,startMarker:e.isStartMarker(),evt:t.evt})};Ce.prototype._onSegmentMarkerDragMove=function(e,t){e.isStartMarker()?(this._segmentStartMarkerDragMove(e,t),e.update({startTime:this._segment.startTime})):(this._segmentEndMarkerDragMove(e,t),e.update({endTime:this._segment.endTime}))};function ah(e){return e.endTime-e.startTime}Ce.prototype._segmentStartMarkerDragMove=function(e,t){var i=this._view.getWidth(),n=this._startMarker.getX(),s=this._endMarker.getX(),r=this._view.pixelsToTime(50),a=this._view.getMinSegmentDragWidth(),o=this._endMarker.getX()-a;o>i&&(o=i);var l=!1,h=!1,d;if(this._previousSegment&&(d=this._view.timeToPixelOffset(this._previousSegment.endTime),l=d>=0),n>o)e.setX(o),this._overlay.clipWidth(o-s),a===0&&o<i?this._segment._setStartTime(this._segment.endTime):this._segment._setStartTime(this._view.pixelOffsetToTime(o));else if(this._previousSegment&&l){var p=this._view.getSegmentDragMode(),y=p==="no-overlap"||p==="compress"&&!this._previousSegment.editable,g=p==="compress"&&this._previousSegment.editable;if(n<=d){if(y)e.setX(d),this._overlay.clipWidth(d-s),this._segment._setStartTime(this._previousSegment.endTime);else if(g){var m=ah(this._previousSegment);m<r&&(r=m);var b=this._view.timeToPixelOffset(this._previousSegment.startTime+r);n<b&&(n=b),e.setX(n),this._overlay.clipWidth(s-n),this._segment._setStartTime(this._view.pixelOffsetToTime(n)),this._previousSegment.update({endTime:this._view.pixelOffsetToTime(n)}),h=!0}}else n<0&&(n=0),e.setX(n),this._overlay.clipWidth(s-n),this._segment._setStartTime(this._view.pixelOffsetToTime(n))}else n<0&&(n=0),e.setX(n),this._overlay.clipWidth(s-n),this._segment._setStartTime(this._view.pixelOffsetToTime(n));this._peaks.emit("segments.dragged",{segment:this._segment,marker:!0,startMarker:!0,evt:t.evt}),h&&this._peaks.emit("segments.dragged",{segment:this._previousSegment,marker:!0,startMarker:!1,evt:t.evt})};Ce.prototype._segmentEndMarkerDragMove=function(e,t){var i=this._view.getWidth(),n=this._startMarker.getX(),s=this._endMarker.getX(),r=this._view.pixelsToTime(50),a=this._view.getMinSegmentDragWidth(),o=this._startMarker.getX()+a;o<0&&(o=0);var l=!1,h=!1,d;if(this._nextSegment&&(d=this._view.timeToPixelOffset(this._nextSegment.startTime),l=d<i),s<o)e.setX(o),this._overlay.clipWidth(o-n),a===0&&o>0?this._segment._setEndTime(this._segment.startTime):this._segment._setEndTime(this._view.pixelOffsetToTime(o));else if(this._nextSegment&&l){var p=this._view.getSegmentDragMode(),y=p==="no-overlap"||p==="compress"&&!this._nextSegment.editable,g=p==="compress"&&this._nextSegment.editable;if(s>=d){if(y)e.setX(d),this._overlay.clipWidth(d-n),this._segment._setEndTime(this._nextSegment.startTime);else if(g){var m=ah(this._nextSegment);m<r&&(r=m);var b=this._view.timeToPixelOffset(this._nextSegment.endTime-r);s>b&&(s=b),e.setX(s),this._overlay.clipWidth(s-n),this._segment._setEndTime(this._view.pixelOffsetToTime(s)),this._nextSegment.update({startTime:this._view.pixelOffsetToTime(s)}),h=!0}}else s>i&&(s=i),e.setX(s),this._overlay.clipWidth(s-n),this._segment._setEndTime(this._view.pixelOffsetToTime(s))}else s>i&&(s=i),e.setX(s),this._overlay.clipWidth(s-n),this._segment._setEndTime(this._view.pixelOffsetToTime(s));this._peaks.emit("segments.dragged",{segment:this._segment,marker:!0,startMarker:!1,evt:t.evt}),h&&this._peaks.emit("segments.dragged",{segment:this._nextSegment,marker:!0,startMarker:!0,evt:t.evt})};Ce.prototype._onSegmentMarkerDragEnd=function(e,t){this._nextSegment=null,this._previousSegment=null;var i=e.isStartMarker();this._peaks.emit("segments.dragend",{segment:this._segment,marker:!0,startMarker:i,evt:t.evt})};Ce.prototype._segmentMarkerDragBoundFunc=function(e,t){return{x:t.x,y:e.getAbsolutePosition().y}};Ce.prototype.fitToView=function(){if(this._startMarker&&this._startMarker.fitToView(),this._endMarker&&this._endMarker.fitToView(),this._overlay){var e=this._view.getHeight(),t=_t(0,e-this._overlayOffset*2);this._overlay.setAttrs({y:0,height:e,clipY:this._overlayOffset,clipHeight:t}),this._overlayRect.setAttrs({y:this._overlayOffset,height:t}),this._overlayText&&this._overlayText.setAttrs({y:this._overlayOffset,height:t})}};Ce.prototype.destroy=function(){this._waveformShape&&this._waveformShape.destroy(),this._label&&this._label.destroy(),this._startMarker&&this._startMarker.destroy(),this._endMarker&&this._endMarker.destroy(),this._overlay&&this._overlay.destroy()};function Ae(e,t,i){this._peaks=e,this._view=t,this._allowEditing=i,this._segmentShapes={},this._layer=new Re.Layer,this._onSegmentsUpdate=this._onSegmentsUpdate.bind(this),this._onSegmentsAdd=this._onSegmentsAdd.bind(this),this._onSegmentsRemove=this._onSegmentsRemove.bind(this),this._onSegmentsRemoveAll=this._onSegmentsRemoveAll.bind(this),this._onSegmentsDragged=this._onSegmentsDragged.bind(this),this._peaks.on("segments.update",this._onSegmentsUpdate),this._peaks.on("segments.add",this._onSegmentsAdd),this._peaks.on("segments.remove",this._onSegmentsRemove),this._peaks.on("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.on("segments.dragged",this._onSegmentsDragged)}Ae.prototype.addToStage=function(e){e.add(this._layer)};Ae.prototype.enableEditing=function(e){this._allowEditing=e};Ae.prototype.isEditingEnabled=function(){return this._allowEditing};Ae.prototype.enableSegmentDragging=function(e){for(var t in this._segmentShapes)re(this._segmentShapes,t)&&this._segmentShapes[t].enableSegmentDragging(e)};Ae.prototype.getSegmentShape=function(e){return this._segmentShapes[e.pid]};Ae.prototype.formatTime=function(e){return this._view.formatTime(e)};Ae.prototype._onSegmentsUpdate=function(e,t){var i=this._view.getStartTime(),n=this._view.getEndTime(),s=this.getSegmentShape(e),r=e.isVisible(i,n);s&&!r?s.isDragging()||this._removeSegment(e):!s&&r?s=this._updateSegment(e):s&&r&&s.update(t)};Ae.prototype._onSegmentsAdd=function(e){var t=this,i=t._view.getStartTime(),n=t._view.getEndTime();e.segments.forEach(function(s){if(s.isVisible(i,n)){var r=t._addSegmentShape(s);r.update()}}),this.moveSegmentMarkersToTop()};Ae.prototype._onSegmentsRemove=function(e){var t=this;e.segments.forEach(function(i){t._removeSegment(i)})};Ae.prototype._onSegmentsRemoveAll=function(){this._layer.removeChildren(),this._segmentShapes={}};Ae.prototype._onSegmentsDragged=function(e){this._updateSegment(e.segment)};Ae.prototype._createSegmentShape=function(e){return new Ce(e,this._peaks,this,this._view)};Ae.prototype._addSegmentShape=function(e){var t=this._createSegmentShape(e);return t.addToLayer(this._layer),this._segmentShapes[e.pid]=t,t};Ae.prototype.updateSegments=function(e,t){var i=this._peaks.segments.find(e,t);i.forEach(this._updateSegment.bind(this)),this._removeInvisibleSegments(e,t)};Ae.prototype._updateSegment=function(e){var t=this.getSegmentShape(e);t||(t=this._addSegmentShape(e)),t.update()};Ae.prototype._removeInvisibleSegments=function(e,t){for(var i in this._segmentShapes)if(re(this._segmentShapes,i)){var n=this._segmentShapes[i].getSegment();n.isVisible(e,t)||this._removeSegment(n)}};Ae.prototype._removeSegment=function(e){var t=this._segmentShapes[e.pid];t&&(t.destroy(),delete this._segmentShapes[e.pid])};Ae.prototype.moveSegmentMarkersToTop=function(){for(var e in this._segmentShapes)re(this._segmentShapes,e)&&this._segmentShapes[e].moveMarkersToTop()};Ae.prototype.setVisible=function(e){this._layer.setVisible(e)};Ae.prototype.segmentClicked=function(e,t){var i=this._segmentShapes[t.segment.pid];i&&i.segmentClicked(e,t)};Ae.prototype.destroy=function(){this._peaks.off("segments.update",this._onSegmentsUpdate),this._peaks.off("segments.add",this._onSegmentsAdd),this._peaks.off("segments.remove",this._onSegmentsRemove),this._peaks.off("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.off("segments.dragged",this._onSegmentsDragged)};Ae.prototype.fitToView=function(){for(var e in this._segmentShapes)if(re(this._segmentShapes,e)){var t=this._segmentShapes[e];t.fitToView()}};Ae.prototype.draw=function(){this._layer.draw()};Ae.prototype.getHeight=function(){return this._layer.getHeight()};function ui(e,t){var i=this;i._axisGridlineColor=t.axisGridlineColor,i._axisLabelColor=t.axisLabelColor,i._showAxisLabels=t.showAxisLabels,t.formatAxisTime?i._formatAxisTime=t.formatAxisTime:i._formatAxisTime=function(n){return ga(n,0)},i._axisLabelFont=ui._buildFontString(t.fontFamily,t.fontSize,t.fontStyle),i._axisShape=new Re.Shape({sceneFunc:function(s){i._drawAxis(s,e)}})}ui._buildFontString=function(e,t,i){return t||(t=11),e||(e="sans-serif"),i||(i="normal"),i+" "+t+"px "+e};ui.prototype.addToLayer=function(e){e.add(this._axisShape)};ui.prototype.showAxisLabels=function(e){this._showAxisLabels=e};ui.prototype._getAxisLabelScale=function(e){for(var t=1,i=[1,2,5,10,20,30],n=60,s=0,r;;){r=t*i[s];var a=e.timeToPixels(r);if(a<n)++s===i.length&&(t*=60,s=0);else break}return r};ui.prototype._drawAxis=function(e,t){var i=t.getStartTime(),n=10,s=this._getAxisLabelScale(t),r=Zf(i,s),a=r-i,o=t.timeToPixels(a);e.setAttr("strokeStyle",this._axisGridlineColor),e.setAttr("lineWidth",1),e.setAttr("font",this._axisLabelFont),e.setAttr("fillStyle",this._axisLabelColor),e.setAttr("textAlign","left"),e.setAttr("textBaseline","bottom");for(var l=t.getWidth(),h=t.getHeight(),d=r;;){var p=o+t.timeToPixels(d-r);if(p>=l)break;if(e.beginPath(),e.moveTo(p+.5,0),e.lineTo(p+.5,0+n),e.moveTo(p+.5,h),e.lineTo(p+.5,h-n),e.stroke(),this._showAxisLabels){var y=this._formatAxisTime(d),g=e.measureText(y).width,m=p-g/2,b=h-1-n;m>=0&&e.fillText(y,m,b)}d+=s}};function jt(e,t){this._stage=e,this._handlers=t,this._dragging=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseUp=this._mouseUp.bind(this),this._mouseMove=this._mouseMove.bind(this),this._stage.on("mousedown",this._mouseDown),this._stage.on("touchstart",this._mouseDown),this._lastMouseClientX=null}jt.prototype._mouseDown=function(e){var t=null;if(!(e.type==="mousedown"&&e.evt.button!==0)){var i=_a(e.target);if(i&&i.attrs.draggable){if(i.attrs.name==="point-marker"||i.attrs.name==="segment-marker")return;i.attrs.name==="segment-overlay"&&(t=i)}if(this._lastMouseClientX=Math.floor(e.type==="touchstart"?e.evt.touches[0].clientX:e.evt.clientX),this._handlers.onMouseDown){var n=this._getMousePosX(this._lastMouseClientX);this._handlers.onMouseDown(n,t)}window.addEventListener("mousemove",this._mouseMove,{capture:!1,passive:!0}),window.addEventListener("touchmove",this._mouseMove,{capture:!1,passive:!0}),window.addEventListener("mouseup",this._mouseUp,{capture:!1,passive:!0}),window.addEventListener("touchend",this._mouseUp,{capture:!1,passive:!0}),window.addEventListener("blur",this._mouseUp,{capture:!1,passive:!0})}};jt.prototype._mouseMove=function(e){var t=Math.floor(e.type==="touchmove"?e.changedTouches[0].clientX:e.clientX);if(t!==this._lastMouseClientX&&(this._lastMouseClientX=t,this._dragging=!0,this._handlers.onMouseMove)){var i=this._getMousePosX(t);this._handlers.onMouseMove(i)}};jt.prototype._mouseUp=function(e){var t;if(e.type==="touchend"?(t=Math.floor(e.changedTouches[0].clientX),e.cancelable&&e.preventDefault()):t=Math.floor(e.clientX),this._handlers.onMouseUp){var i=this._getMousePosX(t);this._handlers.onMouseUp(i)}window.removeEventListener("mousemove",this._mouseMove,{capture:!1}),window.removeEventListener("touchmove",this._mouseMove,{capture:!1}),window.removeEventListener("mouseup",this._mouseUp,{capture:!1}),window.removeEventListener("touchend",this._mouseUp,{capture:!1}),window.removeEventListener("blur",this._mouseUp,{capture:!1}),this._dragging=!1};jt.prototype._getMousePosX=function(e){var t=this._stage.getContainer().getBoundingClientRect();return e-t.left};jt.prototype.isDragging=function(){return this._dragging};jt.prototype.destroy=function(){this._stage.off("mousedown",this._mouseDown),this._stage.off("touchstart",this._mouseDown)};function Vn(e,t){this._peaks=e,this._view=t,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._mouseDragHandler=new jt(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove})}Vn.prototype._onMouseDown=function(e){this._seek(e)};Vn.prototype._onMouseMove=function(e){this._seek(e)};Vn.prototype._seek=function(e){if(!!this._view.isSeekEnabled()){e=_t(e,0,this._width);var t=this._view.pixelsToTime(e),i=this._peaks.player.getDuration();t>i&&(t=i),this._view.updatePlayheadTime(t),this._peaks.player.seek(t)}};Vn.prototype.destroy=function(){this._mouseDragHandler.destroy()};function he(e,t,i){var n=this;n._originalWaveformData=e,n._container=t,n._peaks=i,n._options=i.options,n._viewOptions=i.options.overview,n._onTimeUpdate=n._onTimeUpdate.bind(this),n._onPlaying=n._onPlaying.bind(this),n._onPause=n._onPause.bind(this),n._onZoomviewDisplaying=n._onZoomviewDisplaying.bind(this),i.on("player.timeupdate",n._onTimeUpdate),i.on("player.playing",n._onPlaying),i.on("player.pause",n._onPause),i.on("zoomview.displaying",n._onZoomviewDisplaying),n._amplitudeScale=1,n._timeLabelPrecision=n._viewOptions.timeLabelPrecision,n._enableSeek=!0,n._viewOptions.formatPlayheadTime?n._formatPlayheadTime=n._viewOptions.formatPlayheadTime:n._formatPlayheadTime=function(r){return ga(r,n._timeLabelPrecision)},n._width=t.clientWidth,n._height=t.clientHeight,n._data=e,n._width!==0&&n._resampleAndSetWaveformData(e,n._width),Re.showWarnings=!1,n._stage=new Re.Stage({container:t,width:n._width,height:n._height}),n._waveformColor=n._viewOptions.waveformColor,n._playedWaveformColor=n._viewOptions.playedWaveformColor,n._createWaveform(),n._viewOptions.enableSegments&&(n._segmentsLayer=new Ae(i,n,!1),n._segmentsLayer.addToStage(n._stage)),n._viewOptions.enablePoints&&(n._pointsLayer=new ke(i,n,!1),n._pointsLayer.addToStage(n._stage)),n._highlightLayer=new di(n,n._viewOptions),n._highlightLayer.addToStage(n._stage),n._createAxisLabels(),n._playheadLayer=new it({player:n._peaks.player,view:n,showPlayheadTime:n._viewOptions.showPlayheadTime,playheadColor:n._viewOptions.playheadColor,playheadTextColor:n._viewOptions.playheadTextColor,playheadFontFamily:n._viewOptions.fontFamily,playheadFontSize:n._viewOptions.fontSize,playheadFontStyle:n._viewOptions.fontStyle}),n._playheadLayer.addToStage(n._stage);var s=n._peaks.player.getCurrentTime();n._playheadLayer.updatePlayheadTime(s),n._mouseDragHandler=new Vn(i,n),n._onClick=n._onClick.bind(n),n._onDblClick=n._onDblClick.bind(n),n._onContextMenu=n._onContextMenu.bind(n),n._stage.on("click",n._onClick),n._stage.on("dblclick",n._onDblClick),n._stage.on("contextmenu",n._onContextMenu)}he.prototype.enableSeek=function(e){this._enableSeek=e};he.prototype.isSeekEnabled=function(){return this._enableSeek};he.prototype._onClick=function(e){this._clickHandler(e,"click")};he.prototype._onDblClick=function(e){this._clickHandler(e,"dblclick")};he.prototype._onContextMenu=function(e){this._clickHandler(e,"contextmenu")};he.prototype._clickHandler=function(e,t){var i=!0;if(e.target!==this._stage){var n=_a(e.target);if(n){if(n.attrs.name==="point-marker"){var s=n.getAttr("point");s&&this._peaks.emit("points."+t,{point:s,evt:e.evt,preventViewEvent:function(){i=!1}})}else if(n.attrs.name==="segment-overlay"){var r=n.getAttr("segment");if(r){var a={segment:r,evt:e.evt,preventViewEvent:function(){i=!1}};this._segmentsLayer&&this._segmentsLayer.segmentClicked(t,a)}}}}if(i){var o=e.evt.layerX,l=this.pixelsToTime(o);this._peaks.emit("overview."+t,{time:l,evt:e.evt})}};he.prototype.isSegmentDraggingEnabled=function(){return!1};he.prototype.getName=function(){return"overview"};he.prototype._onTimeUpdate=function(e){this._playheadLayer.updatePlayheadTime(e)};he.prototype._onPlaying=function(e){this._playheadLayer.updatePlayheadTime(e)};he.prototype._onPause=function(e){this._playheadLayer.stop(e)};he.prototype._onZoomviewDisplaying=function(e,t){this.showHighlight(e,t)};he.prototype.updatePlayheadTime=function(e){this._playheadLayer.updatePlayheadTime(e)};he.prototype.showHighlight=function(e,t){this._highlightLayer.showHighlight(e,t)};he.prototype.setWaveformData=function(e){this._originalWaveformData=e,this._width!==0?this._resampleAndSetWaveformData(e,this._width):this._data=e,this._updateWaveform()};he.prototype._resampleAndSetWaveformData=function(e,t){try{return this._data=e.resample({width:t}),!0}catch{return this._data=e,!1}};he.prototype.playheadPosChanged=function(e){this._playedWaveformShape&&(this._playedSegment.endTime=e,this._unplayedSegment.startTime=e,this._waveformLayer.draw())};he.prototype.timeToPixels=function(e){return Math.floor(e*this._data.sample_rate/this._data.scale)};he.prototype.timeToPixelOffset=he.prototype.timeToPixels;he.prototype.pixelsToTime=function(e){return e*this._data.scale/this._data.sample_rate};he.prototype.pixelOffsetToTime=he.prototype.pixelsToTime;he.prototype.getFrameOffset=function(){return 0};he.prototype.getStartTime=function(){return 0};he.prototype.getEndTime=function(){return this._getDuration()};he.prototype.getWidth=function(){return this._width};he.prototype.getHeight=function(){return this._height};he.prototype._getDuration=function(){return this._peaks.player.getDuration()};he.prototype.setAmplitudeScale=function(e){if(!Ts(e)||!Yl(e))throw new Error("view.setAmplitudeScale(): Scale must be a valid number");this._amplitudeScale=e,this._waveformLayer.draw(),this._segmentsLayer&&this._segmentsLayer.draw()};he.prototype.getAmplitudeScale=function(){return this._amplitudeScale};he.prototype.getWaveformData=function(){return this._data};he.prototype._createWaveformShapes=function(){if(this._waveformShape||(this._waveformShape=new He({color:this._waveformColor,view:this}),this._waveformShape.addToLayer(this._waveformLayer)),this._playedWaveformColor&&!this._playedWaveformShape){var e=this._peaks.player.getCurrentTime();this._playedSegment={startTime:0,endTime:e},this._unplayedSegment={startTime:e,endTime:this._getDuration()},this._waveformShape.setSegment(this._unplayedSegment),this._playedWaveformShape=new He({color:this._playedWaveformColor,view:this,segment:this._playedSegment}),this._playedWaveformShape.addToLayer(this._waveformLayer)}};he.prototype._destroyPlayedWaveformShape=function(){this._waveformShape.setSegment(null),this._playedWaveformShape.destroy(),this._playedWaveformShape=null,this._playedSegment=null,this._unplayedSegment=null};he.prototype._createWaveform=function(){this._waveformLayer=new Re.Layer({listening:!1}),this._createWaveformShapes(),this._stage.add(this._waveformLayer)};he.prototype._createAxisLabels=function(){this._axisLayer=new Re.Layer({listening:!1}),this._axis=new ui(this,this._viewOptions),this._axis.addToLayer(this._axisLayer),this._stage.add(this._axisLayer)};he.prototype.removeHighlightRect=function(){this._highlightLayer.removeHighlight()};he.prototype._updateWaveform=function(){this._waveformLayer.draw(),this._axisLayer.draw();var e=this._peaks.player.getCurrentTime();this._playheadLayer.updatePlayheadTime(e),this._highlightLayer.updateHighlight();var t=0,i=this.pixelsToTime(this._width);this._pointsLayer&&this._pointsLayer.updatePoints(t,i),this._segmentsLayer&&this._segmentsLayer.updateSegments(t,i)};he.prototype.setWaveformColor=function(e){this._waveformColor=e,this._waveformShape.setWaveformColor(e)};he.prototype.setPlayedWaveformColor=function(e){this._playedWaveformColor=e,e?(this._playedWaveformShape||this._createWaveformShapes(),this._playedWaveformShape.setWaveformColor(e)):this._playedWaveformShape&&this._destroyPlayedWaveformShape()};he.prototype.showPlayheadTime=function(e){this._playheadLayer.showPlayheadTime(e)};he.prototype.setTimeLabelPrecision=function(e){this._timeLabelPrecision=e,this._playheadLayer.updatePlayheadText()};he.prototype.formatTime=function(e){return this._formatPlayheadTime(e)};he.prototype.showAxisLabels=function(e){this._axis.showAxisLabels(e),this._axisLayer.draw()};he.prototype.enableMarkerEditing=function(e){this._segmentsLayer&&this._segmentsLayer.enableEditing(e),this._pointsLayer&&this._pointsLayer.enableEditing(e)};he.prototype.fitToContainer=function(){if(!(this._container.clientWidth===0&&this._container.clientHeight===0)){var e=!1;this._container.clientWidth!==this._width&&(this._width=this._container.clientWidth,this._stage.setWidth(this._width),this._resampleAndSetWaveformData(this._originalWaveformData,this._width)&&(e=!0)),this._container.clientHeight!==this._height&&(this._height=this._container.clientHeight,this._stage.setHeight(this._height),this._waveformShape.fitToView(),this._playheadLayer.fitToView(),this._segmentsLayer&&this._segmentsLayer.fitToView(),this._pointsLayer&&this._pointsLayer.fitToView(),this._highlightLayer.fitToView()),e&&this._updateWaveform()}};he.prototype.getViewOptions=function(){return this._viewOptions};he.prototype.destroy=function(){this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.pause",this._onPause),this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("zoomview.displaying",this._onZoomviewDisplaying),this._mouseDragHandler.destroy(),this._playheadLayer.destroy(),this._segmentsLayer&&this._segmentsLayer.destroy(),this._pointsLayer&&this._pointsLayer.destroy(),this._stage&&(this._stage.destroy(),this._stage=null)};function rn(e,t){this._peaks=e,this._view=t,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._mouseDragHandler=new jt(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseUp:this._onMouseUp})}rn.prototype.isDragging=function(){return this._mouseDragHandler.isDragging()};rn.prototype._onMouseDown=function(e,t){this._segment=t,this._segment&&(this._segmentIsDraggable=this._segment.draggable(),this._segment.draggable(!1));var i=this._view.pixelsToTime(e+this._view.getFrameOffset());this._peaks.segments.setInserting(!0),this._insertSegment=this._peaks.segments.add({startTime:i,endTime:i,editable:!0}),this._insertSegmentShape=this._view._segmentsLayer.getSegmentShape(this._insertSegment),this._insertSegmentShape&&(this._insertSegmentShape.moveMarkersToTop(),this._insertSegmentShape.startDrag())};rn.prototype._onMouseMove=function(){};rn.prototype._onMouseUp=function(){this._insertSegmentShape&&(this._insertSegmentShape.stopDrag(),this._insertSegmentShape=null),this._segment&&this._segmentIsDraggable&&this._segment.draggable(!0),this._peaks.emit("segments.insert",{segment:this._insertSegment}),this._peaks.segments.setInserting(!1)};rn.prototype.destroy=function(){this._mouseDragHandler.destroy()};function fi(e,t){this._peaks=e,this._view=t,this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._mouseDragHandler=new jt(t._stage,{onMouseDown:this._onMouseDown,onMouseMove:this._onMouseMove,onMouseUp:this._onMouseUp})}fi.prototype.isDragging=function(){return this._mouseDragHandler.isDragging()};fi.prototype._onMouseDown=function(e,t){this._segment=t,this._seeking=!1;var i=this._view.getPlayheadOffset();this._view.isSeekEnabled()&&Math.abs(e-i)<=this._view.getPlayheadClickTolerance()&&(this._seeking=!0,this._segment&&(this._segmentIsDraggable=this._segment.draggable(),this._segment.draggable(!1))),this._seeking?this._seek(e):(this._initialFrameOffset=this._view.getFrameOffset(),this._mouseDownX=e)};fi.prototype._onMouseMove=function(e){if(!(this._segment&&!this._seeking))if(this._seeking){e=_t(e,0,this._view.getWidth());var t=this._view.pixelsToTime(e+this._view.getFrameOffset());this._seek(t)}else{var i=this._mouseDownX-e,n=this._initialFrameOffset+i;n!==this._initialFrameOffset&&this._view.updateWaveform(n)}};fi.prototype._onMouseUp=function(){if(!this._seeking&&this._view._enableSeek&&!this._mouseDragHandler.isDragging()){var e=this._view.pixelOffsetToTime(this._mouseDownX);this._seek(e)}this._segment&&this._seeking&&this._segmentIsDraggable&&this._segment.draggable(!0)};fi.prototype._seek=function(e){var t=this._peaks.player.getDuration();e>t&&(e=t),this._view.updatePlayheadTime(e),this._peaks.player.seek(e)};fi.prototype.destroy=function(){this._mouseDragHandler.destroy()};function Y(e,t,i){var n=this;n._container=t,n._peaks=i,n._options=i.options,n._viewOptions=n._options.zoomview,n._enableWaveformCache=n._options.waveformCache,n._originalWaveformData=e,n._initWaveformCache(),n._onTimeUpdate=n._onTimeUpdate.bind(n),n._onPlaying=n._onPlaying.bind(n),n._onPause=n._onPause.bind(n),n._onKeyboardLeft=n._onKeyboardLeft.bind(n),n._onKeyboardRight=n._onKeyboardRight.bind(n),n._onKeyboardShiftLeft=n._onKeyboardShiftLeft.bind(n),n._onKeyboardShiftRight=n._onKeyboardShiftRight.bind(n),n._peaks.on("player.timeupdate",n._onTimeUpdate),n._peaks.on("player.playing",n._onPlaying),n._peaks.on("player.pause",n._onPause),n._peaks.on("keyboard.left",n._onKeyboardLeft),n._peaks.on("keyboard.right",n._onKeyboardRight),n._peaks.on("keyboard.shift_left",n._onKeyboardShiftLeft),n._peaks.on("keyboard.shift_right",n._onKeyboardShiftRight),n._autoScroll=n._viewOptions.autoScroll,n._autoScrollOffset=n._viewOptions.autoScrollOffset,n._amplitudeScale=1,n._timeLabelPrecision=n._viewOptions.timeLabelPrecision,n._enableSeek=!0,n._enableSegmentDragging=!1,n._segmentDragMode="overlap",n._minSegmentDragWidth=0,n._insertSegmentShape=null,n._viewOptions.formatPlayheadTime?n._formatPlayheadTime=n._viewOptions.formatPlayheadTime:n._formatPlayheadTime=function(a){return ga(a,n._timeLabelPrecision)},n._playheadClickTolerance=n._viewOptions.playheadClickTolerance,n._data=null,n._pixelLength=0;var s=i.zoom.getZoomLevel();n._zoomLevelAuto=!1,n._zoomLevelSeconds=null,n._resampleData({scale:s}),n._width=t.clientWidth,n._height=t.clientHeight,n._frameOffset=0,n._stage=new Re.Stage({container:t,width:n._width,height:n._height}),n._waveformColor=n._viewOptions.waveformColor,n._playedWaveformColor=n._viewOptions.playedWaveformColor,n._createWaveform(),n._viewOptions.enableSegments&&(n._segmentsLayer=new Ae(i,n,!0),n._segmentsLayer.addToStage(n._stage)),n._viewOptions.enablePoints&&(n._pointsLayer=new ke(i,n,!0),n._pointsLayer.addToStage(n._stage)),n._createAxisLabels(),n._playheadLayer=new it({player:n._peaks.player,view:n,showPlayheadTime:n._viewOptions.showPlayheadTime,playheadColor:n._viewOptions.playheadColor,playheadTextColor:n._viewOptions.playheadTextColor,playheadFontFamily:n._viewOptions.fontFamily,playheadFontSize:n._viewOptions.fontSize,playheadFontStyle:n._viewOptions.fontStyle}),n._playheadLayer.addToStage(n._stage);var r=n._peaks.player.getCurrentTime();n._syncPlayhead(r),n._mouseDragHandler=new fi(n._peaks,n),n._onWheel=n._onWheel.bind(n),n._onWheelCaptureVerticalScroll=n._onWheelCaptureVerticalScroll.bind(n),n.setWheelMode(n._viewOptions.wheelMode),n._onClick=n._onClick.bind(n),n._onDblClick=n._onDblClick.bind(n),n._onContextMenu=n._onContextMenu.bind(n),n._stage.on("click",n._onClick),n._stage.on("dblclick",n._onDblClick),n._stage.on("contextmenu",n._onContextMenu)}Y.prototype._initWaveformCache=function(){this._enableWaveformCache&&(this._waveformData=new Map,this._waveformData.set(this._originalWaveformData.scale,this._originalWaveformData),this._waveformScales=[this._originalWaveformData.scale])};Y.prototype.enableSeek=function(e){this._enableSeek=e};Y.prototype.isSeekEnabled=function(){return this._enableSeek};Y.prototype._onClick=function(e){this._clickHandler(e,"click")};Y.prototype._onDblClick=function(e){this._clickHandler(e,"dblclick")};Y.prototype._onContextMenu=function(e){this._clickHandler(e,"contextmenu")};Y.prototype._clickHandler=function(e,t){var i=!0;if(e.target!==this._stage){var n=_a(e.target);if(n){if(n.attrs.name==="point-marker"){var s=n.getAttr("point");s&&this._peaks.emit("points."+t,{point:s,evt:e.evt,preventViewEvent:function(){i=!1}})}else if(n.attrs.name==="segment-overlay"){var r=n.getAttr("segment");if(r){var a={segment:r,evt:e.evt,preventViewEvent:function(){i=!1}};this._segmentsLayer&&this._segmentsLayer.segmentClicked(t,a)}}}}if(i){var o=e.evt.layerX,l=this.pixelOffsetToTime(o);this._peaks.emit("zoomview."+t,{time:l,evt:e.evt})}};Y.prototype.setWheelMode=function(e,t){if(t||(t={}),e!==this._wheelMode||t.captureVerticalScroll!==this._captureVerticalScroll)switch(this._stage.off("wheel"),this._wheelMode=e,this._captureVerticalScroll=t.captureVerticalScroll,e){case"scroll":t.captureVerticalScroll?this._stage.on("wheel",this._onWheelCaptureVerticalScroll):this._stage.on("wheel",this._onWheel);break}};Y.prototype._onWheel=function(e){var t=e.evt,i;if(t.shiftKey)if(t.deltaY!==0)i=t.deltaY;else if(t.deltaX!==0)i=t.deltaX;else return;else{if(Math.abs(t.deltaX)<Math.abs(t.deltaY))return;i=t.deltaX}t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._width),t.preventDefault();var n=_t(this._frameOffset+Math.floor(i),0,this._pixelLength-this._width);this.updateWaveform(n)};Y.prototype._onWheelCaptureVerticalScroll=function(e){var t=e.evt,i=Math.abs(t.deltaX)<Math.abs(t.deltaY)?t.deltaY:t.deltaX;t.preventDefault();var n=_t(this._frameOffset+Math.floor(i),0,this._pixelLength-this._width);this.updateWaveform(n)};Y.prototype.setWaveformDragMode=function(e){this._viewOptions.enableSegments&&(this._mouseDragHandler.destroy(),e==="insert-segment"?this._mouseDragHandler=new rn(this._peaks,this):this._mouseDragHandler=new fi(this._peaks,this))};Y.prototype.enableSegmentDragging=function(e){this._enableSegmentDragging=e,this._segmentsLayer&&this._segmentsLayer.enableSegmentDragging(e)};Y.prototype.isSegmentDraggingEnabled=function(){return this._enableSegmentDragging};Y.prototype.setSegmentDragMode=function(e){this._segmentDragMode=e};Y.prototype.getSegmentDragMode=function(){return this._segmentDragMode};Y.prototype.getName=function(){return"zoomview"};Y.prototype._onTimeUpdate=function(e){this._mouseDragHandler.isDragging()||this._syncPlayhead(e)};Y.prototype._onPlaying=function(e){this._playheadLayer.updatePlayheadTime(e)};Y.prototype._onPause=function(e){this._playheadLayer.stop(e)};Y.prototype._onKeyboardLeft=function(){this._keyboardScroll(-1,!1)};Y.prototype._onKeyboardRight=function(){this._keyboardScroll(1,!1)};Y.prototype._onKeyboardShiftLeft=function(){this._keyboardScroll(-1,!0)};Y.prototype._onKeyboardShiftRight=function(){this._keyboardScroll(1,!0)};Y.prototype._keyboardScroll=function(e,t){var i;t?i=e*this._width:i=e*this.timeToPixels(this._options.nudgeIncrement),this.scrollWaveform({pixels:i})};Y.prototype.setWaveformData=function(e){this._originalWaveformData=e,this._initWaveformCache()};Y.prototype.getPlayheadOffset=function(){return this._playheadLayer.getPlayheadPixel()-this._frameOffset};Y.prototype.getPlayheadClickTolerance=function(){return this._playheadClickTolerance};Y.prototype.playheadPosChanged=function(e){this._playedWaveformShape&&(this._playedSegment.endTime=e,this._unplayedSegment.startTime=e,this._drawWaveformLayer())};Y.prototype.updatePlayheadTime=function(e){this._playheadLayer.updatePlayheadTime(e)};Y.prototype._syncPlayhead=function(e){if(this._playheadLayer.updatePlayheadTime(e),this._autoScroll){var t=this.timeToPixels(e),i=this._frameOffset+this._width-this._autoScrollOffset;(t>=i||t<this._frameOffset)&&(this._frameOffset=t-this._autoScrollOffset,this._frameOffset<0&&(this._frameOffset=0),this.updateWaveform(this._frameOffset))}};Y.prototype._getScale=function(e){return e*this._data.sample_rate/this._width};function Sp(e){return re(e,"scale")&&e.scale==="auto"||re(e,"seconds")&&e.seconds==="auto"}Y.prototype.setZoom=function(e){var t;if(Sp(e)){var i=this._peaks.player.getDuration();if(!si(i))return!1;this._zoomLevelAuto=!0,this._zoomLevelSeconds=null,t=this._getScale(i)}else{if(re(e,"scale"))this._zoomLevelSeconds=null,t=e.scale;else if(re(e,"seconds")){if(!si(e.seconds))return!1;this._zoomLevelSeconds=e.seconds,t=this._getScale(e.seconds)}this._zoomLevelAuto=!1}t<this._originalWaveformData.scale&&(this._peaks._logger("peaks.zoomview.setZoom(): zoom level must be at least "+this._originalWaveformData.scale),t=this._originalWaveformData.scale);var n=this._peaks.player.getCurrentTime(),s,r=this.getPlayheadOffset();r>=0&&r<this._width?s=n:(r=Math.floor(this._width/2),s=this.pixelOffsetToTime(r));var a=this._scale;this._resampleData({scale:t});var o=this.timeToPixels(s);return this._frameOffset=o-r,this.updateWaveform(this._frameOffset),this._playheadLayer.zoomLevelChanged(),this._playheadLayer.updatePlayheadTime(n),this._peaks.emit("zoom.update",{currentZoom:t,previousZoom:a}),!0};Y.prototype._resampleData=function(e){var t=e.scale;if(this._enableWaveformCache){if(!this._waveformData.has(t)){for(var i=this._originalWaveformData,n=0;n<this._waveformScales.length&&this._waveformScales[n]<t;n++)i=this._waveformData.get(this._waveformScales[n]);this._waveformData.set(t,i.resample(e)),this._waveformScales.push(t),this._waveformScales.sort(function(s,r){return s-r})}this._data=this._waveformData.get(t)}else this._data=this._originalWaveformData.resample(e);this._scale=this._data.scale,this._pixelLength=this._data.length};Y.prototype.getStartTime=function(){return this.pixelOffsetToTime(0)};Y.prototype.getEndTime=function(){return this.pixelOffsetToTime(this._width)};Y.prototype.setStartTime=function(e){e<0&&(e=0),this._zoomLevelAuto&&(e=0),this.updateWaveform(this.timeToPixels(e))};Y.prototype.timeToPixels=function(e){return Math.floor(e*this._data.sample_rate/this._data.scale)};Y.prototype.pixelsToTime=function(e){return e*this._data.scale/this._data.sample_rate};Y.prototype.pixelOffsetToTime=function(e){var t=this._frameOffset+e;return t*this._data.scale/this._data.sample_rate};Y.prototype.timeToPixelOffset=function(e){return Math.floor(e*this._data.sample_rate/this._data.scale)-this._frameOffset};Y.prototype.getFrameOffset=function(){return this._frameOffset};Y.prototype.getWidth=function(){return this._width};Y.prototype.getHeight=function(){return this._height};Y.prototype.getPixelLength=function(){return this._pixelLength};Y.prototype._getDuration=function(){return this._peaks.player.getDuration()};Y.prototype.setAmplitudeScale=function(e){if(!Ts(e)||!Yl(e))throw new Error("view.setAmplitudeScale(): Scale must be a valid number");this._amplitudeScale=e,this._drawWaveformLayer(),this._segmentsLayer&&this._segmentsLayer.draw()};Y.prototype.getAmplitudeScale=function(){return this._amplitudeScale};Y.prototype.getWaveformData=function(){return this._data};Y.prototype._createWaveformShapes=function(){if(this._waveformShape||(this._waveformShape=new He({color:this._waveformColor,view:this}),this._waveformShape.addToLayer(this._waveformLayer)),this._playedWaveformColor&&!this._playedWaveformShape){var e=this._peaks.player.getCurrentTime();this._playedSegment={startTime:0,endTime:e},this._unplayedSegment={startTime:e,endTime:this._getDuration()},this._waveformShape.setSegment(this._unplayedSegment),this._playedWaveformShape=new He({color:this._playedWaveformColor,view:this,segment:this._playedSegment}),this._playedWaveformShape.addToLayer(this._waveformLayer)}};Y.prototype._destroyPlayedWaveformShape=function(){this._waveformShape.setSegment(null),this._playedWaveformShape.destroy(),this._playedWaveformShape=null,this._playedSegment=null,this._unplayedSegment=null};Y.prototype._createWaveform=function(){this._waveformLayer=new Re.Layer({listening:!1}),this._createWaveformShapes(),this._stage.add(this._waveformLayer),this._peaks.emit("zoomview.displaying",0,this.getEndTime())};Y.prototype._createAxisLabels=function(){this._axisLayer=new Re.Layer({listening:!1}),this._axis=new ui(this,this._viewOptions),this._axis.addToLayer(this._axisLayer),this._stage.add(this._axisLayer)};Y.prototype.scrollWaveform=function(e){var t;if(re(e,"pixels"))t=Math.floor(e.pixels);else if(re(e,"seconds"))t=this.timeToPixels(e.seconds);else throw new TypeError("view.scrollWaveform(): Missing umber of pixels or seconds");this.updateWaveform(this._frameOffset+t)};Y.prototype.updateWaveform=function(e){var t;this._pixelLength<this._width?(e=0,t=this._width):t=this._pixelLength-this._width,e=_t(e,0,t),this._frameOffset=e;var i=this._playheadLayer.getPlayheadPixel();this._playheadLayer.updatePlayheadTime(this.pixelsToTime(i)),this._drawWaveformLayer(),this._axisLayer.draw();var n=this.getStartTime(),s=this.getEndTime();this._pointsLayer&&this._pointsLayer.updatePoints(n,s),this._segmentsLayer&&this._segmentsLayer.updateSegments(n,s),this._peaks.emit("zoomview.displaying",n,s)};Y.prototype._drawWaveformLayer=function(){this._waveformLayer.draw()};Y.prototype.setWaveformColor=function(e){this._waveformColor=e,this._waveformShape.setWaveformColor(e)};Y.prototype.setPlayedWaveformColor=function(e){this._playedWaveformColor=e,e?(this._playedWaveformShape||this._createWaveformShapes(),this._playedWaveformShape.setWaveformColor(e)):this._playedWaveformShape&&this._destroyPlayedWaveformShape()};Y.prototype.showPlayheadTime=function(e){this._playheadLayer.showPlayheadTime(e)};Y.prototype.setTimeLabelPrecision=function(e){this._timeLabelPrecision=e,this._playheadLayer.updatePlayheadText()};Y.prototype.formatTime=function(e){return this._formatPlayheadTime(e)};Y.prototype.showAxisLabels=function(e){this._axis.showAxisLabels(e),this._axisLayer.draw()};Y.prototype.enableAutoScroll=function(e,t){this._autoScroll=e,re(t,"offset")&&(this._autoScrollOffset=t.offset)};Y.prototype.enableMarkerEditing=function(e){this._segmentsLayer&&this._segmentsLayer.enableEditing(e),this._pointsLayer&&this._pointsLayer.enableEditing(e)};Y.prototype.getMinSegmentDragWidth=function(){return this._insertSegmentShape?0:this._minSegmentDragWidth};Y.prototype.setMinSegmentDragWidth=function(e){this._minSegmentDragWidth=e};Y.prototype.fitToContainer=function(){if(!(this._container.clientWidth===0&&this._container.clientHeight===0)){var e=!1;if(this._container.clientWidth!==this._width){this._width=this._container.clientWidth,this._stage.width(this._width);var t=!1,i;if(this._zoomLevelAuto?(t=!0,i={width:this._width}):this._zoomLevelSeconds!==null&&(t=!0,i={scale:this._getScale(this._zoomLevelSeconds)}),t)try{this._resampleData(i),e=!0}catch{}}this._container.clientHeight!==this._height&&(this._height=this._container.clientHeight,this._stage.height(this._height),this._waveformShape.fitToView(),this._playheadLayer.fitToView(),this._segmentsLayer&&this._segmentsLayer.fitToView(),this._pointsLayer&&this._pointsLayer.fitToView()),e&&this.updateWaveform(this._frameOffset)}};Y.prototype.getStage=function(){return this._stage};Y.prototype.getSegmentsLayer=function(){return this._segmentsLayer};Y.prototype.getViewOptions=function(){return this._viewOptions};Y.prototype.destroy=function(){this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("player.playing",this._onPlaying),this._peaks.off("player.pause",this._onPause),this._peaks.off("keyboard.left",this._onKeyboardLeft),this._peaks.off("keyboard.right",this._onKeyboardRight),this._peaks.off("keyboard.shift_left",this._onKeyboardShiftLeft),this._peaks.off("keyboard.shift_right",this._onKeyboardShiftRight),this._mouseDragHandler.destroy(),this._playheadLayer.destroy(),this._segmentsLayer&&this._segmentsLayer.destroy(),this._pointsLayer&&this._pointsLayer.destroy(),this._stage&&(this._stage.destroy(),this._stage=null)};function rt(e,t,i){this._waveformData=e,this._container=t,this._peaks=i,this._options=i.options.scrollbar,this._zoomview=i.views.getView("zoomview"),this._dragBoundFunc=this._dragBoundFunc.bind(this),this._onScrollboxDragStart=this._onScrollboxDragStart.bind(this),this._onScrollboxDragMove=this._onScrollboxDragMove.bind(this),this._onScrollboxDragEnd=this._onScrollboxDragEnd.bind(this),this._onZoomviewDisplaying=this._onZoomviewDisplaying.bind(this),this._onScrollbarClick=this._onScrollbarClick.bind(this),i.on("zoomview.displaying",this._onZoomviewDisplaying),this._width=t.clientWidth,this._height=t.clientHeight,this._stage=new Re.Stage({container:t,width:this._width,height:this._height}),this._layer=new Re.Layer,this._stage.on("click",this._onScrollbarClick),this._stage.add(this._layer),this._color=this._options.color,this._scrollboxX=0,this._minScrollboxWidth=this._options.minWidth,this._offsetY=0,this._scrollbox=new Re.Group({draggable:!0,dragBoundFunc:this._dragBoundFunc}),this._scrollboxRect=new nn({x:this._scrollboxX,y:this._offsetY,width:0,height:this._height,fill:this._color}),this._scrollbox.add(this._scrollboxRect),this._setScrollboxWidth(),this._scrollbox.on("dragstart",this._onScrollboxDragStart),this._scrollbox.on("dragmove",this._onScrollboxDragMove),this._scrollbox.on("dragend",this._onScrollboxDragEnd),this._layer.add(this._scrollbox),this._layer.draw()}rt.prototype.setZoomview=function(e){this._zoomview=e,this._updateScrollbarWidthAndPosition()};rt.prototype._setScrollboxWidth=function(){this._zoomview?(this._scrollboxWidth=Math.floor(this._width*this._zoomview.pixelsToTime(this._zoomview.getWidth())/this._peaks.player.getDuration()),this._scrollboxWidth<this._minScrollboxWidth&&(this._scrollboxWidth=this._minScrollboxWidth)):this._scrollboxWidth=this._width,this._scrollboxRect.width(this._scrollboxWidth)};rt.prototype._getScrollbarRange=function(){return this._width-this._scrollboxWidth};rt.prototype._dragBoundFunc=function(e){return{x:e.x,y:0}};rt.prototype._onScrollboxDragStart=function(){this._dragging=!0};rt.prototype._onScrollboxDragEnd=function(){this._dragging=!1};rt.prototype._onScrollboxDragMove=function(){var e=this._getScrollbarRange(),t=_t(this._scrollbox.x(),0,e);this._scrollbox.x(t),t!==this._scrollboxX&&(this._scrollboxX=t,this._zoomview&&this._updateWaveform(t))};rt.prototype._onZoomviewDisplaying=function(){this._dragging||this._updateScrollbarWidthAndPosition()};rt.prototype._updateScrollbarWidthAndPosition=function(){if(this._setScrollboxWidth(),this._zoomview){var e=this._zoomview.getStartTime(),t=this._zoomview.getPixelLength()-this._zoomview.getWidth(),i=Math.floor(this._zoomview.timeToPixels(e)*this._getScrollbarRange()/t);this._scrollbox.x(i),this._layer.draw()}};rt.prototype._onScrollbarClick=function(e){if(e.target===this._stage&&this._zoomview){var t=Math.floor(e.evt.layerX-this._scrollboxWidth/2);t<0&&(t=0),this._updateWaveform(t)}};rt.prototype._updateWaveform=function(e){var t=Math.floor((this._zoomview.getPixelLength()-this._zoomview.getWidth())*e/this._getScrollbarRange());this._zoomview.updateWaveform(t)};rt.prototype.fitToContainer=function(){this._container.clientWidth===0&&this._container.clientHeight===0||(this._container.clientWidth!==this._width&&(this._width=this._container.clientWidth,this._stage.width(this._width),this._updateScrollbarWidthAndPosition()),this._height=this._container.clientHeight,this._stage.height(this._height))};rt.prototype.destroy=function(){this._layer.destroy(),this._stage.destroy(),this._stage=null};function Kt(e){this._peaks=e,this._overview=null,this._zoomview=null,this._scrollbar=null}Kt.prototype.createOverview=function(e){if(this._overview)return this._overview;var t=this._peaks.getWaveformData();return this._overview=new he(t,e,this._peaks),this._zoomview&&this._overview.showHighlight(this._zoomview.getStartTime(),this._zoomview.getEndTime()),this._overview};Kt.prototype.createZoomview=function(e){if(this._zoomview)return this._zoomview;var t=this._peaks.getWaveformData();return this._zoomview=new Y(t,e,this._peaks),this._scrollbar&&this._scrollbar.setZoomview(this._zoomview),this._zoomview};Kt.prototype.createScrollbar=function(e){var t=this._peaks.getWaveformData();return this._scrollbar=new rt(t,e,this._peaks),this._scrollbar};Kt.prototype.destroyOverview=function(){!this._overview||!this._zoomview||(this._overview.destroy(),this._overview=null)};Kt.prototype.destroyZoomview=function(){!this._zoomview||!this._overview||(this._zoomview.destroy(),this._zoomview=null,this._overview.removeHighlightRect())};Kt.prototype.destroy=function(){this._overview&&(this._overview.destroy(),this._overview=null),this._zoomview&&(this._zoomview.destroy(),this._zoomview=null),this._scrollbar&&(this._scrollbar.destroy(),this._scrollbar=null)};Kt.prototype.getView=function(e){if(pt(e))return this._overview&&this._zoomview?null:this._overview?this._overview:this._zoomview?this._zoomview:null;switch(e){case"overview":return this._overview;case"zoomview":return this._zoomview;default:return null}};Kt.prototype.getScrollbar=function(){return this._scrollbar};function Di(e,t){this._peaks=e,this._zoomLevels=t,this._zoomLevelIndex=0}Di.prototype.setZoomLevels=function(e){this._zoomLevels=e,this.setZoom(0,!0)};Di.prototype.zoomIn=function(){this.setZoom(this._zoomLevelIndex-1)};Di.prototype.zoomOut=function(){this.setZoom(this._zoomLevelIndex+1)};Di.prototype.setZoom=function(e,t){if(e>=this._zoomLevels.length&&(e=this._zoomLevels.length-1),e<0&&(e=0),!(!t&&e===this._zoomLevelIndex)){this._zoomLevelIndex=e;var i=this._peaks.views.getView("zoomview");!i||i.setZoom({scale:this._zoomLevels[e]})}};Di.prototype.getZoom=function(){return this._zoomLevelIndex};Di.prototype.getZoomLevel=function(){return this._zoomLevels[this._zoomLevelIndex]};var Co="withCredentials"in new XMLHttpRequest;function Bt(e){this._peaks=e}Bt.prototype.init=function(e,t){if(e.dataUri&&(e.webAudio||e.audioContext)||e.waveformData&&(e.webAudio||e.audioContext)||e.dataUri&&e.waveformData){t(new TypeError("Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data."));return}if(e.audioContext&&(this._peaks._logger("Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead"),e.webAudio={audioContext:e.audioContext}),e.dataUri)return this._getRemoteWaveformData(e,t);if(e.waveformData)return this._buildWaveformFromLocalData(e,t);if(e.webAudio)return e.webAudio.audioBuffer?this._buildWaveformDataFromAudioBuffer(e,t):this._buildWaveformDataUsingWebAudio(e,t);t(new Error("Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data"))};Bt.prototype._getRemoteWaveformData=function(e,t){var i=this,n=null,s=null,r;if(Pn(e.dataUri))n=e.dataUri;else{t(new TypeError("Peaks.init(): The dataUri option must be an object"));return}if(["ArrayBuffer","JSON"].some(function(a){if(window[a])return s=a.toLowerCase(),r=n[s],Boolean(r)}),!r){t(new Error("Peaks.init(): Unable to determine a compatible dataUri format for this browser"));return}i._xhr=i._createXHR(r,s,e.withCredentials,function(a){if(this.readyState===4){if(this.status!==200){t(new Error("Unable to fetch remote data. HTTP status "+this.status));return}i._xhr=null;var o=gt.create(a.target.response);if(o.channels!==1&&o.channels!==2){t(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"));return}else if(o.bits!==8){t(new Error("Peaks.init(): 16-bit waveform data is not supported"));return}t(null,o)}},function(){t(new Error("XHR failed"))},function(){t(new Error("XHR aborted"))}),i._xhr.send()};Bt.prototype._buildWaveformFromLocalData=function(e,t){var i=null,n=null;if(Pn(e.waveformData))i=e.waveformData;else{t(new Error("Peaks.init(): The waveformData option must be an object"));return}if(Pn(i.json)?n=i.json:Jf(i.arraybuffer)&&(n=i.arraybuffer),!n){t(new Error("Peaks.init(): Unable to determine a compatible waveformData format"));return}try{var s=gt.create(n);if(s.channels!==1&&s.channels!==2){t(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"));return}else if(s.bits!==8){t(new Error("Peaks.init(): 16-bit waveform data is not supported"));return}t(null,s)}catch(r){t(r)}};Bt.prototype._buildWaveformDataUsingWebAudio=function(e,t){var i=this,n=window.AudioContext||window.webkitAudioContext;if(!(e.webAudio.audioContext instanceof n)){t(new TypeError("Peaks.init(): The webAudio.audioContext option must be a valid AudioContext"));return}var s=e.webAudio;s.scale!==e.zoomLevels[0]&&(s.scale=e.zoomLevels[0]);var r=i._peaks.options.mediaElement.currentSrc;r?i._requestAudioAndBuildWaveformData(r,s,e.withCredentials,t):i._peaks.once("player.canplay",function(){i._requestAudioAndBuildWaveformData(i._peaks.options.mediaElement.currentSrc,s,e.withCredentials,t)})};Bt.prototype._buildWaveformDataFromAudioBuffer=function(e,t){var i=e.webAudio;i.scale!==e.zoomLevels[0]&&(i.scale=e.zoomLevels[0]);var n={audio_buffer:i.audioBuffer,split_channels:i.multiChannel,scale:i.scale,disable_worker:!0};gt.createFromAudio(n,t)};Bt.prototype._requestAudioAndBuildWaveformData=function(e,t,i,n){var s=this;if(!e){s._peaks._logger("Peaks.init(): The mediaElement src is invalid");return}s._xhr=s._createXHR(e,"arraybuffer",i,function(r){if(this.readyState===4){if(this.status!==200){n(new Error("Unable to fetch remote data. HTTP status "+this.status));return}s._xhr=null;var a={audio_context:t.audioContext,array_buffer:r.target.response,split_channels:t.multiChannel,scale:t.scale};gt.createFromAudio(a,n)}},function(){n(new Error("XHR failed"))},function(){n(new Error("XHR aborted"))}),s._xhr.send()};Bt.prototype.abort=function(){this._xhr&&this._xhr.abort()};Bt.prototype._createXHR=function(e,t,i,n,s,r){var a=new XMLHttpRequest;if(a.open("GET",e,!0),Co)try{a.responseType=t}catch{}return a.onload=n,a.onerror=s,Co&&i&&(a.withCredentials=!0),a.addEventListener("abort",r),a};function ai(){return Kl.call(this),this.options={zoomLevels:[512,1024,2048,4096],waveformCache:!0,mediaElement:null,mediaUrl:null,dataUri:null,withCredentials:!1,waveformData:null,webAudio:null,nudgeIncrement:1,pointMarkerColor:"#39cccc",createSegmentMarker:gp,createSegmentLabel:_p,createPointMarker:mp,logger:console.error.bind(console)},this}ai.prototype=Object.create(Kl.prototype);var ks={playheadColor:"#111111",playheadTextColor:"#aaaaaa",axisGridlineColor:"#cccccc",showAxisLabels:!0,axisLabelColor:"#aaaaaa",fontFamily:"sans-serif",fontSize:11,fontStyle:"normal",timeLabelPrecision:2,enablePoints:!0,enableSegments:!0},To={playheadClickTolerance:3,waveformColor:"rgba(0, 225, 128, 1)",wheelMode:"none",autoScroll:!0,autoScrollOffset:100},Eo={waveformColor:"rgba(0, 0, 0, 0.2)",highlightColor:"#aaaaaa",highlightStrokeColor:"transparent",highlightOpacity:.3,highlightOffset:11,highlightCornerRadius:2},Cp={overlay:!1,markers:!0,startMarkerColor:"#aaaaaa",endMarkerColor:"#aaaaaa",waveformColor:"#0074d9",overlayColor:"#ff0000",overlayOpacity:.3,overlayBorderColor:"#ff0000",overlayBorderWidth:2,overlayCornerRadius:5,overlayOffset:25,overlayLabelAlign:"left",overlayLabelVerticalAlign:"top",overlayLabelPadding:8,overlayLabelColor:"#000000",overlayFontFamily:"sans-serif",overlayFontSize:12,overlayFontStyle:"normal"},Tp={color:"#888888",minWidth:50};function Ep(e){var t={};e.overview&&e.overview.showPlayheadTime&&(t.showPlayheadTime=e.overview.showPlayheadTime);var i=["container","waveformColor","playedWaveformColor","playheadColor","playheadTextColor","formatPlayheadTime","timeLabelPrecision","axisGridlineColor","showAxisLabels","axisLabelColor","formatAxisTime","fontFamily","fontSize","fontStyle","highlightColor","highlightStrokeColor","highlightOpacity","highlightCornerRadius","highlightOffset","enablePoints","enableSegments"];return i.forEach(function(n){e.overview&&re(e.overview,n)?t[n]=e.overview[n]:re(e,n)?t[n]=e[n]:re(t,n)||(re(Eo,n)?t[n]=Eo[n]:re(ks,n)&&(t[n]=ks[n]))}),t}function kp(e){var t={};e.showPlayheadTime?t.showPlayheadTime=e.showPlayheadTime:e.zoomview&&e.zoomview.showPlayheadTime&&(t.showPlayheadTime=e.zoomview.showPlayheadTime);var i=["container","waveformColor","playedWaveformColor","playheadColor","playheadTextColor","formatPlayheadTime","playheadClickTolerance","timeLabelPrecision","axisGridlineColor","showAxisLabels","axisLabelColor","formatAxisTime","fontFamily","fontSize","fontStyle","wheelMode","autoScroll","autoScrollOffset","enablePoints","enableSegments"];return i.forEach(function(n){e.zoomview&&re(e.zoomview,n)?t[n]=e.zoomview[n]:re(e,n)?t[n]=e[n]:re(t,n)||(re(To,n)?t[n]=To[n]:re(ks,n)&&(t[n]=ks[n]))}),t}function xp(e){if(!re(e,"scrollbar"))return null;var t={},i=["container","color","minWidth"];return i.forEach(function(n){re(e.scrollbar,n)?t[n]=e.scrollbar[n]:t[n]=Tp[n]}),t}function us(e,t){for(var i in t)re(t,i)&&re(e,i)&&(e[i]=t[i]);return e}function Ap(e,t){e.segmentOptions={},yn(e.segmentOptions,Cp),t.segmentOptions&&us(e.segmentOptions,t.segmentOptions),e.zoomview.segmentOptions={},yn(e.zoomview.segmentOptions,e.segmentOptions),t.zoomview&&t.zoomview.segmentOptions&&us(e.zoomview.segmentOptions,t.zoomview.segmentOptions),e.overview.segmentOptions={},yn(e.overview.segmentOptions,e.segmentOptions),t.overview&&t.overview.segmentOptions&&us(e.overview.segmentOptions,t.overview.segmentOptions)}function ko(e){var t=e.zoomview.container,i=e.overview.container;if(!Wr(t)&&!Wr(i))return new TypeError("Peaks.init(): The zoomview and/or overview container options must be valid HTML elements");if(t&&(t.clientWidth<=0||t.clientHeight<=0))return new Error("Peaks.init(): Please ensure that the zoomview container is visible and has non-zero width and height");if(i&&(i.clientWidth<=0||i.clientHeight<=0))return new Error("Peaks.init(): Please ensure that the overview container is visible and has non-zero width and height")}ai.init=function(e,t){var i=new ai,n=i._setOptions(e);if(n){t(n);return}if(n=ko(i.options),n){t(n);return}var s=null;if(i.options.scrollbar){if(s=i.options.scrollbar.container,!Wr(s)){t(new TypeError("Peaks.init(): The scrollbar container option must be a valid HTML element"));return}if(s.clientWidth<=0){t(new TypeError("Peaks.init(): Please ensure that the scrollbar container is visible and has non-zero width"));return}}e.keyboard&&(i._keyboardHandler=new ma(i));var r=e.player?e.player:new mt(i.options.mediaElement);return i.player=new dt(i,r),i.segments=new Fe(i),i.points=new Ze(i),i.zoom=new Di(i,i.options.zoomLevels),i.views=new Kt(i),i._waveformBuilder=new Bt(i),i.player.init(i).then(function(){i._waveformBuilder.init(i.options,function(a,o){if(a){t&&t(a);return}if(a=ko(i.options),a){t&&t(a);return}i._waveformBuilder=null,i._waveformData=o;var l=i.options.zoomview.container,h=i.options.overview.container;h&&i.views.createOverview(h),l&&i.views.createZoomview(l),s&&i.views.createScrollbar(s),e.segments&&i.segments.add(e.segments),e.points&&i.points.add(e.points),e.emitCueEvents&&(i._cueEmitter=new xt(i)),setTimeout(function(){i.emit("peaks.ready")},0),t(null,i)})}).catch(function(a){t&&t(a)}),i};ai.prototype._setOptions=function(e){if(!Pn(e))return new TypeError("Peaks.init(): The options parameter should be an object");if(!e.player){if(!e.mediaElement)return new Error("Peaks.init(): Missing mediaElement option");if(!(e.mediaElement instanceof HTMLMediaElement))return new TypeError("Peaks.init(): The mediaElement option should be an HTMLMediaElement")}if(e.logger&&!Qf(e.logger))return new TypeError("Peaks.init(): The logger option should be a function");if(e.segments&&!Array.isArray(e.segments))return new TypeError("Peaks.init(): options.segments must be an array of segment objects");if(e.points&&!Array.isArray(e.points))return new TypeError("Peaks.init(): options.points must be an array of point objects");if(us(this.options,e),this.options.overview=Ep(e),this.options.zoomview=kp(e),this.options.scrollbar=xp(e),Ap(this.options,e),Array.isArray(this.options.zoomLevels)){if(this.options.zoomLevels.length===0)return new Error("Peaks.init(): The zoomLevels array must not be empty");if(!qf(this.options.zoomLevels))return new Error("Peaks.init(): The zoomLevels array must be sorted in ascending order")}else return new TypeError("Peaks.init(): The zoomLevels option should be an array");this._logger=this.options.logger};ai.prototype.setSource=function(e,t){var i=this;i.player._setSource(e).then(function(){e.zoomLevels||(e.zoomLevels=i.options.zoomLevels),i._waveformBuilder=new Bt(i),i._waveformBuilder.init(e,function(n,s){if(n){t(n);return}i._waveformBuilder=null,i._waveformData=s,["overview","zoomview"].forEach(function(r){var a=i.views.getView(r);a&&a.setWaveformData(s)}),i.zoom.setZoomLevels(e.zoomLevels),t()})}).catch(function(n){t(n)})};ai.prototype.getWaveformData=function(){return this._waveformData};ai.prototype.destroy=function(){this._waveformBuilder&&this._waveformBuilder.abort(),this._keyboardHandler&&this._keyboardHandler.destroy(),this.views&&this.views.destroy(),this.player&&this.player.destroy(),this._cueEmitter&&this._cueEmitter.destroy()};const Pp=["title"],Ip=["src"],Mp=["src"],Op={class:"peaks-controls"},Dp=300,ct=Et({__name:"AudioPeaks",props:{src:{},video:{type:Boolean},eager:{type:Boolean},zoomviewElementId:{},zoomviewElement:{},overviewElementId:{},overviewElement:{},mediaElementId:{},mediaElement:{},options:{}},emits:["error"],setup(e,{expose:t,emit:i}){const n=e;zd(S=>({"652dc135":G.value,"6c5d31d4":E.value}));const s=vt(void 0),r=vt(null),a=vt(null),o=vt(null),l=vt(null),h=vt(null),d=vt(null),p=vt(null),y=vt(void 0);t({peaksInstance:s}),Us(()=>{n.eager&&x()}),fl(()=>{k()});const g=uu(r);Ti(g,async()=>{!n.eager&&g.value==!0&&s.value==null&&x()},{immediate:!0});function m(S){console.error(S),v.value=S,i("error",v.value)}function b(S){console.error(S),v.value=new Error(S.message),i("error",v.value)}const v=Dn(null);function x(){var J;console.debug("AudioPeaks::createPeaksInstance:options:",n.options);const S=C(n.overviewElement,n.overviewElementId,a,o,"div");c(S);const O=C(n.zoomviewElement,n.zoomviewElementId,l,h,"div");c(O);const U=C(n.mediaElement,n.mediaElementId,d,p,"audio,video");U!=null&&U.error&&b(U.error),U&&(U==null||U.addEventListener("error",se=>{m(se.error)})),n.options&&(n.options.zoomview?n.options.zoomview.container=O:n.options.zoomview={container:O},n.options.overview?n.options.overview.container=S:n.options.overview={container:S},((J=n.options.webAudio)==null?void 0:J.audioContext)||n.options.dataUri||n.options.waveformData||(n.options.webAudio={audioContext:new AudioContext}),n.options.mediaElement=U);const j=n.options?n.options:{overview:{container:S},zoomview:{container:O},mediaElement:U,webAudio:{audioContext:new AudioContext},zoomLevels:[256,512,1024,2048,4096]};ai.init(j,function(se,oe){se&&m(se),s.value=oe,y.value=oe==null?void 0:oe.zoom.getZoom()})}function k(){var S;(S=s.value)==null||S.destroy()}function c(S){S&&(S.style.minHeight=40+"px",S.style.minWidth=100+"%")}cu(r,()=>{u()});const u=lu(()=>{var U,j;console.debug("AudioPeaks::debouncedOverviewResize");const S=(U=s.value)==null?void 0:U.views.getView("overview");S==null||S.fitToContainer();const O=(j=s.value)==null?void 0:j.views.getView("zoomview");O==null||O.fitToContainer()},Dp);function C(S,O,U,j,J){if(S)return console.debug("AudioPeaks::Found elm: ",S),S;if(O)return console.debug("AudioPeaks::Found element by id: ",O),document.getElementById(""+O);const se=U.value;if(se)return console.debug("AudioPeaks::Found element by Ref: ",se),se;const oe=j.value;if(oe){const P=oe.querySelector(J);if(P)return console.debug("AudioPeaks::Found element by first in slot: ",P),P}}function D(){var S,O;(S=s.value)==null||S.zoom.zoomIn(),y.value=(O=s.value)==null?void 0:O.zoom.getZoom()}function V(){var S,O;(S=s.value)==null||S.zoom.zoomOut(),y.value=(O=s.value)==null?void 0:O.zoom.getZoom()}const E=wt(()=>{var S,O,U;return(U=(O=(S=n.options)==null?void 0:S.zoomview)==null?void 0:O.waveformColor)!=null?U:"rgba(0, 225, 128, 1)"}),G=wt(()=>{var S,O,U;return(U=(O=(S=n.options)==null?void 0:S.overview)==null?void 0:O.waveformColor)!=null?U:"rgba(0, 0, 0, 0.2)"});return(S,O)=>{var U;return Ee(),De("div",{ref_key:"audioPeaks",ref:r,class:Ls(["peaks",{hasError:v.value!==null}]),title:(U=v.value)==null?void 0:U.message},[f("div",{ref_key:"overviewSlot",ref:o},[!n.overviewElementId&&!n.overviewElement?qn(S.$slots,"overview",{key:0},()=>[f("div",{class:"peaks-overview",ref_key:"overview",ref:a},null,512)]):pn("",!0)],512),f("div",{ref_key:"zoomviewSlot",ref:h},[!n.zoomviewElementId&&!n.zoomviewElement?qn(S.$slots,"zoomview",{key:0},()=>[f("div",{class:"peaks-zoomview",ref_key:"zoomview",ref:l},null,512)]):pn("",!0)],512),f("div",{ref_key:"mediaSlot",ref:p},[!n.mediaElementId&&!n.mediaElement?qn(S.$slots,"default",{key:0},()=>[S.video?(Ee(),De("video",{key:0,class:"peaks",ref_key:"media",ref:d,controls:""},[f("source",{src:S.src},null,8,Ip),ae(" Your browser does not support the video element. ")],512)):(Ee(),De("audio",{key:1,class:"peaks peaks-audio",ref_key:"media",ref:d,controls:""},[f("source",{src:S.src},null,8,Mp),ae(" Your browser does not support the audio element. ")],512))]):pn("",!0)],512),qn(S.$slots,"controls",{},()=>[f("div",Op,[f("button",{onClick:O[0]||(O[0]=j=>D())},"Zoom in"),ae("\xA0 "),f("button",{onClick:O[1]||(O[1]=j=>V())},"Zoom out"),ae("\xA0 "),f("span",null,"Zoom level: "+zr(y.value),1)])])],10,Pp)}}});const Lp=f("p",null,[ae("vue-peaks provides three modes of operation: "),f("ul",null,[f("li",null,[f("b",null,"Simple mode"),ae(": just set the media URL, and all views are automatically rendered by default")]),f("li",null,[f("b",null,"Slot mode"),ae(": the media element and additional views are provided using named slots")]),f("li",null,[f("b",null,"External mode"),ae(": the media element and additional views are referenced by id or HTML element references ")])])],-1),Rp={class:"columns is-desktop"},Fp={class:"column"},Np=f("p",null,[f("b",null,"Preferred: "),ae("Import the compiled component:")],-1),Bp=f("p",null,"Note: Even if you do not use the default (or any other) styles, the overview and zoomview panes still do have a small minimum size set.",-1),Wp={class:"column"},Gp=f("p",null,[f("b",null,"Alternative:"),ae(" The package does not currently properly export types, see issue "),f("a",{href:"https://github.com/suterma/vue-peaks/issues/17"},"[#17]"),ae(". To get TypeScript support, you can also directly include the vue component as SFC:")],-1),Up=f("h4",{class:"title is-4"},"Simple mode",-1),Hp={class:"columns is-desktop"},Vp={class:"column"},zp=f("p",null,[ae(" By default, the "),f("a",{href:"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaks.vue"},"AudioPeaks Vue component"),ae(" template creates a new audio element, with the given source URL, and both view panes (overview and zoom, which are rendered with a default size) and a controls pane. A new audio context is created and used to compute the waveform. ")],-1),$p={class:"column"},Xp={class:"box"},jp=f("h4",{class:"title is-4"},"Slot mode",-1),Kp={class:"columns is-desktop"},Yp=f("div",{class:"column"},[f("p",null,[ae(" To provide your own media element, just place it inside the "),f("span",{class:"code"},"AudioPeaks"),ae(" element (a.k.a. the slot). Vue-peaks will use the first media element in the slot. A new audio context is created and used to compute the waveform. ")])],-1),Zp={class:"column"},qp={class:"column is-narrow"},Jp={class:"box"},Qp=f("span",{class:"tag is-danger is-multiline"},"You can also add additional HTML content.",-1),eg=f("audio",{controls:""},[f("source",{src:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"})],-1),tg=f("h4",{class:"title is-4"},"External mode",-1),ig=f("h5",{class:"title is-5"},"External media element only",-1),ng={class:"columns is-desktop"},sg=f("div",{class:"column"},[f("p",null," If you already have an existing media element, you can reference it by it's (unique) id, or as an HTMLMediaElement object. A new audio context is created and used to compute the waveform. ")],-1),rg={class:"column"},ag={class:"column is-narrow"},og={class:"box"},lg=f("audio",{controls:"",id:"externalMediaElement"},[f("source",{src:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"})],-1),hg=f("div",null,[f("span",{class:"tag is-danger"}," Using the external media element above.")],-1),cg=f("h5",{class:"title is-5"},"Having all elements externally",-1),dg={class:"columns is-desktop"},ug=f("div",{class:"column"},[f("p",null," There are also properties available for an external overview area and an external zoom view area. "),f("p",null," Note however, that the default styles and the progress indication are not applied to any external HTML elements. ")],-1),fg={class:"column"},pg={class:"column is-narrow"},gg={class:"box"},_g=Ft('<div id="externalBasicOverviewDivId">External overview</div><div id="externalBasicZoomviewDivId">External zoomview</div><audio controls id="externalBasicMediaElement"><source src="https://lib.replayer.app/lidija_roos-not_for_sale.mp3"></audio><div><span class="tag is-danger"> Using the external overview, zoomview and audio element above.</span></div>',4),mg=f("template",null,null,-1),vg=Et({__name:"ExampleWithTheBasics",setup(e){return(t,i)=>{const n=kt("highlightjs");return Ee(),De(je,null,[Lp,f("div",Rp,[f("div",Fp,[Np,ee(n,{language:"vue-typescript",code:`import { AudioPeaks } from 'vue-peaks';
// default styles for the AudioPeaks component
import 'vue-peaks/dist/style.css';
`}),Bp]),f("div",Wp,[Gp,ee(n,{language:"vue-typescript",code:`import AudioPeaks from 'vue-peaks/src/components/AudioPeaks.vue';
// default styles for the AudioPeaks component are already contained in the SFC`})])]),Up,f("div",Hp,[f("div",Vp,[zp,ee(n,{language:"vue-template",code:"<AudioPeaks src='https://lib.replayer.app/your-light-by-lidija-roos.mp3' />"})]),f("div",$p,[f("div",Xp,[ee(ct,{src:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"})])])]),jp,f("div",Kp,[Yp,f("div",Zp,[ee(n,{language:"vue-template",code:`<AudioPeaks>
  <span>You can also add additional HTML content.</span>
  <audio controls>
    <source src='https://lib.replayer.app/your-light-by-lidija-roos.mp3' />
  </audio>
</AudioPeaks>`})]),f("div",qp,[f("div",Jp,[ee(ct,null,{default:ze(()=>[Qp,eg]),_:1})])])]),tg,ig,f("div",ng,[sg,f("div",rg,[ee(n,{language:"vue-template",code:`<audio controls id='externalMediaElement'>
  <source src='https://lib.replayer.app/your-light-by-lidija-roos.mp3' />
</audio>
<div><span class='tag is-danger'>
    Using the external media element above.</span></div>
<AudioPeaks mediaElementId='externalMediaElement'>
</AudioPeaks>`})]),f("div",ag,[f("div",og,[lg,hg,ee(ct,{mediaElementId:"externalMediaElement"})])])]),cg,f("div",dg,[ug,f("div",fg,[ee(n,{language:"vue-template",code:`<div id='externalBasicOverviewDivId'>External overview</div>
<div id='externalBasicZoomviewDivId'>External zoomview</div>
<audio controls id='externalBasicMediaElement'>
  <source src='https://lib.replayer.app/lidija_roos-not_for_sale.mp3' />
</audio>        
<div><span class='tag is-danger'>
    Using the external overview, zoomview and audio element above.</span></div>
<AudioPeaks 
  overviewElementId='externalBasicOverviewDivId'
  zoomviewElementId='externalBasicZoomviewDivId'
  mediaElementId='externalBasicMediaElement'
  >
  <template #controls>
    <template />
  </template>
</AudioPeaks>`})]),f("div",pg,[f("div",gg,[_g,ee(ct,{mediaElementId:"externalBasicMediaElement",overviewElementId:"externalBasicOverviewDivId",zoomviewElementId:"externalBasicZoomviewDivId"},{controls:ze(()=>[mg]),_:1})])])])],64)}}}),at=e=>(ea("data-v-b09692c4"),e=e(),ta(),e),yg=at(()=>f("p",null," vue-peaks also supports video, as peaks.js does. These examples expand on the above examples, with a focus on video content. ",-1)),bg=at(()=>f("h4",{class:"title is-4"},"Simple mode (with video)",-1)),wg={class:"columns is-desktop"},Sg={class:"column"},Cg=at(()=>f("p",null,[ae(" By default, the "),f("a",{href:"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaks.vue"},"AudioPeaks Vue component"),ae(" template creates a new audio element. While this works for the audio part of video content, you can specify that the used HTML media element actually is a video element: ")],-1)),Tg={class:"box is-pulled-right"},Eg=at(()=>f("p",null,[ae(" Voyage of Discovery (Source: "),f("a",{href:"https://solarsystem.nasa.gov/resources/317/voyage-of-discovery/?category=planets_saturn"},"NASA)"),ae(", 12.3 MB (video/webm) ")],-1)),kg=at(()=>f("h4",{class:"title is-4"},"Slot mode (with video)",-1)),xg={class:"columns is-desktop"},Ag={class:"column"},Pg=at(()=>f("p",null,[ae(" No difference to audio here, just place your video element inside the "),f("span",{class:"code"},"AudioPeaks"),ae(" element using the default slot. ")],-1)),Ig=at(()=>f("p",null,[ae(" Note that the default slot is still named "),f("span",{class:"code"},"#audio"),ae(", in case you want to use it for customization. ")],-1)),Mg={class:"box is-pulled-right"},Og=at(()=>f("p",null,[ae(" Cassini's High-Flying, Ring-Grazing Orbits (Source: "),f("a",{href:"https://solarsystem.nasa.gov/resources/17561/cassinis-high-flying-ring-grazing-orbits/?category=videos"},"NASA / Jet Propulsion Laboratory - Caltech)"),ae(", 27.1 MB (video/ogg) ")],-1)),Dg=at(()=>f("video",{controls:"",style:{width:"100%"}},[f("source",{src:"https://lib.replayer.app/nasa/JPL-20161121-CASSINf-0001-720.ogv"})],-1)),Lg=at(()=>f("h4",{class:"title is-4"},"External mode (with video)",-1)),Rg={class:"columns is-desktop"},Fg={class:"column"},Ng=at(()=>f("p",null," As with audio, you can reference your existing video element by it's (unique) id, or as an HTMLMediaElement object. ",-1)),Bg={class:"box is-pulled-right"},Wg=at(()=>f("p",null,[ae(" Where is the Edge of the Solar System? (Source: "),f("a",{href:"https://svs.gsfc.nasa.gov/12639"},"NASA's Goddard Space Flight Center)"),ae(", 28.8 MB (video/mp4) ")],-1)),Gg=at(()=>f("video",{controls:"",id:"externalVideoElement"},[f("source",{src:"https://lib.replayer.app/nasa/12639_EdgeofSolarSystem_Final_24fps_v02_VX-718267_appletv_subtitles.m4v"})],-1)),Ug=at(()=>f("div",null,[f("span",{class:"tag is-danger"}," Using the external video element above.")],-1)),Hg=Et({__name:"ExampleUsingVideo",setup(e){return(t,i)=>{const n=kt("highlightjs");return Ee(),De(je,null,[yg,bg,f("div",wg,[f("div",Sg,[Cg,ee(n,{language:"vue-template",code:"<AudioPeaks video src='https://lib.replayer.app/nasa/-home-www-videos-voyager-20130912d-discovery20110428-640.webm' />"}),f("div",Tg,[Eg,ee(ct,{video:"",src:"https://lib.replayer.app/nasa/-home-www-videos-voyager-20130912d-discovery20110428-640.webm"})])])]),kg,f("div",xg,[f("div",Ag,[Pg,ee(n,{language:"vue-template",code:`<AudioPeaks>
  <video controls>
    <source src='https://lib.replayer.app/nasa/JPL-20161121-CASSINf-0001-720.ogv' />
  </video>
</AudioPeaks>`}),Ig,f("div",Mg,[Og,ee(ct,null,{default:ze(()=>[Dg]),_:1})])])]),Lg,f("div",Rg,[f("div",Fg,[Ng,ee(n,{language:"vue-template",code:`<video controls id='externalVideoElement'>
  <source src='https://lib.replayer.app/nasa/12639_EdgeofSolarSystem_Final_24fps_v02_VX-718267_appletv_subtitles.m4v' />
</video>
<div><span class='tag is-danger'>
    Using the external media element above.</span></div>
<AudioPeaks mediaElementId='externalVideoElement'>
</AudioPeaks>`}),f("div",Bg,[Wg,Gg,Ug,ee(ct,{mediaElementId:"externalVideoElement"})])])])],64)}}});const Vg=oi(Hg,[["__scopeId","data-v-b09692c4"]]),zg={class:"columns is-desktop"},$g=Ft('<div class="column"><p> To fully customize the appearance and behavior, the Peaks.js <a href="https://github.com/bbc/peaks.js/blob/master/doc/API.md#configuration">configuration options</a> can be provided. </p><p> Note, that you should omit the the <span class="code">zoomview.container</span>, <span class="code">overview.container</span> and <span class="code">mediaElement</span> options, since these are already handled internally, depending on the view mode (see explanation with the <a href="#basic-examples">basic examples</a>). </p><p>The options allow you for example to <ul><li>customize the waveform styles</li><li>define scrolling behavior</li><li>use precomputed waveform data</li></ul></p></div>',1),Xg={class:"column"},jg={class:"column"},Kg={class:"box"},Yg=f("audio",{controls:""},[f("source",{src:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"})],-1),Zg=f("template",null,null,-1),qg=Et({__name:"ExampleUsingPeaksOptions",setup(e){const t={overview:{waveformColor:"#3298dc",playedWaveformColor:"#238cd1",highlightColor:"hsl(206, 70%, 96%)",highlightOffset:0,axisGridlineColor:"hsl(0, 0%, 29%)",axisLabelColor:"hsl(0, 0%, 29%)",showPlayheadTime:!1},zoomview:{waveformColor:"#f1b70e",playedWaveformColor:"#d9a50d",axisGridlineColor:"hsl(0, 0%, 29%)",axisLabelColor:"hsl(0, 0%, 29%)",playheadTextColor:"#e43725",showPlayheadTime:!0},webAudio:{audioContext:new AudioContext},zoomLevels:[256],playheadColor:"#e43725"};return(i,n)=>{const s=kt("highlightjs");return Ee(),De("div",zg,[$g,f("div",Xg,[ee(s,{language:"vue-typescript",code:`import { PeaksOptions } from 'peaks.js';
/** The configuration options 
* @remarks The colors are taken from a Bulma color scheme.
*/
const options: PeaksOptions = {
  overview: {
    /* container is handled separately by AudioPeaks */
    waveformColor: 'hsl(204, 86%, 53%)',
    playedWaveformColor: 'hsl(204, 71%, 39%)',
    highlightColor: 'hsl(206, 70%, 96%)',
    highlightOffset: 0,
    axisGridlineColor: 'hsl(0, 0%, 29%)',
    axisLabelColor: 'hsl(0, 0%, 29%)',
  },
  zoomview: {
    /* container is handled separately by AudioPeaks */
    waveformColor: 'hsl(48, 71%, 48%)',
    playedWaveformColor: 'hsl(48, 53%, 31%)',
    axisGridlineColor: 'hsl(0, 0%, 29%)',
    axisLabelColor: 'hsl(0, 0%, 29%)',
  },
  /** webAudio is optional. If omitted, and neither \`dataUri\` nor \`waveformData\`
  is present, a new AudioContext is created */
  webAudio: { audioContext: new AudioContext() },
  
  /** zoomLevels is optional. If omitted, a default set of zoom levels is used */
  zoomLevels: [256],
  
  /** playheadColor is optional. If omitted, a default black color is used */
  playheadColor: '#e43725'
}`}),ee(s,{language:"vue-template",code:`<AudioPeaks :options='options'>
  <audio controls>
    <source src='https://lib.replayer.app/your-light-by-lidija-roos.mp3' />
  </audio>
  <template #controls><template />
    <!-- Using an empty template on a slot 
         prevents the default content -->
  </template>
</AudioPeaks>`})]),f("div",jg,[f("div",Kg,[ee(ct,{options:t},{controls:ze(()=>[Zg]),default:ze(()=>[Yg]),_:1})])])])}}}),Li=e=>(ea("data-v-b3ef7b4c"),e=e(),ta(),e),Jg={class:"widget"},Qg=["disabled"],e_={key:0,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},t_=Li(()=>f("path",{fill:"currentColor",d:"M14,19H18V5H14M6,19H10V5H6V19Z"},null,-1)),i_=[t_],n_={key:1,style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},s_=Li(()=>f("path",{fill:"currentColor",d:"M8,5.14V19.14L19,12.14L8,5.14Z"},null,-1)),r_=[s_],a_=["disabled"],o_={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},l_=Li(()=>f("path",{fill:"currentColor",d:"M14.55 20C15 20.76 15.5 21.44 15.91 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V10.22C19.5 10.08 19 10 18.5 10C18.33 10 18.17 10 18 10.03V4H13V12L10.5 9.75L8 12V4H6V20H14.55M22 15.5C22 18.1 18.5 22 18.5 22S15 18.1 15 15.5C15 13.6 16.6 12 18.5 12S22 13.6 22 15.5M19.7 15.6C19.7 15 19.1 14.4 18.5 14.4S17.3 14.9 17.3 15.6C17.3 16.2 17.8 16.8 18.5 16.8S19.8 16.2 19.7 15.6Z"},null,-1)),h_=[l_],c_=["disabled"],d_={style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},u_=Li(()=>f("path",{fill:"currentColor",d:"M13.09 20C13.21 20.72 13.46 21.39 13.81 22H6C4.89 22 4 21.11 4 20V4C4 2.9 4.89 2 6 2H18C19.11 2 20 2.9 20 4V13.09C19.67 13.04 19.34 13 19 13C18.66 13 18.33 13.04 18 13.09V4H13V12L10.5 9.75L8 12V4H6V20H13.09M17 16V22L22 19L17 16Z"},null,-1)),f_=[u_],p_=Li(()=>f("template",null,null,-1)),g_=["src"],__=Li(()=>f("template",null,null,-1)),m_={class:"item peaks-overview",id:"widgetOverview"},v_=["title"],y_={class:"spin",style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},b_=Li(()=>f("path",{fill:"currentColor",d:"M12 19C13.1 19 14 19.9 14 21S13.1 23 12 23 10 22.1 10 21 10.9 19 12 19M12 1C13.1 1 14 1.9 14 3S13.1 5 12 5 10 4.1 10 3 10.9 1 12 1M6 16C7.1 16 8 16.9 8 18S7.1 20 6 20 4 19.1 4 18 4.9 16 6 16M3 10C4.1 10 5 10.9 5 12S4.1 14 3 14 1 13.1 1 12 1.9 10 3 10M6 4C7.1 4 8 4.9 8 6S7.1 8 6 8 4 7.1 4 6 4.9 4 6 4M18 16C19.1 16 20 16.9 20 18S19.1 20 18 20 16 19.1 16 18 16.9 16 18 16M21 10C22.1 10 23 10.9 23 12S22.1 14 21 14 19 13.1 19 12 19.9 10 21 10M18 4C19.1 4 20 4.9 20 6S19.1 8 18 8 16 7.1 16 6 16.9 4 18 4Z"},null,-1)),w_=[b_],S_={key:1},C_={key:2,class:"has-text-danger"},T_=Et({__name:"AudioPeaksWidget",props:{src:{}},setup(e){const t=e,i=vt(),n=wt(()=>{var d;return(d=i.value)==null?void 0:d.peaksInstance}),s=vt(null),r=Ji({isPlaying:!1,canPlay:!1,bookmark:0,lastErrorMessage:""}),a={overview:{waveformColor:"#2ecc71",playedWaveformColor:"#29b765",showAxisLabels:!1,axisGridlineColor:"hsl(0, 0%, 100%)",playheadTextColor:"#e43725",showPlayheadTime:!0},showPlayheadTime:!0,webAudio:{audioContext:new AudioContext},playheadColor:"#e43725"};function o(){var d,p;r.isPlaying=!r.isPlaying,r.isPlaying?(d=s.value)==null||d.play():(p=s.value)==null||p.pause()}function l(){var p,y;const d=(p=n.value)==null?void 0:p.player.getCurrentTime();d&&((y=n.value)==null||y.points.add({time:d,editable:!0,labelText:"Bookmark",color:"#000000"}),r.bookmark=d)}function h(){var d;(d=n.value)==null||d.player.seek(r.bookmark)}return(d,p)=>(Ee(),De("div",Jg,[f("button",{class:"item",onClick:p[0]||(p[0]=y=>o()),disabled:!r.canPlay},[r.isPlaying?(Ee(),De("svg",e_,i_)):(Ee(),De("svg",n_,r_))],8,Qg),f("button",{class:"item",onClick:p[1]||(p[1]=y=>l()),disabled:!r.canPlay,title:"set bookmark"},[(Ee(),De("svg",o_,h_))],8,a_),f("button",{class:"item",onClick:p[2]||(p[2]=y=>h()),disabled:!r.bookmark,title:"seek bookmark"},[(Ee(),De("svg",d_,f_))],8,c_),ee(ct,{overviewElementId:"widgetOverview",ref_key:"audioPeaks",ref:i,options:a,onError:p[4]||(p[4]=y=>r.lastErrorMessage=y.message)},{zoomview:ze(()=>[p_]),default:ze(()=>[f("audio",{ref_key:"audio",ref:s,onCanplay:p[3]||(p[3]=()=>{r.canPlay=!0})},[f("source",{src:t.src},null,8,g_)],544)]),controls:ze(()=>[__]),_:1},512),f("div",m_,[t.src?(Ee(),De("div",{key:0,title:`Loading and rendering from ${t.src}`},[(Ee(),De("svg",y_,w_))],8,v_)):(Ee(),De("span",S_,"no media available")),r.lastErrorMessage?(Ee(),De("span",C_,zr(r.lastErrorMessage),1)):pn("",!0)])]))}});const E_=oi(T_,[["__scopeId","data-v-b3ef7b4c"]]),k_={class:"columns"},x_=f("div",{class:"column"},[f("p",null,[ae(" This is a showcase for a simple media player. It's available with vue-peaks as ready-made component, "),f("span",{class:"code"},"AudioPeaksWidget.vue"),ae(", which you can use as-is or adapt to your needs. ")])],-1),A_={class:"column"},P_={class:"column"},I_={class:"box"},M_={class:"field"},O_={class:"control"},D_=f("div",{class:"columns"},[f("div",{class:"column"},[f("p",null,[ae(" You can find the complete "),f("a",{href:"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaksWidget.vue"},"Widget SFC source code on GitHub"),ae(". ")])])],-1),L_=Et({__name:"DemoWidget",setup(e){const t=Ji({url:""});return(i,n)=>{const s=kt("highlightjs");return Ee(),De(je,null,[f("div",k_,[x_,f("div",A_,[ee(s,{language:"vue-typescript",code:`import AudioPeaksWidget 
from 'vue-peaks/src/components/AudioPeaksWidget.vue';
const state = reactive({ url: '' });`}),ee(s,{language:"vue-template",code:`<input type='url' 
       v-model='state.url' 
       placeholder='Paste an URL to a media file' />
<!-- The :key property makes sure that the component 
     is re-rendered on every URL change, causing
     a re-render of the waveform -->       
<AudioPeaksWidget :src='state.url' 
                  :key='state.url'>
</AudioPeaksWidget>`})]),f("div",P_,[f("div",I_,[f("div",M_,[f("div",O_,[Tr(f("input",{class:"input",type:"url","onUpdate:modelValue":n[0]||(n[0]=r=>t.url=r),placeholder:"Paste an URL to a media file"},null,512),[[Pl,t.url]])])]),(Ee(),Vs(E_,{src:t.url,key:t.url},null,8,["src"]))])])]),D_],64)}}}),R_={},F_={class:"columns"},N_={class:"column"},B_=f("p",null,[ae(" You might need to access the peaks.js instance to call various functions on their extensive "),f("a",{href:"https://github.com/bbc/peaks.js#api>"},"API"),ae(". ")],-1),W_=f("p",null," In the hosting component, get a reference to the AudioPeaks child component and, for convenience, a directly computed property to the actual peaks.js instance: ",-1),G_=f("p",null," Now you can access the instance and it's methods by using the reference, like in this example: ",-1),U_=f("p",null," Remember, that the instance is available only after the child has been mounted and peaks.js has been initialized. ",-1);function H_(e,t){const i=kt("highlightjs");return Ee(),De("div",F_,[f("div",N_,[B_,W_,f("p",null,[ee(i,{language:"vue-typescript",code:`/** Reference to the AudioPeaks component */
const audioPeaks = shallowRef<InstanceType<typeof AudioPeaks>>()

/** Accessor to the peaks instance from the AudioPeaks component
 * @remarks Allows access to the peaks.js instance 
 * to call various functions on the API.
 */
const peaksInstance = computed(() => audioPeaks.value?.peaksInstance);`})]),G_,f("p",null,[ee(i,{language:"vue-typescript",code:`/** Sets a bookmark at the current position
 */
function setBookmark() {
  const currentTime = peaksInstance.value?.player.getCurrentTime();
  if (currentTime) {
    peaksInstance.value?.points.add({
      time: currentTime
    });
    state.bookmark = currentTime;
  }
}`})]),U_])])}const V_=oi(R_,[["render",H_]]),z_={class:"columns is-desktop"},$_={class:"column"},X_={class:"box"},j_={class:"field"},K_=f("label",{class:"label is-multiline"},"Create and destroy an AudioPeaks instance:",-1),Y_={class:"control"},Z_={class:"field"},q_=f("label",{class:"label is-multiline"},"Change the media URL (triggers re-rendering).",-1),J_={class:"control"},Q_={class:"select is-danger"},em=f("option",{value:""},"none",-1),tm=f("option",{value:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"},"An MP3 music file ",-1),im=f("option",{value:"https://lib.replayer.app/decisions-by-lidija-roos.ogg"},"An OGG music file ",-1),nm=f("option",{value:"https://twit.cachefly.net/audio/sn/sn0886/sn0886.mp3"},"Security Now! Podcast, Episode #886 (112 min, 55.5MB, MP3)",-1),sm=[em,tm,im,nm],rm={class:"field"},am=f("label",{class:"label is-multiline"},"Change the size (triggers re-drawing).",-1),om={class:"control"},lm=["src"],hm=f("template",null,null,-1),cm=f("template",null,null,-1),dm=Ft('<p> AudioPeaks currently does not support reactivity for the options. Still, you can use Vue&#39;s reactivity on the component itself. You can for example: </p><p><ul><li>Conditionally render the component (by using Vue&#39;s built-in <span class="code">v-if</span> directive). This also releases memory used. </li><li>Replace the media source by setting the <span class="code">src</span> attribute of the audio element. When you also set the <span class="code">:key</span> property to a new value, the component re-renders. <br>This is called the key-changing technique, and is required to trigger an update of the waveform.</li></ul></p><p> Note that media elements with an empty <span class="code">src</span> attribute cause a <span class="code">MediaError</span>. If this is a concern to you, use the <span class="code">v-if</span> directive to conditionally only render the element on non-emtpy URL values. </p>',3),um={class:"column"},fm=f("p",null,[ae(' vue-peaks internally handles resizing of the contained overview and zoomview areas. If you, in the "external mode", have an external zoomview or overview area that are resizing completely independent from the '),f("span",{class:"code"},"AudioPeaks"),ae(" instance, please handle their resizing according to the "),f("a",{href:"https://github.com/bbc/peaks.js/blob/master/doc/API.md#viewfittocontainer"}," peaks.js API docs about resizing"),ae(". ")],-1),pm=Et({__name:"ExampleUsingReactivity",setup(e){const t=Ji({isRendered:!0,mediaSource:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3",peaksWidth:50});function i(){const n=t.isRendered;console.log("CurrentState",n),t.isRendered=!n}return(n,s)=>{const r=kt("highlightjs");return Ee(),De("div",z_,[f("div",$_,[f("div",X_,[f("div",j_,[K_,f("div",Y_,[f("button",{onClick:s[0]||(s[0]=a=>i()),class:"button is-danger"},[f("span",null,zr(t.isRendered?"Destroy":"Render"),1)])])]),f("div",Z_,[q_,f("div",J_,[f("div",Q_,[Tr(f("select",{"onUpdate:modelValue":s[1]||(s[1]=a=>t.mediaSource=a),class:"highlight"},sm,512),[[Xd,t.mediaSource]])])])]),f("div",rm,[am,f("div",om,[Tr(f("input",{id:"peaksWidthSlider",class:"slider is-fullwidth is-danger is-circle",step:"1",min:"0",max:"100","onUpdate:modelValue":s[2]||(s[2]=a=>t.peaksWidth=a),type:"range"},null,512),[[Pl,t.peaksWidth]])])]),t.isRendered?(Ee(),Vs(ct,{key:t.mediaSource,style:Ds({width:t.peaksWidth+"%"})},{zoomview:ze(()=>[hm]),controls:ze(()=>[cm]),default:ze(()=>[f("audio",{controls:"",src:t.mediaSource},null,8,lm)]),_:1},8,["style"])):pn("",!0)]),dm]),f("div",um,[ee(r,{language:"vue-template",code:`<AudioPeaks v-if='state.isRendered' :key='state.mediaSource' :style='{ width: state.peaksWidth + '%' }'>
  <audio controls :src='state.mediaSource'></audio>
  <template #zoomview>
	<template />
  </template>
  <template #controls>
	<template />
  </template>
</AudioPeaks>`}),fm])])}}}),gm=Ft('<p> Errors stemming from peaks.js and from the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/error_event">HTMLMediaElement&#39;s error event</a> (like a wrong URL or non-responding server) are reported using the <span class="code">@error</span> event. You can then handle the error event as you see fit. There is a known issue [#18] in simple mode. </p><p> vue-peaks has simple internal error handling. In case of any error, the <span class="code">AudioPeaks</span> gets annotated with the <span class="code">hasError</span> class, causing a default red striped display on all views, plus the title attribute gets set to the error message. </p><h4 class="title is-4">Wrong URL</h4>',3),_m={class:"columns is-desktop"},mm={class:"column"},vm=f("p",null,[ae(" For example, a non-existing URL like "),f("span",{class:"code"},"https://example.com/missing.mp3"),ae(" will never load any content. ")],-1),ym={class:"column"},bm={class:"box"},wm=f("audio",{controls:"",src:"https://example.com/missing.mp3"},null,-1),Sm=f("template",null,null,-1),Cm=f("template",null,null,-1),Tm=f("h4",{class:"title is-4"},"CORS issue",-1),Em={class:"columns is-desktop"},km={class:"column"},xm=f("p",null,[ae(" To create the waveforms, peaks.js needs access to the media file in binary form. To allow this, the web server must support "),f("a",{href:"https://en.wikipedia.org/wiki/Cross-origin_resource_sharing"},"Cross-origin resource sharing (CORS)"),ae(" for the origin domain your vue-peaks-enabled app is running on. ")],-1),Am=f("p",null," If CORS is not enabled, your media will play as expected, however the waveform calculation ends in an error, like in the example below: ",-1),Pm=f("p",null,' The reported error message in this case is "XHR failed", although playback works just fine: ',-1),Im={class:"column"},Mm={class:"box"},Om=Et({__name:"ExampleErrorHandling",setup(e){return(t,i)=>{const n=kt("highlightjs");return Ee(),De(je,null,[gm,f("div",_m,[f("div",mm,[vm,ee(n,{language:"vue-template",code:`<AudioPeaks>
  <audio
    controls
    src='https://example.com/missing.mp3'
  ></audio>
  <template #zoomview><template></template></template>
  <template #controls><template></template></template>
</AudioPeaks>`})]),f("div",ym,[f("div",bm,[ee(ct,null,{zoomview:ze(()=>[Sm]),controls:ze(()=>[Cm]),default:ze(()=>[wm]),_:1})])])]),Tm,f("div",Em,[f("div",km,[xm,Am,ee(n,{language:"vue-template",code:`<!-- The server for this file does not have CORS enabled -->
<AudioPeaks 
    src='https://www.christoffankhauser.ch/app/download/15849408925/ChZw01_Fr%C3%B6id_PLAYBACK.mp3'>
</AudioPeaks>`}),Pm]),f("div",Im,[f("div",Mm,[ee(ct,{src:"https://www.christoffankhauser.ch/app/download/15849408925/ChZw01_Fr%C3%B6id_PLAYBACK.mp3"})])])])],64)}}}),Dm={class:"columns is-desktop"},Lm=Ft('<div class="column"><p> To provide your own layout, you can also use the <a href="https://vuejs.org/guide/components/slots.html#named-slots">named slots</a>: <li><span class="code">#overview</span></li><li><span class="code">#zoomview</span></li><li><span class="code">#audio</span> (default)</li><li><span class="code">#controls</span></li></p><p>This allows you for example to <ul><li>layout elements differently</li><li>not render (instead of just not show) elements</li><li>have a completely custom media element</li></ul> You can use any of the media element modes with named slots. Use <span class="code">$refs</span> to access the relevant HTML elements.</p><p>You can use a different mode for each slot, thus mixing the &quot;slot&quot; mode with the &quot;external&quot; mode in the same component instance.</p></div>',1),Rm={class:"column"},Fm={class:"column is-narrow",style:{"max-width":"400px"}},Nm={class:"box"},Bm=f("div",{class:"peaks-overview",style:{height:"50px"}},null,-1),Wm=f("span",{class:"tag is-danger"}," Some slot content here.",-1),Gm=f("span",{class:"tag is-danger is-multiline"}," In this example, the audio control is not shown, but some custom buttons instead:",-1),Um={ref:"audio"},Hm=f("source",{src:"https://lib.replayer.app/lidija_roos-not_for_sale.mp3"},null,-1),Vm=[Hm],zm=f("template",null,null,-1),$m=f("span",{class:"tag is-danger is-multiline"}," No zoom controls are shown, by providing an empty template to the named controls slot.",-1),Xm=Et({__name:"ExampleUsingSlots",setup(e){return(t,i)=>{const n=kt("highlightjs");return Ee(),De("div",Dm,[Lm,f("div",Rm,[ee(n,{language:"vue-template",code:`<AudioPeaks>
  <template #overview>
    <div style='height: 50px;'></div>
    <span class='tag is-danger'>
      Some slot content here.</span>
  </template>
  <template #default>
    <span class='tag is-danger is-multiline'>
      In this example, the audio control is not shown,
      but some custom
      buttons instead:</span>
    <audio ref='audio'>
      <source src='https://lib.replayer.app/your-light-by-lidija-roos.mp3' />
    </audio>
    <button @click='($refs.audio as HTMLAudioElement).play()'>
      Play
    </button>\xA0
    <button @click='($refs.audio as HTMLAudioElement).pause()'>
      Pause
    </button>
  </template>
  <template #controls>
    <template />
  </template>
</AudioPeaks>
<span class='tag is-danger is-multiline'>
  No zoom controls are shown, by providing an empty template
  to the named controls slot.</span>`})]),f("div",Fm,[f("div",Nm,[ee(ct,null,{overview:ze(()=>[Bm,Wm]),default:ze(()=>[Gm,f("audio",Um,Vm,512),f("button",{onClick:i[0]||(i[0]=s=>t.$refs.audio.play())}," Play "),ae("\xA0 "),f("button",{onClick:i[1]||(i[1]=s=>t.$refs.audio.pause())}," Pause ")]),controls:ze(()=>[zm]),_:1}),$m])])])}}}),jm={},Km={class:"columns"},Ym=Ft('<div class="column"><p> vue-peaks aims to simplify the use of <a target="_blank" href="https://github.com/bbc/peaks.js/">peaks.js</a> in a <a target="_blank" href=" https://vuejs.org/">Vue3</a> environment. It provides a single component, <span class="code">AudioPeaks</span>. </p><p> Explore the below examples or see the <a target="_blank" href="https://github.com/suterma/vue-peaks#vue-peaks">vue-peaks GitHub repository</a>. </p></div>',1),Zm={class:"column"},qm=f("p",null,[ae(" Installing vue-peaks also installs "),f("a",{target:"_blank",href:"https://github.com/bbc/peaks.js/"},"peaks.js (version 3)"),ae(" as a dependency. Additionally, peaks.js uses "),f("a",{target:"_blank",href:"https://konvajs.org/"},"Konva (version 8 or 9)"),ae(" and "),f("a",{target:"_blank",href:"https://github.com/bbc/waveform-data.js"},"waveform-data (version 4)"),ae(" as peer dependencies; these will get installed with vue-peaks, if not already available. ")],-1);function Jm(e,t){const i=kt("highlightjs");return Ee(),De("div",Km,[Ym,f("div",Zm,[f("p",null,[ee(i,{language:"bash",code:"npm install vue-peaks --save"})]),qm])])}const Qm=oi(jm,[["render",Jm]]),ev={},tv=Ft('<p>This project uses</p><ul><li><a href="https://github.com/bbc/peaks.js/" target="_blank">peaks.js</a>, a client-side JavaScript component to display and interact with audio waveforms in the browser. (Released under the LGPL-3.0 license, by the British Broadcasting Corporation and contributors) </li><li><a href="https://vuejs.org/" target="_blank">Vue.js</a>, the progressive JavaScript framework. (Released under the MIT License, Copyright \xA9 2014-2021 Evan You) </li><li><a href="https://bulma.io/" target="_blank">Bulma</a>, the modern CSS framework that just works. (Released under the MIT License, by Jeremy Thomas) </li><li><a href="https://jenil.github.io/bulmaswatch/" target="_blank">Bulmaswatch</a>, free themes for Bulma. (Released under the MIT License, by Jenil Gogari) </li><li><a href="https://materialdesignicons.com/" target="_blank">Material Design Icons</a>, the original. Following Google&#39;s Material Design guidelines for system icons. (Icons released under the Apache 2.0 License, by pictogrammers.com) </li><li><a href="https://jestjs.io/" target="_blank"> Jest</a>, a delightful JavaScript Testing Framework. (Released under the MIT License, by Facebook) </li><li> Music from the Album &quot;Not For Sale&quot; by Lidija Roos (Released to the public, by Lidija Roos) </li><li><a href="https://github.com/highlightjs/vue-plugin" target="_blank">@highlightjs/vue-plugin</a>, provides a highlightjs component for use in your Vue.js 3 applications. (Released under the BSD-3-Clause license, by the highlight.js team) </li><li><a href="https://github.com/microsoft/rushstack/tree/main/eslint/eslint-patch" target="_blank">@rushstack/eslint-patch</a>, a patch that improves how ESLint loads plugins when working in a monorepo with a reusable toolchain. (Released under the MIT License, by Microsoft) </li><li><a href="https://github.com/DefinitelyTyped/DefinitelyTyped" target="_blank">@types/jsdom, @types/node</a>, the repository for high quality TypeScript type definitions. (Released under the MIT License, by various contributors) </li><li><a href="https://github.com/vitejs/vite" target="_blank">vite, vitest, @vitejs/plugin-vue</a>, next Generation Frontend Tooling. (Released under the MIT License, by the vite team) </li><li><a href="https://github.com/eslint/eslint" target="_blank">eslint</a>, a tool for identifying and reporting on patterns found in ECMAScript/JavaScript code. (Released under the MIT License, by the eslint team) </li><li><a href="https://github.com/jsdom/jsdom" target="_blank">jsdom</a>, a pure-JavaScript implementation of many web standards. (Released under the MIT License, by the jsdom team) </li><li><a href="https://github.com/mysticatea/npm-run-all" target="_blank">npm-run-all</a>, a CLI tool to run multiple npm-scripts in parallel or sequential. (Released under the MIT License, by Toru Nagashima) </li><li><a href="https://github.com/prettier/prettier" target="_blank">prettier</a>, an opinionated Code Formatter. (Released under the MIT License, by the prettier team) </li><li><a href="https://github.com/Microsoft/TypeScript" target="_blank">typescript</a>, a language for application-scale JavaScript. (Released under the Apache-2.0 license, by Microsoft) </li><li><a href="https://github.com/johnsoncodehk/volar" target="_blank">vue-tsc</a>, high-performance tooling for Vue. (Released under the MIT License, by Johnson Chu) </li><li><a href="https://vueuse.org/" target="_blank">VueUse</a>, a Collection of essential Vue Composition Utilities (Released under the MIT License, by the VueUse team) </li><li><a href="https://github.com/Wikiki/bulma-slider" target="_blank">bulma-slider</a>, Bulma&#39;s extension to display sliders (Released under the MIT License, by Wikiki) </li></ul><p>Initial code is taken from</p><ul><li><a href="https://github.com/candeogi/peaks-vue-demo" target="_blank">peaks-vue-demo</a>, by Giovanni Candeo (MIT-licensed) </li><li><a href="https://github.com/thom4parisot/vue-waveform-template" target="_blank">vue-waveform-template</a>, by Thomas Parisot (MIT-licensed) </li></ul>',4);function iv(e,t){return tv}const nv=oi(ev,[["render",iv]]),sv={},rv={class:"columns"},av=f("div",{class:"column"},[f("p",null,[ae(" Vue-peaks offers it's own properties for customization. Plus, you can configure the underlying peaks.js instance via the options property (of type "),f("span",{class:"code"},"PeaksOptions"),ae("). ")]),f("p",null,[ae(" Read more about each property directly in the "),f("a",{href:"https://github.com/suterma/vue-peaks/blob/main/src/components/AudioPeaks.vue#L9"},"source code comments"),ae(". ")])],-1),ov={class:"column",style:{"overflow-x":"auto"}};function lv(e,t){const i=kt("highlightjs");return Ee(),De("div",rv,[av,f("div",ov,[ee(i,{language:"vue-typescript",code:`src?: string;
video?: boolean;
eager?: boolean;
zoomviewElementId?: string;
zoomviewElement?: HTMLDivElement;
overviewElementId?: string;
overviewElement?: HTMLDivElement;
mediaElementId?: string;
mediaElement?: HTMLMediaElement;
options?: PeaksOptions;`})])])}const hv=oi(sv,[["render",lv]]),Pt=e=>(ea("data-v-4fabe3d4"),e=e(),ta(),e),cv=Ft('<section class="hero is-light" data-v-4fabe3d4><div class="hero-body has-text-centered" data-v-4fabe3d4><img alt="Vue logo" class="logo" src="'+qd+'" width="125" height="125" data-v-4fabe3d4><h1 class="title is-1" data-v-4fabe3d4>vue-peaks</h1><h2 class="subtitle is-3" data-v-4fabe3d4> A lightweight Vue wrapper around the <a target="_blank" href="https://github.com/bbc/peaks.js/" data-v-4fabe3d4>bbc/peaks.js</a> audio waveform UI component. </h2></div></section>',1),dv={class:"section"},uv={class:"no-container"},fv={class:"columns"},pv=Ft('<div class="column is-2" data-v-4fabe3d4><aside class="is-medium menu" data-v-4fabe3d4><p class="menu-label" data-v-4fabe3d4>Topics</p><ul class="menu-list" data-v-4fabe3d4><li data-v-4fabe3d4><a href="#basic-examples" data-v-4fabe3d4> Basic examples</a></li><li data-v-4fabe3d4><a href="#available-properties" data-v-4fabe3d4> Properties</a></li><li data-v-4fabe3d4><a href="#setting-styles" data-v-4fabe3d4>Setting styles</a></li><li data-v-4fabe3d4><a href="#using-slots" data-v-4fabe3d4>Using slots</a></li><li data-v-4fabe3d4><a href="#using-options" data-v-4fabe3d4>Options</a></li><li data-v-4fabe3d4><a href="#accessing-instance" data-v-4fabe3d4>Accessing the instance</a></li><li data-v-4fabe3d4><a href="#using-reactivity" data-v-4fabe3d4>Using reactivity</a></li><li data-v-4fabe3d4><a href="#error-handling" data-v-4fabe3d4>Error handling</a></li><li data-v-4fabe3d4><a href="#player-widget" data-v-4fabe3d4>A widget</a></li><li data-v-4fabe3d4><a href="#using-video" data-v-4fabe3d4>Using video</a></li><li data-v-4fabe3d4><a href="#credits" data-v-4fabe3d4>Credits</a></li></ul></aside></div>',1),gv={class:"column is-10"},_v={class:"content"},mv={class:"example"},vv=Pt(()=>f("h3",{id:"basic-examples",class:"title is-3"}," Basic examples ",-1)),yv={class:"example"},bv=Pt(()=>f("h3",{id:"available-properties",class:"title is-3"}," Available properties ",-1)),wv={class:"example"},Sv=Pt(()=>f("h3",{id:"setting-styles",class:"title is-3"}," Setting styles ",-1)),Cv={class:"example"},Tv=Pt(()=>f("h3",{id:"using-slots",class:"title is-3"}," Using slots for custom views ",-1)),Ev={class:"example"},kv=Pt(()=>f("h3",{id:"using-options",class:"title is-3"}," Using peaks.js configuration options ",-1)),xv={class:"example"},Av=Pt(()=>f("h3",{id:"accessing-instance",class:"title is-3"}," Accessing the peaks.js instance ",-1)),Pv=Pt(()=>f("h3",{id:"using-reactivity",class:"title is-3"}," Using reactivity ",-1)),Iv={class:"example"},Mv=Pt(()=>f("h3",{id:"error-handling",class:"title is-3"}," Error handling ",-1)),Ov={class:"example"},Dv=Pt(()=>f("h3",{id:"player-widget",class:"title is-3"}," A waveform player widget ",-1)),Lv={class:"example"},Rv=Pt(()=>f("h3",{id:"using-video",class:"title is-3"}," Using video ",-1)),Fv={class:"example"},Nv=Pt(()=>f("h3",{id:"credits",class:"title is-3"}," Credits ",-1)),Bv={class:"example"},Wv=Ft('<footer class="footer" data-v-4fabe3d4><section class="section" data-v-4fabe3d4><div class="container has-text-centered" data-v-4fabe3d4><p data-v-4fabe3d4><a href="https://github.com/suterma/vue-peaks" data-v-4fabe3d4>vue-peaks</a> is created with love by <a href="https://marcelsuter.ch" data-v-4fabe3d4>Marcel Suter</a> for the <a href="http://replayer.app" data-v-4fabe3d4>Replayer</a> project. </p></div></section></footer>',1),Gv=Et({__name:"App",setup(e){return(t,i)=>(Ee(),De(je,null,[cv,f("section",dv,[f("div",uv,[f("div",fv,[pv,f("div",gv,[f("div",_v,[f("article",mv,[ee(Qm)]),vv,f("article",yv,[ee(vg)]),bv,f("article",wv,[ee(hv)]),Sv,f("article",Cv,[ee(nu)]),Tv,f("article",Ev,[ee(Xm)]),kv,f("article",xv,[ee(qg)]),Av,f("article",null,[ee(V_)]),Pv,f("article",Iv,[ee(pm)]),Mv,f("article",Ov,[ee(Om)]),Dv,f("article",Lv,[ee(L_)]),Rv,f("article",Fv,[ee(Vg)]),Nv,f("article",Bv,[ee(nv)])])])])])]),Wv],64))}});const Uv=oi(Gv,[["__scopeId","data-v-4fabe3d4"]]);function oh(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const i=e[t],n=typeof i;(n==="object"||n==="function")&&!Object.isFrozen(i)&&oh(i)}),e}class xo{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function lh(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Jt(e,...t){const i=Object.create(null);for(const n in e)i[n]=e[n];return t.forEach(function(n){for(const s in n)i[s]=n[s]}),i}const Hv="</span>",Ao=e=>!!e.scope,Vv=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const i=e.split(".");return[`${t}${i.shift()}`,...i.map((n,s)=>`${n}${"_".repeat(s+1)}`)].join(" ")}return`${t}${e}`};class zv{constructor(t,i){this.buffer="",this.classPrefix=i.classPrefix,t.walk(this)}addText(t){this.buffer+=lh(t)}openNode(t){if(!Ao(t))return;const i=Vv(t.scope,{prefix:this.classPrefix});this.span(i)}closeNode(t){!Ao(t)||(this.buffer+=Hv)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const Po=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class va{constructor(){this.rootNode=Po(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const i=Po({scope:t});this.add(i),this.stack.push(i)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,i){return typeof i=="string"?t.addText(i):i.children&&(t.openNode(i),i.children.forEach(n=>this._walk(t,n)),t.closeNode(i)),t}static _collapse(t){typeof t!="string"&&(!t.children||(t.children.every(i=>typeof i=="string")?t.children=[t.children.join("")]:t.children.forEach(i=>{va._collapse(i)})))}}class $v extends va{constructor(t){super(),this.options=t}addText(t){t!==""&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,i){const n=t.root;i&&(n.scope=`language:${i}`),this.add(n)}toHTML(){return new zv(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function In(e){return e?typeof e=="string"?e:e.source:null}function hh(e){return Ri("(?=",e,")")}function Xv(e){return Ri("(?:",e,")*")}function jv(e){return Ri("(?:",e,")?")}function Ri(...e){return e.map(i=>In(i)).join("")}function Kv(e){const t=e[e.length-1];return typeof t=="object"&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function ya(...e){return"("+(Kv(e).capture?"":"?:")+e.map(n=>In(n)).join("|")+")"}function ch(e){return new RegExp(e.toString()+"|").exec("").length-1}function Yv(e,t){const i=e&&e.exec(t);return i&&i.index===0}const Zv=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function ba(e,{joinWith:t}){let i=0;return e.map(n=>{i+=1;const s=i;let r=In(n),a="";for(;r.length>0;){const o=Zv.exec(r);if(!o){a+=r;break}a+=r.substring(0,o.index),r=r.substring(o.index+o[0].length),o[0][0]==="\\"&&o[1]?a+="\\"+String(Number(o[1])+s):(a+=o[0],o[0]==="("&&i++)}return a}).map(n=>`(${n})`).join(t)}const qv=/\b\B/,dh="[a-zA-Z]\\w*",wa="[a-zA-Z_]\\w*",uh="\\b\\d+(\\.\\d+)?",fh="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ph="\\b(0b[01]+)",Jv="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",Qv=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Ri(t,/.*\b/,e.binary,/\b.*/)),Jt({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(i,n)=>{i.index!==0&&n.ignoreMatch()}},e)},Mn={begin:"\\\\[\\s\\S]",relevance:0},ey={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Mn]},ty={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Mn]},iy={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},rr=function(e,t,i={}){const n=Jt({scope:"comment",begin:e,end:t,contains:[]},i);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const s=ya("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Ri(/[ ]+/,"(",s,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},ny=rr("//","$"),sy=rr("/\\*","\\*/"),ry=rr("#","$"),ay={scope:"number",begin:uh,relevance:0},oy={scope:"number",begin:fh,relevance:0},ly={scope:"number",begin:ph,relevance:0},hy={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Mn,{begin:/\[/,end:/\]/,relevance:0,contains:[Mn]}]}]},cy={scope:"title",begin:dh,relevance:0},dy={scope:"title",begin:wa,relevance:0},uy={begin:"\\.\\s*"+wa,relevance:0},fy=function(e){return Object.assign(e,{"on:begin":(t,i)=>{i.data._beginMatch=t[1]},"on:end":(t,i)=>{i.data._beginMatch!==t[1]&&i.ignoreMatch()}})};var rs=Object.freeze({__proto__:null,MATCH_NOTHING_RE:qv,IDENT_RE:dh,UNDERSCORE_IDENT_RE:wa,NUMBER_RE:uh,C_NUMBER_RE:fh,BINARY_NUMBER_RE:ph,RE_STARTERS_RE:Jv,SHEBANG:Qv,BACKSLASH_ESCAPE:Mn,APOS_STRING_MODE:ey,QUOTE_STRING_MODE:ty,PHRASAL_WORDS_MODE:iy,COMMENT:rr,C_LINE_COMMENT_MODE:ny,C_BLOCK_COMMENT_MODE:sy,HASH_COMMENT_MODE:ry,NUMBER_MODE:ay,C_NUMBER_MODE:oy,BINARY_NUMBER_MODE:ly,REGEXP_MODE:hy,TITLE_MODE:cy,UNDERSCORE_TITLE_MODE:dy,METHOD_GUARD:uy,END_SAME_AS_BEGIN:fy});function py(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function gy(e,t){e.className!==void 0&&(e.scope=e.className,delete e.className)}function _y(e,t){!t||!e.beginKeywords||(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=py,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function my(e,t){!Array.isArray(e.illegal)||(e.illegal=ya(...e.illegal))}function vy(e,t){if(!!e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function yy(e,t){e.relevance===void 0&&(e.relevance=1)}const by=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const i=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=i.keywords,e.begin=Ri(i.beforeMatch,hh(i.begin)),e.starts={relevance:0,contains:[Object.assign(i,{endsParent:!0})]},e.relevance=0,delete i.beforeMatch},wy=["of","and","for","in","not","or","if","then","parent","list","value"],Sy="keyword";function gh(e,t,i=Sy){const n=Object.create(null);return typeof e=="string"?s(i,e.split(" ")):Array.isArray(e)?s(i,e):Object.keys(e).forEach(function(r){Object.assign(n,gh(e[r],t,r))}),n;function s(r,a){t&&(a=a.map(o=>o.toLowerCase())),a.forEach(function(o){const l=o.split("|");n[l[0]]=[r,Cy(l[0],l[1])]})}}function Cy(e,t){return t?Number(t):Ty(e)?0:1}function Ty(e){return wy.includes(e.toLowerCase())}const Io={},xi=e=>{console.error(e)},Mo=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Gi=(e,t)=>{Io[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Io[`${e}/${t}`]=!0)},xs=new Error;function _h(e,t,{key:i}){let n=0;const s=e[i],r={},a={};for(let o=1;o<=t.length;o++)a[o+n]=s[o],r[o+n]=!0,n+=ch(t[o-1]);e[i]=a,e[i]._emit=r,e[i]._multi=!0}function Ey(e){if(!!Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw xi("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),xs;if(typeof e.beginScope!="object"||e.beginScope===null)throw xi("beginScope must be object"),xs;_h(e,e.begin,{key:"beginScope"}),e.begin=ba(e.begin,{joinWith:""})}}function ky(e){if(!!Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw xi("skip, excludeEnd, returnEnd not compatible with endScope: {}"),xs;if(typeof e.endScope!="object"||e.endScope===null)throw xi("endScope must be object"),xs;_h(e,e.end,{key:"endScope"}),e.end=ba(e.end,{joinWith:""})}}function xy(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Ay(e){xy(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Ey(e),ky(e)}function Py(e){function t(a,o){return new RegExp(In(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(o?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(o,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,o]),this.matchAt+=ch(o)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const o=this.regexes.map(l=>l[1]);this.matcherRe=t(ba(o,{joinWith:"|"}),!0),this.lastIndex=0}exec(o){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(o);if(!l)return null;const h=l.findIndex((p,y)=>y>0&&p!==void 0),d=this.matchIndexes[h];return l.splice(0,h),Object.assign(l,d)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(o){if(this.multiRegexes[o])return this.multiRegexes[o];const l=new i;return this.rules.slice(o).forEach(([h,d])=>l.addRule(h,d)),l.compile(),this.multiRegexes[o]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(o,l){this.rules.push([o,l]),l.type==="begin"&&this.count++}exec(o){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let h=l.exec(o);if(this.resumingScanAtSamePosition()&&!(h&&h.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,h=d.exec(o)}return h&&(this.regexIndex+=h.position+1,this.regexIndex===this.count&&this.considerAll()),h}}function s(a){const o=new n;return a.contains.forEach(l=>o.addRule(l.begin,{rule:l,type:"begin"})),a.terminatorEnd&&o.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&o.addRule(a.illegal,{type:"illegal"}),o}function r(a,o){const l=a;if(a.isCompiled)return l;[gy,vy,Ay,by].forEach(d=>d(a,o)),e.compilerExtensions.forEach(d=>d(a,o)),a.__beforeBegin=null,[_y,my,yy].forEach(d=>d(a,o)),a.isCompiled=!0;let h=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),h=a.keywords.$pattern,delete a.keywords.$pattern),h=h||/\w+/,a.keywords&&(a.keywords=gh(a.keywords,e.case_insensitive)),l.keywordPatternRe=t(h,!0),o&&(a.begin||(a.begin=/\B|\b/),l.beginRe=t(l.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(l.endRe=t(l.end)),l.terminatorEnd=In(l.end)||"",a.endsWithParent&&o.terminatorEnd&&(l.terminatorEnd+=(a.end?"|":"")+o.terminatorEnd)),a.illegal&&(l.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(d){return Iy(d==="self"?a:d)})),a.contains.forEach(function(d){r(d,l)}),a.starts&&r(a.starts,o),l.matcher=s(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Jt(e.classNameAliases||{}),r(e)}function mh(e){return e?e.endsWithParent||mh(e.starts):!1}function Iy(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Jt(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:mh(e)?Jt(e,{starts:e.starts?Jt(e.starts):null}):Object.isFrozen(e)?Jt(e):e}var My="11.8.0";class Oy extends Error{constructor(t,i){super(t),this.name="HTMLInjectionError",this.html=i}}const mr=lh,Oo=Jt,Do=Symbol("nomatch"),Dy=7,vh=function(e){const t=Object.create(null),i=Object.create(null),n=[];let s=!0;const r="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let o={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:$v};function l(P){return o.noHighlightRe.test(P)}function h(P){let F=P.className+" ";F+=P.parentNode?P.parentNode.className:"";const K=o.languageDetectRe.exec(F);if(K){const ne=G(K[1]);return ne||(Mo(r.replace("{}",K[1])),Mo("Falling back to no-highlight mode for this block.",P)),ne?K[1]:"no-highlight"}return F.split(/\s+/).find(ne=>l(ne)||G(ne))}function d(P,F,K){let ne="",ie="";typeof F=="object"?(ne=P,K=F.ignoreIllegals,ie=F.language):(Gi("10.7.0","highlight(lang, code, ...args) has been deprecated."),Gi("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ie=P,ne=F),K===void 0&&(K=!0);const ue={code:ne,language:ie};se("before:highlight",ue);const we=ue.result?ue.result:p(ue.language,ue.code,K);return we.code=ue.code,se("after:highlight",we),we}function p(P,F,K,ne){const ie=Object.create(null);function ue(N,H){return N.keywords[H]}function we(){if(!M.keywords){R.addText(X);return}let N=0;M.keywordPatternRe.lastIndex=0;let H=M.keywordPatternRe.exec(X),te="";for(;H;){te+=X.substring(N,H.index);const fe=L.case_insensitive?H[0].toLowerCase():H[0],Le=ue(M,fe);if(Le){const[ut,pi]=Le;if(R.addText(te),te="",ie[fe]=(ie[fe]||0)+1,ie[fe]<=Dy&&(q+=pi),ut.startsWith("_"))te+=H[0];else{const zn=L.classNameAliases[ut]||ut;me(H[0],zn)}}else te+=H[0];N=M.keywordPatternRe.lastIndex,H=M.keywordPatternRe.exec(X)}te+=X.substring(N),R.addText(te)}function Oe(){if(X==="")return;let N=null;if(typeof M.subLanguage=="string"){if(!t[M.subLanguage]){R.addText(X);return}N=p(M.subLanguage,X,!0,$[M.subLanguage]),$[M.subLanguage]=N._top}else N=g(X,M.subLanguage.length?M.subLanguage:null);M.relevance>0&&(q+=N.relevance),R.__addSublanguage(N._emitter,N.language)}function Pe(){M.subLanguage!=null?Oe():we(),X=""}function me(N,H){N!==""&&(R.startScope(H),R.addText(N),R.endScope())}function T(N,H){let te=1;const fe=H.length-1;for(;te<=fe;){if(!N._emit[te]){te++;continue}const Le=L.classNameAliases[N[te]]||N[te],ut=H[te];Le?me(ut,Le):(X=ut,we(),X=""),te++}}function W(N,H){return N.scope&&typeof N.scope=="string"&&R.openNode(L.classNameAliases[N.scope]||N.scope),N.beginScope&&(N.beginScope._wrap?(me(X,L.classNameAliases[N.beginScope._wrap]||N.beginScope._wrap),X=""):N.beginScope._multi&&(T(N.beginScope,H),X="")),M=Object.create(N,{parent:{value:M}}),M}function Z(N,H,te){let fe=Yv(N.endRe,te);if(fe){if(N["on:end"]){const Le=new xo(N);N["on:end"](H,Le),Le.isMatchIgnored&&(fe=!1)}if(fe){for(;N.endsParent&&N.parent;)N=N.parent;return N}}if(N.endsWithParent)return Z(N.parent,H,te)}function Te(N){return M.matcher.regexIndex===0?(X+=N[0],1):(ge=!0,0)}function ve(N){const H=N[0],te=N.rule,fe=new xo(te),Le=[te.__beforeBegin,te["on:begin"]];for(const ut of Le)if(!!ut&&(ut(N,fe),fe.isMatchIgnored))return Te(H);return te.skip?X+=H:(te.excludeBegin&&(X+=H),Pe(),!te.returnBegin&&!te.excludeBegin&&(X=H)),W(te,N),te.returnBegin?0:H.length}function _(N){const H=N[0],te=F.substring(N.index),fe=Z(M,N,te);if(!fe)return Do;const Le=M;M.endScope&&M.endScope._wrap?(Pe(),me(H,M.endScope._wrap)):M.endScope&&M.endScope._multi?(Pe(),T(M.endScope,N)):Le.skip?X+=H:(Le.returnEnd||Le.excludeEnd||(X+=H),Pe(),Le.excludeEnd&&(X=H));do M.scope&&R.closeNode(),!M.skip&&!M.subLanguage&&(q+=M.relevance),M=M.parent;while(M!==fe.parent);return fe.starts&&W(fe.starts,N),Le.returnEnd?0:H.length}function w(){const N=[];for(let H=M;H!==L;H=H.parent)H.scope&&N.unshift(H.scope);N.forEach(H=>R.openNode(H))}let A={};function I(N,H){const te=H&&H[0];if(X+=N,te==null)return Pe(),0;if(A.type==="begin"&&H.type==="end"&&A.index===H.index&&te===""){if(X+=F.slice(H.index,H.index+1),!s){const fe=new Error(`0 width match regex (${P})`);throw fe.languageName=P,fe.badRule=A.rule,fe}return 1}if(A=H,H.type==="begin")return ve(H);if(H.type==="illegal"&&!K){const fe=new Error('Illegal lexeme "'+te+'" for mode "'+(M.scope||"<unnamed>")+'"');throw fe.mode=M,fe}else if(H.type==="end"){const fe=_(H);if(fe!==Do)return fe}if(H.type==="illegal"&&te==="")return 1;if(ce>1e5&&ce>H.index*3)throw new Error("potential infinite loop, way more iterations than matches");return X+=te,te.length}const L=G(P);if(!L)throw xi(r.replace("{}",P)),new Error('Unknown language: "'+P+'"');const B=Py(L);let z="",M=ne||B;const $={},R=new o.__emitter(o);w();let X="",q=0,Q=0,ce=0,ge=!1;try{if(L.__emitTokens)L.__emitTokens(F,R);else{for(M.matcher.considerAll();;){ce++,ge?ge=!1:M.matcher.considerAll(),M.matcher.lastIndex=Q;const N=M.matcher.exec(F);if(!N)break;const H=F.substring(Q,N.index),te=I(H,N);Q=N.index+te}I(F.substring(Q))}return R.finalize(),z=R.toHTML(),{language:P,value:z,relevance:q,illegal:!1,_emitter:R,_top:M}}catch(N){if(N.message&&N.message.includes("Illegal"))return{language:P,value:mr(F),illegal:!0,relevance:0,_illegalBy:{message:N.message,index:Q,context:F.slice(Q-100,Q+100),mode:N.mode,resultSoFar:z},_emitter:R};if(s)return{language:P,value:mr(F),illegal:!1,relevance:0,errorRaised:N,_emitter:R,_top:M};throw N}}function y(P){const F={value:mr(P),illegal:!1,relevance:0,_top:a,_emitter:new o.__emitter(o)};return F._emitter.addText(P),F}function g(P,F){F=F||o.languages||Object.keys(t);const K=y(P),ne=F.filter(G).filter(O).map(Pe=>p(Pe,P,!1));ne.unshift(K);const ie=ne.sort((Pe,me)=>{if(Pe.relevance!==me.relevance)return me.relevance-Pe.relevance;if(Pe.language&&me.language){if(G(Pe.language).supersetOf===me.language)return 1;if(G(me.language).supersetOf===Pe.language)return-1}return 0}),[ue,we]=ie,Oe=ue;return Oe.secondBest=we,Oe}function m(P,F,K){const ne=F&&i[F]||K;P.classList.add("hljs"),P.classList.add(`language-${ne}`)}function b(P){let F=null;const K=h(P);if(l(K))return;if(se("before:highlightElement",{el:P,language:K}),P.children.length>0&&(o.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(P)),o.throwUnescapedHTML))throw new Oy("One of your code blocks includes unescaped HTML.",P.innerHTML);F=P;const ne=F.textContent,ie=K?d(ne,{language:K,ignoreIllegals:!0}):g(ne);P.innerHTML=ie.value,m(P,K,ie.language),P.result={language:ie.language,re:ie.relevance,relevance:ie.relevance},ie.secondBest&&(P.secondBest={language:ie.secondBest.language,relevance:ie.secondBest.relevance}),se("after:highlightElement",{el:P,result:ie,text:ne})}function v(P){o=Oo(o,P)}const x=()=>{u(),Gi("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function k(){u(),Gi("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let c=!1;function u(){if(document.readyState==="loading"){c=!0;return}document.querySelectorAll(o.cssSelector).forEach(b)}function C(){c&&u()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",C,!1);function D(P,F){let K=null;try{K=F(e)}catch(ne){if(xi("Language definition for '{}' could not be registered.".replace("{}",P)),s)xi(ne);else throw ne;K=a}K.name||(K.name=P),t[P]=K,K.rawDefinition=F.bind(null,e),K.aliases&&S(K.aliases,{languageName:P})}function V(P){delete t[P];for(const F of Object.keys(i))i[F]===P&&delete i[F]}function E(){return Object.keys(t)}function G(P){return P=(P||"").toLowerCase(),t[P]||t[i[P]]}function S(P,{languageName:F}){typeof P=="string"&&(P=[P]),P.forEach(K=>{i[K.toLowerCase()]=F})}function O(P){const F=G(P);return F&&!F.disableAutodetect}function U(P){P["before:highlightBlock"]&&!P["before:highlightElement"]&&(P["before:highlightElement"]=F=>{P["before:highlightBlock"](Object.assign({block:F.el},F))}),P["after:highlightBlock"]&&!P["after:highlightElement"]&&(P["after:highlightElement"]=F=>{P["after:highlightBlock"](Object.assign({block:F.el},F))})}function j(P){U(P),n.push(P)}function J(P){const F=n.indexOf(P);F!==-1&&n.splice(F,1)}function se(P,F){const K=P;n.forEach(function(ne){ne[K]&&ne[K](F)})}function oe(P){return Gi("10.7.0","highlightBlock will be removed entirely in v12.0"),Gi("10.7.0","Please use highlightElement now."),b(P)}Object.assign(e,{highlight:d,highlightAuto:g,highlightAll:u,highlightElement:b,highlightBlock:oe,configure:v,initHighlighting:x,initHighlightingOnLoad:k,registerLanguage:D,unregisterLanguage:V,listLanguages:E,getLanguage:G,registerAliases:S,autoDetection:O,inherit:Oo,addPlugin:j,removePlugin:J}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=My,e.regex={concat:Ri,lookahead:hh,either:ya,optional:jv,anyNumberOfTimes:Xv};for(const P in rs)typeof rs[P]=="object"&&oh(rs[P]);return Object.assign(e,rs),e},Ki=vh({});Ki.newInstance=()=>vh({});var Ly=Ki;Ki.HighlightJS=Ki;Ki.default=Ki;const ti=Ly,As="[A-Za-z$_][0-9A-Za-z$_]*",yh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],bh=["true","false","null","undefined","NaN","Infinity"],wh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Sh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ch=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Th=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Eh=[].concat(Ch,wh,Sh);function Ry(e){const t=e.regex,i=(F,{after:K})=>{const ne="</"+F[0].slice(1);return F.input.indexOf(ne,K)!==-1},n=As,s={begin:"<>",end:"</>"},r=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(F,K)=>{const ne=F[0].length+F.index,ie=F.input[ne];if(ie==="<"||ie===","){K.ignoreMatch();return}ie===">"&&(i(F,{after:ne})||K.ignoreMatch());let ue;const we=F.input.substring(ne);if(ue=we.match(/^\s*=/)){K.ignoreMatch();return}if((ue=we.match(/^\s+extends\s+/))&&ue.index===0){K.ignoreMatch();return}}},o={$pattern:As,keyword:yh,literal:bh,built_in:Eh,"variable.language":Th},l="[0-9](_?[0-9])*",h=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${d})((${h})|\\.)?|(${h}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${h})\\b|\\.)?|(${h})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},g={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"css"}},b={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,y]},k={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},c=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,m,b,v,{match:/\$\d+/},p];y.contains=c.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(c)});const u=[].concat(k,y.contains),C=u.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(u)}]),D={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C},V={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},E={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...wh,...Sh]}},G={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},S={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[D],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function U(F){return t.concat("(?!",F.join("|"),")")}const j={match:t.concat(/\b/,U([...Ch,"super","import"]),n,t.lookahead(/\(/)),className:"title.function",relevance:0},J={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},se={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},D]},oe="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",P={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(oe)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[D]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:C,CLASS_REFERENCE:E},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),G,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,m,b,v,k,{match:/\$\d+/},p,E,{className:"attr",begin:n+t.lookahead(":"),relevance:0},P,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[k,e.REGEXP_MODE,{className:"function",begin:oe,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:C}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:s.begin,end:s.end},{match:r},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},S,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[D,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},J,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[D]},j,O,V,se,{match:/\$[(.]/}]}}function Fy(e){const t=Ry(e),i=As,n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},r={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[t.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},o=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:As,keyword:yh.concat(o),literal:bh,built_in:Eh.concat(n),"variable.language":Th},h={className:"meta",begin:"@"+i},d=(y,g,m)=>{const b=y.contains.findIndex(v=>v.label===g);if(b===-1)throw new Error("can not find mode to replace");y.contains.splice(b,1,m)};Object.assign(t.keywords,l),t.exports.PARAMS_CONTAINS.push(h),t.contains=t.contains.concat([h,s,r]),d(t,"shebang",e.SHEBANG()),d(t,"use_strict",a);const p=t.contains.find(y=>y.label==="func.def");return p.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}function kh(e){const t=e.regex,i=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,s={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(r,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),h={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[s]},{begin:/'/,end:/'/,contains:[s]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,l,o,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,a,l,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},s,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[h],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[h],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(i,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:i,relevance:0,starts:h}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(i,/>/))),contains:[{className:"name",begin:i,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Ny(e){const t=e.regex,i={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[i]}]};Object.assign(i,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const s={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i,s]};s.contains.push(a);const o={className:"",begin:/\\"/},l={className:"string",begin:/'/,end:/'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,i]},d=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],p=e.SHEBANG({binary:`(${d.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},g=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],m=["true","false"],b={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],x=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],k=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],c=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:g,literal:m,built_in:[...v,...x,"set","shopt",...k,...c]},contains:[p,e.SHEBANG(),y,h,e.HASH_COMMENT_MODE,r,b,a,o,l,i]}}const By=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Wy=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Gy=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Uy=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Hy=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Vy=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function zy(e){const t=e.regex,i=By(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s="and or not only",r=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",o=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[i.BLOCK_COMMENT,n,i.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},i.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Uy.join("|")+")"},{begin:":(:)?("+Hy.join("|")+")"}]},i.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Vy.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[i.BLOCK_COMMENT,i.HEXCOLOR,i.IMPORTANT,i.CSS_NUMBER_MODE,...o,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...o,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},i.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:r},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:Gy.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...o,i.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Wy.join("|")+")\\b"}]}}var Lo=Et({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var t=Dn(e.language);Ti(function(){return e.language},function(s){t.value=s});var i=wt(function(){return e.autodetect||!t.value}),n=wt(function(){return!i.value&&!ti.getLanguage(t.value)});return{className:wt(function(){return n.value?"":"hljs "+t.value}),highlightedCode:wt(function(){var s;if(n.value)return console.warn('The language "'+t.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(i.value){var r=ti.highlightAuto(e.code);return t.value=(s=r.language)!==null&&s!==void 0?s:"",r.value}return(r=ti.highlight(e.code,{language:t.value,ignoreIllegals:e.ignoreIllegals})).value})}},render:function(){return ja("pre",{},[ja("code",{class:this.className,innerHTML:this.highlightedCode})])}}),$y={install:function(e){e.component("highlightjs",Lo)},component:Lo};ti.registerLanguage("vue-typescript",Fy);ti.registerLanguage("vue-template",kh);ti.registerLanguage("vue-sfc",kh);ti.registerLanguage("bash",Ny);ti.registerLanguage("css",zy);Yd(Uv).use($y).mount("#app");
//# sourceMappingURL=index.db294cdd.js.map
